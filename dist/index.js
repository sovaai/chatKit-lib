"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e=require("storeon"),n=require("storeon/devtools"),r=require("react"),i=(t=r)&&"object"==typeof t&&"default"in t?t.default:t,o=require("storeon/react"),s=require("react-dom"),a=function(t,e){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function u(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var c=function(){return(c=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function l(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function h(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function f(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function p(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function v(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var g={};function y(t){t&&(t.value=!0)}function m(){}function b(t){return void 0===t.size&&(t.size=t.__iterate(_)),t.size}function w(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?b(t)+e:e}function _(){return!0}function E(t,e,n){return(0===t&&!S(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function C(t,e){return T(t,e,0)}function I(t,e){return T(t,e,e)}function T(t,e,n){return void 0===t?n:S(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function S(t){return t<0||0===t&&1/t==-1/0}function k(t){return Boolean(t&&t["@@__IMMUTABLE_ITERABLE__@@"])}function x(t){return Boolean(t&&t["@@__IMMUTABLE_KEYED__@@"])}function A(t){return Boolean(t&&t["@@__IMMUTABLE_INDEXED__@@"])}function N(t){return x(t)||A(t)}var O=function(t){return k(t)?t:Z(t)},R=function(t){function e(t){return x(t)?t:J(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(O),D=function(t){function e(t){return A(t)?t:$(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(O),P=function(t){function e(t){return k(t)&&!N(t)?t:tt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(O);O.Keyed=R,O.Indexed=D,O.Set=P;function M(t){return Boolean(t&&t["@@__IMMUTABLE_SEQ__@@"])}function L(t){return Boolean(t&&t["@@__IMMUTABLE_RECORD__@@"])}function F(t){return k(t)||L(t)}var j="@@__IMMUTABLE_ORDERED__@@";function V(t){return Boolean(t&&t[j])}var U="function"==typeof Symbol&&Symbol.iterator,B=U||"@@iterator",H=function(t){this.next=t};function z(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function q(){return{value:void 0,done:!0}}function W(t){return!!X(t)}function K(t){return t&&"function"==typeof t.next}function G(t){var e=X(t);return e&&e.call(t)}function X(t){var e=t&&(U&&t[U]||t["@@iterator"]);if("function"==typeof e)return e}H.prototype.toString=function(){return"[Iterator]"},H.KEYS=0,H.VALUES=1,H.ENTRIES=2,H.prototype.inspect=H.prototype.toSource=function(){return this.toString()},H.prototype[B]=function(){return this};var Y=Object.prototype.hasOwnProperty;function Q(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var Z=function(t){function e(t){return null==t?ot():F(t)?t.toSeq():function(t){var e=ut(t);if(e)return e;if("object"==typeof t)return new nt(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var o=n[e?r-++i:i++];if(!1===t(o[1],o[0],this))break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var r=n.length,i=0;return new H((function(){if(i===r)return{value:void 0,done:!0};var o=n[e?r-++i:i++];return z(t,o[0],o[1])}))}return this.__iteratorUncached(t,e)},e}(O),J=function(t){function e(t){return null==t?ot().toKeyedSeq():k(t)?x(t)?t.toSeq():t.fromEntrySeq():L(t)?t.toSeq():st(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(Z),$=function(t){function e(t){return null==t?ot():k(t)?x(t)?t.entrySeq():t.toIndexedSeq():L(t)?t.toSeq().entrySeq():at(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(Z),tt=function(t){function e(t){return(k(t)&&!N(t)?t:$(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(Z);Z.isSeq=M,Z.Keyed=J,Z.Set=tt,Z.Indexed=$,Z.prototype["@@__IMMUTABLE_SEQ__@@"]=!0;var et=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[w(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length,i=0;i!==r;){var o=e?r-++i:i++;if(!1===t(n[o],o,this))break}return i},e.prototype.__iterator=function(t,e){var n=this._array,r=n.length,i=0;return new H((function(){if(i===r)return{value:void 0,done:!0};var o=e?r-++i:i++;return z(t,o,n[o])}))},e}($),nt=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return Y.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length,o=0;o!==i;){var s=r[e?i-++o:o++];if(!1===t(n[s],s,this))break}return o},e.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length,o=0;return new H((function(){if(o===i)return{value:void 0,done:!0};var s=r[e?i-++o:o++];return z(t,s,n[s])}))},e}(J);nt.prototype[j]=!0;var rt,it=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=G(this._collection),r=0;if(K(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=G(this._collection);if(!K(n))return new H(q);var r=0;return new H((function(){var e=n.next();return e.done?e:z(t,r++,e.value)}))},e}($);function ot(){return rt||(rt=new et([]))}function st(t){var e=Array.isArray(t)?new et(t):W(t)?new it(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new nt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function at(t){var e=ut(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function ut(t){return Q(t)?new et(t):W(t)?new it(t):void 0}function ct(t){return Boolean(t&&t["@@__IMMUTABLE_MAP__@@"])}function lt(t){return ct(t)&&V(t)}function ht(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function ft(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(ht(t)&&ht(e)&&t.equals(e))}var pt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function dt(t){return t>>>1&1073741824|3221225471&t}var vt=Object.prototype.valueOf;function gt(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return dt(e)}(t);case"string":return t.length>It?function(t){var e=kt[t];void 0===e&&(e=yt(t),St===Tt&&(St=0,kt={}),St++,kt[t]=e);return e}(t):yt(t);case"object":case"function":return null===t?1108378658:"function"==typeof t.hashCode?dt(t.hashCode(t)):(t.valueOf!==vt&&"function"==typeof t.valueOf&&(t=t.valueOf(t)),function(t){var e;if(_t&&void 0!==(e=wt.get(t)))return e;if(void 0!==(e=t[Ct]))return e;if(!bt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ct]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++Et,1073741824&Et&&(Et=0);if(_t)wt.set(t,e);else{if(void 0!==mt&&!1===mt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(bt)Object.defineProperty(t,Ct,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ct]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ct]=e}}return e}(t));case"undefined":return 1108378659;default:if("function"==typeof t.toString)return yt(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function yt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return dt(e)}var mt=Object.isExtensible,bt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var wt,_t="function"==typeof WeakMap;_t&&(wt=new WeakMap);var Et=0,Ct="__immutablehash__";"function"==typeof Symbol&&(Ct=Symbol(Ct));var It=16,Tt=255,St=0,kt={},xt=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Pt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,r=Dt(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e,r){return t(e,r,n)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(J);xt.prototype[j]=!0;var At=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,r=0;return e&&b(this),this._iter.__iterate((function(i){return t(i,e?n.size-++r:r++,n)}),e)},e.prototype.__iterator=function(t,e){var n=this,r=this._iter.__iterator(1,e),i=0;return e&&b(this),new H((function(){var o=r.next();return o.done?o:z(t,e?n.size-++i:i++,o.value,o)}))},e}($),Nt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new H((function(){var e=n.next();return e.done?e:z(t,e.value,e.value,e)}))},e}(tt),Ot=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){Wt(e);var r=k(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new H((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){Wt(r);var i=k(r);return z(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},e}(J);function Rt(t){var e=Gt(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=Xt,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new H((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Dt(t,e,n){var r=Gt(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,g);return o===g?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,s){return!1!==r(e.call(n,t,i,s),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(2,i);return new H((function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return z(r,a,e.call(n,s[1],a,t),i)}))},r}function Pt(t,e){var n=this,r=Gt(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Rt(t);return e.reverse=function(){return t.flip()},e}),r.get=function(n,r){return t.get(e?n:-1-n,r)},r.has=function(n){return t.has(e?n:-1-n)},r.includes=function(e){return t.includes(e)},r.cacheResult=Xt,r.__iterate=function(n,r){var i=this,o=0;return r&&b(t),t.__iterate((function(t,s){return n(t,e?s:r?i.size-++o:o++,i)}),!r)},r.__iterator=function(r,i){var o=0;i&&b(t);var s=t.__iterator(2,!i);return new H((function(){var t=s.next();if(t.done)return t;var a=t.value;return z(r,e?a[0]:i?n.size-++o:o++,a[1],t)}))},r}function Mt(t,e,n,r){var i=Gt(t);return r&&(i.has=function(r){var i=t.get(r,g);return i!==g&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,g);return o!==g&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return t.__iterate((function(t,o,u){if(e.call(n,t,o,u))return a++,i(t,r?o:a-1,s)}),o),a},i.__iteratorUncached=function(i,o){var s=t.__iterator(2,o),a=0;return new H((function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return z(i,r?c:a++,l,o)}}))},i}function Lt(t,e,n,r){var i=t.size;if(E(e,n,i))return t;var o=C(e,i),s=I(n,i);if(o!=o||s!=s)return Lt(t.toSeq().cacheResult(),e,n,r);var a,u=s-o;u==u&&(a=u<0?0:u);var c=Gt(t);return c.size=0===a?a:t.size&&a||void 0,!r&&M(t)&&a>=0&&(c.get=function(e,n){return(e=w(this,e))>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,u=!0,c=0;return t.__iterate((function(t,n){if(!u||!(u=s++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==a})),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);if(0===a)return new H(q);var i=t.__iterator(e,n),s=0,u=0;return new H((function(){for(;s++<o;)i.next();if(++u>a)return{value:void 0,done:!0};var t=i.next();return r||1===e||t.done?t:z(e,u-1,0===e?void 0:t.value[1],t)}))},c}function Ft(t,e,n,r){var i=Gt(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return t.__iterate((function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,s)})),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(2,o),u=!0,c=0;return new H((function(){var t,o,l;do{if((t=a.next()).done)return r||1===i?t:z(i,c++,0===i?void 0:t.value[1],t);var h=t.value;o=h[0],l=h[1],u&&(u=e.call(n,l,o,s))}while(u);return 2===i?t:z(i,o,l,t)}))},i}function jt(t,e){var n=x(t),r=[t].concat(e).map((function(t){return k(t)?n&&(t=R(t)):t=n?st(t):at(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===r.length)return t;if(1===r.length){var i=r[0];if(i===t||n&&x(i)||A(t)&&A(i))return i}var o=new et(r);return n?o=o.toKeyedSeq():A(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),o}function Vt(t,e,n){var r=Gt(t);return r.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var s=0,a=!1;return function t(u,c){u.__iterate((function(o,u){return(!e||c<e)&&k(o)?t(o,c+1):(s++,!1===i(o,n?u:s-1,r)&&(a=!0)),!a}),o)}(t,0),s},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var o=t.__iterator(r,i),s=[],a=0;return new H((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(2===r&&(u=u[1]),e&&!(s.length<e)||!k(u))return n?t:z(r,a++,u,t);s.push(o),o=u.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}}))},r}function Ut(t,e,n){e||(e=Yt);var r=x(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).valueSeq().toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?J(o):A(t)?$(o):tt(o)}function Bt(t,e,n){if(e||(e=Yt),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return Ht(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return Ht(e,t,n)?n:t}))}function Ht(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function zt(t,e,n,r){var i=Gt(t),o=new et(n).map((function(t){return t.size}));return i.size=r?o.max():o.min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map((function(t){return t=O(t),G(i?t.reverse():t)})),s=0,a=!1;return new H((function(){var n;return a||(n=o.map((function(t){return t.next()})),a=r?n.every((function(t){return t.done})):n.some((function(t){return t.done}))),a?{value:void 0,done:!0}:z(t,s++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function qt(t,e){return t===e?t:M(t)?e:t.constructor(e)}function Wt(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Kt(t){return x(t)?R:A(t)?D:P}function Gt(t){return Object.create((x(t)?J:A(t)?$:tt).prototype)}function Xt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):Z.prototype.cacheResult.call(this)}function Yt(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function Qt(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function Zt(t,e){if(!t)throw new Error(e)}function Jt(t){Zt(t!==1/0,"Cannot perform this action with an infinite size.")}function $t(t){if(Q(t)&&"string"!=typeof t)return t;if(V(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function te(t){return"object"==typeof t&&(F(t)||Array.isArray(t)||function(t){return t&&("function"!=typeof t.constructor||"Object"===t.constructor.name)}(t))}function ee(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function ne(t,e,n){return F(t)?t.get(e,n):function(t,e){return F(t)?t.has(e):te(t)&&Y.call(t,e)}(t,e)?"function"==typeof t.get?t.get(e):t[e]:n}function re(t){if(Array.isArray(t))return Qt(t);var e={};for(var n in t)Y.call(t,n)&&(e[n]=t[n]);return e}function ie(t,e,n,r){r||(r=n,n=void 0);var i=function t(e,n,r,i,o,s){var a=n===g;if(i===r.length){var u=a?o:n,c=s(u);return c===u?n:c}if(!a&&!te(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,i).map(ee)+"]: "+n);var l=r[i],h=a?g:ne(n,l,g),f=t(h===g?e:F(h),h,r,i+1,o,s);return f===h?n:f===g?function(t,e){if(!te(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(F(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!Y.call(t,e))return t;var n=re(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}(n,l):function(t,e,n){if(!te(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(F(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(Y.call(t,e)&&n===t[e])return t;var r=re(t);return r[e]=n,r}(a?e?Me():{}:n,l,f)}(F(t),t,$t(e),0,n,r);return i===g?n:i}function oe(t,e){return function(t,e,n){return ie(t,e,g,(function(){return n}))}(this,t,e)}function se(t){return function(t,e){return ie(t,e,(function(){return g}))}(this,t)}function ae(t,e,n,r){return ie(t,[e],n,r)}function ue(t,e,n){return 1===arguments.length?t(this):ae(this,t,e,n)}function ce(t,e,n){return ie(this,t,e,n)}function le(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return fe(this,t)}function he(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return fe(this,e,t)}function fe(t,e,n){for(var r=[],i=0;i<e.length;i++){var o=R(e[i]);0!==o.size&&r.push(o)}return 0===r.length?t:0!==t.toSeq().size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var e=n?function(e,r){ae(t,r,g,(function(t){return t===g?e:n(t,e,r)}))}:function(e,n){t.set(n,e)},i=0;i<r.length;i++)r[i].forEach(e)})):t.constructor(r[0])}function pe(t,e,n){return de(t,e,function(t){return function e(n,r,i){return te(n)&&te(r)?de(n,[r],e):t?t(n,r,i):r}}(n))}function de(t,e,n){if(!te(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(F(t))return"function"==typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,o=r?D:R,s=r?function(e){i===t&&(i=re(i)),i.push(e)}:function(e,r){var o=Y.call(i,r),s=o&&n?n(i[r],e,r):e;o&&s===i[r]||(i===t&&(i=re(i)),i[r]=s)},a=0;a<e.length;a++)o(e[a]).forEach(s);return i}function ve(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return pe(this,t)}function ge(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return pe(this,e,t)}function ye(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ie(this,t,Me(),(function(t){return de(t,e)}))}function me(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return ie(this,t,Me(),(function(t){return pe(t,e)}))}function be(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function we(){return this.__ownerID?this:this.__ensureOwner(new m)}function _e(){return this.__ensureOwner()}function Ee(){return this.__altered}At.prototype.cacheResult=xt.prototype.cacheResult=Nt.prototype.cacheResult=Ot.prototype.cacheResult=Xt;var Ce=function(t){function e(e){return null==e?Me():ct(e)&&!V(e)?e:Me().withMutations((function(n){var r=t(e);Jt(r.size),r.forEach((function(t,e){return n.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Me().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return Le(this,t,e)},e.prototype.remove=function(t){return Le(this,t,g)},e.prototype.deleteAll=function(t){var e=O(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Me()},e.prototype.sort=function(t){return an(Ut(this,t))},e.prototype.sortBy=function(t,e){return an(Ut(this,e,t))},e.prototype.map=function(t,e){return this.withMutations((function(n){n.forEach((function(r,i){n.set(i,t.call(e,r,i,n))}))}))},e.prototype.__iterator=function(t,e){return new Oe(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Pe(this.size,this._root,t,this.__hash):0===this.size?Me():(this.__ownerID=t,this.__altered=!1,this)},e}(R);Ce.isMap=ct;var Ie=Ce.prototype;Ie["@@__IMMUTABLE_MAP__@@"]=!0,Ie.delete=Ie.remove,Ie.removeAll=Ie.deleteAll,Ie.setIn=oe,Ie.removeIn=Ie.deleteIn=se,Ie.update=ue,Ie.updateIn=ce,Ie.merge=Ie.concat=le,Ie.mergeWith=he,Ie.mergeDeep=ve,Ie.mergeDeepWith=ge,Ie.mergeIn=ye,Ie.mergeDeepIn=me,Ie.withMutations=be,Ie.wasAltered=Ee,Ie.asImmutable=_e,Ie["@@transducer/init"]=Ie.asMutable=we,Ie["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},Ie["@@transducer/result"]=function(t){return t.asImmutable()};var Te=function(t,e){this.ownerID=t,this.entries=e};Te.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(ft(n,i[o][0]))return i[o][1];return r},Te.prototype.update=function(t,e,n,r,i,o,s){for(var a=i===g,u=this.entries,c=0,l=u.length;c<l&&!ft(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:a)return this;if(y(s),(a||!h)&&y(o),!a||1!==u.length){if(!h&&!a&&u.length>=He)return function(t,e,n,r){t||(t=new m);for(var i=new Ae(t,gt(n),[n,r]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}(t,u,r,i);var f=t&&t===this.ownerID,p=f?u:Qt(u);return h?a?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),f?(this.entries=p,this):new Te(t,p)}};var Se=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};Se.prototype.get=function(t,e,n,r){void 0===e&&(e=gt(n));var i=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0==(o&i)?r:this.nodes[Ue(o&i-1)].get(t+5,e,n,r)},Se.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=gt(r));var a=31&(0===e?n:n>>>e),u=1<<a,c=this.bitmap,l=0!=(c&u);if(!l&&i===g)return this;var h=Ue(c&u-1),f=this.nodes,p=l?f[h]:void 0,d=Fe(p,t,e+5,n,r,i,o,s);if(d===p)return this;if(!l&&d&&f.length>=ze)return function(t,e,n,r,i){for(var o=0,s=new Array(32),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[o++]:void 0;return s[r]=i,new ke(t,o+1,s)}(t,f,c,a,d);if(l&&!d&&2===f.length&&je(f[1^h]))return f[1^h];if(l&&d&&1===f.length&&je(d))return d;var v=t&&t===this.ownerID,y=l?d?c:c^u:c|u,m=l?d?Be(f,h,d,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,s=0;s<r;s++)s===e&&(o=1),i[s]=t[s+o];return i}(f,h,v):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),s=0,a=0;a<i;a++)a===e?(o[a]=n,s=-1):o[a]=t[a+s];return o}(f,h,d,v);return v?(this.bitmap=y,this.nodes=m,this):new Se(t,y,m)};var ke=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};ke.prototype.get=function(t,e,n,r){void 0===e&&(e=gt(n));var i=31&(0===t?e:e>>>t),o=this.nodes[i];return o?o.get(t+5,e,n,r):r},ke.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=gt(r));var a=31&(0===e?n:n>>>e),u=i===g,c=this.nodes,l=c[a];if(u&&!l)return this;var h=Fe(l,t,e+5,n,r,i,o,s);if(h===l)return this;var f=this.count;if(l){if(!h&&--f<qe)return function(t,e,n,r){for(var i=0,o=0,s=new Array(n),a=0,u=1,c=e.length;a<c;a++,u<<=1){var l=e[a];void 0!==l&&a!==r&&(i|=u,s[o++]=l)}return new Se(t,i,s)}(t,c,f,a)}else f++;var p=t&&t===this.ownerID,d=Be(c,a,h,p);return p?(this.count=f,this.nodes=d,this):new ke(t,f,d)};var xe=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};xe.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(ft(n,i[o][0]))return i[o][1];return r},xe.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=gt(r));var a=i===g;if(n!==this.keyHash)return a?this:(y(s),y(o),Ve(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!ft(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:a)return this;if(y(s),(a||!h)&&y(o),a&&2===l)return new Ae(t,this.keyHash,u[1^c]);var f=t&&t===this.ownerID,p=f?u:Qt(u);return h?a?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),f?(this.entries=p,this):new xe(t,this.keyHash,p)};var Ae=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};Ae.prototype.get=function(t,e,n,r){return ft(n,this.entry[0])?this.entry[1]:r},Ae.prototype.update=function(t,e,n,r,i,o,s){var a=i===g,u=ft(r,this.entry[0]);return(u?i===this.entry[1]:a)?this:(y(s),a?void y(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Ae(t,this.keyHash,[r,i]):(y(o),Ve(this,t,e,gt(r),[r,i])))},Te.prototype.iterate=xe.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},Se.prototype.iterate=ke.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Ae.prototype.iterate=function(t,e){return t(this.entry)};var Ne,Oe=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&De(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,r=e.index++,i=void 0;if(n.entry){if(0===r)return Re(t,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return Re(t,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return Re(t,o.entry);e=this._stack=De(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(H);function Re(t,e){return z(t,e[0],e[1])}function De(t,e){return{node:t,index:0,__prev:e}}function Pe(t,e,n,r){var i=Object.create(Ie);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Me(){return Ne||(Ne=Pe(0))}function Le(t,e,n){var r,i;if(t._root){var o={value:!1},s={value:!1};if(r=Fe(t._root,t.__ownerID,0,void 0,e,n,o,s),!s.value)return t;i=t.size+(o.value?n===g?-1:1:0)}else{if(n===g)return t;i=1,r=new Te(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Pe(i,r):Me()}function Fe(t,e,n,r,i,o,s,a){return t?t.update(e,n,r,i,o,s,a):o===g?t:(y(a),y(s),new Ae(e,r,[i,o]))}function je(t){return t.constructor===Ae||t.constructor===xe}function Ve(t,e,n,r,i){if(t.keyHash===r)return new xe(e,r,[t.entry,i]);var o,s=31&(0===n?t.keyHash:t.keyHash>>>n),a=31&(0===n?r:r>>>n),u=s===a?[Ve(t,e,n+5,r,i)]:(o=new Ae(e,r,i),s<a?[t,o]:[o,t]);return new Se(e,1<<s|1<<a,u)}function Ue(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function Be(t,e,n,r){var i=r?t:Qt(t);return i[e]=n,i}var He=8,ze=16,qe=8;function We(t){return Boolean(t&&t["@@__IMMUTABLE_LIST__@@"])}var Ke=function(t){function e(e){var n=$e();if(null==e)return n;if(We(e))return e;var r=t(e),i=r.size;return 0===i?n:(Jt(i),i>0&&i<32?Je(0,i,5,null,new Xe(r.toArray())):n.withMutations((function(t){t.setSize(i),r.forEach((function(e,n){return t.set(n,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=w(this,t))>=0&&t<this.size){var n=nn(this,t+=this._origin);return n&&n.array[31&t]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=w(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?rn(t,e).set(0,n):rn(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o={value:!1};e>=on(t._capacity)?r=tn(r,t.__ownerID,0,e,n,o):i=tn(i,t.__ownerID,t._level,e,n,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t;return Je(t._origin,t._capacity,t._level,i,r)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):$e()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){rn(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},e.prototype.pop=function(){return rn(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){rn(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},e.prototype.shift=function(){return rn(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++){var i=e[r],o=t("string"!=typeof i&&W(i)?i:[i]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(t){n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(n[0])},e.prototype.setSize=function(t){return rn(this,0,t)},e.prototype.map=function(t,e){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,t.call(e,r.get(i),i,r))}))},e.prototype.slice=function(t,e){var n=this.size;return E(t,e,n)?this:rn(this,C(t,n),I(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,r=Ze(this,e);return new H((function(){var i=r();return i===Qe?{value:void 0,done:!0}:z(t,e?--n:n++,i)}))},e.prototype.__iterate=function(t,e){for(var n,r=e?this.size:0,i=Ze(this,e);(n=i())!==Qe&&!1!==t(n,e?--r:r++,this););return r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Je(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?$e():(this.__ownerID=t,this.__altered=!1,this)},e}(D);Ke.isList=We;var Ge=Ke.prototype;Ge["@@__IMMUTABLE_LIST__@@"]=!0,Ge.delete=Ge.remove,Ge.merge=Ge.concat,Ge.setIn=oe,Ge.deleteIn=Ge.removeIn=se,Ge.update=ue,Ge.updateIn=ce,Ge.mergeIn=ye,Ge.mergeDeepIn=me,Ge.withMutations=be,Ge.wasAltered=Ee,Ge.asImmutable=_e,Ge["@@transducer/init"]=Ge.asMutable=we,Ge["@@transducer/step"]=function(t,e){return t.push(e)},Ge["@@transducer/result"]=function(t){return t.asImmutable()};var Xe=function(t,e){this.array=t,this.ownerID=e};Xe.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new Xe([],t);var i,o=0===r;if(e>0){var s=this.array[r];if((i=s&&s.removeBefore(t,e-5,n))===s&&o)return this}if(o&&!i)return this;var a=en(this,t);if(!o)for(var u=0;u<r;u++)a.array[u]=void 0;return i&&(a.array[r]=i),a},Xe.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&31;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-5,n))===o&&i===this.array.length-1)return this}var s=en(this,t);return s.array.splice(i+1),r&&(s.array[i]=r),s};var Ye,Qe={};function Ze(t,e){var n=t._origin,r=t._capacity,i=on(r),o=t._tail;return s(t._root,t._level,0);function s(t,a,u){return 0===a?function(t,s){var a=s===i?o&&o.array:t&&t.array,u=s>n?0:n-s,c=r-s;c>32&&(c=32);return function(){if(u===c)return Qe;var t=e?--c:u++;return a&&a[t]}}(t,u):function(t,i,o){var a,u=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);l>32&&(l=32);return function(){for(;;){if(a){var t=a();if(t!==Qe)return t;a=null}if(c===l)return Qe;var n=e?--l:c++;a=s(u&&u[n],i-5,o+(n<<i))}}}(t,a,u)}}function Je(t,e,n,r,i,o,s){var a=Object.create(Ge);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function $e(){return Ye||(Ye=Je(0,0,5))}function tn(t,e,n,r,i,o){var s,a=r>>>n&31,u=t&&a<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[a],l=tn(c,e,n-5,r,i,o);return l===c?t:((s=en(t,e)).array[a]=l,s)}return u&&t.array[a]===i?t:(o&&y(o),s=en(t,e),void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function en(t,e){return e&&t&&e===t.ownerID?t:new Xe(t?t.array.slice():[],e)}function nn(t,e){if(e>=on(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function rn(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new m,i=t._origin,o=t._capacity,s=i+e,a=void 0===n?o:n<0?o+n:i+n;if(s===i&&a===o)return t;if(s>=a)return t.clear();for(var u=t._level,c=t._root,l=0;s+l<0;)c=new Xe(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=5);l&&(s+=l,i+=l,a+=l,o+=l);for(var h=on(o),f=on(a);f>=1<<u+5;)c=new Xe(c&&c.array.length?[c]:[],r),u+=5;var p=t._tail,d=f<h?nn(t,a-1):f>h?new Xe([],r):p;if(p&&f>h&&s<o&&p.array.length){for(var v=c=en(c,r),g=u;g>5;g-=5){var y=h>>>g&31;v=v.array[y]=en(v.array[y],r)}v.array[h>>>5&31]=p}if(a<o&&(d=d&&d.removeAfter(r,0,a)),s>=f)s-=f,a-=f,u=5,c=null,d=d&&d.removeBefore(r,0,s);else if(s>i||f<h){for(l=0;c;){var b=s>>>u&31;if(b!==f>>>u&31)break;b&&(l+=(1<<u)*b),u-=5,c=c.array[b]}c&&s>i&&(c=c.removeBefore(r,u,s-l)),c&&f<h&&(c=c.removeAfter(r,u,f-l)),l&&(s-=l,a-=l)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):Je(s,a,u,c,d)}function on(t){return t<32?0:t-1>>>5<<5}var sn,an=function(t){function e(t){return null==t?cn():lt(t)?t:cn().withMutations((function(e){var n=R(t);Jt(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):cn()},e.prototype.set=function(t,e){return ln(this,t,e)},e.prototype.remove=function(t){return ln(this,t,g)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?un(e,n,t,this.__hash):0===this.size?cn():(this.__ownerID=t,this._map=e,this._list=n,this)},e}(Ce);function un(t,e,n,r){var i=Object.create(an.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function cn(){return sn||(sn=un(Me(),$e()))}function ln(t,e,n){var r,i,o=t._map,s=t._list,a=o.get(e),u=void 0!==a;if(n===g){if(!u)return t;s.size>=32&&s.size>=2*o.size?(r=(i=s.filter((function(t,e){return void 0!==t&&a!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(n===s.get(a)[1])return t;r=o,i=s.set(a,[e,n])}else r=o.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):un(r,i)}an.isOrderedMap=lt,an.prototype[j]=!0,an.prototype.delete=an.prototype.remove;function hn(t){return Boolean(t&&t["@@__IMMUTABLE_STACK__@@"])}var fn=function(t){function e(t){return null==t?gn():hn(t)?t:gn().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=w(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:t[r],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):vn(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&hn(e))return e;Jt(e.size);var n=this.size,r=this._head;return e.__iterate((function(t){n++,r={value:t,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):vn(n,r)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):gn()},e.prototype.slice=function(e,n){if(E(e,n,this.size))return this;var r=C(e,this.size);if(I(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):vn(i,o)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?vn(this.size,this._head,t,this.__hash):0===this.size?gn():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new et(this.toArray()).__iterate((function(e,r){return t(e,r,n)}),e);for(var r=0,i=this._head;i&&!1!==t(i.value,r++,this);)i=i.next;return r},e.prototype.__iterator=function(t,e){if(e)return new et(this.toArray()).__iterator(t,e);var n=0,r=this._head;return new H((function(){if(r){var e=r.value;return r=r.next,z(t,n++,e)}return{value:void 0,done:!0}}))},e}(D);fn.isStack=hn;var pn,dn=fn.prototype;function vn(t,e,n,r){var i=Object.create(dn);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function gn(){return pn||(pn=vn(0))}dn["@@__IMMUTABLE_STACK__@@"]=!0,dn.shift=dn.pop,dn.unshift=dn.push,dn.unshiftAll=dn.pushAll,dn.withMutations=be,dn.wasAltered=Ee,dn.asImmutable=_e,dn["@@transducer/init"]=dn.asMutable=we,dn["@@transducer/step"]=function(t,e){return t.unshift(e)},dn["@@transducer/result"]=function(t){return t.asImmutable()};function yn(t){return Boolean(t&&t["@@__IMMUTABLE_SET__@@"])}function mn(t){return yn(t)&&V(t)}function bn(t,e){if(t===e)return!0;if(!k(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||x(t)!==x(e)||A(t)!==A(e)||V(t)!==V(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!N(t);if(V(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&ft(i[1],t)&&(n||ft(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var s=!0,a=e.__iterate((function(e,r){if(n?!t.has(e):i?!ft(e,t.get(r,g)):!ft(t.get(r,g),e))return s=!1,!1}));return s&&t.size===a}function wn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function _n(t){if(!t||"object"!=typeof t)return t;if(!k(t)){if(!te(t))return t;t=Z(t)}if(x(t)){var e={};return t.__iterate((function(t,n){e[n]=_n(t)})),e}var n=[];return t.__iterate((function(t){n.push(_n(t))})),n}var En=function(t){function e(e){return null==e?kn():yn(e)&&!V(e)?e:kn().withMutations((function(n){var r=t(e);Jt(r.size),r.forEach((function(t){return n.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(R(t).keySeq())},e.intersect=function(t){return(t=O(t).toArray()).length?In.intersect.apply(e(t.pop()),t):kn()},e.union=function(t){return(t=O(t).toArray()).length?In.union.apply(e(t.pop()),t):kn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Tn(this,this._map.set(t,t))},e.prototype.remove=function(t){return Tn(this,this._map.remove(t))},e.prototype.clear=function(){return Tn(this,this._map.clear())},e.prototype.map=function(t,e){var n=this,r=[],i=[];return this.forEach((function(o){var s=t.call(e,o,o,n);s!==o&&(r.push(o),i.push(s))})),this.withMutations((function(t){r.forEach((function(e){return t.remove(e)})),i.forEach((function(e){return t.add(e)}))}))},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(n){for(var r=0;r<e.length;r++)t(e[r]).forEach((function(t){return n.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return qn(Ut(this,t))},e.prototype.sortBy=function(t,e){return qn(Ut(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(P);En.isSet=yn;var Cn,In=En.prototype;function Tn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function Sn(t,e){var n=Object.create(In);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function kn(){return Cn||(Cn=Sn(Me()))}In["@@__IMMUTABLE_SET__@@"]=!0,In.delete=In.remove,In.merge=In.concat=In.union,In.withMutations=be,In.asImmutable=_e,In["@@transducer/init"]=In.asMutable=we,In["@@transducer/step"]=function(t,e){return t.add(e)},In["@@transducer/result"]=function(t){return t.asImmutable()},In.__empty=kn,In.__make=Sn;var xn,An=function(t){function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);if(Zt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<t&&(r=-r),this._start=t,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),0===this.size){if(xn)return xn;xn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+w(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return E(t,n,this.size)?this:(t=C(t,this.size),(n=I(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,r=this._step,i=e?this._start+(n-1)*r:this._start,o=0;o!==n&&!1!==t(i,e?n-++o:o++,this);)i+=e?-r:r;return o},e.prototype.__iterator=function(t,e){var n=this.size,r=this._step,i=e?this._start+(n-1)*r:this._start,o=0;return new H((function(){if(o===n)return{value:void 0,done:!0};var s=i;return i+=e?-r:r,z(t,e?n-++o:o++,s)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:bn(this,t)},e}($);function Nn(t,e,n){for(var r=$t(e),i=0;i!==r.length;)if((t=ne(t,r[i++],g))===g)return n;return t}function On(t,e){return Nn(this,t,e)}function Rn(){Jt(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t}O.isIterable=k,O.isKeyed=x,O.isIndexed=A,O.isAssociative=N,O.isOrdered=V,O.Iterator=H,wn(O,{toArray:function(){Jt(this.size);var t=new Array(this.size||0),e=x(this),n=0;return this.__iterate((function(r,i){t[n++]=e?[i,r]:r})),t},toIndexedSeq:function(){return new At(this)},toJS:function(){return _n(this)},toKeyedSeq:function(){return new xt(this,!0)},toMap:function(){return Ce(this.toKeyedSeq())},toObject:Rn,toOrderedMap:function(){return an(this.toKeyedSeq())},toOrderedSet:function(){return qn(x(this)?this.valueSeq():this)},toSet:function(){return En(x(this)?this.valueSeq():this)},toSetSeq:function(){return new Nt(this)},toSeq:function(){return A(this)?this.toIndexedSeq():x(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return fn(x(this)?this.valueSeq():this)},toList:function(){return Ke(x(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return qt(this,jt(this,t))},includes:function(t){return this.some((function(e){return ft(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){Jt(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return qt(this,Mt(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return Jt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Jt(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return qt(this,Dt(this,t,e))},reduce:function(t,e,n){return Ln(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return Ln(this,t,e,n,arguments.length<2,!0)},reverse:function(){return qt(this,Pt(this,!0))},slice:function(t,e){return qt(this,Lt(this,t,e,!0))},some:function(t,e){return!this.every(Vn(t),e)},sort:function(t){return qt(this,Ut(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return b(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Ce().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return bn(this,t)},entrySeq:function(){var t=this;if(t._cache)return new et(t._cache);var e=t.toSeq().map(jn).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(Vn(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(_,null,t)},flatMap:function(t,e){return qt(this,function(t,e,n){var r=Kt(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return qt(this,Vt(this,t,!0))},fromEntrySeq:function(){return new Ot(this)},get:function(t,e){return this.find((function(e,n){return ft(n,t)}),void 0,e)},getIn:On,groupBy:function(t,e){return function(t,e,n){var r=x(t),i=(V(t)?an():Ce()).asMutable();t.__iterate((function(o,s){i.update(e.call(n,o,s,t),(function(t){return(t=t||[]).push(r?[s,o]:o),t}))}));var o=Kt(t);return i.map((function(e){return qt(t,o(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,g)!==g},hasIn:function(t){return Nn(this,t,g)!==g},isSubset:function(t){return t="function"==typeof t.includes?t:O(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:O(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return ft(e,t)}))},keySeq:function(){return this.toSeq().map(Fn).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return Bt(this,t)},maxBy:function(t,e){return Bt(this,e,t)},min:function(t){return Bt(this,t?Un(t):Hn)},minBy:function(t,e){return Bt(this,e?Un(e):Hn,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return qt(this,Ft(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(Vn(t),e)},sortBy:function(t,e){return qt(this,Ut(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return qt(this,function(t,e,n){var r=Gt(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return t.__iterate((function(t,i,a){return e.call(n,t,i,a)&&++s&&r(t,i,o)})),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=t.__iterator(2,i),a=!0;return new H((function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?2===r?t:z(r,u,c,t):(a=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(Vn(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=V(t),n=x(t),r=e?1:0;return function(t,e){return e=pt(e,3432918353),e=pt(e<<15|e>>>-15,461845907),e=pt(e<<13|e>>>-13,5),e=pt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=dt((e=pt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+zn(gt(t),gt(e))|0}:function(t,e){r=r+zn(gt(t),gt(e))|0}:e?function(t){r=31*r+gt(t)|0}:function(t){r=r+gt(t)|0}),r)}(this))}});var Dn=O.prototype;Dn["@@__IMMUTABLE_ITERABLE__@@"]=!0,Dn[B]=Dn.values,Dn.toJSON=Dn.toArray,Dn.__toStringMapper=ee,Dn.inspect=Dn.toSource=function(){return this.toString()},Dn.chain=Dn.flatMap,Dn.contains=Dn.includes,wn(R,{flip:function(){return qt(this,Rt(this))},mapEntries:function(t,e){var n=this,r=0;return qt(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return qt(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var Pn=R.prototype;Pn["@@__IMMUTABLE_KEYED__@@"]=!0,Pn[B]=Dn.entries,Pn.toJSON=Rn,Pn.__toStringMapper=function(t,e){return ee(e)+": "+ee(t)},wn(D,{toKeyedSeq:function(){return new xt(this,!1)},filter:function(t,e){return qt(this,Mt(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return qt(this,Pt(this,!1))},slice:function(t,e){return qt(this,Lt(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=C(t,t<0?this.count():this.size);var r=this.slice(0,t);return qt(this,1===n?r:r.concat(Qt(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return qt(this,Vt(this,t,!1))},get:function(t,e){return(t=w(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=w(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return qt(this,function(t,e){var n=Gt(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(1,r),s=0;return new H((function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?z(n,s++,e):z(n,s++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(Qt(arguments)),e=zt(this.toSeq(),$.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),qt(this,n)},keySeq:function(){return An(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return qt(this,Ft(this,t,e,!1))},zip:function(){var t=[this].concat(Qt(arguments));return qt(this,zt(this,Bn,t))},zipAll:function(){var t=[this].concat(Qt(arguments));return qt(this,zt(this,Bn,t,!0))},zipWith:function(t){var e=Qt(arguments);return e[0]=this,qt(this,zt(this,t,e))}});var Mn=D.prototype;function Ln(t,e,n,r,i,o){return Jt(t.size),t.__iterate((function(t,o,s){i?(i=!1,n=t):n=e.call(r,n,t,o,s)}),o),n}function Fn(t,e){return e}function jn(t,e){return[e,t]}function Vn(t){return function(){return!t.apply(this,arguments)}}function Un(t){return function(){return-t.apply(this,arguments)}}function Bn(){return Qt(arguments)}function Hn(t,e){return t<e?1:t>e?-1:0}function zn(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Mn["@@__IMMUTABLE_INDEXED__@@"]=!0,Mn[j]=!0,wn(P,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),P.prototype.has=Dn.includes,P.prototype.contains=P.prototype.includes,wn(J,R.prototype),wn($,D.prototype),wn(tt,P.prototype);var qn=function(t){function e(t){return null==t?Xn():mn(t)?t:Xn().withMutations((function(e){var n=P(t);Jt(n.size),n.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(R(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(En);qn.isOrderedSet=mn;var Wn,Kn=qn.prototype;function Gn(t,e){var n=Object.create(Kn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function Xn(){return Wn||(Wn=Gn(cn()))}Kn[j]=!0,Kn.zip=Mn.zip,Kn.zipWith=Mn.zipWith,Kn.__empty=Xn,Kn.__make=Gn;var Yn=function(t,e){var n,r=function(o){var s=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t),u=i._indices={};i._name=e,i._keys=a,i._defaultValues=t;for(var c=0;c<a.length;c++){var l=a[c];u[l]=c,i[l]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+Jn(this)+' with property "'+l+'" since that property name is part of the Record API.'):tr(i,l)}}this.__ownerID=void 0,this._values=Ke().withMutations((function(t){t.setSize(s._keys.length),R(o).forEach((function(e,n){t.set(s._indices[n],e===s._defaultValues[n]?void 0:e)}))}))},i=r.prototype=Object.create(Qn);return i.constructor=r,e&&(r.displayName=e),r};Yn.prototype.toString=function(){for(var t,e=Jn(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)e+=(r?", ":"")+(t=n[r])+": "+ee(this.get(t));return e+" }"},Yn.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&$n(this).equals($n(t))},Yn.prototype.hashCode=function(){return $n(this).hashCode()},Yn.prototype.has=function(t){return this._indices.hasOwnProperty(t)},Yn.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._indices[t],r=this._values.get(n);return void 0===r?this._defaultValues[t]:r},Yn.prototype.set=function(t,e){if(this.has(t)){var n=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(n!==this._values&&!this.__ownerID)return Zn(this,n)}return this},Yn.prototype.remove=function(t){return this.set(t)},Yn.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:Zn(this,t)},Yn.prototype.wasAltered=function(){return this._values.wasAltered()},Yn.prototype.toSeq=function(){return $n(this)},Yn.prototype.toJS=function(){return _n(this)},Yn.prototype.entries=function(){return this.__iterator(2)},Yn.prototype.__iterator=function(t,e){return $n(this).__iterator(t,e)},Yn.prototype.__iterate=function(t,e){return $n(this).__iterate(t,e)},Yn.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?Zn(this,e,t):(this.__ownerID=t,this._values=e,this)},Yn.isRecord=L,Yn.getDescriptiveName=Jn;var Qn=Yn.prototype;function Zn(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function Jn(t){return t.constructor.displayName||t.constructor.name||"Record"}function $n(t){return st(t._keys.map((function(e){return[e,t.get(e)]})))}function tr(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){Zt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}Qn["@@__IMMUTABLE_RECORD__@@"]=!0,Qn.delete=Qn.remove,Qn.deleteIn=Qn.removeIn=se,Qn.getIn=On,Qn.hasIn=Dn.hasIn,Qn.merge=le,Qn.mergeWith=he,Qn.mergeIn=ye,Qn.mergeDeep=ve,Qn.mergeDeepWith=ge,Qn.mergeDeepIn=me,Qn.setIn=oe,Qn.update=ue,Qn.updateIn=ce,Qn.withMutations=be,Qn.asMutable=we,Qn.asImmutable=_e,Qn[B]=Qn.entries,Qn.toJSON=Qn.toObject=Dn.toObject,Qn.inspect=Qn.toSource=function(){return this.toString()};var er,nr=function(t){var e=t.colors,n=t.fonts,r=e.primarySenderBG,i=e.primaryDivider,o=e.secondaryButton,s=e.primaryAccent,a=e.primary,u=e.primaryText,l=e.primaryFileBackground,h=e.primaryPlaceholder;return{mainContainer:{display:"flex",bottom:"0",position:"absolute",justifyContent:"flex-start",alignItems:"center",width:"100%",flexWrap:"wrap",boxSizing:"border-box",background:r,borderRadius:"0px 0px 17px 17px",padding:"5px 20px 5px 20px",borderTop:"0.5px solid "+i,minHeight:"53px","@media screen and (max-width: 800px)":{minHeight:"6%",borderRadius:"0"}},mainContainerSearch:{justifyContent:"space-between",color:u},searchCountContainer:{display:"flex",alignItems:"center"},searchButtonContainer:{display:"flex",alignItems:"center",width:"59.6px",justifyContent:"space-between"},switchingActiveButton:{border:"none",fontSize:"1.125rem",background:r,height:"34px",outline:"none",padding:"0",color:o,transition:"color ease-in-out 0.1s",cursor:"pointer","&:hover":{color:"#878fa3"},"&:active":{color:a},"@media screen and (max-width: 800px)":{fontSize:"1.25rem"}},switchingDisableButton:{opacity:"0.2",cursor:"auto","&:hover":{},"&:active":{}},addFileButton:{border:"none",fontSize:"1.125rem",background:r,height:"34px",outline:"none",padding:"0",color:s,transition:"transform ease-in-out 0.3s, color ease-in-out 0.3s",cursor:"pointer","&:hover":{color:"#F2297B"},"&:active":{opacity:"0.5"},"@media screen and (max-width: 800px)":{fontSize:"1.25rem"}},sendMessageButton:{border:"none",fontSize:"1.125rem",background:r,outline:"none",height:"34px",padding:"3px",color:a,cursor:"pointer",transition:"transform ease-in-out 0.3s, color ease-in-out 0.3s","&:hover":{transform:"translateY(-5px)",color:"#2F66F1"},"&:active":{opacity:"0.5"},"@media screen and (max-width: 800px)":{fontSize:"1.25rem"}},shareButton:{},stickersButton:{},textArea:c(c({minWidth:"270px",resize:"none",border:"none",outline:"none",minHeight:"27px",color:u,background:"none",overflowY:"auto",wordWrap:"break-word",flex:1,margin:"0 1rem",padding:0,marginTop:"10px"},n),{"@media screen and (max-width: 800px)":{borderRadius:"15px",border:"1px solid "+i,padding:"6px",fontSize:"1rem",minWidth:"260px"},"@media screen and (max-width: 480px)":{minWidth:"74%"},"::-webkit-input-placeholder":{color:h,opacity:"0.2"},"::-moz-placeholder":{color:h,opacity:"0.2"},"-ms-input-placeholder":{color:h,opacity:"0.2"}}),voiceButton:{},filesContainer:{width:"100%",overflowX:"scroll",display:"flex",padding:"8px 0 8px 0",animation:"show 0.3s 1","::-webkit-scrollbar":{width:"0"},"@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},fileContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",minWidth:"60px",maxWidth:"60px",borderRadius:"5px",background:l,marginRight:"8px","& .ckProgressLoader":{position:"absolute",display:"flex"},animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},fileImage:{height:"100%",minWidth:"100%",maxWidth:"100%",borderRadius:"5px"},deleteFileButton:{position:"absolute",left:"36px",top:"0px",cursor:"pointer","&:hover":{opacity:"0.5"},"&:active":{opacity:"1"}}}},rr=(new Array(360).fill(0).map((function(t,e){return e})).map((function(t){return t*Math.PI/180})).map((er=20,function(t){return{x:50*Math.pow(Math.abs(Math.cos(t)),2/er)*Math.sign(Math.cos(t))+50,y:50*Math.pow(Math.abs(Math.sin(t)),2/er)*Math.sign(Math.sin(t))+50}})).map((function(t){var e=t.x,n=t.y;return{x:Math.round(10*e)/10,y:Math.round(10*n)/10}})).map((function(t){return t.x+"% "+t.y+"%"})).join(", "),function(t){var e=t.colors,n=t.fonts,r=e.primaryBackground;return{mainContainer:c({display:"flex",overflow:"hidden",width:"fit-content",margin:"auto",padding:"100px","@media screen and (max-width: 800px)":{justifyContent:"center",width:"100%",height:"100%",alignItems:"center",padding:"0"},animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},n),chatContainer:{width:"380px",display:"flex",flexDirection:"column",background:r,position:"relative",borderRadius:"17px",height:"600px",boxShadow:"0px 20px 50px rgba(5, 0, 56, 0.15)",overflow:"hidden","@media screen and (max-width: 800px)":{width:"100%",height:"100%",borderRadius:"0"}}}}),ir=function(t){return{mainContainer:{height:"496px",minHeight:"496px",background:t.primaryBackground,width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",boxSizing:"border-box",animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}},"@media screen and (max-width: 800px)":{height:"100vh",paddingTop:"60px"}},panel:{},rateButton:{},searchButton:{},messagesContainer:{maxHeight:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 800px)":{}}}},or=function(t){var e=t.primaryWhite;return{mainContainer:{display:"flex",flexDirection:"colomn",width:"fit-content",maxWidth:"275px",marginLeft:"auto",marginRight:"24px",marginBottom:"16px",color:e,background:t.primary,borderRadius:"17px 17px 0 17px"},groupTypeMessagesNext:{marginBottom:"4px"},groupTypeMessagesPrev:{borderRadius:"17px 0 17px 17px"},groupTypeMessagesInter:{borderRadius:"17px 0 0 17px"},textContainer:{textAlign:"left",maxWidth:"100%",minWidth:"5%",wordBreak:"break-all","& mark":{background:"#FFDF00",padding:"3px 0 3px 0",color:t.primaryDark},"@media screen and (max-width: 800px)":{fontSize:"1rem"}},avatarContainer:{},image:{},positiveRateMessageButton:{display:"none"},negativeRateMessageButton:{display:"none"},audioMessageButton:{},dataContainer:{width:"100%",textAlign:"left",fontSize:"0.75rem",marginTop:"8px",color:e,opacity:"0.4"},bubbleContainer:{display:"flex",flexWrap:"wrap",padding:"16px"},buttonsContainer:{},imageFile:{maxWidth:"190px",maxHeight:"222px",display:"flex",borderRadius:"17px 17px 0 17px"},fileContainer:{display:"flex",width:"100%",marginBottom:"10px"},svgContainer:{marginRight:"16px",display:"flex"},sizeTittle:{fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"20px",color:e,opacity:"0.5"},fileNameTittle:{textAlign:"left",width:"100%",fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"20px",color:e,marginBottom:"4px",cursor:"pointer",transition:"color ease-in-out 0.3s",textDecoration:"none","&:hover":{opacity:"0.5"},"&:active":{opacity:"1"}},metaContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}}},sr=function(t){var e=t.primaryLinks,n=t.primaryDark,r=t.primaryRatingElement,i=t.primaryResponse,o=t.primaryText;return{mainContainer:{display:"flex",flexDirection:"colomn",width:"fit-content",maxWidth:"275px",marginLeft:"24px",marginRight:"auto",marginBottom:"16px",color:o,background:i,borderRadius:"17px 17px 17px 0"},groupTypeMessagesNext:{marginBottom:"4px"},groupTypeMessagesPrev:{borderRadius:"0 17px 17px 17px"},groupTypeMessagesInter:{borderRadius:"0 17px 17px 0"},textContainer:{color:o,boxSizing:"border-box",background:i,maxWidth:"100%",minWidth:"5%",textAlign:"left","@media screen and (max-width: 800px)":{fontSize:"1rem"},"& mark":{background:"#FFDF00",color:n},"& a":{color:e,textDecoration:"none",transition:"color ease-in-out 0.3s"},"& ul":{margin:"0",display:"flex",padding:"0",flexDirection:"column",marginLeft:"-6px",alignItems:"flex-start",width:"100%"},"& li":{width:"100%",height:"32px",background:"none",borderRadius:"4px",padding:"8px 6px",lineHeight:"17px",boxSizing:"border-box",listStyleType:"none",cursor:"pointer",transition:"background ease-in-out 0.3s"},"& li:hover":{background:r},"& li:active":{opacity:"0.5"},"& a:hover":{color:"#2F66F1"},"& a:active":{color:t.primaryAccent}},avatarContainer:{},image:{},positiveRateMessageButton:{padding:0,alignSelf:"flex-end",marginLeft:"4%",display:"flex",alignItems:"flex-end",border:"none",outline:"none",color:o,background:"none",cursor:"pointer","& :hover":{opacity:"0.75"},"& :active":{opacity:"1"}},negativeRateMessageButton:{padding:0,alignSelf:"flex-end",marginLeft:"4%",display:"flex",border:"none",outline:"none",color:o,background:"none",cursor:"pointer","& :hover":{opacity:"0.75"},"& :active":{opacity:"1"}},audioMessageButton:{},dataContainer:{width:"100%",textAlign:"right",fontSize:"0.75rem",marginTop:"8px",color:o,opacity:"0.4"},bubbleContainer:{display:"flex",padding:"16px",flexDirection:"column",width:"100%"},buttonsContainer:{}}},ar=function(t){var e=t.primaryResponse;return{mainContainer:{marginLeft:"24px",marginRight:"auto",marginBottom:"10px",borderRadius:"17px 17px 17px 0",width:"70px",padding:"6px",height:"24px",display:"flex",justifyContent:"space-evenly",alignItems:"center",textAlign:"center",zIndex:"5",userSelect:"none",color:t.primaryText,background:e},elementOne:{fontSize:"60px",animation:"loader 1.5s ease-in-out infinite",animationDelay:" 0.2s",paddingBottom:"28px","@keyframes loader":{"0%, 100%":{opacity:"0.4"},"50%, 60%":{opacity:"1",fontSize:"75px",paddingBottom:"38px"}}},elementTwo:{fontSize:"60px",animation:"loader 1.5s ease-in-out infinite",paddingBottom:"28px",animationDelay:" 0.4s","@keyframes loader":{"0%, 100%":{opacity:"0.4"},"50%, 60%":{opacity:"1",fontSize:"75px",paddingBottom:"38px"}}},elementThree:{fontSize:"60px",animation:"loader 1.5s ease-in-out infinite",animationDelay:" 0.6s",paddingBottom:"28px","@keyframes loader":{"0%, 100%":{opacity:"0.4"},"50%, 60%":{opacity:"1"}}}}},ur=function(t){return{dividerMainContainer:{display:"flex",alignItems:"center",justifyContent:"center",padding:"22px 0",userSelect:"none",color:t.primaryDateDivider,opacity:"0.3"}}},cr=function(t){var e=t.primaryWhite,n=t.primaryDivider,r=t.primaryDark,i=t.primaryHeaderButtonHover,o=t.primaryHeaderButtonActive;return{mainContainer:{display:"flex",alignItems:"center",width:"100%",boxSizing:"border-box",borderBottom:"0.5px solid "+n,justifyContent:"space-between",height:"50px",minHeight:"50px",background:r,borderRadius:"17px 17px 0px 0px",padding:"13px 17px",color:e,zIndex:50,"@media screen and (max-width: 800px)":{borderRadius:"0",height:"60px",position:"absolute",top:"0"}},avatarContainer:{borderRadius:"50px",display:"flex",flexDirection:"column",alignItems:"flex-end","@media screen and (max-width: 800px)":{width:"6%"},"@media screen and (max-width: 480px)":{width:"10%"}},image:{maxWidth:"24px",maxHeight:"24px","@media screen and (max-width: 800px)":{maxWidth:"35px",maxHeight:"35px"},"@media screen and (max-width: 480px)":{maxWidth:"25px",maxHeight:"25px"}},titleContainer:{textAlign:"left",width:"50%",fontSize:"1.125rem",marginLeft:"15px","@media screen and (max-width: 800px)":{width:"60%",fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{width:"50%",fontSize:"1.125rem"}},resetButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},closeButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},settingsButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},headerSearchContainer:{display:"flex",alignItems:"center"},headerSearchResetButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",padding:"0",justifyContent:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},headerSearchInput:{display:"flex",alignItems:"center",marginLeft:"1rem",border:"none",width:"85%",background:"none",color:e,outline:"none",padding:"0",fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"200",lineHeight:"20px",fontSize:"1.125rem","::-webkit-input-placeholder":{color:e,opacity:"0.2"},"::-moz-placeholder":{color:e,opacity:"0.2"},"-ms-input-placeholder":{color:e,opacity:"0.2"}},searchButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}}}},lr=function(t){return{mainContainer:{width:"auto",height:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",cursor:"pointer"},avatarContainer:{borderRadius:"50px",border:"4px solid #386FFE",width:"75px",height:"75px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},image:{width:"55px",height:"55px"},titleContainer:{},svg:{groupPath:{fill:t.primaryBadge},path:{animation:"dash 15s ease-in-out infinite"},"@keyframes dash":{"0%, 100%":{strokeDashoffset:250},"50%":{strokeDashoffset:10}}}}},hr=function(t){var e=t.primaryWhite,n=t.primaryButton,r=t.primaryButtonHover,i=t.secondaryRate,o=t.primaryText;return{mainContainer:{borderTop:"1px solid #dddee2",marginTop:"1rem",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},titleContainer:{width:"100%",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"},negativeRateButton:{width:"48%",border:"none",outline:"none",display:"flex",flexDirection:"column",alignItems:"center",color:o,background:n,padding:"12px",cursor:"pointer",borderRadius:"5px",transition:"background-color ease-in-out 0.3s","&:hover":{backgroundColor:r},"&:active":{backgroundColor:i,color:e}},positiveRateButton:{width:"48%",border:"none",outline:"none",display:"flex",flexDirection:"column",alignItems:"center",color:o,background:n,padding:"12px",cursor:"pointer",borderRadius:"5px",transition:"background-color ease-in-out 0.3s","&:hover":{backgroundColor:r},"&:active":{backgroundColor:i,color:e}},ratingElement:{width:"100%",height:"32px",background:"none",borderRadius:"4px",padding:"8px 6px",lineHeight:"17px",boxSizing:"border-box",color:i,listStyleType:"none",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:t.primaryRatingElement},"&:active":{opacity:"0.5"}},ratingListContainer:{marginTop:"1rem",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"}}},fr=function(t){return{mainContainer:{color:t.primaryDark,cursor:"pointer",opacity:"75%",transition:"opacity ease-in-out 0.3s","&:hover":{opacity:"100%"}}}},pr=function(t){var e=t.primaryExampleBackground,n=t.primary,r=t.primaryBrightResponse;return{width:"5.5rem",height:"6.813rem",background:e,boxSizing:"border-box",borderTop:"0.7rem solid "+r,borderRadius:"7px",display:"flex",flexDirection:"column",justifyContent:"space-around",padding:"7px","::before":{content:'""',width:"3.2rem",height:"1.5rem",borderRadius:"3px",alignSelf:"flex-start",background:r},"::after":{content:'""',alignSelf:"flex-end",width:"3rem",height:"1.5rem",borderRadius:"3px",background:n}}},dr=function(t){var e=t.primaryWhite,n=t.primaryDivider,r=t.primaryDark,i=t.primaryBackground,o=t.primaryText,s=t.primary;return{mainContainer:{display:"flex",flexDirection:"column",alignItems:"center",background:i,color:o,height:"100%",transition:"background 0.35s ease-in-out"},header:{display:"flex",alignItems:"center",width:"100%",boxSizing:"border-box",height:"50px",borderBottom:"0.5px solid "+n,minHeight:"50px",background:r,borderRadius:"17px 17px 0px 0px",padding:"10px",color:e,zIndex:50,"@media screen and (max-width: 800px)":{borderRadius:"0",height:"60px",position:"absolute",top:"0",padding:"0"}},titleContainer:{flex:"0.9",fontSize:"1.125rem",textAlign:"center","@media screen and (max-width: 800px)":{flex:"0.85"}},closeSettingsButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:t.primaryHeaderButtonHover},"&:active":{background:t.primaryHeaderButtonActive}},fieldcontainer:{display:"flex",flexDirection:"column",padding:"24px",width:"100%",boxSizing:"border-box",animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"30%":{opacity:"0.3"},"60%":{opacity:"0.6"},"100%":{opacity:"1"}},"@media screen and (max-width: 800px)":{height:"100vh",paddingTop:"10vh"}},heading:{marginBottom:"2rem",color:o,fontSize:"1rem",fontWeight:"bold"},languages:{display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:"2rem"},themes:{display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:"2rem",justifyContent:"space-between"},languagesCheckboxContainer:{display:"flex",alignItems:"center",width:"20%",justifyContent:"space-between",marginRight:"2rem"},themesCheckboxContainer:{display:"flex",flexDirection:"column-reverse",alignItems:"center"},boxTitle:{color:o},checkbox:{display:"none","&:hover + .settings-switcher":{opacity:"50%",background:s},"&:checked + .settings-switcher":{backgroundColor:s,border:"none",opacity:"1"},"&:checked + .settings-switcher::after":{height:"2px",width:"16px",borderRadius:"3px",content:'""',transform:"translateX(36%) translateY(308%) rotate(-45deg)",transformOrigin:"left bottom",backgroundColor:i},"&:checked + .settings-switcher::before":{height:"10px",width:"2px",borderRadius:"3px",backgroundColor:i,content:'""',transform:"translateX(372%) translateY(22%) rotate(-45deg)",transformOrigin:"left bottom"}},switcher:{display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:" 2rem",border:"1px solid "+o,opacity:"0.2",borderRadius:"50%",cursor:"pointer",boxSizing:"border-box",transition:"all 0.3s","&:hover":{border:"none"},"&:hover::after":{height:"2px",width:"16px",borderRadius:"3px",content:'""',transform:"translateX(36%) translateY(308%) rotate(-45deg)",transformOrigin:"left bottom",backgroundColor:i,transition:"all 0.3s"},"&:hover::before":{height:"10px",width:"2px",borderRadius:"3px",backgroundColor:i,content:'""',transform:"translateX(372%) translateY(22%) rotate(-45deg)",transformOrigin:"left bottom"}}}},vr=function(t){var e=t.primary,n=t.primaryText,r=t.primaryWhite;return{toggleContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",marginBottom:"2rem"},toggleHeading:{color:n,fontSize:"1rem",fontWeight:"bold",marginBottom:"1.5rem"},toggleLabel:{display:"inline-block",height:"24px",width:"48px",position:"relative"},toggleInput:{display:"none","&:checked + .sova-settings-toggle-slider":{backgroundColor:e},"&:checked + .sova-settings-toggle-slider:before":{transform:"translateX(24px)"}},toggleSlider:{backgroundColor:t.primaryGray,bottom:0,cursor:"pointer",left:0,position:"absolute",right:0,top:0,transition:"all ease-in-out 0.35s",borderRadius:"34px","&:before":{backgroundColor:r,bottom:"3px",content:'""',height:"18px",width:"18px",left:"3px",position:"absolute",transition:"all ease-in-out 0.35s",borderRadius:"50%"}}}},gr={primary:"#386FFE",primaryWhite:"#FFFFFF",primaryBlack:"#000000",primaryGray:"#F3F3F3",primaryDark:"#151F49",primaryDashed:"#DCDEE2",primaryText:"#0F1F48",primaryAccent:"#FC2D81",primaryBackground:"#FFFFFF",primaryFileBackground:"#F9F9F9",primaryBadge:"#386FFE",primaryLinks:"#386FFE",primaryResponse:"#F3F3F3",primarySenderBG:"#FFFFFF",secondaryRate:"#386FFE",primaryDivider:"#F3F3F3",primaryButton:"#DCDEE2",primaryButtonHover:"#CCD2DC",primaryPlaceholder:"#0F1F48",primaryExample:"#386FFE",primaryExampleBackground:"#F2F2F2",primaryBrightResponse:"#E7E7E7",primaryDateDivider:"#151F49",primaryRatingElement:"#EDEDED",secondaryButton:"#0F1F48",primaryHeaderButtonHover:"rgba(231, 231, 231, 0.07)",primaryHeaderButtonActive:"rgba(231, 231, 231, 0.15)",primaryChooseFileButtonHover:"#2F66F1"},yr={fontFamily:"Helvetica",lineHeight:"20px",fontSize:"0.875rem"},mr=function(t){var e=t.primaryBackground,n=t.primaryDashed,r=t.primaryText,i=t.primary;return{mainContainer:{margin:"16px",height:"464px",background:e,display:"flex",alignItems:"center",padding:"98px 0px 56px 0px",flexDirection:"column",boxSizing:"border-box",outline:"none",border:"2px dashed "+n,animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},svgContainer:{},dropAndDownContainer:{marginBottom:"21.92px",outline:"none"},chooseFileButton:{padding:"4px 20px",width:"149px",height:"41px",fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",textAlign:"center",color:t.primaryWhite,background:i,borderRadius:"49px",border:"none",outline:"none",marginBottom:"24px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:t.primaryChooseFileButtonHover},"&:active":{opacity:"0.6"}},titleContainer:{fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"22px",lineHeight:"32px",color:r,marginBottom:"13px"},commentContainer:{fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"16px",textAlign:"center",color:r,opacity:"0.5"},dividerContainer:{fontFamily:"Helvetica",marginBottom:"13px",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"30px",color:r,opacity:"0.3",width:"137px",alignItems:"center",justifyContent:"space-between",display:"flex","::before":{content:'""',width:"47px",height:"1px",opacity:"0.3",background:r},"::after":{content:'""',width:"47px",height:"1px",opacity:"0.3",background:r}}}},br=function(t){t.primaryBadge;return{mainContainer:{width:"372px",display:"flex",marginBottom:"16px",marginLeft:"8px",oveflowX:"hidden"},scrollbar:{"& .scrollbar-container":{}},elementContainer:{display:"flex",border:"0.5px solid #F3F3F3",flexDirection:"column",alignItems:"center",borderRadius:"17px",width:"280px",marginLeft:"16px",fontFamily:"Helvetica",background:"#F3F3F3"},buttonsContainer:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},webUrlButton:{fontSize:"14px",lineHeight:"18px",height:"44px",width:"100%",border:"none",outline:"none",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",color:"#386FFE",textDecoration:"none"},postbackButton:{fontSize:"14px",lineHeight:"18px",display:"flex",alignItems:"center",justifyContent:"center",height:"44px",width:"100%",border:"none",outline:"none",background:"transparent",color:"#386FFE",textDecoration:"none"},image:{width:"280px",objectFit:"cover",height:"200px",borderRadius:"17px 17px 0 0"},textContainer:{display:"flex",width:"100%",padding:"16px 12px",fontSize:"12px",height:"127px",boxSizing:"border-box",flexDirection:"column",alignItems:"flex-start",borderBottom:"1px solid #E1E1E1"},title:{lineHeight:"18px",color:"#0F1F48",marginBottom:"4px"},subTitle:{lineHeight:"18px",color:"#000000",opacity:"0.3"}}},wr={themeName:"sovaLight",data:{example:pr(gr),Sender:nr({colors:gr,fonts:yr}),ChatIt:rr({colors:gr,fonts:yr}),Dialog:ir(gr),CKContents:br(gr),UserMessage:or(gr),ResponseMessage:sr(gr),MessageLoader:ar(gr),Divider:ur(gr),Header:cr(gr),Badge:lr(gr),Rate:hr(gr),Close:fr(gr),Settings:dr(gr),ToggleSlider:vr(gr),CKDropAndDown:mr(gr)}},_r={primary:"#386FFE",primaryWhite:"#FFFFFF",primaryBlack:"#000000",primaryGray:"#F3F3F3",primaryDark:"#151F49",primaryFileBackground:"#ffffff1f",primaryText:"#FFFFFF",primaryAccent:"#FC2D81",primaryBackground:"#0D1539",primaryDashed:"#575a67",primaryBadge:"#151F49",primaryLinks:"#386FFE",primaryResponse:"#151F49",primarySenderBG:"#151F49",secondaryRate:"#386FFE",primaryDivider:"#49505A",primaryButton:"#525D8A",primaryButtonHover:"#69739B",primaryPlaceholder:"#FFFFFF",primaryExample:"#E7E7E7",secondaryButton:"#F3F3F3",primaryExampleBackground:"#000000",primaryBrightResponse:"#273577",primaryDateDivider:"#FFFFFF",primaryRatingElement:"#515c8a4f",primaryHeaderButtonHover:"rgba(231, 231, 231, 0.07)",primaryHeaderButtonActive:"rgba(231, 231, 231, 0.15)",primaryChooseFileButtonHover:"#2F66F1"},Er={fontFamily:"Helvetica",lineHeight:"20px",fontSize:"0.875rem"},Cr={themeName:"sovaDark",data:{example:pr(_r),Sender:nr({colors:_r,fonts:Er}),ChatIt:rr({colors:_r,fonts:Er}),Dialog:ir(_r),CKContents:br(_r),UserMessage:or(_r),ResponseMessage:sr(_r),MessageLoader:ar(_r),Divider:ur(_r),Header:cr(_r),Badge:lr(_r),Rate:hr(_r),Close:fr(_r),Settings:dr(_r),ToggleSlider:vr(_r),CKDropAndDown:mr(_r)}},Ir={primary:"#386FFE",primaryWhite:"#FFFFFF",primaryBlack:"#000000",primaryGray:"#F3F3F3",primaryDark:"#273142",primaryFileBackground:"#ffffff1f",primaryText:"#FFFFFF",primaryAccent:"#FC2D81",primaryBackground:"#1B2431",primaryDashed:"#575a67",primaryBadge:"#1B2431",primaryLinks:"#386FFE",primaryResponse:"#273142",primarySenderBG:"#273142",secondaryRate:"#386FFE",primaryDivider:"#49505A",primaryButton:"#686F7B",primaryButtonHover:"#8D95A1",primaryPlaceholder:"#FFFFFF",secondaryButton:"#F3F3F3",primaryExample:"#E7E7E7",primaryExampleBackground:"#000000",primaryBrightResponse:"#273142",primaryDateDivider:"#FFFFFF",primaryRatingElement:"#686f7b3b",primaryHeaderButtonHover:"rgba(231, 231, 231, 0.07)",primaryHeaderButtonActive:"rgba(231, 231, 231, 0.15)",primaryChooseFileButtonHover:"#2F66F1"},Tr={fontFamily:"Helvetica",lineHeight:"20px",fontSize:"0.875rem"},Sr={themeName:"sovaGray",data:{example:pr(Ir),Sender:nr({colors:Ir,fonts:Tr}),ChatIt:rr({colors:Ir,fonts:Tr}),Dialog:ir(Ir),CKContents:br(Ir),UserMessage:or(Ir),ResponseMessage:sr(Ir),MessageLoader:ar(Ir),Divider:ur(Ir),Header:cr(Ir),Badge:lr(Ir),Rate:hr(Ir),Close:fr(Ir),Settings:dr(Ir),ToggleSlider:vr(Ir),CKDropAndDown:mr(Ir)}},kr={common:{chatIsOpen:!1,sendInitOnOpen:!0,showNotification:!1,showMsgLoad:!1,showRate:!1,mobileEnabled:!0,showSettings:!1},components:{ChatIt:{SenderEnabled:!0,CloseEnabled:!1,NotificationsEnabled:!0,DialogEnabled:!0,RateEnabled:!1,BadgeEnabled:!0,HeaderEnabled:!0,SettingsEnabled:!0},Sender:{inFocus:!1,blockInput:!1,blockSubmit:!1,showDropZone:!1,audioMessage:{enabled:!1,withTitle:!0,withIcon:!0},addStickers:{enabled:!1,withTitle:!0,withIcon:!0},share:{enabled:!1,withTitle:!1,withIcon:!0},addFile:{enabled:!0,withTitle:!1,withIcon:!0},send:{enabled:!0,withTitle:!1,withIcon:!0}},Message:{showDate:!1,showAvatar:!1,RateEnabled:!0,positiveRateMessage:{enabled:!1,withTitle:!1,withIcon:!0},negativeRateMessage:{enabled:!1,withTitle:!1,withIcon:!0},audioMessage:{enabled:!1,withTitle:!0,withIcon:!0}},Header:{showTitle:!0,showAvatar:!0,settings:{enabled:!0,withTitle:!1,withIcon:!0},reset:{enabled:!0,withTitle:!1,withIcon:!0},search:{active:!1,searchValue:"",found:En(),foundMessage:-1,enabled:!0,withTitle:!1,withIcon:!0},close:{enabled:!0,withTitle:!1,withIcon:!0}},Dialog:{rate:{enabled:!1,withTitle:!0,withIcon:!0},search:{enabled:!1,withTitle:!0,withIcon:!0},dividerEnabled:!0,loader:{enabled:!0,showTitle:!1,showAnimation:!0}},Rate:{positiveRate:{enabled:!0,withTitle:!0,withIcon:!1},negativeRate:{enabled:!0,withTitle:!0,withIcon:!1}},Badge:{showTitle:!1,showAvatar:!1,showSVG:!0},Settings:{closeSettings:{enabled:!0,withTitle:!1,withIcon:!0}},CKDropAndDown:{chooseFile:{enabled:!0,withTitle:!0,withIcon:!1}}}},xr={enabled:!0,shown:0,clicked:0,settings:{revision:"",timer1:15,timer2:15,disablePeriod:2592e3},messages:Ke([])};var Ar=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e};var Nr=function(){function t(t){this.isSpeedy=void 0===t.speedy?"production"===process.env.NODE_ENV:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.before=null}var e=t.prototype;return e.insert=function(t){if(this.ctr%(this.isSpeedy?65e3:1)==0){var e,n=function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}(this);e=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,e),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(r);try{var o=105===t.charCodeAt(1)&&64===t.charCodeAt(0);i.insertRule(t,o?0:i.cssRules.length)}catch(e){"production"!==process.env.NODE_ENV&&console.warn('There was a problem inserting the following rule: "'+t+'"',e)}}else r.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}();function Or(t){function e(t,e,r){var i=e.trim().split(d);e=i;var o=i.length,s=t.length;switch(s){case 0:case 1:var a=0;for(t=0===s?"":t[0]+" ";a<o;++a)e[a]=n(t,e[a],r).trim();break;default:var u=a=0;for(e=[];a<o;++a)for(var c=0;c<s;++c)e[u++]=n(t[c]+" ",i[a],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(v,"$1"+t.trim());case 58:return t.trim()+e.replace(v,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(v,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var s=t+";",a=2*e+3*n+4*o;if(944===a){t=s.indexOf(":",9)+1;var u=s.substring(t,s.length-1).trim();return u=s.substring(0,t).trim()+u+";",1===A||2===A&&i(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!i(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(T,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return f.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(e=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=s.replace(b,"tb");break;case 232:u=s.replace(b,"tb-rl");break;case 220:u=s.replace(b,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(e=(s=t).length-10,a=(u=(33===s.charCodeAt(e)?s.substring(0,e):s).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(E,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(E,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===I.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+o&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+s}return s}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),D(2!==e?r:r.replace(C,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(_," or ($1)").substring(4):"("+e+")"}function s(t,e,n,r,i,o,s,a,c,l){for(var h,f=0,p=e;f<R;++f)switch(h=O[f].call(u,t,p,n,r,i,o,s,a,c,l)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function a(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!=typeof t?A=1:(A=2,D=t):A=0),a}function u(t,n){var a=t;if(33>a.charCodeAt(0)&&(a=a.trim()),a=[a],0<R){var u=s(-1,n,a,a,k,S,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var h=function t(n,a,u,h,f){for(var p,d,v,b,_,E=0,C=0,I=0,T=0,O=0,D=0,M=v=p=0,L=0,F=0,j=0,V=0,U=u.length,B=U-1,H="",z="",q="",W="";L<U;){if(d=u.charCodeAt(L),L===B&&0!==C+T+I+E&&(0!==C&&(d=47===C?10:47),T=I=E=0,U++,B++),0===C+T+I+E){if(L===B&&(0<F&&(H=H.replace(l,"")),0<H.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:H+=u.charAt(L)}d=59}switch(d){case 123:for(p=(H=H.trim()).charCodeAt(0),v=1,V=++L;L<U;){switch(d=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(L+1)){case 42:case 47:t:{for(M=L+1;M<B;++M)switch(u.charCodeAt(M)){case 47:if(42===d&&42===u.charCodeAt(M-1)&&L+2!==M){L=M+1;break t}break;case 10:if(47===d){L=M+1;break t}}L=M}}break;case 91:d++;case 40:d++;case 34:case 39:for(;L++<B&&u.charCodeAt(L)!==d;);}if(0===v)break;L++}switch(v=u.substring(V,L),0===p&&(p=(H=H.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<F&&(H=H.replace(l,"")),d=H.charCodeAt(1)){case 100:case 109:case 115:case 45:F=a;break;default:F=N}if(V=(v=t(a,F,v,d,f+1)).length,0<R&&(_=s(3,v,F=e(N,H,j),a,k,S,V,d,f,h),H=F.join(""),void 0!==_&&0===(V=(v=_.trim()).length)&&(d=0,v="")),0<V)switch(d){case 115:H=H.replace(w,o);case 100:case 109:case 45:v=H+"{"+v+"}";break;case 107:v=(H=H.replace(g,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=H+v,112===h&&(z+=v,v="")}else v="";break;default:v=t(a,e(a,H,j),v,h,f+1)}q+=v,v=j=F=M=p=0,H="",d=u.charCodeAt(++L);break;case 125:case 59:if(1<(V=(H=(0<F?H.replace(l,""):H).trim()).length))switch(0===M&&(p=H.charCodeAt(0),45===p||96<p&&123>p)&&(V=(H=H.replace(" ",":")).length),0<R&&void 0!==(_=s(1,H,a,n,k,S,z.length,h,f,h))&&0===(V=(H=_.trim()).length)&&(H="\0\0"),p=H.charCodeAt(0),d=H.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){W+=H+u.charAt(L);break}default:58!==H.charCodeAt(V-1)&&(z+=r(H,p,d,H.charCodeAt(2)))}j=F=M=p=0,H="",d=u.charCodeAt(++L)}}switch(d){case 13:case 10:47===C?C=0:0===1+p&&107!==h&&0<H.length&&(F=1,H+="\0"),0<R*P&&s(0,H,a,n,k,S,z.length,h,f,h),S=1,k++;break;case 59:case 125:if(0===C+T+I+E){S++;break}default:switch(S++,b=u.charAt(L),d){case 9:case 32:if(0===T+E+C)switch(O){case 44:case 58:case 9:case 32:b="";break;default:32!==d&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+C+E&&(F=j=1,b="\f"+b);break;case 108:if(0===T+C+E+x&&0<M)switch(L-M){case 2:112===O&&58===u.charCodeAt(L-3)&&(x=O);case 8:111===D&&(x=D)}break;case 58:0===T+C+E&&(M=L);break;case 44:0===C+I+T+E&&(F=1,b+="\r");break;case 34:case 39:0===C&&(T=T===d?0:0===T?d:T);break;case 91:0===T+C+I&&E++;break;case 93:0===T+C+I&&E--;break;case 41:0===T+C+E&&I--;break;case 40:if(0===T+C+E){if(0===p)switch(2*O+3*D){case 533:break;default:p=1}I++}break;case 64:0===C+I+T+E+M+v&&(v=1);break;case 42:case 47:if(!(0<T+E+I))switch(C){case 0:switch(2*d+3*u.charCodeAt(L+1)){case 235:C=47;break;case 220:V=L,C=42}break;case 42:47===d&&42===O&&V+2!==L&&(33===u.charCodeAt(V+2)&&(z+=u.substring(V,L+1)),b="",C=0)}}0===C&&(H+=b)}D=O,O=d,L++}if(0<(V=z.length)){if(F=a,0<R&&(void 0!==(_=s(2,z,F,n,k,S,V,h,f,h))&&0===(z=_).length))return W+z+q;if(z=F.join(",")+"{"+z+"}",0!=A*x){switch(2!==A||i(z,2)||(x=0),x){case 111:z=z.replace(m,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}x=0}}return W+z+q}(N,a,n,0,0);return 0<R&&(void 0!==(u=s(-2,h,a,a,k,S,h.length,0,0,0))&&(h=u)),"",x=0,S=k=1,h}var c=/^\0+/g,l=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,d=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,m=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,E=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,S=1,k=1,x=0,A=1,N=[],O=[],R=0,D=null,P=0;return u.use=function t(e){switch(e){case void 0:case null:R=O.length=0;break;default:if("function"==typeof e)O[R++]=e;else if("object"==typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else P=0|!!e}return t},u.set=a,void 0!==t&&a(t),u}var Rr=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var r=t(n);return e.set(n,r),r}};function Dr(t){t&&Pr.current.insert(t+"}")}var Pr={current:null},Mr=function(t,e,n,r,i,o,s,a,u,c){switch(t){case 1:switch(e.charCodeAt(0)){case 64:return Pr.current.insert(e+";"),"";case 108:if(98===e.charCodeAt(2))return""}break;case 2:if(0===a)return e+"/*|*/";break;case 3:switch(a){case 102:case 112:return Pr.current.insert(n[0]+e),"";default:return e+(0===c?"/*|*/":"")}case-2:e.split("/*|*/}").forEach(Dr)}},Lr=function(t,e){if(1===t&&108===e.charCodeAt(0)&&98===e.charCodeAt(2))return""},Fr="undefined"!=typeof document,jr={},Vr=Fr?void 0:Rr((function(){var t=Rr((function(){return{}})),e={},n={};return function(r){return void 0===r||!0===r?e:!1===r?n:t(r)}})),Ur=function(t){void 0===t&&(t={});var e,n=t.key||"css";void 0!==t.prefix&&(e={prefix:t.prefix});var r=new Or(e);if("production"!==process.env.NODE_ENV&&/[^a-z-]/.test(n))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+n+'" was passed');var i,o,s={};if(Fr){i=t.container||document.head;var a=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(a,(function(t){t.getAttribute("data-emotion-"+n).split(" ").forEach((function(t){s[t]=!0})),t.parentNode!==i&&i.appendChild(t)}))}if(Fr)r.use(t.stylisPlugins)(Mr),o=function(t,e,n,i){var o=e.name;if(Pr.current=n,"production"!==process.env.NODE_ENV&&void 0!==e.map){var s=e.map;Pr.current={insert:function(t){n.insert(t+s)}}}r(t,e.styles),i&&(h.inserted[o]=!0)};else{r.use(Lr);var u=jr;(t.stylisPlugins||void 0!==t.prefix)&&(r.use(t.stylisPlugins),u=Vr(t.stylisPlugins||jr)(t.prefix));o=function(t,e,n,i){var o=e.name,s=function(t,e){var n=e.name;return void 0===u[n]&&(u[n]=r(t,e.styles)),u[n]}(t,e);return void 0===h.compat?(i&&(h.inserted[o]=!0),"development"===process.env.NODE_ENV&&void 0!==e.map?s+e.map:s):i?void(h.inserted[o]=s):s}}if("production"!==process.env.NODE_ENV){var c=/\/\*/g,l=/\*\//g;r.use((function(t,e){switch(t){case-1:for(;c.test(e);){if(l.lastIndex=c.lastIndex,!l.test(e))throw new Error('Your styles have an unterminated comment ("/*" without corresponding "*/").');c.lastIndex=l.lastIndex}c.lastIndex=0}})),r.use((function(t,e,n){switch(t){case-1:var r=e.match(/(:first|:nth|:nth-last)-child/g);r&&!0!==h.compat&&r.forEach((function(t){var n=new RegExp(t+".*\\/\\* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason \\*\\/").test(e);t&&!n&&console.error('The pseudo class "'+t+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+t.split("-child")[0]+'-of-type".')}))}}))}var h={key:n,sheet:new Nr({key:n,container:i,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:s,registered:{},insert:o};return h},Br="undefined"!=typeof document;function Hr(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]):r+=n+" "})),r}var zr=function(t,e,n){var r=t.key+"-"+e.name;if((!1===n||!1===Br&&void 0!==t.compat)&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i="",o=e;do{var s=t.insert("."+r,o,t.sheet,!0);Br||void 0===s||(i+=s),o=o.next}while(void 0!==o);if(!Br&&0!==i.length)return i}};var qr={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var Wr="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",Kr=/[A-Z]|^ms/g,Gr=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Xr=function(t){return 45===t.charCodeAt(1)},Yr=function(t){return null!=t&&"boolean"!=typeof t},Qr=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return Xr(t)?t:t.replace(Kr,"-$&").toLowerCase()})),Zr=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(Gr,(function(t,e,n){return ai={name:e,styles:n,next:ai},e}))}return 1===qr[t]||Xr(t)||"number"!=typeof e||0===e?e:e+"px"};if("production"!==process.env.NODE_ENV){var Jr=/(attr|calc|counters?|url)\(/,$r=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit","unset"],ti=Zr,ei=/^-ms-/,ni=/-(.)/g,ri={};Zr=function(t,e){"content"===t&&("string"!=typeof e||-1===$r.indexOf(e)&&!Jr.test(e)&&(e.charAt(0)!==e.charAt(e.length-1)||'"'!==e.charAt(0)&&"'"!==e.charAt(0)))&&console.error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+e+"\"'`");var n=ti(t,e);return""===n||Xr(t)||-1===t.indexOf("-")||void 0!==ri[t]||(ri[t]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+t.replace(ei,"ms-").replace(ni,(function(t,e){return e.toUpperCase()}))+"?")),n}}var ii=!0;function oi(t,e,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles){if("production"!==process.env.NODE_ENV&&"NO_COMPONENT_SELECTOR"===n.toString())throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");return n}switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return ai={name:n.name,styles:n.styles,next:ai},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)ai={name:i.name,styles:i.styles,next:ai},i=i.next;var o=n.styles+";";return"production"!==process.env.NODE_ENV&&void 0!==n.map&&(o+=n.map),o}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=oi(t,e,n[i],!1);else for(var o in n){var s=n[o];if("object"!=typeof s)null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":Yr(s)&&(r+=Qr(o)+":"+Zr(o,s)+";");else{if("NO_COMPONENT_SELECTOR"===o&&"production"!==process.env.NODE_ENV)throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");if(!Array.isArray(s)||"string"!=typeof s[0]||null!=e&&void 0!==e[s[0]]){var a=oi(t,e,s,!1);switch(o){case"animation":case"animationName":r+=Qr(o)+":"+a+";";break;default:"production"!==process.env.NODE_ENV&&"undefined"===o&&console.error("You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key)."),r+=o+"{"+a+"}"}}else for(var u=0;u<s.length;u++)Yr(s[u])&&(r+=Qr(o)+":"+Zr(o,s[u])+";")}}return r}(t,e,n);case"function":if(void 0!==t){var s=ai,a=n(t);return ai=s,oi(t,e,a,r)}"production"!==process.env.NODE_ENV&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break;case"string":if("production"!==process.env.NODE_ENV){var u=[],c=n.replace(Gr,(function(t,e,n){var r="animation"+u.length;return u.push("const "+r+" = keyframes`"+n.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+r+"}"}));u.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(u,["`"+c+"`"]).join("\n")+"\n\nYou should wrap it with `css` like this:\n\ncss`"+c+"`")}}if(null==e)return n;var l=e[n];return"production"!==process.env.NODE_ENV&&r&&ii&&void 0!==l&&(console.error("Interpolating a className from css`` is not recommended and will cause problems with composition.\nInterpolating a className from css`` will be completely unsupported in a future major version of Emotion"),ii=!1),void 0===l||r?n:l}var si,ai,ui=/label:\s*([^\s;\n{]+)\s*;/g;"production"!==process.env.NODE_ENV&&(si=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//);var ci=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";ai=void 0;var o,s=t[0];null==s||void 0===s.raw?(r=!1,i+=oi(n,e,s,!1)):("production"!==process.env.NODE_ENV&&void 0===s[0]&&console.error(Wr),i+=s[0]);for(var a=1;a<t.length;a++)i+=oi(n,e,t[a],46===i.charCodeAt(i.length-1)),r&&("production"!==process.env.NODE_ENV&&void 0===s[a]&&console.error(Wr),i+=s[a]);"production"!==process.env.NODE_ENV&&(i=i.replace(si,(function(t){return o=t,""}))),ui.lastIndex=0;for(var u,c="";null!==(u=ui.exec(i));)c+="-"+u[1];var l=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return"production"!==process.env.NODE_ENV?{name:l,styles:i,map:o,next:ai,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:l,styles:i,next:ai}},li="undefined"!=typeof document,hi=r.createContext("undefined"!=typeof HTMLElement?Ur():null),fi=r.createContext({}),pi=(hi.Provider,function(t){return r.forwardRef((function(e,n){return r.createElement(hi.Consumer,null,(function(r){return t(e,r,n)}))}))});if(!li){var di=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,r)||this).state={value:Ur()},i}return Ar(e,t),e.prototype.render=function(){return r.createElement(hi.Provider,this.state,this.props.children(this.state.value))},e}(r.Component);pi=function(t){return function(e){return r.createElement(hi.Consumer,null,(function(n){return null===n?r.createElement(di,null,(function(n){return t(e,n)})):t(e,n)}))}}}var vi=function(t){return t.replace(/\$/g,"-")},gi="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",yi="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",mi=Object.prototype.hasOwnProperty,bi=function(t,e,n,i){var o=null===n?e.css:e.css(n);"string"==typeof o&&void 0!==t.registered[o]&&(o=t.registered[o]);var s=e[gi],a=[o],u="";"string"==typeof e.className?u=Hr(t.registered,a,e.className):null!=e.className&&(u=e.className+" ");var c=ci(a);if("production"!==process.env.NODE_ENV&&-1===c.name.indexOf("-")){var l=e[yi];l&&(c=ci([c,"label:"+l+";"]))}var h=zr(t,c,"string"==typeof s);u+=t.key+"-"+c.name;var f={};for(var p in e)!mi.call(e,p)||"css"===p||p===gi||"production"!==process.env.NODE_ENV&&p===yi||(f[p]=e[p]);f.ref=i,f.className=u;var d=r.createElement(s,f);if(!li&&void 0!==h){for(var v,g=c.name,y=c.next;void 0!==y;)g+=" "+y.name,y=y.next;return r.createElement(r.Fragment,null,r.createElement("style",((v={})["data-emotion-"+t.key]=g,v.dangerouslySetInnerHTML={__html:h},v.nonce=t.sheet.nonce,v)),d)}return d},wi=pi((function(t,e,n){return"function"==typeof t.css?r.createElement(fi.Consumer,null,(function(r){return bi(e,t,r,n)})):bi(e,t,null,n)}));"production"!==process.env.NODE_ENV&&(wi.displayName="EmotionCssPropInternal");var _i=function(t,e){var n=arguments;if(null==e||!mi.call(e,"css"))return r.createElement.apply(void 0,n);if("production"!==process.env.NODE_ENV&&"string"==typeof e.css&&-1!==e.css.indexOf(":"))throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`"+e.css+"`");var i=n.length,o=new Array(i);o[0]=wi;var s={};for(var a in e)mi.call(e,a)&&(s[a]=e[a]);if(s[gi]=t,"production"!==process.env.NODE_ENV){var u=new Error;if(u.stack){var c=u.stack.match(/at (?:Object\.|)jsx.*\n\s+at ([A-Z][A-Za-z$]+) /);c||(c=u.stack.match(/.*\n([A-Z][A-Za-z$]+)@/)),c&&(s[yi]=vi(c[1]))}}o[1]=s;for(var l=2;l<i;l++)o[l]=n[l];return r.createElement.apply(null,o)},Ei=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=t(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i};function Ci(t,e,n){var r=[],i=Hr(t,r,n);return r.length<2?n:i+e(r)}pi((function(t,e){return r.createElement(fi.Consumer,null,(function(n){var i,o="",s="",a=!1,u=function(){if(a&&"production"!==process.env.NODE_ENV)throw new Error("css can only be used during render");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=ci(n,e.registered);if(li)zr(e,i,!1);else{var u=zr(e,i,!1);void 0!==u&&(o+=u)}return li||(s+=" "+i.name),e.key+"-"+i.name},c={css:u,cx:function(){if(a&&"production"!==process.env.NODE_ENV)throw new Error("cx can only be used during render");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ci(e.registered,u,Ei(n))},theme:n},l=t.children(c);return a=!0,li||0===o.length?l:r.createElement(r.Fragment,null,r.createElement("style",((i={})["data-emotion-"+e.key]=s.substring(1),i.dangerouslySetInnerHTML={__html:o},i.nonce=e.sheet.nonce,i)),l)}))}));var Ii=function(t){return _i("svg",{css:t.style,width:"119",height:"110",viewBox:"0 0 119 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i("mask",{id:"path-1-inside-1",fill:"white",display:"none"},_i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 79.3333H88.6005C105.365 79.3333 119 65.8368 119 49.2511C119 34.0489 107.561 21.3605 92.587 19.4714C86.0767 7.57633 73.3238 0 59.5 0C41.9227 0 26.6808 12.2223 22.8232 28.9021C10.0158 30.2508 0 41.0153 0 54.0458C0 67.9887 11.4637 79.3333 25.5453 79.3333H35.9479C38.0007 79.3333 39.6667 77.6673 39.6667 75.6146C39.6667 73.5618 38.0007 71.8958 35.9479 71.8958H25.5453C15.5642 71.8958 7.4375 63.8881 7.4375 54.0458C7.4375 44.2035 15.5593 36.1958 25.9321 36.1958C27.7865 36.1958 29.3533 34.8323 29.6161 33.0027C31.6986 18.4301 44.5457 7.4375 59.5 7.4375C71.1917 7.4375 81.9265 14.166 86.8353 24.5735C87.4204 25.8081 88.6352 26.6263 89.9987 26.7006C102.092 27.3601 111.562 37.2668 111.562 49.2511C111.562 61.7362 101.264 71.8958 88.6005 71.8958H82.9727C80.92 71.8958 79.254 73.5618 79.254 75.6146C79.254 77.6673 80.92 79.3333 82.9727 79.3333ZM55.7812 90.4896C55.7812 92.5423 57.4473 94.2083 59.5 94.2083C61.5527 94.2083 63.2188 92.5423 63.2188 90.4896V62.2791L68.0286 67.0862C68.7525 67.8151 69.7045 68.1771 70.6565 68.1771C71.6085 68.1771 72.5605 67.8151 73.2845 67.0912C74.7373 65.6384 74.7373 63.2832 73.2845 61.8304L62.1282 50.6742C60.6754 49.2214 58.3202 49.2214 56.8674 50.6742L45.7112 61.8304C44.2584 63.2832 44.2584 65.6384 45.7112 67.0912C47.164 68.544 49.5192 68.544 50.972 67.0912L55.7812 62.2819V90.4896ZM43.3851 109.083H75.6143C80.3991 109.083 84.2914 105.191 84.2914 100.406V92.9687C84.2914 90.916 82.6254 89.25 80.5726 89.25C78.5198 89.25 76.8538 90.916 76.8538 92.9687V100.406C76.8538 101.09 76.2985 101.646 75.6143 101.646H43.3851C42.7008 101.646 42.1455 101.09 42.1455 100.406V92.9687C42.1455 90.916 40.4795 89.25 38.4268 89.25C36.374 89.25 34.708 90.916 34.708 92.9687V100.406C34.708 105.191 38.6003 109.083 43.3851 109.083Z"})),_i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 79.3333H88.6005C105.365 79.3333 119 65.8368 119 49.2511C119 34.0489 107.561 21.3605 92.587 19.4714C86.0767 7.57633 73.3238 0 59.5 0C41.9227 0 26.6808 12.2223 22.8232 28.9021C10.0158 30.2508 0 41.0153 0 54.0458C0 67.9887 11.4637 79.3333 25.5453 79.3333H35.9479C38.0007 79.3333 39.6667 77.6673 39.6667 75.6146C39.6667 73.5618 38.0007 71.8958 35.9479 71.8958H25.5453C15.5642 71.8958 7.4375 63.8881 7.4375 54.0458C7.4375 44.2035 15.5593 36.1958 25.9321 36.1958C27.7865 36.1958 29.3533 34.8323 29.6161 33.0027C31.6986 18.4301 44.5457 7.4375 59.5 7.4375C71.1917 7.4375 81.9265 14.166 86.8353 24.5735C87.4204 25.8081 88.6352 26.6263 89.9987 26.7006C102.092 27.3601 111.562 37.2668 111.562 49.2511C111.562 61.7362 101.264 71.8958 88.6005 71.8958H82.9727C80.92 71.8958 79.254 73.5618 79.254 75.6146C79.254 77.6673 80.92 79.3333 82.9727 79.3333ZM55.7812 90.4896C55.7812 92.5423 57.4473 94.2083 59.5 94.2083C61.5527 94.2083 63.2188 92.5423 63.2188 90.4896V62.2791L68.0286 67.0862C68.7525 67.8151 69.7045 68.1771 70.6565 68.1771C71.6085 68.1771 72.5605 67.8151 73.2845 67.0912C74.7373 65.6384 74.7373 63.2832 73.2845 61.8304L62.1282 50.6742C60.6754 49.2214 58.3202 49.2214 56.8674 50.6742L45.7112 61.8304C44.2584 63.2832 44.2584 65.6384 45.7112 67.0912C47.164 68.544 49.5192 68.544 50.972 67.0912L55.7812 62.2819V90.4896ZM43.3851 109.083H75.6143C80.3991 109.083 84.2914 105.191 84.2914 100.406V92.9687C84.2914 90.916 82.6254 89.25 80.5726 89.25C78.5198 89.25 76.8538 90.916 76.8538 92.9687V100.406C76.8538 101.09 76.2985 101.646 75.6143 101.646H43.3851C42.7008 101.646 42.1455 101.09 42.1455 100.406V92.9687C42.1455 90.916 40.4795 89.25 38.4268 89.25C36.374 89.25 34.708 90.916 34.708 92.9687V100.406C34.708 105.191 38.6003 109.083 43.3851 109.083Z",fill:"#386FFE"}),_i("path",{d:"M92.587 19.4714L90.8325 20.4316L91.323 21.3278L92.3366 21.4556L92.587 19.4714ZM22.8232 28.9021L23.0327 30.8911L24.4505 30.7418L24.7718 29.3528L22.8232 28.9021ZM29.6161 33.0027L31.5958 33.287L31.596 33.2856L29.6161 33.0027ZM86.8353 24.5735L85.0264 25.4267L85.028 25.43L86.8353 24.5735ZM89.9987 26.7006L89.8898 28.6977H89.8898L89.9987 26.7006ZM63.2188 62.2791L64.6326 60.8645L61.2188 57.4527V62.2791H63.2188ZM68.0286 67.0862L69.4477 65.6768L69.4424 65.6716L68.0286 67.0862ZM73.2845 61.8304L74.6987 60.4162L73.2845 61.8304ZM62.1282 50.6742L60.714 52.0884L62.1282 50.6742ZM56.8674 50.6742L58.2816 52.0884L56.8674 50.6742ZM45.7112 61.8304L44.297 60.4162L45.7112 61.8304ZM45.7112 67.0912L47.1254 65.677L45.7112 67.0912ZM50.972 67.0912L49.5578 65.677H49.5578L50.972 67.0912ZM55.7812 62.2819H57.7812V57.4535L54.367 60.8677L55.7812 62.2819ZM88.6005 77.3333H82.9727V81.3333H88.6005V77.3333ZM117 49.2511C117 64.7126 104.28 77.3333 88.6005 77.3333V81.3333C106.449 81.3333 121 66.9609 121 49.2511H117ZM92.3366 21.4556C106.33 23.221 117 35.0756 117 49.2511H121C121 33.0222 108.792 19.5 92.8373 17.4871L92.3366 21.4556ZM59.5 2C72.599 2 84.676 9.18293 90.8325 20.4316L94.3414 18.5112C87.4773 5.96973 74.0487 -2 59.5 -2V2ZM24.7718 29.3528C28.4182 13.5861 42.8473 2 59.5 2V-2C40.9981 -2 24.9434 10.8585 20.8746 28.4515L24.7718 29.3528ZM2 54.0458C2 42.0668 11.215 32.1356 23.0327 30.8911L22.6138 26.9131C8.81664 28.366 -2 39.9638 -2 54.0458H2ZM25.5453 77.3333C12.5489 77.3333 2 66.8649 2 54.0458H-2C-2 69.1125 10.3784 81.3333 25.5453 81.3333V77.3333ZM35.9479 77.3333H25.5453V81.3333H35.9479V77.3333ZM37.6667 75.6146C37.6667 76.5628 36.8961 77.3333 35.9479 77.3333V81.3333C39.1052 81.3333 41.6667 78.7719 41.6667 75.6146H37.6667ZM35.9479 73.8958C36.8961 73.8958 37.6667 74.6664 37.6667 75.6146H41.6667C41.6667 72.4573 39.1052 69.8958 35.9479 69.8958V73.8958ZM25.5453 73.8958H35.9479V69.8958H25.5453V73.8958ZM5.4375 54.0458C5.4375 65.0199 14.487 73.8958 25.5453 73.8958V69.8958C16.6414 69.8958 9.4375 62.7564 9.4375 54.0458H5.4375ZM25.9321 34.1958C14.5096 34.1958 5.4375 43.0448 5.4375 54.0458H9.4375C9.4375 45.3622 16.6089 38.1958 25.9321 38.1958V34.1958ZM27.6364 32.7183C27.5147 33.5657 26.7894 34.1958 25.9321 34.1958V38.1958C28.7836 38.1958 31.1919 36.0989 31.5958 33.287L27.6364 32.7183ZM59.5 5.4375C43.5742 5.4375 29.8629 17.1385 27.6362 32.7197L31.596 33.2856C33.5344 19.7217 45.5171 9.4375 59.5 9.4375V5.4375ZM88.6442 23.7203C83.3984 12.5981 71.9496 5.4375 59.5 5.4375V9.4375C70.4339 9.4375 80.4547 15.7338 85.0264 25.4267L88.6442 23.7203ZM90.1076 24.7036C89.479 24.6693 88.9146 24.291 88.6426 23.717L85.028 25.43C85.9261 27.3252 87.7913 28.5832 89.8898 28.6977L90.1076 24.7036ZM113.562 49.2511C113.562 36.1869 103.244 25.4199 90.1076 24.7036L89.8898 28.6977C100.94 29.3002 109.562 38.3468 109.562 49.2511H113.562ZM88.6005 73.8958C102.342 73.8958 113.562 62.8667 113.562 49.2511H109.562C109.562 60.6057 100.186 69.8958 88.6005 69.8958V73.8958ZM82.9727 73.8958H88.6005V69.8958H82.9727V73.8958ZM81.254 75.6146C81.254 74.6664 82.0246 73.8958 82.9727 73.8958V69.8958C79.8154 69.8958 77.254 72.4573 77.254 75.6146H81.254ZM82.9727 77.3333C82.0246 77.3333 81.254 76.5628 81.254 75.6146H77.254C77.254 78.7719 79.8154 81.3333 82.9727 81.3333V77.3333ZM59.5 92.2083C58.5518 92.2083 57.7812 91.4378 57.7812 90.4896H53.7812C53.7812 93.6469 56.3427 96.2083 59.5 96.2083V92.2083ZM61.2188 90.4896C61.2188 91.4378 60.4482 92.2083 59.5 92.2083V96.2083C62.6573 96.2083 65.2188 93.6469 65.2188 90.4896H61.2188ZM61.2188 62.2791V90.4896H65.2188V62.2791H61.2188ZM69.4424 65.6716L64.6326 60.8645L61.8049 63.6938L66.6148 68.5009L69.4424 65.6716ZM70.6565 66.1771C70.2114 66.1771 69.7782 66.0097 69.4477 65.6768L66.6096 68.4956C67.7269 69.6205 69.1977 70.1771 70.6565 70.1771V66.1771ZM71.8702 65.677C71.5383 66.0089 71.1025 66.1771 70.6565 66.1771V70.1771C72.1146 70.1771 73.5828 69.6213 74.6987 68.5054L71.8702 65.677ZM71.8702 63.2446C72.542 63.9164 72.542 65.0052 71.8702 65.677L74.6987 68.5054C76.9325 66.2716 76.9325 62.65 74.6987 60.4162L71.8702 63.2446ZM60.714 52.0884L71.8702 63.2446L74.6987 60.4162L63.5424 49.2599L60.714 52.0884ZM58.2816 52.0884C58.9534 51.4166 60.0423 51.4166 60.714 52.0884L63.5424 49.2599C61.3086 47.0261 57.687 47.0261 55.4532 49.2599L58.2816 52.0884ZM47.1254 63.2446L58.2816 52.0884L55.4532 49.2599L44.297 60.4162L47.1254 63.2446ZM47.1254 65.677C46.4536 65.0052 46.4536 63.9164 47.1254 63.2446L44.297 60.4162C42.0631 62.65 42.0631 66.2716 44.297 68.5054L47.1254 65.677ZM49.5578 65.677C48.886 66.3487 47.7971 66.3487 47.1254 65.677L44.297 68.5054C46.5308 70.7392 50.1523 70.7392 52.3862 68.5054L49.5578 65.677ZM54.367 60.8677L49.5578 65.677L52.3862 68.5054L57.1955 63.6961L54.367 60.8677ZM57.7812 90.4896V62.2819H53.7812V90.4896H57.7812ZM75.6143 107.083H43.3851V111.083H75.6143V107.083ZM82.2914 100.406C82.2914 104.086 79.2945 107.083 75.6143 107.083V111.083C81.5036 111.083 86.2914 106.296 86.2914 100.406H82.2914ZM82.2914 92.9687V100.406H86.2914V92.9687H82.2914ZM80.5726 91.25C81.5208 91.25 82.2914 92.0205 82.2914 92.9687H86.2914C86.2914 89.8114 83.7299 87.25 80.5726 87.25V91.25ZM78.8538 92.9687C78.8538 92.0205 79.6244 91.25 80.5726 91.25V87.25C77.4153 87.25 74.8538 89.8114 74.8538 92.9687H78.8538ZM78.8538 100.406V92.9687H74.8538V100.406H78.8538ZM75.6143 103.646C77.4031 103.646 78.8538 102.195 78.8538 100.406H74.8538C74.8538 99.9859 75.1939 99.6458 75.6143 99.6458V103.646ZM43.3851 103.646H75.6143V99.6458H43.3851V103.646ZM40.1455 100.406C40.1455 102.195 41.5963 103.646 43.3851 103.646V99.6458C43.8054 99.6458 44.1455 99.9859 44.1455 100.406H40.1455ZM40.1455 92.9687V100.406H44.1455V92.9687H40.1455ZM38.4268 91.25C39.3749 91.25 40.1455 92.0205 40.1455 92.9687H44.1455C44.1455 89.8114 41.5841 87.25 38.4268 87.25V91.25ZM36.708 92.9687C36.708 92.0205 37.4786 91.25 38.4268 91.25V87.25C35.2694 87.25 32.708 89.8114 32.708 92.9687H36.708ZM36.708 100.406V92.9687H32.708V100.406H36.708ZM43.3851 107.083C39.7049 107.083 36.708 104.086 36.708 100.406H32.708C32.708 106.296 37.4957 111.083 43.3851 111.083V107.083Z",fill:t.background,mask:"url(#path-1-inside-1)"}))};Ii.displayName="DropZone svg";var Ti=function(t){return _i("svg",{css:t.style,width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 84.3328H88.6005C105.365 84.3328 119 70.8363 119 54.2506C119 39.0484 107.561 26.36 92.587 24.4709C86.0767 12.5758 73.3238 4.99951 59.5 4.99951C41.9227 4.99951 26.6808 17.2218 22.8232 33.9016C10.0158 35.2503 0 46.0148 0 59.0453C0 72.9882 11.4637 84.3328 25.5453 84.3328H35.9479C38.0007 84.3328 39.6667 82.6668 39.6667 80.6141C39.6667 78.5613 38.0007 76.8953 35.9479 76.8953H25.5453C15.5642 76.8953 7.4375 68.8876 7.4375 59.0453C7.4375 49.2031 15.5593 41.1953 25.9321 41.1953C27.7865 41.1953 29.3533 39.8318 29.6161 38.0022C31.6986 23.4296 44.5457 12.437 59.5 12.437C71.1917 12.437 81.9265 19.1655 86.8353 29.573C87.4204 30.8076 88.6352 31.6258 89.9987 31.7001C102.092 32.3596 111.562 42.2663 111.562 54.2506C111.562 66.7357 101.264 76.8953 88.6005 76.8953H82.9727C80.92 76.8953 79.254 78.5613 79.254 80.6141C79.254 82.6668 80.92 84.3328 82.9727 84.3328ZM43.3851 114.083H75.6143C80.3991 114.083 84.2914 110.191 84.2914 105.406V97.9682C84.2914 95.9155 82.6254 94.2495 80.5726 94.2495C78.5198 94.2495 76.8538 95.9155 76.8538 97.9682V105.406C76.8538 106.09 76.2985 106.645 75.6143 106.645H43.3851C42.7008 106.645 42.1455 106.09 42.1455 105.406V97.9682C42.1455 95.9155 40.4795 94.2495 38.4268 94.2495C36.374 94.2495 34.708 95.9155 34.708 97.9682V105.406C34.708 110.191 38.6003 114.083 43.3851 114.083Z"}),_i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 84.3328H88.6005C105.365 84.3328 119 70.8363 119 54.2506C119 39.0484 107.561 26.36 92.587 24.4709C86.0767 12.5758 73.3238 4.99951 59.5 4.99951C41.9227 4.99951 26.6808 17.2218 22.8232 33.9016C10.0158 35.2503 0 46.0148 0 59.0453C0 72.9882 11.4637 84.3328 25.5453 84.3328H35.9479C38.0007 84.3328 39.6667 82.6668 39.6667 80.6141C39.6667 78.5613 38.0007 76.8953 35.9479 76.8953H25.5453C15.5642 76.8953 7.4375 68.8876 7.4375 59.0453C7.4375 49.2031 15.5593 41.1953 25.9321 41.1953C27.7865 41.1953 29.3533 39.8318 29.6161 38.0022C31.6986 23.4296 44.5457 12.437 59.5 12.437C71.1917 12.437 81.9265 19.1655 86.8353 29.573C87.4204 30.8076 88.6352 31.6258 89.9987 31.7001C102.092 32.3596 111.562 42.2663 111.562 54.2506C111.562 66.7357 101.264 76.8953 88.6005 76.8953H82.9727C80.92 76.8953 79.254 78.5613 79.254 80.6141C79.254 82.6668 80.92 84.3328 82.9727 84.3328ZM43.3851 114.083H75.6143C80.3991 114.083 84.2914 110.191 84.2914 105.406V97.9682C84.2914 95.9155 82.6254 94.2495 80.5726 94.2495C78.5198 94.2495 76.8538 95.9155 76.8538 97.9682V105.406C76.8538 106.09 76.2985 106.645 75.6143 106.645H43.3851C42.7008 106.645 42.1455 106.09 42.1455 105.406V97.9682C42.1455 95.9155 40.4795 94.2495 38.4268 94.2495C36.374 94.2495 34.708 95.9155 34.708 97.9682V105.406C34.708 110.191 38.6003 114.083 43.3851 114.083Z",fill:"#FC2D81"}),_i("path",{d:"M92.587 24.4709L90.8325 25.4311L91.323 26.3273L92.3366 26.4552L92.587 24.4709ZM22.8232 33.9016L23.0327 35.8906L24.4505 35.7413L24.7718 34.3523L22.8232 33.9016ZM29.6161 38.0022L31.5958 38.2865L31.596 38.2851L29.6161 38.0022ZM86.8353 29.573L85.0264 30.4262L85.028 30.4295L86.8353 29.573ZM89.9987 31.7001L89.8898 33.6972H89.8898L89.9987 31.7001ZM88.6005 82.3328H82.9727V86.3328H88.6005V82.3328ZM117 54.2506C117 69.7121 104.28 82.3328 88.6005 82.3328V86.3328C106.449 86.3328 121 71.9604 121 54.2506H117ZM92.3366 26.4552C106.33 28.2205 117 40.0751 117 54.2506H121C121 38.0217 108.792 24.4995 92.8373 22.4866L92.3366 26.4552ZM59.5 6.99951C72.599 6.99951 84.676 14.1824 90.8325 25.4311L94.3414 23.5107C87.4773 10.9692 74.0487 2.99951 59.5 2.99951V6.99951ZM24.7718 34.3523C28.4182 18.5856 42.8473 6.99951 59.5 6.99951V2.99951C40.9981 2.99951 24.9434 15.858 20.8746 33.451L24.7718 34.3523ZM2 59.0453C2 47.0663 11.215 37.1351 23.0327 35.8906L22.6138 31.9126C8.81664 33.3655 -2 44.9633 -2 59.0453H2ZM25.5453 82.3328C12.5489 82.3328 2 71.8644 2 59.0453H-2C-2 74.112 10.3784 86.3328 25.5453 86.3328V82.3328ZM35.9479 82.3328H25.5453V86.3328H35.9479V82.3328ZM37.6667 80.6141C37.6667 81.5623 36.8961 82.3328 35.9479 82.3328V86.3328C39.1052 86.3328 41.6667 83.7714 41.6667 80.6141H37.6667ZM35.9479 78.8953C36.8961 78.8953 37.6667 79.6659 37.6667 80.6141H41.6667C41.6667 77.4568 39.1052 74.8953 35.9479 74.8953V78.8953ZM25.5453 78.8953H35.9479V74.8953H25.5453V78.8953ZM5.4375 59.0453C5.4375 70.0194 14.487 78.8953 25.5453 78.8953V74.8953C16.6414 74.8953 9.4375 67.7559 9.4375 59.0453H5.4375ZM25.9321 39.1953C14.5096 39.1953 5.4375 48.0444 5.4375 59.0453H9.4375C9.4375 50.3617 16.6089 43.1953 25.9321 43.1953V39.1953ZM27.6364 37.7178C27.5147 38.5652 26.7894 39.1953 25.9321 39.1953V43.1953C28.7836 43.1953 31.1919 41.0984 31.5958 38.2865L27.6364 37.7178ZM59.5 10.437C43.5742 10.437 29.8629 22.138 27.6362 37.7192L31.596 38.2851C33.5344 24.7212 45.5171 14.437 59.5 14.437V10.437ZM88.6442 28.7198C83.3984 17.5976 71.9496 10.437 59.5 10.437V14.437C70.4339 14.437 80.4547 20.7333 85.0264 30.4262L88.6442 28.7198ZM90.1076 29.7031C89.479 29.6688 88.9146 29.2905 88.6426 28.7165L85.028 30.4295C85.9261 32.3247 87.7913 33.5827 89.8898 33.6972L90.1076 29.7031ZM113.562 54.2506C113.562 41.1864 103.244 30.4194 90.1076 29.7031L89.8898 33.6972C100.94 34.2998 109.562 43.3463 109.562 54.2506H113.562ZM88.6005 78.8953C102.342 78.8953 113.562 67.8662 113.562 54.2506H109.562C109.562 65.6052 100.186 74.8953 88.6005 74.8953V78.8953ZM82.9727 78.8953H88.6005V74.8953H82.9727V78.8953ZM81.254 80.6141C81.254 79.6659 82.0246 78.8953 82.9727 78.8953V74.8953C79.8154 74.8953 77.254 77.4568 77.254 80.6141H81.254ZM82.9727 82.3328C82.0246 82.3328 81.254 81.5623 81.254 80.6141H77.254C77.254 83.7714 79.8154 86.3328 82.9727 86.3328V82.3328ZM75.6143 112.083H43.3851V116.083H75.6143V112.083ZM82.2914 105.406C82.2914 109.086 79.2945 112.083 75.6143 112.083V116.083C81.5036 116.083 86.2914 111.295 86.2914 105.406H82.2914ZM82.2914 97.9682V105.406H86.2914V97.9682H82.2914ZM80.5726 96.2495C81.5208 96.2495 82.2914 97.0201 82.2914 97.9682H86.2914C86.2914 94.8109 83.7299 92.2495 80.5726 92.2495V96.2495ZM78.8538 97.9682C78.8538 97.0201 79.6244 96.2495 80.5726 96.2495V92.2495C77.4153 92.2495 74.8538 94.8109 74.8538 97.9682H78.8538ZM78.8538 105.406V97.9682H74.8538V105.406H78.8538ZM75.6143 108.645C77.4031 108.645 78.8538 107.195 78.8538 105.406H74.8538C74.8538 104.985 75.1939 104.645 75.6143 104.645V108.645ZM43.3851 108.645H75.6143V104.645H43.3851V108.645ZM40.1455 105.406C40.1455 107.195 41.5963 108.645 43.3851 108.645V104.645C43.8054 104.645 44.1455 104.985 44.1455 105.406H40.1455ZM40.1455 97.9682V105.406H44.1455V97.9682H40.1455ZM38.4268 96.2495C39.3749 96.2495 40.1455 97.0201 40.1455 97.9682H44.1455C44.1455 94.8109 41.5841 92.2495 38.4268 92.2495V96.2495ZM36.708 97.9682C36.708 97.0201 37.4786 96.2495 38.4268 96.2495V92.2495C35.2694 92.2495 32.708 94.8109 32.708 97.9682H36.708ZM36.708 105.406V97.9682H32.708V105.406H36.708ZM43.3851 112.083C39.7049 112.083 36.708 109.086 36.708 105.406H32.708C32.708 111.295 37.4957 116.083 43.3851 116.083V112.083Z",fill:t.background,mask:"url(#path-1-inside-1)"}),_i("path",{d:"M59.5 94.9995V58.4995M59.5 58.4995L48.5 69.4995M59.5 58.4995L70.5 69.4995M59.5 58.4995L48.5 47.4995M59.5 58.4995L70.5 47.4995",stroke:"#FC2D81","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}),_i("path",{d:"M59.5 94.9995V58.4995",stroke:"#FC2D81","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}))};Ti.displayName="DropZoneError svg";var Si=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),i.createElement("path",{opacity:"0.8",d:"M15.666 32.46C15.666 31.2035 16.0029 30.235 16.6768 29.5547C17.2627 28.9622 18.0081 28.666 18.9131 28.666C20.124 28.666 21.0094 29.0632 21.5693 29.8574C21.8786 30.3034 22.0446 30.751 22.0674 31.2002H20.5635C20.4658 30.8551 20.3405 30.5947 20.1875 30.4189C19.9141 30.1064 19.5088 29.9502 18.9717 29.9502C18.4248 29.9502 17.9935 30.1715 17.6777 30.6143C17.362 31.0537 17.2041 31.6771 17.2041 32.4844C17.2041 33.2917 17.3701 33.8971 17.7021 34.3008C18.0374 34.7012 18.4622 34.9014 18.9766 34.9014C19.5039 34.9014 19.9059 34.7288 20.1826 34.3838C20.3356 34.1982 20.4626 33.9199 20.5635 33.5488H22.0527C21.9225 34.3333 21.5889 34.9714 21.0518 35.4629C20.5179 35.9544 19.8327 36.2002 18.9961 36.2002C17.9609 36.2002 17.1471 35.8682 16.5547 35.2041C15.9622 34.5368 15.666 33.6221 15.666 32.46ZM24.2939 33.7783C24.3395 34.1071 24.429 34.3529 24.5625 34.5156C24.8066 34.8118 25.2249 34.96 25.8174 34.96C26.1722 34.96 26.4603 34.9209 26.6816 34.8428C27.1016 34.693 27.3115 34.4147 27.3115 34.0078C27.3115 33.7702 27.2074 33.5863 26.999 33.4561C26.7907 33.3291 26.4635 33.2168 26.0176 33.1191L25.2559 32.9482C24.5072 32.779 23.9896 32.5951 23.7031 32.3965C23.2181 32.0645 22.9756 31.5452 22.9756 30.8389C22.9756 30.1943 23.21 29.6589 23.6787 29.2324C24.1475 28.806 24.8359 28.5928 25.7441 28.5928C26.5026 28.5928 27.1488 28.7946 27.6826 29.1982C28.2197 29.5986 28.5013 30.1813 28.5273 30.9463H27.082C27.056 30.5133 26.8672 30.2057 26.5156 30.0234C26.2812 29.903 25.9899 29.8428 25.6416 29.8428C25.2542 29.8428 24.945 29.9209 24.7139 30.0771C24.4827 30.2334 24.3672 30.4515 24.3672 30.7314C24.3672 30.9886 24.4811 31.1807 24.709 31.3076C24.8555 31.3923 25.168 31.4915 25.6465 31.6055L26.8867 31.9033C27.4303 32.0335 27.8405 32.2077 28.1172 32.4258C28.5469 32.7643 28.7617 33.2542 28.7617 33.8955C28.7617 34.5531 28.5094 35.0999 28.0049 35.5361C27.5036 35.9691 26.7939 36.1855 25.876 36.1855C24.9385 36.1855 24.2012 35.9723 23.6641 35.5459C23.127 35.1162 22.8584 34.527 22.8584 33.7783H24.2939ZM30.9639 33.7783C31.0094 34.1071 31.099 34.3529 31.2324 34.5156C31.4766 34.8118 31.8949 34.96 32.4873 34.96C32.8421 34.96 33.1302 34.9209 33.3516 34.8428C33.7715 34.693 33.9814 34.4147 33.9814 34.0078C33.9814 33.7702 33.8773 33.5863 33.6689 33.4561C33.4606 33.3291 33.1335 33.2168 32.6875 33.1191L31.9258 32.9482C31.1771 32.779 30.6595 32.5951 30.373 32.3965C29.888 32.0645 29.6455 31.5452 29.6455 30.8389C29.6455 30.1943 29.8799 29.6589 30.3486 29.2324C30.8174 28.806 31.5059 28.5928 32.4141 28.5928C33.1725 28.5928 33.8187 28.7946 34.3525 29.1982C34.8896 29.5986 35.1712 30.1813 35.1973 30.9463H33.752C33.7259 30.5133 33.5371 30.2057 33.1855 30.0234C32.9512 29.903 32.6598 29.8428 32.3115 29.8428C31.9242 29.8428 31.6149 29.9209 31.3838 30.0771C31.1527 30.2334 31.0371 30.4515 31.0371 30.7314C31.0371 30.9886 31.151 31.1807 31.3789 31.3076C31.5254 31.3923 31.8379 31.4915 32.3164 31.6055L33.5566 31.9033C34.1003 32.0335 34.5104 32.2077 34.7871 32.4258C35.2168 32.7643 35.4316 33.2542 35.4316 33.8955C35.4316 34.5531 35.1794 35.0999 34.6748 35.5361C34.1735 35.9691 33.4639 36.1855 32.5459 36.1855C31.6084 36.1855 30.8711 35.9723 30.334 35.5459C29.7969 35.1162 29.5283 34.527 29.5283 33.7783H30.9639Z",fill:"white"}))};Si.displayName="FileCSS svg";var ki=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}))};ki.displayName="FileDefault svg";var xi=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#D65A34"}),i.createElement("path",{opacity:"0.8",d:"M19.8145 31.0928C19.8145 30.7184 19.7152 30.4515 19.5166 30.292C19.3213 30.1325 19.0462 30.0527 18.6914 30.0527H17.29V32.1719H18.6914C19.0462 32.1719 19.3213 32.0856 19.5166 31.9131C19.7152 31.7406 19.8145 31.4671 19.8145 31.0928ZM21.3037 31.083C21.3037 31.9326 21.0889 32.5332 20.6592 32.8848C20.2295 33.2363 19.6159 33.4121 18.8184 33.4121H17.29V36H15.7959V28.8027H18.9307C19.6533 28.8027 20.2295 28.9883 20.6592 29.3594C21.0889 29.7305 21.3037 30.305 21.3037 31.083ZM23.8916 30.0527V34.75H25.2783C25.988 34.75 26.4827 34.4001 26.7627 33.7002C26.9157 33.3161 26.9922 32.8587 26.9922 32.3281C26.9922 31.5957 26.8766 31.0342 26.6455 30.6436C26.4176 30.2497 25.9619 30.0527 25.2783 30.0527H23.8916ZM25.5322 28.8027C25.9782 28.8092 26.3493 28.8613 26.6455 28.959C27.1501 29.125 27.5586 29.4294 27.8711 29.8721C28.1217 30.2301 28.2926 30.6175 28.3838 31.0342C28.4749 31.4508 28.5205 31.848 28.5205 32.2256C28.5205 33.1826 28.3285 33.9932 27.9443 34.6572C27.4235 35.5524 26.6195 36 25.5322 36H22.4316V28.8027H25.5322ZM29.6582 28.8125H34.7607V30.0771H31.1523V31.7324H34.3115V32.9824H31.1523V36H29.6582V28.8125Z",fill:"white"}))};xi.displayName="FilePDF svg";var Ai=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),i.createElement("path",{opacity:"0.8",d:"M20.0879 31.0928C20.0879 30.7184 19.9886 30.4515 19.79 30.292C19.5947 30.1325 19.3197 30.0527 18.9648 30.0527H17.5635V32.1719H18.9648C19.3197 32.1719 19.5947 32.0856 19.79 31.9131C19.9886 31.7406 20.0879 31.4671 20.0879 31.0928ZM21.5771 31.083C21.5771 31.9326 21.3623 32.5332 20.9326 32.8848C20.5029 33.2363 19.8893 33.4121 19.0918 33.4121H17.5635V36H16.0693V28.8027H19.2041C19.9268 28.8027 20.5029 28.9883 20.9326 29.3594C21.3623 29.7305 21.5771 30.305 21.5771 31.083ZM26.7578 31.0928C26.7578 30.7184 26.6585 30.4515 26.46 30.292C26.2646 30.1325 25.9896 30.0527 25.6348 30.0527H24.2334V32.1719H25.6348C25.9896 32.1719 26.2646 32.0856 26.46 31.9131C26.6585 31.7406 26.7578 31.4671 26.7578 31.0928ZM28.2471 31.083C28.2471 31.9326 28.0322 32.5332 27.6025 32.8848C27.1729 33.2363 26.5592 33.4121 25.7617 33.4121H24.2334V36H22.7393V28.8027H25.874C26.5967 28.8027 27.1729 28.9883 27.6025 29.3594C28.0322 29.7305 28.2471 30.305 28.2471 31.083ZM34.6045 28.8027V30.0771H32.4512V36H30.9375V30.0771H28.7744V28.8027H34.6045Z",fill:"white"}))};Ai.displayName="FilePPT svg";var Ni=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),i.createElement("path",{opacity:"0.8",d:"M20.0312 31.0928C20.0312 30.7184 19.932 30.4515 19.7334 30.292C19.5381 30.1325 19.263 30.0527 18.9082 30.0527H17.5068V32.1719H18.9082C19.263 32.1719 19.5381 32.0856 19.7334 31.9131C19.932 31.7406 20.0312 31.4671 20.0312 31.0928ZM21.5205 31.083C21.5205 31.9326 21.3057 32.5332 20.876 32.8848C20.4463 33.2363 19.8327 33.4121 19.0352 33.4121H17.5068V36H16.0127V28.8027H19.1475C19.8701 28.8027 20.4463 28.9883 20.876 29.3594C21.3057 29.7305 21.5205 30.305 21.5205 31.083ZM23.7373 33.7783C23.7829 34.1071 23.8724 34.3529 24.0059 34.5156C24.25 34.8118 24.6683 34.96 25.2607 34.96C25.6156 34.96 25.9036 34.9209 26.125 34.8428C26.5449 34.693 26.7549 34.4147 26.7549 34.0078C26.7549 33.7702 26.6507 33.5863 26.4424 33.4561C26.234 33.3291 25.9069 33.2168 25.4609 33.1191L24.6992 32.9482C23.9505 32.779 23.4329 32.5951 23.1465 32.3965C22.6615 32.0645 22.4189 31.5452 22.4189 30.8389C22.4189 30.1943 22.6533 29.6589 23.1221 29.2324C23.5908 28.806 24.2793 28.5928 25.1875 28.5928C25.946 28.5928 26.5921 28.7946 27.126 29.1982C27.6631 29.5986 27.9447 30.1813 27.9707 30.9463H26.5254C26.4993 30.5133 26.3105 30.2057 25.959 30.0234C25.7246 29.903 25.4333 29.8428 25.085 29.8428C24.6976 29.8428 24.3883 29.9209 24.1572 30.0771C23.9261 30.2334 23.8105 30.4515 23.8105 30.7314C23.8105 30.9886 23.9245 31.1807 24.1523 31.3076C24.2988 31.3923 24.6113 31.4915 25.0898 31.6055L26.3301 31.9033C26.8737 32.0335 27.2839 32.2077 27.5605 32.4258C27.9902 32.7643 28.2051 33.2542 28.2051 33.8955C28.2051 34.5531 27.9528 35.0999 27.4482 35.5361C26.9469 35.9691 26.2373 36.1855 25.3193 36.1855C24.3818 36.1855 23.6445 35.9723 23.1074 35.5459C22.5703 35.1162 22.3018 34.527 22.3018 33.7783H23.7373ZM30.7783 30.0527V34.75H32.165C32.8747 34.75 33.3695 34.4001 33.6494 33.7002C33.8024 33.3161 33.8789 32.8587 33.8789 32.3281C33.8789 31.5957 33.7633 31.0342 33.5322 30.6436C33.3044 30.2497 32.8486 30.0527 32.165 30.0527H30.7783ZM32.4189 28.8027C32.8649 28.8092 33.236 28.8613 33.5322 28.959C34.0368 29.125 34.4453 29.4294 34.7578 29.8721C35.0085 30.2301 35.1794 30.6175 35.2705 31.0342C35.3617 31.4508 35.4072 31.848 35.4072 32.2256C35.4072 33.1826 35.2152 33.9932 34.8311 34.6572C34.3102 35.5524 33.5062 36 32.4189 36H29.3184V28.8027H32.4189Z",fill:"white"}))};Ni.displayName="FilePSD svg";var Oi=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),i.createElement("path",{opacity:"0.8",d:"M16.2891 33.7783C16.3346 34.1071 16.4242 34.3529 16.5576 34.5156C16.8018 34.8118 17.2201 34.96 17.8125 34.96C18.1673 34.96 18.4554 34.9209 18.6768 34.8428C19.0967 34.693 19.3066 34.4147 19.3066 34.0078C19.3066 33.7702 19.2025 33.5863 18.9941 33.4561C18.7858 33.3291 18.4587 33.2168 18.0127 33.1191L17.251 32.9482C16.5023 32.779 15.9847 32.5951 15.6982 32.3965C15.2132 32.0645 14.9707 31.5452 14.9707 30.8389C14.9707 30.1943 15.2051 29.6589 15.6738 29.2324C16.1426 28.806 16.8311 28.5928 17.7393 28.5928C18.4977 28.5928 19.1439 28.7946 19.6777 29.1982C20.2148 29.5986 20.4964 30.1813 20.5225 30.9463H19.0771C19.0511 30.5133 18.8623 30.2057 18.5107 30.0234C18.2764 29.903 17.985 29.8428 17.6367 29.8428C17.2493 29.8428 16.9401 29.9209 16.709 30.0771C16.4779 30.2334 16.3623 30.4515 16.3623 30.7314C16.3623 30.9886 16.4762 31.1807 16.7041 31.3076C16.8506 31.3923 17.1631 31.4915 17.6416 31.6055L18.8818 31.9033C19.4255 32.0335 19.8356 32.2077 20.1123 32.4258C20.542 32.7643 20.7568 33.2542 20.7568 33.8955C20.7568 34.5531 20.5046 35.0999 20 35.5361C19.4987 35.9691 18.7891 36.1855 17.8711 36.1855C16.9336 36.1855 16.1963 35.9723 15.6592 35.5459C15.1221 35.1162 14.8535 34.527 14.8535 33.7783H16.2891ZM26.084 28.8027H27.6465L25.1904 36H23.7695L21.3379 28.8027H22.9443L24.5068 34.2666L26.084 28.8027ZM33.3789 31.0488C33.265 30.5573 32.9867 30.2139 32.5439 30.0186C32.2965 29.9111 32.0215 29.8574 31.7188 29.8574C31.1393 29.8574 30.6624 30.0771 30.2881 30.5166C29.917 30.9528 29.7314 31.6104 29.7314 32.4893C29.7314 33.3747 29.9333 34.0013 30.3369 34.3691C30.7406 34.737 31.1995 34.9209 31.7139 34.9209C32.2184 34.9209 32.6318 34.776 32.9541 34.4863C33.2764 34.1934 33.4749 33.8109 33.5498 33.3389H31.8848V32.1377H34.8828V36H33.8867L33.7354 35.1016C33.4456 35.4434 33.1852 35.6842 32.9541 35.8242C32.557 36.0684 32.0687 36.1904 31.4893 36.1904C30.5355 36.1904 29.7542 35.86 29.1455 35.1992C28.5107 34.5352 28.1934 33.627 28.1934 32.4746C28.1934 31.3092 28.514 30.375 29.1553 29.6719C29.7965 28.9688 30.6445 28.6172 31.6992 28.6172C32.6139 28.6172 33.348 28.8499 33.9014 29.3154C34.458 29.7777 34.777 30.3555 34.8584 31.0488H33.3789Z",fill:"white"}))};Oi.displayName="FileSVG svg";var Ri=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#44C4A1"}),i.createElement("path",{opacity:"0.8",d:"M17.1826 36H15.4346L17.749 32.333L15.5469 28.8027H17.3438L18.6279 31.1416L19.9463 28.8027H21.6846L19.4824 32.2744L21.8213 36H19.9951L18.6279 33.5488L17.1826 36ZM22.7051 28.8027H24.209V34.7061H27.7734V36H22.7051V28.8027ZM29.9072 33.7783C29.9528 34.1071 30.0423 34.3529 30.1758 34.5156C30.4199 34.8118 30.8382 34.96 31.4307 34.96C31.7855 34.96 32.0736 34.9209 32.2949 34.8428C32.7148 34.693 32.9248 34.4147 32.9248 34.0078C32.9248 33.7702 32.8206 33.5863 32.6123 33.4561C32.404 33.3291 32.0768 33.2168 31.6309 33.1191L30.8691 32.9482C30.1204 32.779 29.6029 32.5951 29.3164 32.3965C28.8314 32.0645 28.5889 31.5452 28.5889 30.8389C28.5889 30.1943 28.8232 29.6589 29.292 29.2324C29.7607 28.806 30.4492 28.5928 31.3574 28.5928C32.1159 28.5928 32.762 28.7946 33.2959 29.1982C33.833 29.5986 34.1146 30.1813 34.1406 30.9463H32.6953C32.6693 30.5133 32.4805 30.2057 32.1289 30.0234C31.8945 29.903 31.6032 29.8428 31.2549 29.8428C30.8675 29.8428 30.5583 29.9209 30.3271 30.0771C30.096 30.2334 29.9805 30.4515 29.9805 30.7314C29.9805 30.9886 30.0944 31.1807 30.3223 31.3076C30.4688 31.3923 30.7812 31.4915 31.2598 31.6055L32.5 31.9033C33.0436 32.0335 33.4538 32.2077 33.7305 32.4258C34.1602 32.7643 34.375 33.2542 34.375 33.8955C34.375 34.5531 34.1227 35.0999 33.6182 35.5361C33.1169 35.9691 32.4072 36.1855 31.4893 36.1855C30.5518 36.1855 29.8145 35.9723 29.2773 35.5459C28.7402 35.1162 28.4717 34.527 28.4717 33.7783H29.9072Z",fill:"white"}))};Ri.displayName="FileXLS svg";var Di=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#E3D12F"}),i.createElement("path",{opacity:"0.8",d:"M17.4707 34.7305L21.1865 30.0771H17.5635V28.8027H23.0615V30.0088L19.2969 34.7305H23.0713V36H17.4707V34.7305ZM25.4688 36H23.9746V28.8027H25.4688V36ZM30.9277 31.0928C30.9277 30.7184 30.8285 30.4515 30.6299 30.292C30.4346 30.1325 30.1595 30.0527 29.8047 30.0527H28.4033V32.1719H29.8047C30.1595 32.1719 30.4346 32.0856 30.6299 31.9131C30.8285 31.7406 30.9277 31.4671 30.9277 31.0928ZM32.417 31.083C32.417 31.9326 32.2021 32.5332 31.7725 32.8848C31.3428 33.2363 30.7292 33.4121 29.9316 33.4121H28.4033V36H26.9092V28.8027H30.0439C30.7666 28.8027 31.3428 28.9883 31.7725 29.3594C32.2021 29.7305 32.417 30.305 32.417 31.083Z",fill:"white"}),i.createElement("path",{d:"M25 0H22V3.57147H25V0Z",fill:"#64798A"}),i.createElement("path",{d:"M28 3.57147H25V7.14294H28V3.57147Z",fill:"#64798A"}),i.createElement("path",{d:"M25 7.14301H22V10.7145H25V7.14301Z",fill:"#64798A"}),i.createElement("path",{d:"M28 10.7145H25V14.2859H28V10.7145Z",fill:"#64798A"}),i.createElement("path",{d:"M25 14.2875H22V17.859H25V14.2875Z",fill:"#64798A"}),i.createElement("path",{d:"M25 21.4285H22V25H25V21.4285Z",fill:"#64798A"}),i.createElement("path",{d:"M28 17.8571H25V21.4285H28V17.8571Z",fill:"#64798A"}))};Di.displayName="FileZIP svg";var Pi=function(){return i.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},i.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),i.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),i.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),i.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#27A2DB"}),i.createElement("path",{opacity:"0.8",d:"M16.6035 30.0527V34.75H17.9902C18.6999 34.75 19.1947 34.4001 19.4746 33.7002C19.6276 33.3161 19.7041 32.8587 19.7041 32.3281C19.7041 31.5957 19.5885 31.0342 19.3574 30.6436C19.1296 30.2497 18.6738 30.0527 17.9902 30.0527H16.6035ZM18.2441 28.8027C18.6901 28.8092 19.0612 28.8613 19.3574 28.959C19.862 29.125 20.2705 29.4294 20.583 29.8721C20.8337 30.2301 21.0046 30.6175 21.0957 31.0342C21.1868 31.4508 21.2324 31.848 21.2324 32.2256C21.2324 33.1826 21.0404 33.9932 20.6562 34.6572C20.1354 35.5524 19.3314 36 18.2441 36H15.1436V28.8027H18.2441ZM25.5537 34.9258C26.1494 34.9258 26.6214 34.7061 26.9697 34.2666C27.3213 33.8271 27.4971 33.2021 27.4971 32.3916C27.4971 31.5843 27.3213 30.9609 26.9697 30.5215C26.6214 30.0788 26.1494 29.8574 25.5537 29.8574C24.958 29.8574 24.4827 30.0771 24.1279 30.5166C23.7731 30.9561 23.5957 31.5811 23.5957 32.3916C23.5957 33.2021 23.7731 33.8271 24.1279 34.2666C24.4827 34.7061 24.958 34.9258 25.5537 34.9258ZM29.001 32.3916C29.001 33.6839 28.638 34.6735 27.9121 35.3604C27.3685 35.9202 26.5824 36.2002 25.5537 36.2002C24.5251 36.2002 23.7389 35.9202 23.1953 35.3604C22.4661 34.6735 22.1016 33.6839 22.1016 32.3916C22.1016 31.0732 22.4661 30.0837 23.1953 29.4229C23.7389 28.863 24.5251 28.583 25.5537 28.583C26.5824 28.583 27.3685 28.863 27.9121 29.4229C28.638 30.0837 29.001 31.0732 29.001 32.3916ZM29.8408 32.46C29.8408 31.2035 30.1777 30.235 30.8516 29.5547C31.4375 28.9622 32.1829 28.666 33.0879 28.666C34.2988 28.666 35.1842 29.0632 35.7441 29.8574C36.0534 30.3034 36.2194 30.751 36.2422 31.2002H34.7383C34.6406 30.8551 34.5153 30.5947 34.3623 30.4189C34.0889 30.1064 33.6836 29.9502 33.1465 29.9502C32.5996 29.9502 32.1683 30.1715 31.8525 30.6143C31.5368 31.0537 31.3789 31.6771 31.3789 32.4844C31.3789 33.2917 31.5449 33.8971 31.877 34.3008C32.2122 34.7012 32.637 34.9014 33.1514 34.9014C33.6787 34.9014 34.0807 34.7288 34.3574 34.3838C34.5104 34.1982 34.6374 33.9199 34.7383 33.5488H36.2275C36.0973 34.3333 35.7637 34.9714 35.2266 35.4629C34.6927 35.9544 34.0075 36.2002 33.1709 36.2002C32.1357 36.2002 31.3219 35.8682 30.7295 35.2041C30.137 34.5368 29.8408 33.6221 29.8408 32.46Z",fill:"white"}))};Pi.displayName="FileDOC svg";var Mi={media:{avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURQAAALgfhZAVfD2No5Rvm7cfhEyetJsXfY9gnZ4Zf4qws4cSeWOhucMghYYSecUihn0Rd4gTemyvxsEhhmmlvchKk3YOdL8hhkOXre/En2amvsEghT+QprsghuzDpUCTqE+UqkmdslujupIXfbEfhrugu1SkupQWfcEiiIcSeW0KccWfybIghqYcg20KccQhhr6UxEeQpk+ovbgeg3MMc2wOc152o+/En8DL13YNdG0KccDQ7e/Foagbgu/FoaXG4LDM51xMj59EjLwfg+/FobZxiGeHsJ5TmZEWfe/FoTmHncXd9m0KceuwgbDM58MkiU+ovcIli4kTeoIReMUghcQjiHAMc8Qih4ARd0YIO34Qd+/EoO/DoHIMc+7Bn3UNdGcJcLsjie6+nsUiho0Ve2oKcW4LcsQihoUSeYYSecAkirkiiI8VfLIghu67nHYNdLUhh3oPdnsPdoQSeHkOda8fhb4kiosUe7chiHcOdaccg6MbgqsdhJMWfe65m58agO21mjyKoO2xmHgOdWwKce2uluyplGgJcJYXfv///+23muyslcPa8+uxhEies02lukGUqu20iO25jpkZf4Emfe68lEGMo5wZgK/K5qRkp+Kgm08PRL4jiO7AmZ3F3pO/2EoIQeSkgr1eiHMUddKek4lAk7jU7qI6fJEwe9N3lKScy8eRjoROY3kceMc4jIgTeuu7n+WuneLEsZ2GvdqVmH4uhqEog1gJVIW7069oiZZ3tOG0mdqpl+a5nHI7WtzP22YtVIgdeUiAoOuje6TJ44RWntaFlYEXeq9Jgaq42/TTv5ZEgHhHcfjz9cDG4M1/gFytw323zqqq06/F47C43LiEur2JgptMm1Vtnc5dk3GmwFibta0zhZoxjL19jrI/mLM0jszHyvHHtKBShJVicWWxx1WqwN2WgHK2zcRvgdmOgdm+149trMW8sF+PsqZzdefZ56F8k82qznBGj2ZalWE+iY9fpW11qPno3FkfS2IKYuzk7MVwr2UkfFcbRWwPb0HLKx8AAABJdFJOUwBMr/QHNkIiAxESPanH4vJZ0iCvav1uh3TET57XY/i68o66k7z4ynzv7+/+7dre3P396f+YxsxrNLTQ8TzzqVfe+n31k6uBNf24v3jZAAAPl0lEQVR42u1aeVgT1xYPFBVUKkrFqq11r0sXa/ftdXvvfU2YjCObAjFolAA1wSiNCyRitFqioLLvKggoyOYCuO/7bt33vbZqtfve995dZiYzk2QyQer7x9/36QfMPef3u+eee+fcuVcme4RHeIRHeIRHaC68/Pp0HDhlysCOngFt/g/0Ps8ODAqaAjBu3DidruOzD1uD3+NBDL8O4WPPdg+z+55BmH8cy282mx+ehDYdEX9d8MRpE6ZNHFmn05kRUh6ShDYo/BFhoxlET0hA/ACerR4Sf7B2NA/Rk3SQPyUz0/PvTkcfGP+o0Xb4fJoO8gP0+VsleIP8i9OOdohZOsifm5vbx+fvE9AnKCg2erQzfGrORUj+m6Lg3ebDKTT/504QASOQDNDSM6KNXx9PmH1BddpoUXyWgPiTk5Keb7Hl0cfP8/G4uro6tPiERbuCNi4X8kO0hAbvdp6xcXEs/zTQR5cIq8vFApISE/s+2Mrg7dcxFvPjxTdCKw1hCbmYH6D7A8yJdh0TID/sfl1CxKRpUVrpGGnG/Imm55sbBJ9XEhJQ92MjZo3ShrmNqIQUyG8yvevRzHcO6n5sxATXXKOcYEJQkgkqaNWsNR/yB3866sEQNQXEwPicT/P4E1j6KCeYtXzZnihxTEw2Go193U5/EP+4CBeuoyYsK1EqlcuiJjjHNIBMoMDdNAiA3Rc6EmLS10qE5dOcYhYCUPC8mxNgYGzCLDs/Amy7hfmVJRH0Xz51hiS93r0QPAv67wwTR24D2JOwV8li70QXiDDp/d0S8HjsJMeeti07ouQiLT0dhWCSC+j0ei93pkDcSIdutvHZlcrsSLm8OA3k4aQIF0g0eLiVgo58jCwV0Ker5RDFSuUtV/wROkMXd+qeYAcugoXdz4iUY2SDiWCT6QRuLQVvOvDD4U9LA1FPy5YziExT3gp2hdzn3MlBe3s6/ukZxTjukXIOMkAWiJEnAOimurEcD7T3sRwFvVjuECowEeoSXMDgxhtpoJ117G0QdCf0OASlseKIM3m4swwIAQKQrnLKL1fDV0KcOJKelsTdthf4r6Od9RFleqRcBBlQQZ0ocp+WPdlagoCcx1rLPIXG45RpKjF+OBHAijwlSAQpHz6lkCJgoULxjJ/QeJkyWy6ObJikt5aNoz9cOMCPFkWOFAHzFQrFYz8I/HydLneFDLxGHNnbqHNE37Ad+J0vQYAXZQEtFduzeOYl9ARQ16+sVztXUFICCxTl7b3mcQKcgU4VCyQIkA1diNpafuSY61AAVpZeQHuuxAulK+3o13S+kJiUlJybfAFWKSWNOi5+QJ1SLKQ6SRDQf4ECY3sD6yAzA1BUJucm4z1XYuIFIX+ByZSIBORmpjSCNUPJUbBtO+1xPuUtQUBvaiHdXnGGcbGsWK4uRdteer9zViig/goWkAwEpKSA18Zt88cA8NPNjxbanYUaKmUh6EUxIVAocu7mn4Z+9spVezMvlO5eU1BQsGZ3ZWWBg6VoTWUlfl5Z2mgGw9AIyS/m393OeptP9Zci4AmKDUHOYpIkqzLN5lJ5qYNhd74orNl7RFlqNqesBvY7X2K8UVQvKQI6UdQCOmiQnyS/SDF/vaZA7h52l9xOQfwkucjCBIDqJmkxHkpR85HFeRJjfcpueuqpT93YvHnzjRUOV+WN96s3b66+v4FZmDJP0/bn6ClAUW0lCWhP0YOwmHaQd3ENZqguDMfYWmZHv6mafha++RTSl5a8j7bfiTOQkpYCMlk3Cg9CTh7tgFwNx38DZliC/i9cIeTfyjyC+uDTjHzGnDwP1yDg9UmJu7KhWMF51sHxlXLVfdj7wqYmTFFYuIEvYPOSpt+X2BRWb5Bnf8Han0MJQElahvBEpGAanIO2+6qOg/+/gR0Ewf1vTb9+hVhANY//VPjvWX8cOogeNeEQ9UAJjIZhLebvLbUc6UQhBcfgHFxKNAAfV+Uw/lvvECet1u9QP38P38gVsPUgkW+19kOPCKjjPxuugsiVE9r1wMvihchja6kCvH9B7UEOHq8hCKIhjzwcuem38PCrWyAL6uYSYusNDn/Zb0OIrG8P0Y9OgranIoGAXcBaC0ZiEfLXX3JB5nFxAS1gNQEBOqFSlRWG/3FISxxEJOFNRP5WjoAb/bYQBJ0eTcT3m8PvqyIPk1XI+mcwDdwLgMwzeRctoBy5aCDJHmr1qfB+1tPE5zjRPiPu3OCkYbXV2kBEo/RbEl2zpbBarVIdRwEgiCxaQG/pJenzSUn3gMVaktwzchT0sY9cpdZoTm09tCWM+LxwyZKmz4jT1i2cmfid1XpHS0Q3FRY2RRODD1bXq9VyMm8pMA2LCMZDsKCTdAHvJiWVAxOQhHuCg6cBL6vJVRpN/PSy76zfh6FeEeWHrFbbYrRpi9VqHbwUPdGe/O5GfLwGCPgC/BYFdhT7yMXA27/d2BfBVy4YhK+QgOCJBHEXCIifO2PmzGu/fpsPeBqGWA/9up/z8tn/KxD0bX7D0qz8O/tnzpgbr9H0gAk0IRgJWEtRvzwtnd8HfV78hTqKBQR/SuwiV8VPB/yz582b3ePaqmv7r8nVKrjeRkaqVKrISHmkSq2+th/g2ozZs2fOnDE9HghYj/ofHJxHfkXda3Rja9oKf+C8R+0ks5CHKFrA7Hlz5syZNxv5VzO8GjX8UaXW4BYQUIFGk7d+FLLeQ5JHz180DZO+L2qHBTTeW0yW433hLlINRwDyzwH+YYixAEALxpsWAFvYJE4/sX4kMm4gFwF+Y+gAyR/OW5kwGs+RVXhvu+uwhhUwhyMA0E6fOx3+zAiwSSwYshqr/5k8dtFk0oeGvujjpgBT4wmcBMGrr6IAz+MNgQoKAKxz49VqvgDUojJ/Hxaw7/hpI0BoaKivxK9EXowAYz65Ho1i3irOCHNyAI18PBMBOkvoFmev5KEMKidPQn7j1BEjRvhLVGAyMqhCWbC+qgwsA3PBLJg9DyQ5GgE0CyJBDmrAzygHNPQ8mYdb1BpOwgHMyjuhx76KgILu0gQ8xwq4coJcX746r+ES6iAgAADe6RGAvBAwCekxwC1AAGZMNlw5UVX+c97xy3oaRSNiYqR9qOprNDJGV6pI8sTpsOtquBLOnQGB+JGA7B070tLT03bsoEMANaIWYFjWjDHoL4MX4Rcsv94QExMzVtJ69LSegyuX9cna5cg/kDB3+nSWH9So6TsAMlAssALQYi5soak0QFy+bOAiZuzYDlK+03jpeTAka5eqoX+oATpH/PzCGK6Iavwct+g83mCPqTEhIZImY1++XaJWu0IFh1uDoFbZ8eM1mWkA+DXDpzrCmJCQECmJ6MERDWCapM2qRwQo5VD/7XYGtAS6TUHReIcoAgqkDMJztGJsZTIT2uuIgEakGvDXryy7tO76gayapTVZ11cASZwGqt1jxjtV4CslDXlGRhMoS9bJIxmA7Fu3lC4MGCzfaHsOWnQe4wwxEkPAtdEbzaDQuMSL+ApYfmSVn87Pzy+vQZVXPT0ScHA2FTkVUCQtC3y5NlONxglAAX8zVAYUDLZifE8QBzZxt0nLP5nsFCNCOrj+TOE1pggDmYwxGpMJuxiU1RBh+Xf+OPTt9/lhxAHuR7xNWUGTRRAS4vrF7M83marXJ9gr2FjDZsAB7oerDVlE8iciGBbisjbxmDyZZzJZrzehpFvH35AewPRh61QCXYbhYghxtR57DRCajNfrdYjrOv8b3YoDNUuzrm8UZqd2mKiAGFcC+trbGAxGLZ5uG8Q/zlyCkYoQFxDqYgg8HNhMNhgScLxrykT46/Gg6IDFMBGIvw68+QNA24w3ZBLMiDv9bF6WhZskDROFixPELg6NPplq4q56Ds8M1jGr48ui/ANcLAMDHJuNMdjWXYdB2JjFPv/EKTkoTTu4eB+3cmJaNJ679JcJT29UGcvZh6NCReCyHujixHDYVK6AEmV6MY9eqTzAPowQ4Xf9HujuzNTIFQDPR9Ky6QO8Ynh8rFzHPtSNcIJQXwm7oy7OrBM5/DXs0XVGRjr98xH2abJjBwO6S9qc+TgToLPxv/AvpT1K2MemGAfwl3xq6AvZHHhg/b/lJ+vqQIAy4NVBUNybAb6g+hXA342ze68BLCfXhZmmH+Qnk7XNcMCf9joInw+c4/4C9pAO7t3i8XlxrD30NP8rcBa9Li9OV9rdJOjKplEIHx3cvtHmHyLEy/hV9Ba6JNi2B/wazpOQAV/I7zBLCd92bDNuMXl04PvAy/CgALyI/hNP/uKMNPoeQzZeGNkQ8K27yJqDLgM43Y9DqR9AJ9I7tpdvcXZ2drGtGnmd0c/l95U1E638PwIldMxH7z7+wgtvvRnA3tBEA+AYPd5g7qC8aOP3lrUgQAy8uorUA13b0q1kXh5d/H19fbu35EXn1s889pTM+x+iFVFXQP6k5aknvWQtDcAOD15a/8PFYRVQABu2sAaaHaCny+Oyrr2YY8qW0mBjh/hGwKexO058yda4BTTw2RWKhccER8a1wyv5lfo38y1cgwfSIGRXWOZTFDcE9Wdh2VrLO9S8SS1YKLBqpoa2AnbQ/QUU9eUi2zK0u5YunM/Ws3+8ehMeN1kElpZezVHgoPvUzYrAqzTVys62grF2N/3HVYGpa+HphCAICqnHNV7cw91edt2n1gYCrEI1eOVwXq3bGSdjKni+86hdEB7jHYyKDMgTiv62491Owu4fJSF/YCpKPruiFSbjVdzgmDAIr3FGtr/iCZFjYzDTbdHaLuh+aiDG1fqzgBEXarWDhzE1W23BKrpB4KIv+UF41ZbYPRWK9qICFDmswA943d8ZyKKWLXP/TE1N/ZMtn1LZFhVfcYOwfRAb4hyFqIDeiI9W4ENYbN3/qsLGHziEJux8GMQ7MPBw7Vj04hvMaRK4mBOEnwh6N/IE+r23CwGMgnbEGab7Xy4K5OEs5As9iQYc/jsJf+/Mb1NxkwmChSDacfjFBLSnL1ugyRBA/EV3/+ZOvu/Aw6Dmgd2nBQQGvt05JORtQaOKYxQOwhmCCEDpn4Pdt3cpQPESPGV8hSC2o1PvtSRZIXA+ZAATb2bc+/UTNEklyUVHURD+ArUsnFXMW0JEwHvnmLceqGNeJYifYPYtgifwqUL3dj8IUQHvXsBcBAEgwDTw7kn7PveecwFvkGstrEqwzdCep47hexQVznicCUjFdxdALv4E61k2upa15BsiNweABR4oS7c2sBL94AfmFkSqmwIqaLu7Zz6Djtp0s7A3g0ROkb3hrRusoKcf3olU0Y4q3BOQylyAoT8m+uEByIHjKVamvm9T8Bp9TM2EwD0BTABW0zuq12z87/MY/wddAcu/VargAgAAAABJRU5ErkJggg==",icons:{playMessageIcon:{icon:["fas","play"],className:"",props:{}},settingsIcon:{icon:["fas","cog"],className:"",props:{}},sendMessageIcon:{icon:["fas","arrow-up"],className:"",props:{}},rateIcon:{icon:["fas","thumbs-up"],className:"",props:{}},positiveRateIcon:{icon:["fas","thumbs-up"],className:"",props:{}},negativeRateIcon:{icon:["far","thumbs-down"],className:"",props:{}},resetIcon:{icon:["fas","redo-alt"],className:"",props:{}},addFileIcon:{icon:["fas","plus"],className:"",props:{}},chevronUpIcon:{icon:["fas","chevron-up"],className:"",props:{}},chevronDownIcon:{icon:["fas","chevron-down"],className:"",props:{}},shareIcon:{icon:["fas","share-alt"],className:"",props:{}},searchIcon:{icon:["fas","search"],className:"",props:{}},searchDeactivateIcon:{icon:["fas","arrow-left"],className:"",props:{}},addStickersIcon:{icon:["fas","sticky-note"],className:"",props:{}},voiceIcon:{icon:["fas","microphone"],className:"",props:{}},closeIcon:{icon:["fas","window-minimize"],className:"",props:{}},timesIcon:{icon:["fas","times"],className:"",props:{}},closeSettingsIcon:{icon:["fas","arrow-left"],className:"",props:{}}},svg:{dropZone:Ii,dropZoneError:Ti,cssFile:Si,defaultFile:ki,docFile:Pi,pdfFile:xi,pptFile:Ai,psdFile:Ni,svgFile:Oi,xlsFile:Ri,zipFile:Di},progressLoader:{radius:35,strokeWidth:6,color:"#1b243252"}}},Li=function(t,e,n){return n?n.dispatch("setUpComponent",{componentName:t,data:e}):so.dispatch("setUpComponent",{componentName:t,data:e})},Fi=function(t,e){return e?e.get().modules.getIn(["stack",t,"config"]):so.get().modules.getIn(["stack",t,"config"])},ji={initModule:function(t,e){return l(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return h(this,(function(l){switch(l.label){case 0:r=(n=e||so).get().managment.get("common").sendInitOnOpen,i=n.get().clientConfig.get("info"),o=0,l.label=1;case 1:return o<t.length?(s=t[o],a=null===(c=Fi(s.name))||void 0===c?void 0:c.info,!n.get().messages.getIn(["history",s.name])&&n.dispatch("initModuleHistory",s.name),u=n.get().notifications.get("enabled"),n.dispatch("initModule",s),!r?[4,s.moduleDispatcher("chatInit",{moduleInfo:a,clientConfig:i})]:[3,3]):[3,7];case 2:l.sent(),l.label=3;case 3:return!r&&u?[4,s.moduleDispatcher("notificationRequest")]:[3,5];case 4:l.sent(),l.label=5;case 5:l.label=6;case 6:return o++,[3,1];case 7:return[2]}}))}))},switchModule:function(t,e){return e?e.dispatch("switchModule",t):so.dispatch("switchModule",t)},updateModule:function(t,e){return e?e.dispatch("updateModuleConfig",t):so.dispatch("updateModuleConfig",t)},getModuleConfig:Fi,sendChatInit:function(t,e){return l(void 0,void 0,void 0,(function(){var n,r,i,o,s;return h(this,(function(a){switch(a.label){case 0:return r=(n=e||so).get().clientConfig.get("info"),i=n.get().modules.getIn(["stack",t]),o=null===(s=Fi(i.name))||void 0===s?void 0:s.info,[4,i.moduleDispatcher("chatInit",{moduleInfo:o,clientConfig:r})];case 1:return a.sent(),[2]}}))}))}},Vi={modules:function(t,e,n){ji[t](e,n)}},Ui={setUpSender:function(t,e){return Li("Sender",t,e)},setUpChatIt:function(t,e){return Li("ChatIt",t,e)},setUpRate:function(t,e){return Li("Rate",t,e)},setUpHeader:function(t,e){return Li("Header",t,e)},setUpBadge:function(t,e){return Li("Badge",t,e)},setUpMessage:function(t,e){return Li("Message",t,e)},setUpDialog:function(t,e){return Li("Dialog",t,e)},blockSender:function(t,e){return e?e.dispatch("blockSender",t):so.dispatch("blockSender",t)},dialogLoading:function(t,e){return e?e.dispatch("showMsgLoad",t):so.dispatch("showMsgLoad",t)},showRate:function(t,e){return e?e.dispatch("showRate",t):so.dispatch("showRate",t)},showNotification:function(t,e){return e?e.dispatch("showNotification",t):so.dispatch("showNotification",t)},setUpCommon:function(t,e){return e?e.dispatch("setUpCommon",t):so.dispatch("setUpCommon",t)},openChat:function(t,e){var n=e||so,r=n.get().modules.get("active"),i=n.get().messages.get("history");console.log(i[r].size),t&&!i[r].size&&Vi.modules("sendChatInit",r,e),e?e.dispatch("openChat",t):so.dispatch("openChat",t)},showSettings:function(t,e){return e?e.dispatch("showSettings"):so.dispatch("showSettings")},toggleDisplayMessageTime:function(t){return t?t.dispatch("toggleDisplayMessageTime"):so.dispatch("toggleDisplayMessageTime")},toggleSearchActiveStatus:function(t,e){return e?e.dispatch("toggleSearchActiveStatus",t):so.dispatch("toggleSearchActiveStatus",t)},changeSearchValue:function(t,e){return e?e.dispatch("changeSearchValue",t):so.dispatch("changeSearchValue",t)},changeFoundGroup:function(t,e){return e?e.dispatch("changeFoundGroup",t):so.dispatch("changeFoundGroup",t)},scrollToFoundMessage:function(t,e){return e?e.dispatch("scrollToFoundMessage",t):so.dispatch("scrollToFoundMessage",t)},reset:function(t){return l(void 0,void 0,void 0,(function(){var e,n,r,i,o;return h(this,(function(s){switch(s.label){case 0:return n=(e=t||so).get().modules.get("active"),r=e.get().modules.getIn(["stack",n]),i=e.get().clientConfig.get("info"),o=e.get().notifications.get("enabled"),e.dispatch("resetMessages",n),[4,r.moduleDispatcher("reset",{clientConfig:i})];case 1:return s.sent(),o?[4,r.moduleDispatcher("notificationRequest")]:[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},showDropZone:function(t,e){return e?e.dispatch("showDropZone",t):so.dispatch("showDropZone",t)}},Bi={uiManagment:function(t,e,n){Ui[t](e,n)}},Hi={recieveMessage:function(t,e){var n=t.text,r=t.sender,i=t.showRate,o=t.module,s=t.elements,a=e?e.get().modules.get("active"):so.get().modules.get("active"),u={text:n,sender:r,date:new Date,showRate:i,module:a!==o&&o?o:a,file:t.file,type:t.type,elements:s};e?e.dispatch("addMessage",{message:u,moduleName:a!==o&&o?o:a}):so.dispatch("addMessage",{message:u,moduleName:a!==o&&o?o:a}),Bi.uiManagment("dialogLoading",!1,e),Bi.uiManagment("blockSender",!1,e)}},zi={name:"default",moduleDispatcher:function(t,e){return Hi.recieveMessage({text:"no active Module",type:"text",sender:"request",showRate:!1})}},qi=Ce({active:zi.name,stack:{default:zi}}),Wi=Ce({history:{default:Ke([])},announcements:Ke([]),lastResponseMessage:Ce({}),lastUserMessage:Ce({})}),Ki=Ce(xr),Gi=Ce(kr),Xi=Ce(Mi),Yi=Ce({active:"en",stack:{en:c({},{Sender:{placeholder:"Write message",sendButtonTitle:"Send",fileButtonTitle:"File",stickerButtonTitle:"Sticker",shareButtonTitle:"Share",voiceButtonTitle:"Voice"},Message:{rateButtonTitle:"Rate",audioMessageButtonTitle:"AudioMessage"},Dialog:{searchButtonTitle:"Search",rateButtonTitle:"Rate",loading:"typing..."},Header:{settingsButtonTitle:"Settings",resetButtonTitle:"Reset",title:"SOVA Chat Kit",searchButtonTitle:"Search",closeButtonTitle:"Close"},Badge:{title:"Chat It"},Rate:{title:"Is it helpfull?",positive:"Yes",negative:"No",ratingList:[{rating:3,text:"I had other question"},{rating:2,text:"Not understand the answer"},{rating:1,text:"Not resolve my problem"}]},CKDropAndDown:{title:"Drag and drop the file",comment:"Pdf, txt, xls, doc no more than 25Mb",errorComment:"Message that the allowed file size and format were exceeded, as well as the number of files",divider:"or",chooseFileButtonTitle:"Choose file"},Search:{placeholder:"Search",divider:"of",status:"No results"},Settings:{headingLanguage:"Language",headingTheme:"Appearance",headingTime:"Time",title:"Settings",search:{placeholder:"Search"}}}),ru:c({},{Sender:{placeholder:"Напиши сообщение",sendButtonTitle:"Отправить",fileButtonTitle:"Файл",stickerButtonTitle:"Стикер",shareButtonTitle:"Поделлиться",voiceButtonTitle:"Голос"},CKDropAndDown:{title:"Перетащите файл",comment:"Pdf, txt, xls, doc не более 25Мб",errorComment:"Сообщение о том, что были превышены допустимые размер и формат файла, а так же количество файлов",divider:"или",chooseFileButtonTitle:"Выберите файл"},Message:{rateButtonTitle:"Оценить",audioMessageButtonTitle:"Воспроизвести"},Dialog:{searchButtonTitle:"Найти",rateButtonTitle:"Оценить",loading:"Пишет..."},Header:{settingsButtonTitle:"Настройки",resetButtonTitle:"Обновить",searchButtonTitle:"Найти",closeButtonTitle:"Закрыть",title:"Чат-Кит"},Badge:{title:"Чат ИТ"},Rate:{title:"Это Вам помогло?",positive:"Да",negative:"Нет",ratingList:[{rating:3,text:"Я спрашивал(а) про другое"},{rating:2,text:"Я не понял(а) ответ"},{rating:1,text:"Ответ не решил проблему"}]},Search:{placeholder:"Найти",divider:"из",status:"Нет результатов"},Settings:{headingLanguage:"Язык",headingTheme:"Оформление",headingTime:"Время",title:"Настройки"}})}}),Qi=Ce({active:wr.themeName,stack:{sovaDark:Cr.data,sovaLight:wr.data,sovaGray:Sr.data}}),Zi=Ce({info:{env_sitelang:"ru"}}),Ji=function(t){t.on("@init",(function(){return{messages:Wi}})),t.on("addMessage",(function(t,e){var n=t.messages,r=e.message,i=e.moduleName;return{messages:n.updateIn(["history",i],(function(t){return Ke.isList(t)&&t.push(r)})).update("user"===r.sender?"lastUserMessage":"lastResponseMessage",(function(){return Ce(c({},r))}))}})),t.on("resetMessages",(function(t,e){return{messages:t.messages.updateIn(["history",e],(function(){return Ke([])}))}})),t.on("initModuleHistory",(function(t,e){return{messages:t.messages.update("history",(function(t){var n;return c(c({},t),((n={})[e]=Ke([]),n))}))}}))},$i=function(t){t.on("@init",(function(){return{modules:qi}})),t.on("initModule",(function(t,e){return{modules:t.modules.updateIn(["stack",e.name],(function(){return{name:e.name,config:{info:e.info,api:e.api},moduleDispatcher:e.moduleDispatcher}})).update("active",(function(){return e.name}))}})),t.on("switchModule",(function(t,e){return{modules:t.modules.update("active",(function(){return e}))}})),t.on("updateModuleConfig",(function(t,e){var n=t.modules,r=e.moduleName,i=e.config;return{modules:n.updateIn(["stack",r,"config"],(function(){return i}))}}))},to=function(t){t.on("@init",(function(){return{settings:Xi}})),t.on("changeIcon",(function(t,e){var n=t.settings,r=e.iconName,i=e.iconData;return{settings:n.updateIn(["media","icons",r],(function(t){return c(c({},t),i)}))}})),t.on("changeAvatar",(function(t,e){return{settings:t.settings.updateIn(["media","avatar"],(function(){return e}))}}))},eo=function(t){t.on("@init",(function(){return{styles:Qi}})),t.on("switchTheme",(function(t,e){return{styles:t.styles.update("active",(function(){return e}))}})),t.on("initTheme",(function(t,e){var n=t.styles,r=e.themeName,i=e.data;return{styles:n.update("stack",(function(t){var e;return c(c({},t),((e={})[r]=i,e))}))}})),t.on("changeStyles",(function(t,e){var n=t.styles,r=e.themeName,i=e.data;return{styles:n.updateIn(["stack",r],(function(t){return c(c({},t),i)}))}})),t.on("changeComponentsStyles",(function(t,e){var n=t.styles,r=e.themeName,i=e.componentName,o=e.data;return{styles:n.updateIn(["stack",r,i],(function(t){return c(c({},t),o)}))}}))},no=function(t){t.on("@init",(function(){return{notifications:Ki}})),t.on("isEnabled",(function(t,e){return{notifications:t.notifications.update("enabled",(function(){return e}))}})),t.on("clicked",(function(t){return{notifications:t.notifications.update("clicked",(function(t){return++t}))}})),t.on("shown",(function(t){return{notifications:t.notifications.update("shown",(function(t){return++t}))}})),t.on("addMessages",(function(t,e){return{notifications:t.notifications.update("messages",(function(){return Ke(e)}))}})),t.on("addSettings",(function(t,e){return{notifications:t.notifications.update("settings",(function(){return e}))}}))},ro=function(t){t.on("@init",(function(){return{managment:Gi}})),t.on("openChat",(function(t,e){return{managment:t.managment.updateIn(["common","chatIsOpen"],(function(){return e}))}})),t.on("showMsgLoad",(function(t,e){return{managment:t.managment.updateIn(["common","showMsgLoad"],(function(){return e}))}})),t.on("showNotification",(function(t,e){return{managment:t.managment.updateIn(["common","showNotification"],(function(){return e}))}})),t.on("setUpCommon",(function(t,e){return{managment:t.managment.update("common",(function(t){return c(c({},t),{data:e})}))}})),t.on("showRate",(function(t,e){return{managment:t.managment.updateIn(["common","showRate"],(function(){return e}))}})),t.on("blockSender",(function(t,e){return{managment:t.managment.updateIn(["components","Sender","blockInput"],(function(){return e}))}})),t.on("setUpComponent",(function(t,e){var n=t.managment,r=e.componentName,i=e.data;return{managment:n.updateIn(["components",r],(function(t){return c(c({},t),i)}))}})),t.on("changeSenderFocusInf",(function(t){return{managment:t.managment.updateIn(["components","Sender","inFocus"],(function(t){return!t}))}})),t.on("showSettings",(function(t){return{managment:t.managment.updateIn(["common","showSettings"],(function(t){return!t}))}})),t.on("toggleDisplayMessageTime",(function(t){return{managment:t.managment.updateIn(["components","Message","showDate"],(function(t){return!t}))}})),t.on("toggleSearchActiveStatus",(function(t,e){return{managment:t.managment.updateIn(["components","Header","search","active"],(function(t){return e||!t}))}})),t.on("changeSearchValue",(function(t,e){return{managment:t.managment.updateIn(["components","Header","search","searchValue"],(function(){return e}))}})),t.on("changeFoundGroup",(function(t,e){var n=t.managment,r=e.messageId,i=e.action;return{managment:n.updateIn(["components","Header","search","found"],(function(t){return"clear"===i?t.clear():t[i](r)}))}})),t.on("scrollToFoundMessage",(function(t,e){return{managment:t.managment.updateIn(["components","Header","search","foundMessage"],(function(){return e}))}})),t.on("showDropZone",(function(t,e){return{managment:t.managment.updateIn(["components","Sender","showDropZone"],(function(){return e}))}}))},io=function(t){t.on("@init",(function(){return{languages:Yi}})),t.on("initLanguage",(function(t,e){return{languages:t.languages.update("stack",(function(t){return c(c({},t),e)}))}})),t.on("changeLanguage",(function(t,e){return{languages:t.languages.update("active",(function(){return e}))}})),t.on("changeLanguagePacket",(function(t,e){var n=t.languages,r=e.language,i=e.packet;return{languages:n.updateIn(["stack",r],(function(t){return c(c({},t),i)}))}})),t.on("changeComponentsTitles",(function(t,e){var n=t.languages,r=e.language,i=e.componentName,o=e.data;return{languages:n.updateIn(["stack",r,i],(function(t){return c(c({},t),o)}))}}))},oo=function(t){t.on("@init",(function(){return{clientConfig:Zi}})),t.on("changeClientConfig",(function(t,e){return{clientConfig:t.clientConfig.update("info",(function(t){return c(c({},t),e)}))}}))},so=e.createStoreon([Ji,$i,to,eo,no,ro,io,oo,"production"!==process.env.NODE_ENV&&n.storeonDevtools]),ao={sendMessage:function(t,e){return l(void 0,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){return Bi.uiManagment("blockSender",!0,e),n=(e?e.get():so.get()).modules,r={text:t},i=n.get("active"),n.getIn(["stack",i]).moduleDispatcher("chatRequest",r),Bi.uiManagment("dialogLoading",!0,e),[2]}))}))},sendRate:function(t,e){return l(void 0,void 0,void 0,(function(){var n,r,i,o;return h(this,(function(s){return Bi.uiManagment("blockSender",!0,e),n=(e?e.get():so.get()).modules,r={rating:t},i=n.get("active"),(o=n.getIn(["stack",i,"moduleDispatcher"]))?o("chatRate",r):Hi.recieveMessage({text:"no active module",type:"text",sender:"request",showRate:!1},e),Bi.uiManagment("dialogLoading",!0,e),Bi.uiManagment("showRate",!1,e),[2]}))}))},sendEvent:function(t,e){return l(void 0,void 0,void 0,(function(){var n,r,i,o;return h(this,(function(s){return Bi.uiManagment("blockSender",!0,e),n=(e?e.get():so.get()).modules,r={eventName:t},i=n.get("active"),(o=n.getIn(["stack",i,"moduleDispatcher"]))?o("chatEvent",r):Hi.recieveMessage({text:"no active module",type:"text",sender:"request",showRate:!1},e),Bi.uiManagment("dialogLoading",!0,e),Bi.uiManagment("showRate",!1,e),[2]}))}))}},uo={changeIcon:function(t,e){return e?e.dispatch("changeIcon",t):so.dispatch("changeIcon",t)},changeAvatar:function(t,e){return e?e.dispatch("changeAvatar",t):so.dispatch("changeAvatar",t)}},co={settings:function(t,e,n){uo[t](e,n)}},lo=function(t,e){var n,r=((n={})[t.language]=t.packet,n);e?e.dispatch("initLanguage",r):so.dispatch("initLanguage",r)},ho=function(t,e,n){return n?n.dispatch("changeComponentsTitles",c({componentName:t},e)):so.dispatch("changeComponentsTitles",c({componentName:t},e))},fo={initLanguage:function(t,e){return lo(t,e)},changeLanguage:function(t,e){return e?e.dispatch("changeLanguage",t):so.dispatch("changeLanguage",t)},changeLanguagePacket:function(t,e){return e?e.dispatch("changeLanguagePacket",t):so.dispatch("changeLanguagePacket",t)},changeChatIt:function(t,e){return ho("ChatIT",t,e)},changeHeader:function(t,e){return ho("Header",t,e)},changeDialog:function(t,e){return ho("Dialog",t,e)},changeRate:function(t,e){return ho("Rate",t,e)},changeMessage:function(t,e){return ho("Message",t,e)},changeSender:function(t,e){return ho("Sender",t,e)},changeBadge:function(t,e){return ho("Badge",t,e)}},po={languages:function(t,e,n){fo[t](e,n)}},vo={addMessages:function(t,e){return e?e.dispatch("addMessages",t):so.dispatch("addMessages",t)},addSettings:function(t,e){return e?e.dispatch("addSettings",t):so.dispatch("addSettings",t)},enabled:function(t,e){return e?e.dispatch("isEnabled",t):so.dispatch("isEnabled",t)},clicked:function(t){return t?t.dispatch("clicked"):so.dispatch("clicked")},shown:function(t){return t?t.dispatch("shown"):so.dispatch("shown")}},go={notifications:function(t,e,n){vo[t](e,n)}},yo=function(t,e,n){return n?n.dispatch("changeComponentsStyles",c({componentName:t},e)):so.dispatch("changeComponentsStyles",c({componentName:t},e))},mo={switchTheme:function(t,e){return e?e.dispatch("switchTheme",t):so.dispatch("switchTheme",t)},initTheme:function(t,e){return e?e.dispatch("initTheme",t):so.dispatch("initTheme",t)},changeStyles:function(t,e){return e?e.dispatch("changeStyles",t):so.dispatch("changeStyles",t)},changeChatIt:function(t,e){return yo("ChatIt",t,e)},changeHeader:function(t,e){return yo("Header",t,e)},changeDialog:function(t,e){return yo("Dialog",t,e)},changeRate:function(t,e){return yo("Rate",t,e)},changeUserMessage:function(t,e){return yo("UserMessage",t,e)},changeResponseMessage:function(t,e){return yo("ResponseMessage",t,e)},changeSender:function(t,e){return yo("Sender",t,e)},changeBadge:function(t,e){return yo("Badge",t,e)}},bo={styles:function(t,e,n){return mo[t](e,n)}},wo=c(c(c(c(c(c(c(c({},ao),Hi),Bi),co),po),go),Vi),bo),_o=function(t){return function(e){var n=e.ckStore,r=e.children,s=e.store;return n?i.createElement(o.StoreContext.Provider,{value:so},i.createElement(t,{store:s},r)):i.createElement(t,{store:s},r)}},Eo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){var t=this.props.settings.get("media").avatar,e=this.props.styles,n=e.image,r=e.avatarContainer,i=this.props.className;return _i("div",{className:i+"-avatar-container",css:r},_i("img",{className:i+"-image",alt:"avatar",css:n,src:t||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K"}))},e}(i.PureComponent),Co=o.connectStoreon("settings",Eo);function Io(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function To(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function So(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){To(t,e,n[e])}))}return t}function ko(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var xo=function(){},Ao={},No={},Oo={mark:xo,measure:xo};try{"undefined"!=typeof window&&(Ao=window),"undefined"!=typeof document&&(No=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(Oo=performance)}catch(xs){}var Ro=(Ao.navigator||{}).userAgent,Do=void 0===Ro?"":Ro,Po=Ao,Mo=No,Lo=Oo,Fo=(Po.document,!!Mo.documentElement&&!!Mo.head&&"function"==typeof Mo.addEventListener&&"function"==typeof Mo.createElement),jo=(~Do.indexOf("MSIE")||Do.indexOf("Trident/"),function(){try{process.env.NODE_ENV}catch(t){return!1}}(),"group"),Vo="primary",Uo="secondary",Bo=Po.FontAwesomeConfig||{};if(Mo&&"function"==typeof Mo.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=ko(t,2),n=e[0],r=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Mo.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n));null!=i&&(Bo[r]=i)}))}var Ho=So({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},Bo);Ho.autoReplaceSvg||(Ho.observeMutations=!1);var zo=So({},Ho);Po.FontAwesomeConfig=zo;var qo=Po||{};qo.___FONT_AWESOME___||(qo.___FONT_AWESOME___={}),qo.___FONT_AWESOME___.styles||(qo.___FONT_AWESOME___.styles={}),qo.___FONT_AWESOME___.hooks||(qo.___FONT_AWESOME___.hooks={}),qo.___FONT_AWESOME___.shims||(qo.___FONT_AWESOME___.shims=[]);var Wo=qo.___FONT_AWESOME___,Ko=[];Fo&&((Mo.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Mo.readyState)||Mo.addEventListener("DOMContentLoaded",(function t(){Mo.removeEventListener("DOMContentLoaded",t),1,Ko.map((function(t){return t()}))})));"undefined"!=typeof global&&void 0!==global.process&&global.process.emit,"undefined"==typeof setImmediate?setTimeout:setImmediate;var Go={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function Xo(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function Yo(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function Qo(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function Zo(t){return t.size!==Go.size||t.x!==Go.x||t.y!==Go.y||t.rotate!==Go.rotate||t.flipX||t.flipY}function Jo(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var $o={x:0,y:0,width:"100%",height:"100%"};function ts(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function es(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,u=t.title,c=t.maskId,l=t.titleId,h=t.extra,f=t.watchable,p=void 0!==f&&f,d=r.found?r:n,v=d.width,g=d.height,y="fa-w-".concat(Math.ceil(v/g*16)),m=[zo.replacementClass,o?"".concat(zo.familyPrefix,"-").concat(o):"",y].filter((function(t){return-1===h.classes.indexOf(t)})).concat(h.classes).join(" "),b={children:[],attributes:So({},h.attributes,{"data-prefix":i,"data-icon":o,class:m,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(g)})};p&&(b.attributes["data-fa-i2svg"]=""),u&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||Xo())},children:[u]});var w=So({},b,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:s,symbol:a,styles:h.styles}),_=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,a=t.transform,u=i.width,c=i.icon,l=o.width,h=o.icon,f=Jo({transform:a,containerWidth:l,iconWidth:u}),p={tag:"rect",attributes:So({},$o,{fill:"white"})},d=c.children?{children:c.children.map(ts)}:{},v={tag:"g",attributes:So({},f.inner),children:[ts(So({tag:c.tag,attributes:So({},c.attributes,f.path)},d))]},g={tag:"g",attributes:So({},f.outer),children:[v]},y="mask-".concat(s||Xo()),m="clip-".concat(s||Xo()),b={tag:"mask",attributes:So({},$o,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(e=h,"g"===e.tag?e.children:[e])},b]};return n.push(w,{tag:"rect",attributes:So({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(y,")")},$o)}),{children:n,attributes:r}}(w):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=Qo(t.styles);if(o.length>0&&(n.style=o),Zo(i)){var s=Jo({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:So({},s.outer),children:[{tag:"g",attributes:So({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:So({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(w),E=_.children,C=_.attributes;return w.children=E,w.attributes=C,a?function(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:So({},i,{id:!0===o?"".concat(e,"-").concat(zo.familyPrefix,"-").concat(n):o}),children:r}]}]}(w):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(Zo(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=Qo(So({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(w)}var ns=function(){},rs=(zo.measurePerformance&&Lo&&Lo.mark&&Lo.measure,function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s});function is(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof Wo.hooks.addPack||i?Wo.styles[t]=So({},Wo.styles[t]||{},o):Wo.hooks.addPack(t,o),"fas"===t&&is("fa",e)}var os=Wo.styles,ss=Wo.shims,as=function(){var t=function(t){return rs(os,(function(e,n,r){return e[r]=rs(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in os;rs(ss,(function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t}),{})};as();Wo.styles;function us(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function cs(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?Yo(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(Yo(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(cs).join(""),"</").concat(e,">")}function ls(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}ls.prototype=Object.create(Error.prototype),ls.prototype.constructor=ls;var hs={fill:"currentColor"},fs={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},ps=(So({},hs,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),So({},fs,{attributeName:"opacity"}));So({},hs,{cx:"256",cy:"364",r:"28"}),So({},fs,{attributeName:"r",values:"28;14;28;28;14;28;"}),So({},ps,{values:"1;0;1;1;0;1;"}),So({},hs,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),So({},ps,{values:"1;0;0;0;0;1;"}),So({},hs,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),So({},ps,{values:"0;0;1;1;0;0;"}),Wo.styles;function ds(t){var e=t[0],n=t[1],r=ko(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(zo.familyPrefix,"-").concat(jo)},children:[{tag:"path",attributes:{class:"".concat(zo.familyPrefix,"-").concat(Uo),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(zo.familyPrefix,"-").concat(Vo),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}Wo.styles;function vs(){zo.autoAddCss&&!ws&&(!function(t){if(t&&Fo){var e=Mo.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Mo.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Mo.head.insertBefore(e,r)}}(function(){var t="svg-inline--fa",e=zo.familyPrefix,n=zo.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var i=new RegExp("\\.".concat("fa","\\-"),"g"),o=new RegExp("\\--".concat("fa","\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(s,".".concat(n))}return r}()),ws=!0)}function gs(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return cs(t)}))}}),Object.defineProperty(t,"node",{get:function(){if(Fo){var e=Mo.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function ys(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return us(bs.definitions,n,r)||us(Wo.styles,n,r)}var ms,bs=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e,n,r;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=So({},t.definitions[e]||{},i[e]),is(e,i[e]),as()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s})),t}}])&&Io(e.prototype,n),r&&Io(e,r),t}()),ws=!1,_s=function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),e):e}(t)},Es=(ms=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?Go:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,u=e.maskId,c=void 0===u?null:u,l=e.title,h=void 0===l?null:l,f=e.titleId,p=void 0===f?null:f,d=e.classes,v=void 0===d?[]:d,g=e.attributes,y=void 0===g?{}:g,m=e.styles,b=void 0===m?{}:m;if(t){var w=t.prefix,_=t.iconName,E=t.icon;return gs(So({type:"icon"},t),(function(){return vs(),zo.autoA11y&&(h?y["aria-labelledby"]="".concat(zo.replacementClass,"-title-").concat(p||Xo()):(y["aria-hidden"]="true",y.focusable="false")),es({icons:{main:ds(E),mask:a?ds(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:So({},Go,r),symbol:o,title:h,maskId:c,titleId:p,extra:{attributes:y,styles:b,classes:v}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:ys(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:ys(r||{})),ms(n,So({},e,{mask:r}))});function Cs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Is(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(null==e&&n.path)}},n.exports),n.exports}var Ts="function"==typeof Symbol&&Symbol.for,Ss=Ts?Symbol.for("react.element"):60103,ks=Ts?Symbol.for("react.portal"):60106,xs=Ts?Symbol.for("react.fragment"):60107,As=Ts?Symbol.for("react.strict_mode"):60108,Ns=Ts?Symbol.for("react.profiler"):60114,Os=Ts?Symbol.for("react.provider"):60109,Rs=Ts?Symbol.for("react.context"):60110,Ds=Ts?Symbol.for("react.async_mode"):60111,Ps=Ts?Symbol.for("react.concurrent_mode"):60111,Ms=Ts?Symbol.for("react.forward_ref"):60112,Ls=Ts?Symbol.for("react.suspense"):60113,Fs=Ts?Symbol.for("react.suspense_list"):60120,js=Ts?Symbol.for("react.memo"):60115,Vs=Ts?Symbol.for("react.lazy"):60116,Us=Ts?Symbol.for("react.block"):60121,Bs=Ts?Symbol.for("react.fundamental"):60117,Hs=Ts?Symbol.for("react.responder"):60118,zs=Ts?Symbol.for("react.scope"):60119;function qs(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case Ss:switch(t=t.type){case Ds:case Ps:case xs:case Ns:case As:case Ls:return t;default:switch(t=t&&t.$$typeof){case Rs:case Ms:case Vs:case js:case Os:return t;default:return e}}case ks:return e}}}function Ws(t){return qs(t)===Ps}var Ks={AsyncMode:Ds,ConcurrentMode:Ps,ContextConsumer:Rs,ContextProvider:Os,Element:Ss,ForwardRef:Ms,Fragment:xs,Lazy:Vs,Memo:js,Portal:ks,Profiler:Ns,StrictMode:As,Suspense:Ls,isAsyncMode:function(t){return Ws(t)||qs(t)===Ds},isConcurrentMode:Ws,isContextConsumer:function(t){return qs(t)===Rs},isContextProvider:function(t){return qs(t)===Os},isElement:function(t){return"object"==typeof t&&null!==t&&t.$$typeof===Ss},isForwardRef:function(t){return qs(t)===Ms},isFragment:function(t){return qs(t)===xs},isLazy:function(t){return qs(t)===Vs},isMemo:function(t){return qs(t)===js},isPortal:function(t){return qs(t)===ks},isProfiler:function(t){return qs(t)===Ns},isStrictMode:function(t){return qs(t)===As},isSuspense:function(t){return qs(t)===Ls},isValidElementType:function(t){return"string"==typeof t||"function"==typeof t||t===xs||t===Ps||t===Ns||t===As||t===Ls||t===Fs||"object"==typeof t&&null!==t&&(t.$$typeof===Vs||t.$$typeof===js||t.$$typeof===Os||t.$$typeof===Rs||t.$$typeof===Ms||t.$$typeof===Bs||t.$$typeof===Hs||t.$$typeof===zs||t.$$typeof===Us)},typeOf:qs},Gs=Is((function(t,e){"production"!==process.env.NODE_ENV&&function(){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,l=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,d=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,m=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:var p=t.type;switch(p){case c:case l:case i:case s:case o:case f:return p;default:var g=p&&p.$$typeof;switch(g){case u:case h:case v:case d:case a:return g;default:return e}}case r:return e}}}var _=c,E=l,C=u,I=a,T=n,S=h,k=i,x=v,A=d,N=r,O=s,R=o,D=f,P=!1;function M(t){return w(t)===l}e.AsyncMode=_,e.ConcurrentMode=E,e.ContextConsumer=C,e.ContextProvider=I,e.Element=T,e.ForwardRef=S,e.Fragment=k,e.Lazy=x,e.Memo=A,e.Portal=N,e.Profiler=O,e.StrictMode=R,e.Suspense=D,e.isAsyncMode=function(t){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(t)||w(t)===c},e.isConcurrentMode=M,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===a},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return w(t)===h},e.isFragment=function(t){return w(t)===i},e.isLazy=function(t){return w(t)===v},e.isMemo=function(t){return w(t)===d},e.isPortal=function(t){return w(t)===r},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===o},e.isSuspense=function(t){return w(t)===f},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===l||t===s||t===o||t===f||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===d||t.$$typeof===a||t.$$typeof===u||t.$$typeof===h||t.$$typeof===y||t.$$typeof===m||t.$$typeof===b||t.$$typeof===g)},e.typeOf=w}()})),Xs=(Gs.AsyncMode,Gs.ConcurrentMode,Gs.ContextConsumer,Gs.ContextProvider,Gs.Element,Gs.ForwardRef,Gs.Fragment,Gs.Lazy,Gs.Memo,Gs.Portal,Gs.Profiler,Gs.StrictMode,Gs.Suspense,Gs.isAsyncMode,Gs.isConcurrentMode,Gs.isContextConsumer,Gs.isContextProvider,Gs.isElement,Gs.isForwardRef,Gs.isFragment,Gs.isLazy,Gs.isMemo,Gs.isPortal,Gs.isProfiler,Gs.isStrictMode,Gs.isSuspense,Gs.isValidElementType,Gs.typeOf,Is((function(t){"production"===process.env.NODE_ENV?t.exports=Ks:t.exports=Gs}))),Ys=Object.getOwnPropertySymbols,Qs=Object.prototype.hasOwnProperty,Zs=Object.prototype.propertyIsEnumerable;function Js(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var $s=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=Js(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))Qs.call(n,s)&&(i[s]=n[s]);if(Ys){r=Ys(n);for(var a=0;a<r.length;a++)Zs.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},ta="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ea=function(){};if("production"!==process.env.NODE_ENV){var na=ta,ra={},ia=Function.call.bind(Object.prototype.hasOwnProperty);ea=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}}function oa(t,e,n,r,i){if("production"!==process.env.NODE_ENV)for(var o in t)if(ia(t,o)){var s;try{if("function"!=typeof t[o]){var a=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[o]+"`.");throw a.name="Invariant Violation",a}s=t[o](e,o,r,n,null,na)}catch(t){s=t}if(!s||s instanceof Error||ea((r||"React class")+": type specification of "+n+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof s+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),s instanceof Error&&!(s.message in ra)){ra[s.message]=!0;var u=i?i():"";ea("Failed "+n+" type: "+s.message+(null!=u?u:""))}}}oa.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(ra={})};var sa=oa,aa=Function.call.bind(Object.prototype.hasOwnProperty),ua=function(){};function ca(){return null}"production"!==process.env.NODE_ENV&&(ua=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}});var la=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator;var r={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(ca),arrayOf:function(t){return s((function(e,n,r,i,s){if("function"!=typeof t)return new o("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a))return new o("Invalid "+i+" `"+s+"` of type `"+c(a)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<a.length;u++){var l=t(a,u,r,i,s+"["+u+"]",ta);if(l instanceof Error)return l}return null}))},element:s((function(e,n,r,i,s){var a=e[n];return t(a)?null:new o("Invalid "+i+" `"+s+"` of type `"+c(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:s((function(t,e,n,r,i){var s=t[e];return Xs.isValidElementType(s)?null:new o("Invalid "+r+" `"+i+"` of type `"+c(s)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(t){return s((function(e,n,r,i,s){if(!(e[n]instanceof t)){var a=t.name||"<<anonymous>>";return new o("Invalid "+i+" `"+s+"` of type `"+function(t){if(!t.constructor||!t.constructor.name)return"<<anonymous>>";return t.constructor.name}(e[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}))},node:s((function(t,e,n,r,i){return u(t[e])?null:new o("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return s((function(e,n,r,i,s){if("function"!=typeof t)return new o("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[n],u=c(a);if("object"!==u)return new o("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(aa(a,l)){var h=t(a,l,r,i,s+"."+l,ta);if(h instanceof Error)return h}return null}))},oneOf:function(t){if(!Array.isArray(t))return"production"!==process.env.NODE_ENV&&ua(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),ca;function e(e,n,r,s,a){for(var u=e[n],c=0;c<t.length;c++)if(i(u,t[c]))return null;var h=JSON.stringify(t,(function(t,e){return"symbol"===l(e)?String(e):e}));return new o("Invalid "+s+" `"+a+"` of value `"+String(u)+"` supplied to `"+r+"`, expected one of "+h+".")}return s(e)},oneOfType:function(t){if(!Array.isArray(t))return"production"!==process.env.NODE_ENV&&ua("Invalid argument supplied to oneOfType, expected an instance of array."),ca;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return ua("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+h(n)+" at index "+e+"."),ca}return s((function(e,n,r,i,s){for(var a=0;a<t.length;a++){if(null==(0,t[a])(e,n,r,i,s,ta))return null}return new o("Invalid "+i+" `"+s+"` supplied to `"+r+"`.")}))},shape:function(t){return s((function(e,n,r,i,s){var a=e[n],u=c(a);if("object"!==u)return new o("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var h=t[l];if(h){var f=h(a,l,r,i,s+"."+l,ta);if(f)return f}}return null}))},exact:function(t){return s((function(e,n,r,i,s){var a=e[n],u=c(a);if("object"!==u)return new o("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var l=$s({},e[n],t);for(var h in l){var f=t[h];if(!f)return new o("Invalid "+i+" `"+s+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var p=f(a,h,r,i,s+"."+h,ta);if(p)return p}return null}))}};function i(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function o(t){this.message=t,this.stack=""}function s(t){if("production"!==process.env.NODE_ENV)var n={},r=0;function i(i,s,a,u,c,l,h){if(u=u||"<<anonymous>>",l=l||a,h!==ta){if(e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var p=u+":"+a;!n[p]&&r<3&&(ua("You are manually calling a React.PropTypes validation function for the `"+l+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[p]=!0,r++)}}return null==s[a]?i?null===s[a]?new o("The "+c+" `"+l+"` is marked as required in `"+u+"`, but its value is `null`."):new o("The "+c+" `"+l+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:t(s,a,u,c,l)}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}function a(t){return s((function(e,n,r,i,s,a){var u=e[n];return c(u)!==t?new o("Invalid "+i+" `"+s+"` of type `"+l(u)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function u(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(u);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t["@@iterator"]);if("function"==typeof e)return e}(e);if(!r)return!1;var i,o=r.call(e);if(r!==e.entries){for(;!(i=o.next()).done;)if(!u(i.value))return!1}else for(;!(i=o.next()).done;){var s=i.value;if(s&&!u(s[1]))return!1}return!0;default:return!1}}function c(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function l(t){if(null==t)return""+t;var e=c(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function h(t){var e=l(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return o.prototype=Error.prototype,r.checkPropTypes=sa,r.resetWarningCache=sa.resetWarningCache,r.PropTypes=r,r};function ha(){}function fa(){}fa.resetWarningCache=ha;var pa=Is((function(t){if("production"!==process.env.NODE_ENV){var e=Xs;t.exports=la(e.isElement,!0)}else t.exports=function(){function t(t,e,n,r,i,o){if(o!==ta){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:fa,resetWarningCache:ha};return n.PropTypes=n,n}()}));function da(t){return(da="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function va(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ga(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ya(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?ga(Object(n),!0).forEach((function(e){va(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ga(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ma(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function ba(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function wa(t){return e=t,(e-=0)==e?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))).substr(0,1).toLowerCase()+t.substr(1);var e}function _a(t){return t.split(";").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n,r=e.indexOf(":"),i=wa(e.slice(0,r)),o=e.slice(r+1).trim();return i.startsWith("webkit")?t[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:t[i]=o,t}),{})}var Ea=!1;try{Ea="production"===process.env.NODE_ENV}catch(xs){}function Ca(t){return null===t?null:"object"===da(t)&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:"fas",iconName:t}:void 0}function Ia(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?va({},t,e):{}}function Ta(t){var e=t.forwardedRef,n=ma(t,["forwardedRef"]),r=n.icon,i=n.mask,o=n.symbol,s=n.className,a=n.title,u=Ca(r),c=Ia("classes",[].concat(ba(function(t){var e,n=t.spin,r=t.pulse,i=t.fixedWidth,o=t.inverse,s=t.border,a=t.listItem,u=t.flip,c=t.size,l=t.rotation,h=t.pull,f=(va(e={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":o,"fa-border":s,"fa-li":a,"fa-flip-horizontal":"horizontal"===u||"both"===u,"fa-flip-vertical":"vertical"===u||"both"===u},"fa-".concat(c),null!=c),va(e,"fa-rotate-".concat(l),null!=l&&0!==l),va(e,"fa-pull-".concat(h),null!=h),va(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(f).map((function(t){return f[t]?t:null})).filter((function(t){return t}))}(n)),ba(s.split(" ")))),l=Ia("transform","string"==typeof n.transform?_s(n.transform):n.transform),h=Ia("mask",Ca(i)),f=Es(u,ya({},c,{},l,{},h,{symbol:o,title:a}));if(!f)return function(){var t;!Ea&&console&&"function"==typeof console.error&&(t=console).error.apply(t,arguments)}("Could not find icon",u),null;var p=f.abstract,d={ref:e};return Object.keys(n).forEach((function(t){Ta.defaultProps.hasOwnProperty(t)||(d[t]=n[t])})),Sa(p[0],d)}Ta.displayName="FontAwesomeIcon",Ta.propTypes={border:pa.bool,className:pa.string,mask:pa.oneOfType([pa.object,pa.array,pa.string]),fixedWidth:pa.bool,inverse:pa.bool,flip:pa.oneOf(["horizontal","vertical","both"]),icon:pa.oneOfType([pa.object,pa.array,pa.string]),listItem:pa.bool,pull:pa.oneOf(["right","left"]),pulse:pa.bool,rotation:pa.oneOf([0,90,180,270]),size:pa.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:pa.bool,symbol:pa.oneOfType([pa.bool,pa.string]),title:pa.string,transform:pa.oneOfType([pa.string,pa.object]),swapOpacity:pa.bool},Ta.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var Sa=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map((function(n){return t(e,n)})),o=Object.keys(n.attributes||{}).reduce((function(t,e){var r=n.attributes[e];switch(e){case"class":t.attrs.className=r,delete n.attributes.class;break;case"style":t.attrs.style=_a(r);break;default:0===e.indexOf("aria-")||0===e.indexOf("data-")?t.attrs[e.toLowerCase()]=r:t.attrs[wa(e)]=r}return t}),{attrs:{}}),s=r.style,a=void 0===s?{}:s,u=ma(r,["style"]);return o.attrs.style=ya({},o.attrs.style,{},a),e.apply(void 0,[n.tag,ya({},o.attrs,{},u)].concat(ba(i)))}.bind(null,i.createElement);bs.add({prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]},{prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},{prefix:"fas",iconName:"microphone",icon:[352,512,[],"f130","M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"]},{prefix:"fas",iconName:"thumbs-up",icon:[512,512,[],"f164","M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"]},{prefix:"fas",iconName:"thumbs-down",icon:[512,512,[],"f165","M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"]},{prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},{prefix:"far",iconName:"thumbs-down",icon:[512,512,[],"f165","M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"]},{prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},{prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]},{prefix:"fas",iconName:"share-alt",icon:[448,512,[],"f1e0","M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"]},{prefix:"fas",iconName:"paper-plane",icon:[512,512,[],"f1d8","M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"]},{prefix:"fas",iconName:"redo-alt",icon:[512,512,[],"f2f9","M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"]},{prefix:"fas",iconName:"sticky-note",icon:[448,512,[],"f249","M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"]},{prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},{prefix:"fas",iconName:"ellipsis-v",icon:[192,512,[],"f142","M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"]},{prefix:"far",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"]},{prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},{prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},{prefix:"fas",iconName:"window-minimize",icon:[512,512,[],"f2d1","M464 352H48c-26.5 0-48 21.5-48 48v32c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-32c0-26.5-21.5-48-48-48z"]},{prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},{prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"]});var ka=i.memo((function(t){return i.createElement(Ta,c({className:t.className,icon:t.icon},t.props))}));ka.displayName="Icon";var xa=i.memo((function(t){var e=t.block,n=t.type,r=t.title,i=t.withTitle,o=t.withIcon,s=t.icon,a=t.onClick,u=t.style,l=t.className;return _i("button",{className:l,css:u,onClick:a,disabled:e,type:n},o&&s&&_i(ka,c({},s)),i&&r)}));xa.displayName="Button";var Aa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ref=i.createRef(),e.handleClick=function(t){if(e.ref.current){e.ref.current.contains(t.target)||e.props.onClick()}},e.escFunction=function(t){"Escape"===t.key&&e.props.onClick()},e}return u(e,t),e.prototype.componentDidMount=function(){this.props.outboundClickEnabled&&document.addEventListener("keydown",this.escFunction),this.props.outboundClickEnabled&&document.addEventListener("click",this.handleClick)},e.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.escFunction,!1),document.removeEventListener("click",this.handleClick,!1)},e.prototype.render=function(){return this.props.outboundClickEnabled?i.createElement("div",{className:this.props.className,ref:this.ref},this.props.children):i.createElement(i.Fragment,null,this.props.children)},e.defaultProps={exceptions:[],outboundClickEnabled:!0},e}(r.PureComponent),Na=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showRatingList:!1,transform:""},e.rateContainer=r.createRef(),e.componentDidMount=function(){e.setState((function(){return{transform:"translateY(-100%)"}})),e.props.scrollbar&&(e.props.scrollbar.scrollTop=e.props.scrollbar.scrollHeight)},e.componentDidUpdate=function(t,n){n.showRatingList!==e.state.showRatingList&&e.props.scrollbar&&e.state.showRatingList&&(e.props.scrollbar.scrollTop=e.props.scrollbar.scrollHeight)},e.hideRate=function(){return e.setState((function(){return{transform:"translateY(100%)"}}))},e.removeRate=function(){return"translateY(100%)"===e.state.transform&&ao.sendRate(4,e.props.store)&&Bi.uiManagment("showRate",!1,e.props.store)},e}return u(e,t),e.prototype.render=function(){var t=this,e=this.state.showRatingList,n=this.props.managment.getIn(["components","Rate"]),r=n.positiveRate,i=n.negativeRate,o=this.props.languages.get("active"),s=this.props.languages.getIn(["stack",o,"Rate"]),a=s.title,u=s.positive,l=s.negative,h=s.ratingList,f=this.props.settings.getIn(["media","icons"]),p=f.positiveRateIcon,d=f.negativeRateIcon,v=this.props.styles.get("active"),g=this.props.styles.getIn(["stack",v,"Rate"]),y=g.mainContainer,m=g.titleContainer,b=g.positiveRateButton,w=g.negativeRateButton,_=g.ratingListContainer,E=g.ratingElement;return _i(Aa,{onClick:this.hideRate},_i("div",{onTransitionEnd:this.removeRate,ref:this.rateContainer,className:"rate-main-container",css:c({},y)},_i("span",{className:"rate-title-container",css:m},a),r.enabled&&_i(xa,{type:"button",block:!1,withIcon:r.withIcon,withTitle:r.withTitle,title:u,icon:p,onClick:function(){return ao.sendRate(5,t.props.store)},style:b,className:"rate-positiveRateButton"}),i.enabled&&_i(xa,{type:"button",block:!1,withIcon:i.withIcon,withTitle:i.withTitle,title:l,icon:d,style:w,className:"rate-positiveRateButton",onClick:function(){return t.setState((function(){return{showRatingList:!0}}))}}),e&&_i("div",{className:"rate-ratingListContainer",css:_},h.map((function(e,n){return _i("li",{className:"rate-ratingElement",css:E,key:n,onClick:function(){return ao.sendRate(e.rating,t.props.store)}},e.text)})))))},e}(i.PureComponent),Oa=o.connectStoreon("settings","managment","languages","styles",Na),Ra=function(t){return _i(i.Fragment,null,t.sholdBeDownload?_i("a",{css:t.style,download:!0,href:t.imageSrc},_i("img",{src:t.imageSrc,css:t.style})):_i("img",{src:t.imageSrc,css:t.style}))};Ra.displayName="ImageFile";var Da=function(t){var e,n=t.file,r=t.styles,i=t.sender,s=n.name,a=n.url,u=n.size,c=n.type,l="jpeg"===c||"png"===c||"jpg"===c,h=(e=s).length<=20?e:e.substring(0,20)+"...",f=r.imageFile,p=r.fileContainer,d=r.svgContainer,v=r.sizeTittle,g=r.fileNameTittle,y=r.metaContainer,m=o.useStoreon("settings").settings.get("media").svg,b=m[c+"File"]?m[c+"File"]:m.defaultFile;return l?_i(Ra,{sholdBeDownload:!0,imageSrc:a,style:f}):_i("div",{css:p,className:i+"Message-fileContainer"},_i("div",{css:d,className:i+"Message-svgContainer"},_i(b,null)),_i("div",{css:y,className:i+"Message-metaContainer"},_i("a",{download:!0,href:a,css:g,className:i+"Message-fileNameTittle"},h),_i("span",{css:v,className:i+"Message-sizeTittle"},u)))};Da.displayName="FileMessage";var Pa=function(t){var e=t.prevSenderType,n=t.nextSenderType,s=t.message,a=t.id,u=t.scrollbar,l=t.store,h=o.useStoreon("settings","managment","languages","styles"),f=h.settings,p=h.managment,d=h.languages,v=h.styles,g=s.text,y=s.date,m=s.sender,b=s.showRate,w=s.file,_=s.type,E=v.get("active"),C=v.getIn(["stack",E,("user"===m?"User":"Response")+"Message"]),I=C.mainContainer,T=C.avatarContainer,S=C.image,k=C.textContainer,x=C.positiveRateMessageButton,A=C.negativeRateMessageButton,N=C.audioMessageButton,O=C.dataContainer,R=C.bubbleContainer,D=C.groupTypeMessagesNext,P=C.groupTypeMessagesPrev,M=C.groupTypeMessagesInter,L=C.imageFile,F=C.fileContainer,j=C.svgContainer,V=C.sizeTittle,U=C.fileNameTittle,B=C.metaContainer,H=p.getIn(["components","Message"]),z=H.positiveRateMessage,q=H.negativeRateMessage,W=H.showAvatar,K=H.showDate,G=H.audioMessage,X=H.RateEnabled,Y=p.getIn(["components","Header"]).search,Q=p.getIn(["common","showRate"]),Z=d.get("active"),J=d.getIn(["stack",Z,"Message"]),$=J.rateButtonTitle,tt=J.audioMessageButtonTitle,et=f.getIn(["media","icons"]),nt=et.playMessageIcon,rt=et.rateIcon,it=et.negativeRateIcon,ot=("user"===m?"user":"response")+"Message",st="jpeg"===(null==w?void 0:w.type)||"png"===(null==w?void 0:w.type)||"jpg"===(null==w?void 0:w.type),at=n===m?D:{},ut=e===m?P:{},ct=st?{padding:"0px",width:"min-content",boxSizing:"border-box"}:{},lt=st?{padding:"16px"}:{},ht=st&&g?{borderRadius:"17px 0 0px 0px"}:{},ft=e===n&&n===m?M:{},pt=Y.found.toList(),dt=function(t){var e=t.target;"request-userlink"===e.className&&(Hi.recieveMessage({text:e.innerText,type:"text",sender:"user",showRate:!1},l),ao.sendMessage(e.innerText,l))},vt=function(){return console.log("RateMessage")},gt=r.useRef(null),yt=r.useState(g),mt=yt[0],bt=yt[1];return r.useEffect((function(){bt(function(){var t=Y.searchValue;if(!Y.active)return g;if(t.length<3)return Bi.uiManagment("changeFoundGroup",{messageId:a,action:"clear"},l),g;var e=new RegExp(Y.searchValue,"gi");return e.test(g)?g.replace(e,(function(t){return Bi.uiManagment("changeFoundGroup",{messageId:a,action:"add"},l),a===pt.get(Y.foundMessage)?"<mark>"+t+"</mark>":t})):(Bi.uiManagment("changeFoundGroup",{messageId:a,action:"delete"},l),g)}())}),[g,Y]),r.useEffect((function(){var t;a===pt.get(Y.foundMessage)&&(null===(t=gt.current)||void 0===t||t.scrollIntoView({block:"nearest"}))}),[Y,gt]),r.useEffect((function(){u&&(u.scrollTop=u.scrollHeight)}),[]),_i("div",{className:ot+"-main-container",css:c(c(c(c({},I),ut),at),ft),ref:gt},W&&_i(Co,{styles:{avatarContainer:T,image:S},className:""+ot}),_i("div",{className:ot+"-bubble-container",css:c(c({},R),ct)},"text/file"===_&&_i(i.Fragment,null,_i(Da,{file:w,styles:{imageFile:c(c(c(c({},L),ut),ft),ht),fileContainer:F,svgContainer:j,sizeTittle:V,fileNameTittle:U,metaContainer:B},sender:m}),_i("div",{className:ot+"-text-container",css:c(c(c({},k),{width:"100%"}),lt),onClick:dt,dangerouslySetInnerHTML:{__html:mt}})),("text"===_||!_)&&_i("div",{className:ot+"-text-container",css:k,onClick:dt,dangerouslySetInnerHTML:{__html:mt}}),"file"===_&&_i(Da,{file:w,styles:{imageFile:c(c(c({},L),ut),ft),fileContainer:c(c({},F),{margin:0}),svgContainer:j,sizeTittle:V,fileNameTittle:U,metaContainer:B},sender:m}),Q&&X&&b&&_i(Oa,{store:l,scrollbar:u}),z.enabled&&b&&_i(xa,{block:!1,type:"button",withIcon:z.withIcon,withTitle:z.withTitle,title:$,onClick:vt,icon:rt,style:x,className:ot+"-positiveRateMessageButton"}),q.enabled&&b&&_i(xa,{block:!1,type:"button",withIcon:q.withIcon,withTitle:q.withTitle,title:$,onClick:vt,icon:it,style:A,className:ot+"-negativeRateMessageButton"}),G.enabled&&_i(xa,{block:!1,type:"button",withIcon:G.withIcon,withTitle:G.withTitle,title:tt,onClick:function(){return console.log("AudioMessage")},icon:nt,style:N,className:ot+"-audioMessageButton"}),K&&_i("div",{className:ot+"-dataContainer",css:O},y.toLocaleString("ru",{hour:"numeric",minute:"numeric"}))))};Pa.displayName="Message";
/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function Ma(t){return getComputedStyle(t)}function La(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function Fa(t){var e=document.createElement("div");return e.className=t,e}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("/*\n * Container style\n */\n.ps {\n  overflow: hidden !important;\n  overflow-anchor: none;\n  -ms-overflow-style: none;\n  touch-action: auto;\n  -ms-touch-action: auto;\n}\n\n/*\n * Scrollbar rail styles\n */\n.ps__rail-x {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  height: 15px;\n  /* there must be 'bottom' or 'top' for ps__rail-x */\n  bottom: 0px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-y {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  width: 15px;\n  /* there must be 'right' or 'left' for ps__rail-y */\n  right: 0;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps--active-x > .ps__rail-x,\n.ps--active-y > .ps__rail-y {\n  display: block;\n  background-color: transparent;\n}\n\n.ps:hover > .ps__rail-x,\n.ps:hover > .ps__rail-y,\n.ps--focus > .ps__rail-x,\n.ps--focus > .ps__rail-y,\n.ps--scrolling-x > .ps__rail-x,\n.ps--scrolling-y > .ps__rail-y {\n  opacity: 0.6;\n}\n\n.ps .ps__rail-x:hover,\n.ps .ps__rail-y:hover,\n.ps .ps__rail-x:focus,\n.ps .ps__rail-y:focus,\n.ps .ps__rail-x.ps--clicking,\n.ps .ps__rail-y.ps--clicking {\n  background-color: #eee;\n  opacity: 0.9;\n}\n\n/*\n * Scrollbar thumb styles\n */\n.ps__thumb-x {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, height .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\n  height: 6px;\n  /* there must be 'bottom' for ps__thumb-x */\n  bottom: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__thumb-y {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, width .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\n  width: 6px;\n  /* there must be 'right' for ps__thumb-y */\n  right: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-x:hover > .ps__thumb-x,\n.ps__rail-x:focus > .ps__thumb-x,\n.ps__rail-x.ps--clicking .ps__thumb-x {\n  background-color: #999;\n  height: 11px;\n}\n\n.ps__rail-y:hover > .ps__thumb-y,\n.ps__rail-y:focus > .ps__thumb-y,\n.ps__rail-y.ps--clicking .ps__thumb-y {\n  background-color: #999;\n  width: 11px;\n}\n\n/* MS supports */\n@supports (-ms-overflow-style: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n.scrollbar-container {\n  position: relative;\n  height: 100%; }");var ja="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function Va(t,e){if(!ja)throw new Error("No element matching method supported");return ja.call(t,e)}function Ua(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function Ba(t,e){return Array.prototype.filter.call(t.children,(function(t){return Va(t,e)}))}var Ha="ps",za="ps__rtl",qa={thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},Wa={focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}},Ka={x:null,y:null};function Ga(t,e){var n=t.element.classList,r=Wa.scrolling(e);n.contains(r)?clearTimeout(Ka[e]):n.add(r)}function Xa(t,e){Ka[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(Wa.scrolling(e))}),t.settings.scrollingThreshold)}var Ya=function(t){this.element=t,this.handlers={}},Qa={isEmpty:{configurable:!0}};Ya.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},Ya.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)}))},Ya.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},Qa.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(Ya.prototype,Qa);var Za=function(){this.eventElements=[]};function Ja(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function $a(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],s=n[1],a=n[2],u=n[3],c=n[4],l=n[5];void 0===r&&(r=!0);void 0===i&&(i=!1);var h=t.element;t.reach[u]=null,h[a]<1&&(t.reach[u]="start");h[a]>t[o]-t[s]-1&&(t.reach[u]="end");e&&(h.dispatchEvent(Ja("ps-scroll-"+u)),e<0?h.dispatchEvent(Ja("ps-scroll-"+c)):e>0&&h.dispatchEvent(Ja("ps-scroll-"+l)),r&&function(t,e){Ga(t,e),Xa(t,e)}(t,u));t.reach[u]&&(e||i)&&h.dispatchEvent(Ja("ps-"+u+"-reach-"+t.reach[u]))}(t,n,o,r,i)}function tu(t){return parseInt(t,10)||0}Za.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new Ya(t),this.eventElements.push(e)),e},Za.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},Za.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},Za.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},Za.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)};var eu={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function nu(t){var e=t.element,n=Math.floor(e.scrollTop),r=e.getBoundingClientRect();t.containerWidth=Math.ceil(r.width),t.containerHeight=Math.ceil(r.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(Ba(e,qa.rail("x")).forEach((function(t){return Ua(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(Ba(e,qa.rail("y")).forEach((function(t){return Ua(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=ru(t,tu(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=tu((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=ru(t,tu(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=tu(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft;e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r;La(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft;La(e.scrollbarYRail,i),La(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),La(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(Wa.active("x")):(e.classList.remove(Wa.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(Wa.active("y")):(e.classList.remove(Wa.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function ru(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function iu(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8],h=t.element,f=null,p=null,d=null;function v(e){e.touches&&e.touches[0]&&(e[i]=e.touches[0].pageY),h[u]=f+d*(e[i]-p),Ga(t,c),nu(t),e.stopPropagation(),e.preventDefault()}function g(){Xa(t,c),t[l].classList.remove(Wa.clicking),t.event.unbind(t.ownerDocument,"mousemove",v)}function y(e,s){f=h[u],s&&e.touches&&(e[i]=e.touches[0].pageY),p=e[i],d=(t[r]-t[n])/(t[o]-t[a]),s?t.event.bind(t.ownerDocument,"touchmove",v):(t.event.bind(t.ownerDocument,"mousemove",v),t.event.once(t.ownerDocument,"mouseup",g),e.preventDefault()),t[l].classList.add(Wa.clicking),e.stopPropagation()}t.event.bind(t[s],"mousedown",(function(t){y(t)})),t.event.bind(t[s],"touchstart",(function(t){y(t,!0)}))}var ou={"click-rail":function(t){t.element,t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,nu(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,nu(t),e.stopPropagation()}))},"drag-thumb":function(t){iu(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),iu(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(Va(e,":hover")||Va(t.scrollbarX,":focus")||Va(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(Va(r=i,"input,[contenteditable]")||Va(r,"select,[contenteditable]")||Va(r,"textarea,[contenteditable]")||Va(r,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,nu(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}}))},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],o=r[1];if(!function(t,n,r){if(!eu.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(qa.consuming))return!0;var o=Ma(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,s=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),nu(t),(s=s||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,s=i+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,u=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||s:a||u)||!t.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(eu.supportsTouch||eu.supportsIePointer){var e=t.element,n={},r=0,i={},o=null;eu.supportsTouch?(t.event.bind(e,"touchstart",c),t.event.bind(e,"touchmove",l),t.event.bind(e,"touchend",h)):eu.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",c),t.event.bind(e,"pointermove",l),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",c),t.event.bind(e,"MSPointerMove",l),t.event.bind(e,"MSPointerUp",h)))}function s(n,r){e.scrollTop-=r,e.scrollLeft-=n,nu(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function u(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function c(t){if(u(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function l(o){if(u(o)){var c=a(o),l={pageX:c.pageX,pageY:c.pageY},h=l.pageX-n.pageX,f=l.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(qa.consuming))return!0;var o=Ma(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,f))return;s(h,f),n=l;var p=(new Date).getTime(),d=p-r;d>0&&(i.x=h/d,i.y=f/d,r=p),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,s=Math.abs(n),a=Math.abs(r);if(a>s){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&eu.isChrome}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,f)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){t.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(s(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)}),10))}}},su=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add(Ha),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,s=function(){return t.classList.add(Wa.focus)},a=function(){return t.classList.remove(Wa.focus)};this.isRtl="rtl"===Ma(t).direction,!0===this.isRtl&&t.classList.add(za),this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new Za,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Fa(qa.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Fa(qa.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=Ma(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=tu(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=tu(u.borderLeftWidth)+tu(u.borderRightWidth),La(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=tu(u.marginLeft)+tu(u.marginRight),La(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Fa(qa.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Fa(qa.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=Ma(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=tu(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=Ma(t);return tu(e.width)+tu(e.paddingLeft)+tu(e.paddingRight)+tu(e.borderLeftWidth)+tu(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=tu(c.borderTopWidth)+tu(c.borderBottomWidth),La(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=tu(c.marginTop)+tu(c.marginBottom),La(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return ou[t](n)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return n.onScroll(t)})),nu(this)};su.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,La(this.scrollbarXRail,{display:"block"}),La(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=tu(Ma(this.scrollbarXRail).marginLeft)+tu(Ma(this.scrollbarXRail).marginRight),this.railYMarginHeight=tu(Ma(this.scrollbarYRail).marginTop)+tu(Ma(this.scrollbarYRail).marginBottom),La(this.scrollbarXRail,{display:"none"}),La(this.scrollbarYRail,{display:"none"}),nu(this),$a(this,"top",0,!1,!0),$a(this,"left",0,!1,!0),La(this.scrollbarXRail,{display:""}),La(this.scrollbarYRail,{display:""}))},su.prototype.onScroll=function(t){this.isAlive&&(nu(this),$a(this,"top",this.element.scrollTop-this.lastScrollTop),$a(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},su.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),Ua(this.scrollbarX),Ua(this.scrollbarY),Ua(this.scrollbarXRail),Ua(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},su.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var au=Is((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(i),s=a(su);function a(t){return t&&t.__esModule?t:{default:t}}var u={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(u);var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleRef=n.handleRef.bind(n),n._handlerByEvent={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,i.Component),r(e,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new s.default(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(t){this._updateEventHook(t),this.updateScroll(),t.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var t=this;Object.keys(this._handlerByEvent).forEach((function(e){var n=t._handlerByEvent[e];n&&t._container.removeEventListener(e,n,!1)})),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(u).forEach((function(n){var r=t.props[u[n]],i=e[u[n]];if(r!==i){if(i){var o=t._handlerByEvent[n];t._container.removeEventListener(n,o,!1),t._handlerByEvent[n]=null}if(r){var s=function(){return r(t._container)};t._container.addEventListener(n,s,!1),t._handlerByEvent[n]=s}}}))}},{key:"_updateClassName",value:function(){var t=this.props.className,e=this._container.className.split(" ").filter((function(t){return t.match(/^ps([-_].+|)$/)})).join(" ");this._container&&(this._container.className="scrollbar-container"+(t?" "+t:"")+(e?" "+e:""))}},{key:"updateScroll",value:function(){this.props.onSync(this._ps)}},{key:"handleRef",value:function(t){this._container=t,this.props.containerRef(t)}},{key:"render",value:function(){var t=this.props,e=(t.className,t.style),r=(t.option,t.options,t.containerRef,t.onScrollY,t.onScrollX,t.onScrollUp,t.onScrollDown,t.onScrollLeft,t.onScrollRight,t.onYReachStart,t.onYReachEnd,t.onXReachStart,t.onXReachEnd,t.component),i=(t.onSync,t.children),s=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"]),a=r;return o.default.createElement(a,n({style:e,ref:this.handleRef},s),i)}}]),e}();e.default=c,c.defaultProps={className:"",style:void 0,option:void 0,options:void 0,containerRef:function(){},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,onSync:function(t){return t.update()},component:"div"},c.propTypes={children:pa.PropTypes.node.isRequired,className:pa.PropTypes.string,style:pa.PropTypes.object,option:pa.PropTypes.object,options:pa.PropTypes.object,containerRef:pa.PropTypes.func,onScrollY:pa.PropTypes.func,onScrollX:pa.PropTypes.func,onScrollUp:pa.PropTypes.func,onScrollDown:pa.PropTypes.func,onScrollLeft:pa.PropTypes.func,onScrollRight:pa.PropTypes.func,onYReachStart:pa.PropTypes.func,onYReachEnd:pa.PropTypes.func,onXReachStart:pa.PropTypes.func,onXReachEnd:pa.PropTypes.func,onSync:pa.PropTypes.func,component:pa.PropTypes.string},t.exports=e.default}));Cs(au);var uu=Cs(Is((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=au)&&n.__esModule?n:{default:n};e.default=r.default,t.exports=e.default}))),cu=function(t){var e=t.css,n=t.scrollbar,o=r.useRef();return r.useEffect((function(){var t,e;0===(null===(t=o.current)||void 0===t?void 0:t.scrollTop)&&(o.current.scrollTop=null===(e=o.current)||void 0===e?void 0:e.scrollHeight)}),[o.current]),_i(i.Fragment,null,_i(uu,{style:e,containerRef:function(t){n&&n(t),o.current=t},options:{suppressScrollX:!1}},t.children))},lu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={show:!1},e.timeoutID=0,e}return u(e,t),e.prototype.componentDidMount=function(){var t=this;this.timeoutID=setTimeout((function(){return t.setState((function(){return{show:!0}}))}),1500)},e.prototype.componentWillUnmount=function(){clearTimeout(this.timeoutID)},e.prototype.render=function(){var t=this.props.styles.get("active"),e=this.props.styles.getIn(["stack",t,"MessageLoader"]),n=e.mainContainer,r=e.elementOne,o=e.elementTwo,s=e.elementThree,a=this.props,u=a.loaderTitle,c=a.showAnimation,l=a.showTitle,h=this.state.show;return _i(i.Fragment,null,h&&_i("div",{css:n},l&&u,c&&_i(i.Fragment,null,_i("div",{className:"msgLoader-elementOne",css:r},"."),_i("div",{className:"msgLoader-elementTwo",css:o},"."),_i("div",{className:"msgLoader-elementThree",css:s},"."))))},e}(i.PureComponent),hu=o.connectStoreon("styles",lu),fu=function(t){var e=o.useStoreon("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]),i=r.textContainer,s=r.title,a=r.subTitle;return _i("div",{css:i},_i("div",{css:s},t.title),_i("div",{css:a},t.subTitle))},pu=function(t){var e=o.useStoreon("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]).image;return _i("img",{css:r,src:t.url})},du=function(t){var e=o.useStoreon("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]),i=r.buttonsContainer,s=r.webUrlButton,a=r.postbackButton,u=t.buttons;return _i("div",{css:i},u.map((function(t,e){var n=t.type;return"web_url"===n?_i("a",{target:"_blank",css:s,key:e,href:t.url},t.title):"postback"===n?_i("button",{css:a,key:e,onClick:function(){return function(t){var e=t.title,n=t.payload;Hi.recieveMessage({text:e,sender:"user",showRate:!1,type:"text"}),ao.sendEvent(n)}(t)}},t.title):void 0})))},vu=function(t){var e=o.useStoreon("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]).elementContainer,i=t.element,s=i.title,a=i.subtitle,u=i.image_url,c=i.buttons;return _i("div",{css:r},_i(pu,{url:u}),_i(fu,{title:s,subTitle:a}),_i(du,{buttons:c}))},gu=function(t){var e=o.useStoreon("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]),i=r.mainContainer,s=r.scrollbar,a=t.elements;return _i("div",{css:s},_i(cu,null,_i("div",{css:i},a.map((function(t,e){return _i(vu,{key:e,element:t})})))))},yu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={scrollbar:null},e.scrollbar=function(t){return e.setState((function(){return{scrollbar:t}}))},e.rateClick=function(){return Bi.uiManagment("showRate",!0,e.props.store)},e.searchClick=function(){return console.log("DialogSearch")},e}return u(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.messages,i=e.managment,o=e.settings,s=e.languages,a=e.styles,u=e.modules,l=e.height,h=u.get("active"),f=n.getIn(["history",h]),p=i.getIn(["components","Dialog"]),d=p.search,v=p.loader,g=p.dividerEnabled,y=i.get("common"),m=y.showRate,b=y.showMsgLoad,w=i.getIn(["components","ChatIt"]).RateEnabled,_=o.getIn(["media","icons"]).searchIcon,E=s.get("active"),C=s.getIn(["stack",E,"Dialog"]),I=C.searchButtonTitle,T=C.loaderTitle,S=a.get("active"),k=a.getIn(["stack",S,"Dialog"]),x=k.mainContainer,A=k.panel,N=k.searchButton,O=k.messagesContainer,R=k.ckScrollBar,D=a.getIn(["stack",S,"Divider"]).dividerMainContainer;return _i(r.Fragment,null,_i("div",{className:"dialog-main-container",css:c(c({},x),{minHeight:l,height:l})},_i("div",{className:"dialog-panel",css:A},d.enabled&&_i(xa,{block:!1,type:"button",withIcon:d.withIcon,withTitle:d.withTitle,title:I,onClick:this.searchClick,icon:_,style:N,className:"dialog-searchButton"})),_i("div",{className:"dialog-messages-container",css:O},_i(cu,{scrollbar:this.scrollbar,css:R},null==f?void 0:f.map((function(e,n){var i=f.getIn([n+1,"sender"]),o=f.getIn([n-1,"sender"]),s=f.getIn([n-1,"date"]).toDateString(),a=e.type,u=new Date(e.date),c=u.toDateString(),l=0===n||c!==s;if(!l||!g)return"content"===a?_i(gu,{key:n,elements:e.elements}):_i(Pa,{id:n,scrollbar:t.state.scrollbar,prevSenderType:o,nextSenderType:i,key:n,store:t.props.store,message:e});var h=new Date,p=new Date,d=new Date(p.setDate(p.getDate()-1)).toDateString(),v=h.toDateString()===c?"Сегодня":d===c?"Вчера":u.toLocaleDateString("ru-RU");return _i(r.Fragment,{key:n},l&&_i("div",{className:"dialog-messages-divider",css:D},v),"content"===a?_i(gu,{key:n,elements:e.elements}):_i(Pa,{id:n,store:t.props.store,scrollbar:t.state.scrollbar,prevSenderType:o,nextSenderType:i,message:e}))})),b&&v.enabled&&_i(hu,{loaderTitle:T,store:this.props.store,showAnimation:v.showAnimation,showTitle:v.showTitle})))),w&&m&&_i(Oa,{store:this.props.store}))},e}(i.PureComponent),mu=o.connectStoreon("messages","settings","managment","languages","styles","modules",yu),bu=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={text:"",textAreaCSS:{height:"auto"},height:0},e.textArea=i.createRef(),e.onChange=function(t){t.preventDefault();var n=t.currentTarget.value;e.setState((function(){return{text:n,textAreaCSS:{padding:"0",height:"auto"}}}))},e.onSubmit=function(){var t=e.state.text,n=e.props.filesCount;(0!==t.length&&!e.props.blockSubmit||n)&&(e.setState((function(){return{text:"",textAreaCSS:{padding:"0",height:"auto"}}})),e.props.sendMessage(t))},e.onEnterPress=function(t){return l(e,void 0,void 0,(function(){return h(this,(function(e){return"Enter"===t.key&&(t.preventDefault(),this.onSubmit()),[2]}))}))},e}return u(e,t),e.prototype.componentDidUpdate=function(t,e){var n;if(e.text!==this.state.text){var r=null===(n=this.textArea.current)||void 0===n?void 0:n.scrollHeight;this.setState((function(){return{textAreaCSS:{height:r+"px"}}}))}},e.prototype.componentDidMount=function(){var t=Number(this.props.style.textArea.minHeight.split("p")[0]);this.setState((function(){return{height:t}}))},e.prototype.render=function(){var t=this.props,e=t.sendButton,n=t.focusInf,r=t.blockSubmit,o=t.inputPlaceHolder,s=t.filesCount,a=this.props.style,u=a.sendMessageButton,l=a.textArea,h=this.state,f=h.text,p=h.textAreaCSS,d=this.props.styles.get("active"),v=this.props.styles.getIn(["stack",d,"Dialog"]).ckScrollBar;return _i(i.Fragment,null,_i(cu,{css:v},_i("div",{style:{maxHeight:80}},_i("textarea",{className:"sender-textArea",ref:this.textArea,onChange:this.onChange,css:c(c({},l),p),value:f,autoFocus:!0,onBlur:n,onFocus:n,onKeyDown:this.onEnterPress,placeholder:o,rows:1}))),(s||f)&&_i(xa,{type:"submit",withTitle:e.withTitle,withIcon:e.withIcon,title:e.title,block:r,icon:e.icon,style:u,onClick:this.onSubmit,className:"sender-sendMessageButton"}))},e}(i.PureComponent),wu=o.connectStoreon("styles",bu),_u=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Eu(t,e){var n=function(t){var e=t.name;if(e&&-1!==e.lastIndexOf(".")&&!t.type){var n=e.split(".").pop().toLowerCase(),r=_u.get(n);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}(t);if("string"!=typeof n.path){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof e?e:"string"==typeof r&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}var Cu=[".DS_Store","Thumbs.db"];function Iu(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,(n=t,n.dataTransfer&&t.dataTransfer?Su(t.dataTransfer,t.type):Tu(t))];var n}))}))}function Tu(t){return(null!==t.target&&t.target.files?xu(t.target.files):[]).map((function(t){return Eu(t)}))}function Su(t,e){return l(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return t.items?(n=xu(t.items).filter((function(t){return"file"===t.kind})),"drop"!==e?[2,n]:[4,Promise.all(n.map(Au))]):[3,2];case 1:return[2,ku(Nu(r.sent()))];case 2:return[2,ku(xu(t.files).map((function(t){return Eu(t)})))]}}))}))}function ku(t){return t.filter((function(t){return-1===Cu.indexOf(t.name)}))}function xu(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function Au(t){if("function"!=typeof t.webkitGetAsEntry)return Ou(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?Du(e):Ou(t)}function Nu(t){return t.reduce((function(t,e){return d(t,Array.isArray(e)?Nu(e):[e])}),[])}function Ou(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Eu(e);return Promise.resolve(n)}function Ru(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,t.isDirectory?Du(t):Pu(t)]}))}))}function Du(t){var e=t.createReader();return new Promise((function(t,n){var r=[];!function i(){var o=this;e.readEntries((function(e){return l(o,void 0,void 0,(function(){var o,s,a;return h(this,(function(u){switch(u.label){case 0:if(e.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),t(o),[3,4];case 3:return s=u.sent(),n(s),[3,4];case 4:return[3,6];case 5:a=Promise.all(e.map(Ru)),r.push(a),i(),u.label=6;case 6:return[2]}}))}))}),(function(t){n(t)}))}()}))}function Pu(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){return[2,new Promise((function(e,n){t.file((function(n){var r=Eu(n,t.fullPath);e(r)}),(function(t){n(t)}))}))]}))}))}function Mu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Lu=function(t){t=Array.isArray(t)&&1===t.length?t[0]:t;var e=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:"file-invalid-type",message:"File type must be ".concat(e)}},Fu=function(t){return{code:"file-too-large",message:"File is larger than ".concat(t," bytes")}},ju=function(t){return{code:"file-too-small",message:"File is smaller than ".concat(t," bytes")}},Vu={code:"too-many-files",message:"Too many files"};function Uu(t,e){var n="application/x-moz-file"===t.type||function(t,e){if(t&&e){const n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some(t=>{const e=t.trim();return"."===e.charAt(0)?r.toLowerCase().endsWith(e.toLowerCase()):e.endsWith("/*")?o===e.replace(/\/.*$/,""):i===e})}return!0}(t,e);return[n,n?null:Lu(e)]}function Bu(t,e,n){if(Hu(t.size))if(Hu(e)&&Hu(n)){if(t.size>n)return[!1,Fu(n)];if(t.size<e)return[!1,ju(e)]}else{if(Hu(e)&&t.size<e)return[!1,ju(e)];if(Hu(n)&&t.size>n)return[!1,Fu(n)]}return[!0,null]}function Hu(t){return null!=t}function zu(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize;return!(!t.multiple&&e.length>1)&&e.every((function(t){var e=Mu(Uu(t,n),1)[0],o=Mu(Bu(t,r,i),1)[0];return e&&o}))}function qu(t){return"function"==typeof t.isPropagationStopped?t.isPropagationStopped():void 0!==t.cancelBubble&&t.cancelBubble}function Wu(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,(function(t){return"Files"===t||"application/x-moz-file"===t})):!!t.target&&!!t.target.files}function Ku(t){t.preventDefault()}function Gu(t){return-1!==t.indexOf("MSIE")||-1!==t.indexOf("Trident/")}function Xu(t){return-1!==t.indexOf("Edge/")}function Yu(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return Gu(t)||Xu(t)}function Qu(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.some((function(e){return!qu(t)&&e&&e.apply(void 0,[t].concat(r)),qu(t)}))}}function Zu(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function Ju(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function $u(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function tc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?$u(n,!0).forEach((function(e){ec(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):$u(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function ec(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function nc(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var rc=r.forwardRef((function(t,e){var n=t.children,o=oc(nc(t,["children"])),s=o.open,a=nc(o,["open"]);return r.useImperativeHandle(e,(function(){return{open:s}}),[s]),i.createElement(r.Fragment,null,n(tc({},a,{open:s})))}));rc.displayName="Dropzone",rc.propTypes={children:pa.func,accept:pa.oneOfType([pa.string,pa.arrayOf(pa.string)]),multiple:pa.bool,preventDropOnDocument:pa.bool,noClick:pa.bool,noKeyboard:pa.bool,noDrag:pa.bool,noDragEventsBubbling:pa.bool,minSize:pa.number,maxSize:pa.number,disabled:pa.bool,getFilesFromEvent:pa.func,onFileDialogCancel:pa.func,onDragEnter:pa.func,onDragLeave:pa.func,onDragOver:pa.func,onDrop:pa.func,onDropAccepted:pa.func,onDropRejected:pa.func};var ic={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function oc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accept,n=t.disabled,i=void 0!==n&&n,o=t.getFilesFromEvent,s=void 0===o?Iu:o,a=t.maxSize,u=void 0===a?1/0:a,c=t.minSize,l=void 0===c?0:c,h=t.multiple,f=void 0===h||h,p=t.onDragEnter,d=t.onDragLeave,v=t.onDragOver,g=t.onDrop,y=t.onDropAccepted,m=t.onDropRejected,b=t.onFileDialogCancel,w=t.preventDropOnDocument,_=void 0===w||w,E=t.noClick,C=void 0!==E&&E,I=t.noKeyboard,T=void 0!==I&&I,S=t.noDrag,k=void 0!==S&&S,x=t.noDragEventsBubbling,A=void 0!==x&&x,N=r.useRef(null),O=r.useRef(null),R=r.useReducer(sc,ic),D=Ju(R,2),P=D[0],M=D[1],L=P.isFocused,F=P.isFileDialogActive,j=P.draggedFiles,V=r.useCallback((function(){O.current&&(M({type:"openDialog"}),O.current.value=null,O.current.click())}),[M]),U=function(){F&&setTimeout((function(){O.current&&(O.current.files.length||(M({type:"closeDialog"}),"function"==typeof b&&b()))}),300)};r.useEffect((function(){return window.addEventListener("focus",U,!1),function(){window.removeEventListener("focus",U,!1)}}),[O,F,b]);var B=r.useCallback((function(t){N.current&&N.current.isEqualNode(t.target)&&(32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),V()))}),[N,O]),H=r.useCallback((function(){M({type:"focus"})}),[]),z=r.useCallback((function(){M({type:"blur"})}),[]),q=r.useCallback((function(){C||(Yu()?setTimeout(V,0):V())}),[O,C]),W=r.useRef([]),K=function(t){N.current&&N.current.contains(t.target)||(t.preventDefault(),W.current=[])};r.useEffect((function(){return _&&(document.addEventListener("dragover",Ku,!1),document.addEventListener("drop",K,!1)),function(){_&&(document.removeEventListener("dragover",Ku),document.removeEventListener("drop",K))}}),[N,_]);var G=r.useCallback((function(t){t.preventDefault(),t.persist(),tt(t),W.current=[].concat(Zu(W.current),[t.target]),Wu(t)&&Promise.resolve(s(t)).then((function(e){qu(t)&&!A||(M({draggedFiles:e,isDragActive:!0,type:"setDraggedFiles"}),p&&p(t))}))}),[s,p,A]),X=r.useCallback((function(t){if(t.preventDefault(),t.persist(),tt(t),t.dataTransfer)try{t.dataTransfer.dropEffect="copy"}catch(t){}return Wu(t)&&v&&v(t),!1}),[v,A]),Y=r.useCallback((function(t){t.preventDefault(),t.persist(),tt(t);var e=W.current.filter((function(t){return N.current&&N.current.contains(t)})),n=e.indexOf(t.target);-1!==n&&e.splice(n,1),W.current=e,e.length>0||(M({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),Wu(t)&&d&&d(t))}),[N,d,A]),Q=r.useCallback((function(t){t.preventDefault(),t.persist(),tt(t),W.current=[],Wu(t)&&Promise.resolve(s(t)).then((function(n){if(!qu(t)||A){var r=[],i=[];n.forEach((function(t){var n=Ju(Uu(t,e),2),o=n[0],s=n[1],a=Ju(Bu(t,l,u),2),c=a[0],h=a[1];if(o&&c)r.push(t);else{var f=[s,h].filter((function(t){return t}));i.push({file:t,errors:f})}})),!f&&r.length>1&&(r.forEach((function(t){i.push({file:t,errors:[Vu]})})),r.splice(0)),M({acceptedFiles:r,fileRejections:i,type:"setFiles"}),g&&g(r,i,t),i.length>0&&m&&m(i,t),r.length>0&&y&&y(r,t)}})),M({type:"reset"})}),[f,e,l,u,s,g,y,m,A]),Z=function(t){return i?null:t},J=function(t){return T?null:Z(t)},$=function(t){return k?null:Z(t)},tt=function(t){A&&t.stopPropagation()},et=r.useMemo((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refKey,n=void 0===e?"ref":e,r=t.onKeyDown,o=t.onFocus,s=t.onBlur,a=t.onClick,u=t.onDragEnter,c=t.onDragOver,l=t.onDragLeave,h=t.onDrop,f=nc(t,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return tc(ec({onKeyDown:J(Qu(r,B)),onFocus:J(Qu(o,H)),onBlur:J(Qu(s,z)),onClick:Z(Qu(a,q)),onDragEnter:$(Qu(u,G)),onDragOver:$(Qu(c,X)),onDragLeave:$(Qu(l,Y)),onDrop:$(Qu(h,Q))},n,N),i||T?{}:{tabIndex:0},{},f)}}),[N,B,H,z,q,G,X,Y,Q,T,k,i]),nt=r.useCallback((function(t){t.stopPropagation()}),[]),rt=r.useMemo((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.refKey,r=void 0===n?"ref":n,i=t.onChange,o=t.onClick,s=nc(t,["refKey","onChange","onClick"]),a=ec({accept:e,multiple:f,type:"file",style:{display:"none"},onChange:Z(Qu(i,Q)),onClick:Z(Qu(o,nt)),autoComplete:"off",tabIndex:-1},r,O);return tc({},a,{},s)}}),[O,e,f,Q,i]),it=j.length,ot=it>0&&zu({files:j,accept:e,minSize:l,maxSize:u,multiple:f}),st=it>0&&!ot;return tc({},P,{isDragAccept:ot,isDragReject:st,isFocused:L&&!i,getRootProps:et,getInputProps:rt,rootRef:N,inputRef:O,open:Z(V)})}function sc(t,e){switch(e.type){case"focus":return tc({},t,{isFocused:!0});case"blur":return tc({},t,{isFocused:!1});case"openDialog":return tc({},t,{isFileDialogActive:!0});case"closeDialog":return tc({},t,{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive;return tc({},t,{draggedFiles:e.draggedFiles,isDragActive:n});case"setFiles":return tc({},t,{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return tc({},t,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac=!1,uc="${JSCORE_VERSION}",cc=function(t,e){if(!t)throw lc(e)},lc=function(t){return new Error("Firebase Database ("+uc+") INTERNAL ASSERT FAILED: "+t)},hc=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},fc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hc(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},pc=function(t){try{return fc.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function dc(t){return vc(void 0,t)}function vc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=vc(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gc=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function mc(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yc())}function bc(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function wc(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function _c(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ec(){return!0===ac}function Cc(){return"indexedDB"in self&&null!==indexedDB}function Ic(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function Tc(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Sc=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,kc.prototype.create),i}return u(e,t),e}(Error),kc=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?xc(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new Sc(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function xc(t,e){return t.replace(Ac,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Ac=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nc(t){return JSON.parse(t)}function Oc(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Rc=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Nc(pc(o[0])||""),n=Nc(pc(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Dc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Pc(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Mc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Lc(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Fc=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function jc(t,e){var n=new Vc(t,e);return n.subscribe.bind(n)}var Vc=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Uc),void 0===r.error&&(r.error=Uc),void 0===r.complete&&(r.complete=Uc);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Uc(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bc=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function Hc(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function zc(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(Hc(t,e,r)+"must be a valid function.")}function qc(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(Hc(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wc=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},Kc=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),Gc=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new gc;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=c({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=f(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=p(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return l(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var Xc,Yc=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new Gc(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function Qc(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Zc,Jc=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(Zc||(Zc={}));var $c,tl={debug:Zc.DEBUG,verbose:Zc.VERBOSE,info:Zc.INFO,warn:Zc.WARN,error:Zc.ERROR,silent:Zc.SILENT},el=Zc.INFO,nl=((Xc={})[Zc.DEBUG]="log",Xc[Zc.VERBOSE]="log",Xc[Zc.INFO]="info",Xc[Zc.WARN]="warn",Xc[Zc.ERROR]="error",Xc),rl=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=nl[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,Qc(["["+i+"]  "+t.name+":"],n))}},il=function(){function t(t){this.name=t,this._logLevel=el,this._logHandler=rl,this._userLogHandler=null,Jc.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in Zc))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?tl[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qc([this,Zc.DEBUG],t)),this._logHandler.apply(this,Qc([this,Zc.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qc([this,Zc.VERBOSE],t)),this._logHandler.apply(this,Qc([this,Zc.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qc([this,Zc.INFO],t)),this._logHandler.apply(this,Qc([this,Zc.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qc([this,Zc.WARN],t)),this._logHandler.apply(this,Qc([this,Zc.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,Qc([this,Zc.ERROR],t)),this._logHandler.apply(this,Qc([this,Zc.ERROR],t))},t}();function ol(t){Jc.forEach((function(e){e.setLogLevel(t)}))}var sl,al=(($c={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",$c["bad-app-name"]="Illegal App name: '{$appName}",$c["duplicate-app"]="Firebase App named '{$appName}' already exists",$c["app-deleted"]="Firebase App named '{$appName}' already deleted",$c["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",$c["invalid-log-argument"]="First argument to `onLog` must be null or a function.",$c),ul=new kc("app","Firebase",al),cl=((sl={})["@firebase/app"]="fire-core",sl["@firebase/analytics"]="fire-analytics",sl["@firebase/auth"]="fire-auth",sl["@firebase/database"]="fire-rtdb",sl["@firebase/functions"]="fire-fn",sl["@firebase/installations"]="fire-iid",sl["@firebase/messaging"]="fire-fcm",sl["@firebase/performance"]="fire-perf",sl["@firebase/remote-config"]="fire-rc",sl["@firebase/storage"]="fire-gcs",sl["@firebase/firestore"]="fire-fst",sl["fire-js"]="fire-js",sl["firebase-wrapper"]="fire-js-all",sl),ll=new il("@firebase/app"),hl=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=dc(t),this.container=new Yc(e.name),this._addComponent(new Kc("app",(function(){return o}),"PUBLIC"));try{for(var s=f(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){ll.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw ul.create("app-deleted",{appName:this.name_})},t}();hl.prototype.name&&hl.prototype.options||hl.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function fl(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw ul.create("bad-app-name",{appName:String(s)});if(Dc(e,s))throw ul.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=cl[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void ll.warn(u.join(" "))}o(new Kc(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:ol,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw ul.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=tl[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:Zc[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=Jc;r<i.length;r++){n(i[r])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Dc(e,t=t||"[DEFAULT]"))throw ul.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return ll.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw ul.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&vc(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var l=f(Object.keys(e)),h=l.next();!h.done;h=l.next()){var p=h.value;e[p]._addComponent(o)}}catch(t){s={error:t}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pl=function t(){var e=fl(hl);return e.INTERNAL=c(c({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){vc(e,t)},createSubscribe:jc,ErrorFactory:kc,deepExtend:vc}),e}(),dl=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){ll.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var vl=self.firebase.SDK_VERSION;vl&&vl.indexOf("LITE")>=0&&ll.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gl=pl.initializeApp;pl.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return bc()&&ll.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),gl.apply(void 0,t)};var yl=pl;!function(t,e){t.INTERNAL.registerComponent(new Kc("platform-logger",(function(t){return new dl(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.10",e),t.registerVersion("fire-js","")}(yl),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Oa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=T+t,this.message=e||S[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new E(e.substring(T.length),t.message,t.serverResponse):null}_(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var I,T="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function A(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function R(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}I=x("__EID__")?"__EID__":void 0,_(N,Error),N.prototype.name="CustomError",_(O,N),O.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var L=new D((function(){return new j}),(function(t){t.reset()}));function F(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=L.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=V(t,e)}function W(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function G(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,J=/</g,$=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function ot(t,e){return t<e?-1:t>e?1:0}t:{var st=s.navigator;if(st){var at=st.userAgent;if(at){Y=at;break t}}Y=""}function ut(t){return it(Y,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ht(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===mt&&e||"",this.b=yt}function gt(t){return t instanceof vt&&t.constructor===vt&&t.b===yt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ra=!0,vt.prototype.qa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},mt={},bt=new vt(mt,"");function wt(t,e){this.a=t===St&&e||"",this.b=Tt}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=gt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof vt?gt(t):encodeURIComponent(String(t))})),new wt(St,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={},St={};function kt(t,e){this.a=t===Rt&&e||"",this.b=Ot}function xt(t){return t instanceof kt&&t.constructor===kt&&t.b===Ot?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}kt.prototype.ra=!0,kt.prototype.qa=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var At=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nt(t){return t instanceof kt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),At.test(t)||(t="about:invalid#zClosurez"),new kt(Rt,t))}var Ot={},Rt={};function Dt(){this.a="",this.b=Mt}function Pt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Mt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Lt(t){var e=new Dt;return e.a=t,e}Lt("<!DOCTYPE html>");var Ft=Lt("");function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace($,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function Ut(t){return Ut[" "](t),t}Lt("<br>"),Ut[" "]=c;var Bt,Ht,zt=ut("Opera"),qt=ut("Trident")||ut("MSIE"),Wt=ut("Edge"),Kt=Wt||qt,Gt=ut("Gecko")&&!(it(Y.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Xt=it(Y.toLowerCase(),"webkit")&&!ut("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Qt="",Zt=(Ht=Y,Gt?/rv:([^\);]+)(\)|;)/.exec(Ht):Wt?/Edge\/([\d\.]+)/.exec(Ht):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Xt?/WebKit\/(\S+)/.exec(Ht):zt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(Zt&&(Qt=Zt?Zt[1]:""),qt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(Qt)){Bt=String(Jt);break t}}Bt=Qt}var $t,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String(Bt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ot(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ot(0==s[2].length,0==a[2].length)||ot(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}$t=s.document&&qt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var ne=!qt||9<=Number($t);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ie(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var oe,se,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):U(le(o)?X(o):o,r)}}function ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function le(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function he(t){s.setTimeout((function(){throw t}),0)}function fe(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ce(document,"IFRAME");t.style.display="none",function(t){var e=new wt(St,gt(bt));dt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Pt(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=m((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}function pe(t,e){se||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);se=function(){t.then(ge)}}else se=function(){var t=ge;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!ut("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(oe||(oe=fe()),oe(t)):s.setImmediate(t)}}(),de||(se(),de=!0),ve.add(t,e)}var de=!1,ve=new M;function ge(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){he(t)}P(L,t)}de=!1}function ye(t,e){if(this.a=me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Ne(n,be,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ne(n,we,t)}))}catch(t){Ne(this,we,t)}}var me=0,be=2,we=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new D((function(){return new _e}),(function(t){t.reset()}));function Ce(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof ye)return t;var e=new ye(c);return Ne(e,be,t),e}function Te(t){return new ye((function(e,n){n(t)}))}function Se(t,e,n){Oe(t,e,n,null)||pe(b(e,t))}function ke(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function xe(t,e){t.b||t.a!=be&&t.a!=we||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,e,n,r){var i=Ce(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,xe(t,i),i.a}function Ne(t,e,n){t.a==me&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=we||n instanceof Fe||function(t,e){t.g=!0,pe((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof ye)return xe(t,Ce(e||c,n||null,r)),!0;if(A(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.ec,t))}function De(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Pe(t,e,n,r){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){Le.call(null,t)}P(Ee,e)}function Me(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ae(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).ma=function(t,e){return(t=Ce(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){if(this.a==me){var e=new Fe(t);pe((function(){!function t(e,n){if(e.a==me)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==me&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Pe(r,o,we,n)))}e.c=null}else Ne(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=me,Ne(this,be,t)},t.Zc=function(t){this.a=me,Ne(this,we,t)},t.ec=function(){for(var t;t=De(this);)Pe(this,t,this.a,this.i);this.h=!1};var Le=he;function Fe(t){N.call(this,t)}function je(){this.wa=this.wa,this.na=this.na}_(Fe,N),Fe.prototype.name="cancel";function Ve(t){if(!t.wa&&(t.wa=!0,t.Ba(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v)})(t)}je.prototype.wa=!1,je.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Ue=Object.freeze||function(t){return t},Be=!qt||9<=Number($t),He=qt&&!ee("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(t){}return t}();function qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function We(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{Ut(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}qe.prototype.preventDefault=function(){this.defaultPrevented=!0},_(We,qe);var Ke=Ue({2:"touch",3:"pen",4:"mouse"});We.prototype.preventDefault=function(){We.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},We.prototype.f=function(){return this.a};var Ge="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Xe,this.ua=this.Na=!1}function Qe(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function Je(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function $e(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=$e(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Ye(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var tn="closure_lm_"+(1e6*Math.random()|0),en={};function nn(t,e,n,r,i){if(r&&r.once)on(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,r,i);else n=dn(n),t&&t[Ge]?gn(t,e,n,p(r)?!!r.capture:!!r,i):rn(t,e,n,!1,r,i)}function rn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=fn(t);if(a||(t[tn]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=hn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(un(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function on(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=dn(n),t&&t[Ge]?yn(t,e,n,p(r)?!!r.capture:!!r,i):rn(t,e,n,!0,r,i)}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=dn(n),t&&t[Ge]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=$e(o=t.a[e],n,r,i))&&(Qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$e(e,n,r,i)),(n=-1<t?e[t]:null)&&an(n))}function an(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ge])Je(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(un(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fn(e))?(Je(n,t),0==n.b&&(n.src=null,e[tn]=null)):Qe(t)}}}function un(t){return t in en?en[t]:en[t]="on"+t}function cn(t,e,n,r){var i=!0;if((t=fn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=ln(o,r),i=i&&!1!==o)}return i}function ln(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&an(t),n.call(r,e)}function hn(t,e){if(t.ua)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new We(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=cn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=cn(r[i],t,!1,e),n=n&&o}return n}return ln(t,new We(e,this))}function fn(t){return(t=t[tn])instanceof Ze?t:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(t){return f(t)?t:(t[pn]||(t[pn]=function(e){return t.handleEvent(e)}),t[pn])}function vn(){je.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function gn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function yn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function mn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&Je(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function bn(t,e,n){if(f(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function wn(t){var e=null;return new ye((function(n,r){-1==(e=bn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function _n(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function En(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(vn,je),vn.prototype[Ge]=!0,vn.prototype.addEventListener=function(t,e,n,r){nn(this,t,e,n,r)},vn.prototype.removeEventListener=function(t,e,n,r){sn(this,t,e,n,r)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new qe(t,n);else if(t instanceof qe)t.target=t.target||n;else{var i=t;pt(t=new qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=mn(s,r,!0,t)&&i}if(i=mn(s=t.b=n,r,!0,t)&&i,i=mn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=mn(s=t.b=e[o],r,!1,t)&&i;return i},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Qe(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Cn.prototype).V=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Sn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof kn?(this.h=void 0!==e?e:t.h,xn(this,t.f),this.i=t.i,this.b=t.b,An(this,t.l),this.c=t.c,Nn(this,Yn(t.a)),this.g=t.g):t&&(n=String(t).match(Sn))?(this.h=!!e,xn(this,n[1]||"",!0),this.i=Mn(n[2]||""),this.b=Mn(n[3]||"",!0),An(this,n[4]),this.c=Mn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.g=Mn(n[7]||"")):(this.h=!!e,this.a=new zn(null,this.h))}function xn(t,e,n){t.f=n?Mn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function An(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Nn(t,e,n){e instanceof zn?(t.a=e,function(t,e){e&&!t.f&&(qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Kn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Ln(e,Bn)),t.a=new zn(e,t.h))}function On(t,e,n){t.a.set(e,n)}function Rn(t,e){return t.a.get(e)}function Dn(t){return t instanceof kn?new kn(t):new kn(t,void 0)}function Pn(t,e){var n=new kn(null,void 0);return xn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ln(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ln(e,jn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Ln(e,jn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ln(n,"/"==n.charAt(0)?Un:Vn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Ln(n,Hn)),t.join("")},kn.prototype.resolve=function(t){var e=new kn(this),n=!!t.f;n?xn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)An(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(it(i,"./")||it(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Nn(e,Yn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var jn=/[#\/\?@]/g,Vn=/[#\?:]/g,Un=/[#\?]/g,Bn=/[#\?@]/g,Hn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Wn(t){var e=En(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=_n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Kn(t,e){qn(t),e=Qn(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Gn(t,e){return qn(t),e=Qn(t,e),Tn(t.a.b,e)}function Xn(t,e,n){Kn(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),X(n)),t.b+=n.length)}function Yn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),er(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":er(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Jn,t,e),e.join("")}function Jn(){}(t=zn.prototype).add=function(t,e){qn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){qn(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){qn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){qn(this);var e=[];if("string"==typeof t)Gn(this,t)&&(e=G(e,this.a.get(Qn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return qn(this),this.c=null,Gn(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},tr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function er(t,e){e.push('"',t.replace(tr,(function(t){var e=$n[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),$n[t]=e),e})),'"')}function nr(){var t=_r();return qt&&!!$t&&11==$t||/Edge\/\d+/.test(t)}function rr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ir(t,e){e=e||s.window;var n="about:blank";t&&(n=xt(Nt(t))),e.location.href=n}function or(t){return!!((t=(t||_r()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function sr(t){t=t||s.window;try{t.close()}catch(t){}}function ar(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=_r().toLowerCase(),r&&(e.target=r,it(n,"crios/")&&(e.target="_blank")),mr(_r())==gr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Nt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(s=ce(document,"A"),"HTMLAnchorElement"),e instanceof kt||e instanceof kt||(e="object"==typeof e&&e.ra?e.qa():String(e),At.test(e)||(e="about:invalid#zClosurez"),e=new kt(Rt,e)),s.href=xt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=xt(e),s&&(Kt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Lt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),r=s.document)&&(r.write(Pt(t)),r.close())):(s=r.open(xt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cr=/^[^@]+@[^@]+$/;function lr(){var t=null;return new ye((function(e){"complete"==s.document.readyState?e():(t=function(){e()},on(window,"load",t))})).o((function(e){throw sn(window,"load",t),e}))}function hr(t){return t=t||_r(),!("file:"!==Sr()&&"ionic:"!==Sr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function pr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function dr(){return yl.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":yl.INTERNAL.hasOwnProperty("node")?"Node":pr()?"Worker":"Browser"}function vr(){var t=dr();return"ReactNative"===t||"Node"===t}var gr="Firefox",yr="Chrome";function mr(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?gr:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":yr:"Safari"}var br={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function wr(t,e){e=e||[];var n,r=[],i={};for(n in br)i[br[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=dr())?r=mr(i=_r()):"Worker"===r&&(r=mr(i=_r())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function _r(){return s.navigator&&s.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Or();if(t)return t.setItem(e,"1"),t.removeItem(e),!nr()||!!s.indexedDB}catch(t){return pr()&&!!s.indexedDB}return!1}function Ir(){return(Tr()||"chrome-extension:"===Sr()||hr())&&!vr()&&Cr()&&!pr()}function Tr(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return s.location&&s.location.protocol||null}function kr(t){return!or(t=t||_r())&&mr(t)!=gr}function xr(t){return void 0===t?null:Zn(t)}function Ar(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Nr(t){if(null!==t)return JSON.parse(t)}function Or(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=mr(t=t||_r())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Pr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=_r(),e=dr(),this.b=or(t)||"ReactNative"===e}function Mr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Lr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Fr(){return!(!Er("fireauth.oauthhelper",s)&&!Er("fireauth.iframe",s))}Pr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Tr()&&"chrome-extension:"!==Sr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Vr={};function Ur(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Br.abcd}catch(Ht){jr=!1}function Hr(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Hr(t,n,e[n])}function qr(t){var e={};return zr(e,t),e}function Wr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Hr(e,n,Wr(t[n]));return e}function Kr(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[Qr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Hr(this,"uid",t[Qr]),Hr(this,"displayName",t[Xr]||null);var n=null;t[Yr]&&(n=new Date(t[Yr]).toUTCString()),Hr(this,"enrollmentTime",n),Hr(this,"factorId",e)}function Gr(t){try{var e=new Jr(t)}catch(t){e=null}return e}Kr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Yr="enrolledAt",Qr="mfaEnrollmentId",Zr="phoneInfo";function Jr(t){Kr.call(this,t),Hr(this,"phoneNumber",t[Zr])}function $r(t){var e={},n=t[ri],r=t[oi],i=t[si];if(t=Gr(t[ii]),!i||i!=ei&&i!=ni&&!n||i==ni&&!r||i==ti&&!t)throw Error("Invalid checkActionCode response!");i==ni?(e[ui]=n||null,e[li]=n||null,e[ai]=r):(e[ui]=r||null,e[li]=r||null,e[ai]=n||null),e[ci]=t||null,Hr(this,fi,i),Hr(this,hi,Wr(e))}_(Jr,Kr),Jr.prototype.v=function(){var t=Jr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ti="REVERT_SECOND_FACTOR_ADDITION",ei="EMAIL_SIGNIN",ni="VERIFY_AND_CHANGE_EMAIL",ri="email",ii="mfaInfo",oi="newEmail",si="requestType",ai="email",ui="fromEmail",ci="multiFactorInfo",li="previousEmail",hi="data",fi="operation";function pi(t){var e=Rn(t=Dn(t),di)||null,n=Rn(t,vi)||null,r=Rn(t,mi)||null;if(r=r&&wi[r]||null,!e||!n||!r)throw new E("argument-error",di+", "+vi+"and "+mi+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,gi)||null,languageCode:Rn(t,yi)||null,tenantId:Rn(t,bi)||null})}var di="apiKey",vi="oobCode",gi="continueUrl",yi="languageCode",mi="mode",bi="tenantId",wi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ti,signIn:ei,verifyAndChangeEmail:ni,verifyEmail:"VERIFY_EMAIL"};function _i(t){try{return new pi(t)}catch(t){return null}}function Ei(t){var e=t[ki];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Ni];var r=n[xi];if(n=n[Ai],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",xi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Ai+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Si])&&"object"==typeof e){if("string"==typeof(e=e[Oi])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Oi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Si+" property must be a non null object when specified.");if(void 0!==(e=t[Ti])&&"boolean"!=typeof e)throw new E("argument-error",Ti+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ii])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ii+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",Ii="dynamicLinkDomain",Ti="handleCodeInApp",Si="iOS",ki="url",xi="installApp",Ai="minimumVersion",Ni="packageName",Oi="bundleId";function Ri(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Di=null;function Pi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Di[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Mi(t){var e=Fi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Li(t){try{return new Mi(t)}catch(t){return null}}function Fi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Pi(t))}catch(t){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],Ui={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:ji},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Bi(t){for(var e in Ui)if(Ui[e].ea==t)return Ui[e];return null}function Hi(t){var e={};e["facebook.com"]=Gi,e["google.com"]=Yi,e["github.com"]=Xi,e["twitter.com"]=Qi;var n=t&&t[qi];try{if(n)return e[n]?new e[n](t):new Ki(t);if(void 0!==t[zi])return new Wi(t)}catch(t){}return null}var zi="idToken",qi="providerId";function Wi(t){var e=t[qi];if(!e&&t[zi]){var n=Li(t[zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Hr(this,"providerId",e),Hr(this,"isNewUser",n)}function Ki(t){Wi.call(this,t),Hr(this,"profile",Wr((t=Nr(t.rawUserInfo||"{}"))||{}))}function Gi(t){if(Ki.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Ki.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",this.profile&&this.profile.login||null)}function Yi(t){if(Ki.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if(Ki.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",t.screenName||null)}function Zi(t){var e=Dn(t),n=Rn(e,"link"),r=Rn(Dn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Dn(e),"link")||e||r||n||t}function Ji(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?$i:to}_(Ki,Wi),_(Gi,Ki),_(Xi,Ki),_(Yi,Ki),_(Qi,Ki);var $i="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[qs]){var n=Li(t[qs]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new E("user-mismatch"):t}))}function ro(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Hr(this,"providerId",t),Hr(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(t){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Hr(this,"idToken",e.idToken),e.accessToken&&Hr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Hr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Hr(this,"accessToken",e.oauthToken),Hr(this,"secret",e.oauthTokenSecret)}Hr(this,"providerId",t),Hr(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Wn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function uo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(t){}}return null}function co(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Bi(t)||{}).Ha||null,this.kb=null}function lo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,t,[])}function ho(t){co.call(this,t,Vi),this.a=[]}function fo(){ho.call(this,"facebook.com")}function po(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new fo).credential({accessToken:e})}function vo(){ho.call(this,"github.com")}function go(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function yo(){ho.call(this,"google.com"),this.Aa("profile")}function mo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function bo(){co.call(this,"twitter.com",ji)}function wo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function _o(t,e,n){this.a=t,this.f=e,Hr(this,"providerId","password"),Hr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(t){return t&&t.email&&t.password?new _o(t.email,t.password,t.signInMethod):null}function Co(){zr(this,{providerId:"password",isOAuthProvider:!1})}function Io(t,e){if(!(e=To(e)))throw new E("argument-error","Invalid email link!");return new _o(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=_i(t=Zi(t)))&&t.operation===ei?t:null}function So(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,Hr(this,"providerId","phone"),this.ea="phone",Hr(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new So(e)}return null}function xo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ao(t){try{this.a=t||yl.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new So({bb:t,ab:e})}function Oo(t){if(t.temporaryProof&&t.phoneNumber)return new So({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return mo(o,n);case"facebook.com":return po(n);case"github.com":return go(n);case"twitter.com":return wo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ro(e,s):new so(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ro(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Do(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}Ji.prototype.Fa=function(){return this.a?Ie(this.a):Ie(this.b)},Ji.prototype.v=function(){return this.type==$i?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},ro.prototype.ia=function(t){return la(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,ha(t,n)},ro.prototype.c=function(t,e){return no(fa(t,io(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return la(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,ha(t,n)},so.prototype.c=function(t,e){return no(fa(t,ao(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},co.prototype.Ia=function(t){return this.Fb=ht(t),this},_(lo,co),_(ho,co),ho.prototype.Aa=function(t){return q(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return X(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},_(fo,ho),Hr(fo,"PROVIDER_ID","facebook.com"),Hr(fo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(vo,ho),Hr(vo,"PROVIDER_ID","github.com"),Hr(vo,"GITHUB_SIGN_IN_METHOD","github.com"),_(yo,ho),Hr(yo,"PROVIDER_ID","google.com"),Hr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(bo,co),Hr(bo,"PROVIDER_ID","twitter.com"),Hr(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),_o.prototype.ia=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Ga(t,wa,{email:this.a,oobCode:this.f}):Ga(t,Ha,{email:this.a,password:this.f})},_o.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Ga(t,_a,{idToken:e,email:this.a,oobCode:this.f}):Ga(t,Pa,{idToken:e,email:this.a,password:this.f})},_o.prototype.c=function(t,e){return no(this.ia(t),e)},_o.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Co,{PROVIDER_ID:"password"}),zr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ia=function(t){return t.cb(xo(this))},So.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,Ga(t,qa,n)},So.prototype.c=function(t,e){var n=xo(this);return n.operation="REAUTH",no(t=Ga(t,Wa,n),e)},So.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ao.prototype.cb=function(t,e){var n=this.a.b;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==$i?i.Fa().then((function(t){return function(t,e){return Ga(t,La,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==to?i.Fa().then((function(e){return function(t,e){return Ga(t,Fa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ga(t,Ra,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Ao,{PROVIDER_ID:"phone"}),zr(Ao,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Lo,Fo=null;function jo(t){var e="unauthorized-domain",n=void 0,r=Dn(t);t=r.b,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Vo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&Hr(this,"email",t.Gb),t.da&&Hr(this,"phoneNumber",t.da),t.credential&&Hr(this,"credential",t.credential),t.Wb&&Hr(this,"tenantId",t.Wb)}function Uo(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:Oo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Bo(){}function Ho(t){return t.c||(t.c=t.b())}function zo(){}function qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Wo(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.oc,this),this.a.onerror=m(this.Pb,this),this.a.onprogress=m(this.pc,this),this.a.ontimeout=m(this.tc,this)}function Go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Qo(t,e){this.name=t,this.value=e}_(jo,E),_(Vo,E),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},Vo.prototype.toJSON=function(){return this.v()},Bo.prototype.c=null,_(zo,Bo),zo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Lo=new zo,_(Wo,Bo),Wo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Go(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Go(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,r,i){delete this.a},Qo.prototype.toString=function(){return this.name};var Zo=new Qo("SEVERE",1e3),Jo=new Qo("WARNING",900),$o=new Qo("CONFIG",700),ts=new Qo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var es={},ns=null;function rs(t){var e;if(ns||(ns=new Yo(""),es[""]=ns,ns.c=$o),!(e=es[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=rs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,es[t]=e}return e}function is(t,e){t&&t.log(ts,e,void 0)}function os(t){this.f=t}function ss(t){vn.call(this),this.s=t,this.readyState=as,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=rs("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(os,Bo),os.prototype.a=function(){return new ss(this.f)},os.prototype.b=function(t){return function(){return t}}({}),_(ss,vn);var as=0;function us(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function cs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ls(t)}function ls(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function hs(t){vn.call(this),this.headers=new Cn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=fs,this.w=this.R=!1}(t=ss.prototype).open=function(t,e){if(this.readyState!=as)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ls(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,cs(this,!1)),this.readyState=as},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ls(this)),this.a&&(this.readyState=3,ls(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,us(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?cs(this,!0):ls(this),3==this.readyState&&us(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,cs(this,!0))},t.qc=function(t){this.a&&(this.response=t,cs(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Jo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&cs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Jo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Jo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(hs,vn);var fs="";hs.prototype.b=rs("goog.net.XhrIo");var ps=/^https?$/i,ds=["POST","PUT"];function vs(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Lo.a(),t.B=t.D?Ho(t.D):Ho(Lo),t.a.onreadystatechange=m(t.Sb,t);try{is(t.b,Is(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return is(t.b,Is(t,"Error opening Xhr: "+e.message)),void ys(t,e)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)U(t,e,void 0);else for(var n=En(t),r=_n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=gs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!q(ds,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_s(t),0<t.g&&(t.w=function(t){return qt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),is(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ka,t)):t.s=bn(t.Ka,t.g,t)),is(t.b,Is(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){is(t.b,Is(t,"Send error: "+e.message)),ys(t,e)}}function gs(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ms(t),ws(t)}function ms(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bs(t){if(t.c&&void 0!==o)if(t.B[1]&&4==Es(t)&&2==Cs(t))is(t.b,Is(t,"Local request error detected and ignored"));else if(t.i&&4==Es(t))bn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Es(t)){is(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Cs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Sn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ps.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Es(t)?t.a.statusText:""}catch(e){is(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Cs(t)+"]",ms(t)}}finally{ws(t)}}}function ws(t,e){if(t.a){_s(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function _s(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Es(t){return t.a?t.a.readyState:0}function Cs(t){try{return 2<Es(t)?t.a.status:-1}catch(t){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Cs(t)+"]"}function Ts(t){var e=Ls;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ss(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function ks(t){if(t.a){if(!t.u)throw new Os(t);t.u=!1}}function xs(t,e,n,r){t.g.push([e,n,r]),t.a&&Ns(t)}function As(t){return z(t.g,(function(t){return f(t[1])}))}function Ns(t){if(t.h&&t.a&&As(t)){var e=t.h,n=Ps[e];n&&(s.clearTimeout(n.a),delete Ps[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(A(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,As(t)||(n=!0)}}t.c=e,r&&(u=m(t.m,t,!0),r=m(t.m,t,!1),e instanceof Ts?(xs(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Ds(e),Ps[e.a]=e,t.h=e.a)}function Os(){N.call(this)}function Rs(){N.call(this)}function Ds(t){this.a=s.setTimeout(m(this.c,this),0),this.b=t}(t=hs.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",is(this.b,Is(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(is(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),hs.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?bs(this):this.Hc())},t.Hc=function(){bs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return is(this.b,"Can not get response: "+t.message),null}},Ts.prototype.cancel=function(t){if(this.a)this.c instanceof Ts&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Rs(this),ks(this),Ss(this,!1,t))}},Ts.prototype.m=function(t,e){this.i=!1,Ss(this,t,e)},Ts.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return xs(this,r,(function(t){t instanceof Rs?o.cancel():i(t)})),o.then(t,e,n)},Ts.prototype.$goog_Thenable=!0,_(Os,N),Os.prototype.message="Deferred has already fired",Os.prototype.name="AlreadyCalledError",_(Rs,N),Rs.prototype.message="Deferred was canceled",Rs.prototype.name="CanceledError",Ds.prototype.c=function(){throw delete Ps[this.a],this.b};var Ps={};function Ms(t){var e,n=document,r=_t(t).toString(),i=ce(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Ts(o);return e=window.setTimeout((function(){Fs(i,!0);var t=new Us(Vs,"Timeout reached for loading script "+r);ks(c),Ss(c,!1,t)}),5e3),o.Ka=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Fs(i,!1,e),ks(c),Ss(c,!0,null))},i.onerror=function(){Fs(i,!0,e);var t=new Us(js,"Error while loading script "+r);ks(c),Ss(c,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ie(i,o),function(t,e){dt(t,"HTMLScriptElement"),t.src=_t(e),null===u&&(u=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Ls(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Fs(t,!0,this.Ka)}}function Fs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var js=0,Vs=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Bs(t){this.f=t}function Hs(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ws,this.g=ht(t.secureTokenHeaders||Ks),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Gs,this.a=ht(t.firebaseHeaders||Xs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==dr(),!(n=s.XMLHttpRequest||n&&yl.INTERNAL.node&&yl.INTERNAL.node.XMLHttpRequest)&&!pr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,pr()?this.f=new os(self):vr()?this.f=new Bs(n):this.f=new Wo,this.b=null}_(Us,N),_(Bs,Bo),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var zs,qs="idToken",Ws=new Pr(3e4,6e4),Ks={"Content-Type":"application/x-www-form-urlencoded"},Gs=new Pr(3e4,6e4),Xs={"Content-Type":"application/json"};function Ys(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Zs(t,e,n,r,i,o,a){(function(){var t=_r();return!((t=mr(t)!=yr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!qt||!$t||9<$t)})()||pr()?t=m(t.w,t):(zs||(zs=new ye((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[$s]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){xs(t,null,e,void 0)}(Ms(Et(Js,{onload:$s})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=m(t.s,t)),t(e,n,r,i,o,a)}Hs.prototype.S=function(){return this.b},Hs.prototype.w=function(t,e,n,r,i,o){if(pr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new hs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}gn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return is(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),yn(a,"ready",(function(){u&&clearTimeout(u),Ve(this)})),yn(a,"timeout",(function(){u&&clearTimeout(u),Ve(this),e&&e(null)})),vs(a,t,n,r,i)};var Js=new vt(mt,"https://apis.google.com/js/client.js?onload=%{onload}"),$s="__fcb"+Math.floor(1e6*Math.random()).toString();function ta(t,e,n,r,i,o,s){var a=Dn(e+n);On(a,"key",t.c),s&&On(a,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(a,c,i[c]);return new ye((function(e,n){Zs(t,a.toString(),(function(t){t?t.error?n(Ya(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Zn(Ar(i)),t.a,t.i.get())}))}function ea(t){if("string"!=typeof(t=t.email)||!cr.test(t))throw new E("invalid-email")}function na(t){"email"in t&&ea(t)}function ra(t){if(!t[qs]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ht(t));throw new E("internal-error")}}function ia(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Hs.prototype.s=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Hs.prototype.vb=function(){return Ga(this,Ma,{})},Hs.prototype.xb=function(t,e){return Ga(this,Da,{idToken:t,email:e})},Hs.prototype.yb=function(t,e){return Ga(this,Pa,{idToken:t,password:e})};var oa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function sa(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function aa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ua(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Gn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ca(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Uo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Uo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Uo(t)):t.errorMessage&&(e=Xa(t.errorMessage)),e)throw e;ra(t)}function la(t,e){return e.returnIdpCredential=!0,Ga(t,ja,e)}function ha(t,e){return e.returnIdpCredential=!0,Ga(t,Ua,e)}function fa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ga(t,Va,e)}function pa(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Hs.prototype).zb=function(t,e){var n={idToken:t},r=[];return ct(oa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ga(this,Da,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Ga(this,xa,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ga(this,Ta,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ga(this,Sa,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ga(this,ka,t)},t.cb=function(t){return Ga(this,za,t)},t.jb=function(t,e){return Ga(this,Oa,{oobCode:t,newPassword:e})},t.Pa=function(t){return Ga(this,va,{oobCode:t})},t.fb=function(t){return Ga(this,da,{oobCode:t})};var da={endpoint:"setAccountInfo",A:pa,Y:"email",C:!0},va={endpoint:"resetPassword",A:pa,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},ga={endpoint:"signupNewUser",A:function(t){if(ea(t),!t.password)throw new E("weak-password")},G:ra,U:!0,C:!0},ya={endpoint:"createAuthUri",C:!0},ma={endpoint:"deleteAccount",M:["idToken"]},ba={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},wa={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ea,G:ra,U:!0,C:!0},_a={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ea,G:ra,U:!0},Ea={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:sa,G:ra,C:!0,La:!0},Ca={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:sa,G:ra,C:!0,La:!0},Ia={endpoint:"getAccountInfo"},Ta={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ea(t)},Y:"email",C:!0},Sa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},xa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ea(t)},Y:"email",C:!0},Aa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Na={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Oa={endpoint:"resetPassword",A:pa,Y:"email",C:!0},Ra={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Da={endpoint:"setAccountInfo",M:["idToken"],A:na,U:!0},Pa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(na(t),!t.password)throw new E("weak-password")},G:ra,U:!0},Ma={endpoint:"signupNewUser",G:ra,U:!0,C:!0},La={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Fa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},ja={endpoint:"verifyAssertion",A:aa,Wa:ua,G:ca,U:!0,C:!0},Va={endpoint:"verifyAssertion",A:aa,Wa:ua,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Xa(t.errorMessage);ra(t)},U:!0,C:!0},Ua={endpoint:"verifyAssertion",A:function(t){if(aa(t),!t.idToken)throw new E("internal-error")},Wa:ua,G:ca,U:!0},Ba={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ra,U:!0,C:!0},Ha={endpoint:"verifyPassword",A:function(t){if(ea(t),!t.password)throw new E("wrong-password")},G:ra,U:!0,C:!0},za={endpoint:"verifyPhoneNumber",A:ia,G:ra,C:!0},qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");ia(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Uo(t);ra(t)}},Wa={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ia,G:ra,C:!0},Ka={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[qs]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Ga(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Te(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ie(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ta(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]}))}function Xa(t){return Ya({error:{errors:[{message:t}],code:400,message:t}})}function Ya(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=xr(t)),new E("internal-error",e)}function Qa(t){this.b=t,this.a=null,this.nb=function(t){return(tu||(tu=new ye((function(t,e){function n(){Dr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Dr(),e(Error("Network Error"))},timeout:Ja.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},Ie(Ms(r=Et(Za,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw tu=null,t})))).then((function(){return new ye((function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),$a.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Za=new vt(mt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ja=new Pr(3e4,6e4),$a=new Pr(5e3,15e3),tu=null;function eu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Pn(this.i,"/__/auth/iframe"),On(this.a,"apiKey",this.g),On(this.a,"appName",this.h),this.b=null,this.c=[]}function nu(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ru(t){try{return yl.app(t).auth().Ea()}catch(t){return[]}}function iu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function ou(t){var e=rr();return function(t){return Ga(t,Aa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Dn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Dn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:ur.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new jo(rr())}))}function su(t){return t.l||(t.l=lr().then((function(){if(!t.s){var e=t.c,n=t.h,r=ru(t.b),i=new eu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=X(r||[]),t.s=i.toString()}t.i=new Qa(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.l}function au(t){return t.m||(t.w=t.c?wr(t.c,ru(t.b)):null,t.m=new Hs(t.f,x(t.h),t.w)),t.m}function uu(t,e,n,r,i,o,s,a,u,c,l){return(t=new nu(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=ht(u||null),t.f=c,t.ub(l).toString()}function cu(t){if(this.a=t||yl.INTERNAL.reactNative&&yl.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lu(t){this.b=t,this.a={},this.f=m(this.c,this)}eu.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Kn(this.a.a,"v"),this.b?On(this.a,"eid",this.b):Kn(this.a.a,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Kn(this.a.a,"fw"),this.a.toString()},nu.prototype.ub=function(t){return this.h=t,this},nu.prototype.toString=function(){var t=Pn(this.s,"/__/auth/handler");if(On(t,"apiKey",this.m),On(t,"appName",this.c),On(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=yl.app(this.c).auth().ja()}catch(t){n=null}for(var r in e.kb=n,On(t,"providerId",this.a.providerId),n=Ar((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=ht(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),lt(n)||On(t,"customParameters",xr(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&On(t,"scopes",e.join(","))),this.l?On(t,"redirectUrl",this.l):Kn(t.a,"redirectUrl"),this.g?On(t,"eventId",this.g):Kn(t.a,"eventId"),this.i?On(t,"v",this.i):Kn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Rn(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):Kn(t.a,"tid"),this.f?On(t,"eid",this.f):Kn(t.a,"eid"),(s=ru(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=iu.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return su(t).then((function(){return function(t,e){return t.nb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&sr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ye((function(e){return function n(){wn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return wn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=_r();return!kr(t)&&!Rr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Te(new E("popup-blocked"));if(s&&!kr())return this.ka().o((function(e){sr(t),i(e)})),r(),Ie();this.a||(this.a=ou(au(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw sr(t),i(e),e}));return r(),e})).then((function(){(Ro(n),s)||ir(uu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=ou(au(this)));var i=this;return this.a.then((function(){Ro(e),ir(uu(i.u,i.f,i.b,t,e,rr(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return su(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=cu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Nr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,xr(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var hu,fu=[];function pu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function du(t){this.a=t}function vu(t){this.c=t,this.b=!1,this.a=[]}function gu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return yu(t,c),e})).o((function(e){throw yu(t,c),e}))}function yu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(t.a,(function(t){return t==e}))}}function mu(){if(!_u())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;pr()&&self?(this.l=function(){var t=pr()?self:null;if(U(fu,(function(n){n.b==t&&(e=n)})),!e){var e=new lu(t);fu.push(e)}return e}(),pu(this.l,"keyChanged",(function(e,n){return Su(t).then((function(e){return 0<e.length&&U(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),pu(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new vu(new du(e)),gu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function bu(t){return new ye((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return bu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function wu(t){return t.m||(t.m=bu(t)),t.m}function _u(){try{return!!s.indexedDB}catch(t){return!1}}function Eu(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Iu(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Tu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?gu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ie()}function Su(t){return wu(t).then((function(t){var e=Eu(Cu(t,!1));return e.getAll?Iu(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ku(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function xu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(_u()){var t=Or(),r="__sak"+t;return hu||(hu=new mu),(n=hu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){U(e.a,(function(e){e(t)}))})),t}))}function Au(){this.a={},this.type="inMemory"}function Nu(){if(!function(){var t="Node"==dr();if(!(t=Ou()||t&&yl.INTERNAL.node&&yl.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==dr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Ou()||yl.INTERNAL.node.localStorage,this.type="localStorage"}function Ou(){try{var t=s.localStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==dr();if(!(t=Pu()||t&&yl.INTERNAL.node&&yl.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==dr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Pu()||yl.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Pu(){try{var t=s.sessionStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=ju,t.Node=Vu,t.ReactNative=Uu,t.Worker=Bu,this.a=t[dr()]}lu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];U(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),ke(i).then((function(r){var i=[];U(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),U(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},du.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vu.prototype.close=function(){for(;0<this.a.length;)yu(this,this.a[0]);this.b=!0},(t=mu.prototype).set=function(t,e){var n,r=!1,i=this;return wu(this).then((function(e){return Iu((e=Eu(Cu(n=e,!0))).get(t))})).then((function(o){var s=Eu(Cu(n,!0));return o?(o.value=e,Iu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Iu(s.add(o)))})).then((function(){return i.c[t]=e,Tu(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return wu(this).then((function(e){return Iu(Eu(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return wu(this).then((function(r){return e=!0,n.b++,Iu(Eu(Cu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Tu(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){ku(t),function e(){t.f=setTimeout((function(){t.i=Su(t).then((function(e){0<e.length&&U(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&ku(this)},(t=xu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=Au.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ba=function(){},t.ha=function(){},(t=Nu.prototype).get=function(t){var e=this;return Ie().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=xr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&nn(s.window,"storage",t)},t.ha=function(t){s.window&&sn(s.window,"storage",t)},(t=Ru.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ba=function(){},t.ha=function(){},(t=Du.prototype).get=function(t){var e=this;return Ie().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=xr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Lu,Fu,ju={F:Nu,$a:Du},Vu={F:Nu,$a:Du},Uu={F:cu,$a:Ru},Bu={F:Nu,$a:Ru},Hu={od:"local",NONE:"none",qd:"session"};function zu(){var t=!(Rr(_r())||!fr()),e=kr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Lu||(Lu=new Mu),t=Lu;try{this.g=!nr()&&Fr()||!s.indexedDB?new t.a.F:new xu(pr()?new Au:new t.a.F)}catch(t){this.g=new Au,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Au}this.u=new Au,this.f=m(this.Vb,this),this.b={}}function qu(){return Fu||(Fu=new zu),Fu}function Wu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ku(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Gu(t,e,n){return n=Ku(e,n),"local"==e.F&&(t.b[n]=null),Wu(t,e.F).T(n)}function Xu(t){t.c&&(clearInterval(t.c),t.c=null)}function Yu(t){this.a=t,this.b=qu()}(t=zu.prototype).get=function(t,e){return Wu(this,t.F).get(Ku(t,e))},t.set=function(t,e,n){var r=Ku(t,n),i=this,o=Wu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Ku(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(Wu(this,"local").ba(this.f),this.h||(nr()||!Fr())&&s.indexedDB||!this.l||function(t){Xu(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new We({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ku(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(Wu(this,"local").ha(this.f),Xu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wu(this,"local").ha(this.f):Xu(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},qt&&$t&&10==$t&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,m(this.ib,this))},t.ib=function(t){this.a[t]&&U(this.a[t],(function(t){t()}))};var Qu,Zu={name:"authEvent",F:"local"};function Ju(){this.a=qu()}function $u(t,e){this.b=tc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Qu&&(Qu=s.Int32Array?new Int32Array(ac):ac),this.reset()}_($u,(function(){this.b=-1}));for(var tc=64,ec=tc-1,nc=[],rc=0;rc<ec;rc++)nc[rc]=0;var ic=G(128,nc);function oc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Qu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(oc(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(oc(t),i=0)}}t.c=i,t.g+=n}$u.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var ac=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function uc(){$u.call(this,8,cc)}_(uc,$u);var cc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function lc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Ju,this.g=new Yu(this.h),this.f=null,this.b=[],this.a=this.c=null}function hc(t){return new E("invalid-cordova-configuration",t)}function fc(t){var e=new uc;sc(e,t),t=[];var n=8*e.g;56>e.c?sc(e,ic,56-e.c):sc(e,ic,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(oc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function pc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function dc(t){return t.f||(t.f=t.ka().then((function(){return new ye((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),vc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Zi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Nr(Rn(o=Dn(i),"firebaseError")||null))?C(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}pc(t,i)}))}var n=new Do("unknown",null,null,null,new E("no-auth-event")),r=!1,i=wn(500).then((function(){return vc(t).then((function(){r||pc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Fo||(Fo=new Mo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function vc(t){var e=null;return function(t){return t.b.get(Zu,t.a).then((function(t){return Po(t)}))}(t.g).then((function(n){return e=n,Gu((n=t.g).b,Zu,n.a)})).then((function(){return e}))}function gc(t){this.a=t,this.b=qu()}(t=lc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(hr(void 0)?lr().then((function(){return new ye((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",s))throw hc("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",s))throw hc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",s))throw hc("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",s))throw hc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Ie()},t.Jb=function(){return Te(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Te(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ie().then((function(){return Ro(e),dc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Do(e,r,null,o,new E("no-auth-event"),null,i),u=Er("BuildInfo.packageName",s);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Er("BuildInfo.displayName",s),l={};if(_r().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!_r().toLowerCase().match(/android/))return Te(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=fc(o),l.sessionId=o;var h=uu(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Zu,a.v(),e)})).then((function(){var e=Er("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=_r(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=Er("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),c=function(){a||(a=wn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},l=function(){Mr()&&c()},o.addEventListener("resume",c,!1),_r().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return vc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),dc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var yc={name:"pendingRedirect",F:"session"};function mc(t){return Gu(t.b,yc,t.a)}function bc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=m(this.s,this),this.b=new Dc,this.B=new jc,this.g=new gc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=wc(this.D,this.u,this.m,I)}function wc(t,e,n,r){var i=yl.SDK_VERSION||null;return hr()?new lc(t,e,n,i,r):new iu(t,e,n,i,r)}function _c(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Ec(t){t.a.Ub()&&_c(t).o((function(e){var n=new Do("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));xc(e)&&t.s(n)})),t.a.Qb()||Pc(t.b)}function Cc(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(yc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?mc(t.g).then((function(){_c(t).o((function(e){var n=new Do("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));xc(e)&&t.s(n)}))})):Ec(t)})).o((function(){Ec(t)}))}function Ic(t,e){K(t.h,(function(t){return t==e}))}bc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=wc(this.D,this.u,this.m),this.i={}},bc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Pc(this.b),e};var Tc=new Pr(2e3,1e4),Sc=new Pr(3e4,6e4);function kc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function xc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ac(t,e,n,r,i){var o;return function(t){return t.b.set(yc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(xc(e))throw new E("operation-not-supported-in-this-environment");return o=e,mc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ye((function(){})):mc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Nc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Tc.get())}bc.prototype.pa=function(){return this.b.pa()};var Oc={};function Rc(t,e,n){var r=e+":"+n;return Oc[r]||(Oc[r]=new bc(t,e,n)),Oc[r]}function Dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Pc(t){t.g||(t.g=!0,Fc(t,!1,null,null))}function Mc(t){t.g&&!t.i&&Fc(t,!1,null,null)}function Lc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Fc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Lc(t,n):Lc(t,{user:null}),t.f=[],t.c=[]}function jc(){}function Vc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Uc(t,e){this.a=e,Hr(this,"verificationId",t)}function Bc(t,e,n,r){return new Ao(t).cb(e,n).then((function(t){return new Uc(t,r)}))}function Hc(t){var e=Fi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Lr(1e3*e.exp),authTime:Lr(1e3*e.auth_time),issuedAtTime:Lr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zc(t,e,n){var r=e&&e[Wc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ht(e),this.g=n,this.c=new Ji(null,r),this.b=[];var i=this;U(e[qc]||[],(function(t){(t=Gr(t))&&i.b.push(t)})),Hr(this,"auth",this.a),Hr(this,"session",this.c),Hr(this,"hints",this.b)}Dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Fc(this,!0,null,t.a),Ie()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Fc(t,a,e,null)})).o((function(e){Fc(t,a,null,e)}))}(this,t,e):Te(new E("invalid-auth-event")):(Fc(this,!1,null,null),Ie())}else Te(new E("invalid-auth-event"))},Dc.prototype.pa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=wn(Sc.get()).then((function(){t.b||(t.g=!0,Fc(t,!0,null,e))}))}(t))}))},jc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ie()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Te(new E("invalid-auth-event"))}else Te(new E("invalid-auth-event"))},Uc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var qc="mfaInfo",Wc="mfaPendingCredential";function Kc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new zc(t,e,n),Hr(this,"resolver",this.b)}function Gc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Kc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Xc(){}function Yc(t){Hr(this,"factorId",t.ea),this.a=t}function Qc(t){if(Yc.call(this,t),this.a.ea!=Ao.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in qe.call(this,t),e)this[n]=e[n]}function Jc(t,e){this.a=t,this.b=[],this.c=m(this.wc,this),nn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Qr]=t.uid),t.displayName&&(r[Xr]=t.displayName),t.enrollmentTime&&(r[Yr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new Jr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),$c(this,n)}function $c(t,e){t.b=e,Hr(t,"enrolledFactors",e)}function tl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function el(t){this.c=t,this.b=this.a=null}function nl(t){return t.b&&1e3*t.b.c||0}function rl(t,e){var n=e.refreshToken;t.b=Li(e[qs]||""),t.a=n}function il(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Zs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ya(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Wn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Li(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function ol(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Lr(e||null),creationTime:Lr(t||null)})}function sl(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function al(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=yl.SDK_VERSION?wr(yl.SDK_VERSION):null,this.a=new Hs(this.l,x(I),t),this.b=new el(this.a),dl(this,e[qs]),rl(this.b,e),Hr(this,"refreshToken",this.b.a),ml(this,n||{}),vn.call(this),this.P=!1,this.s&&Ir()&&(this.i=Rc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new tl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=nl(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=m(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){cl(r,t.c)},this.$=null,this.O=new Jc(this,n),Hr(this,"multiFactor",this.O)}function ul(t,e){t.aa&&sn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&nn(e,"languageCodeChanged",t.za)}function cl(t,e){t.W=e,Qs(t.a,yl.SDK_VERSION?wr(yl.SDK_VERSION,t.W):null)}function ll(t,e){t.$&&sn(t.$,"frameworkChanged",t.ya),(t.$=e)&&nn(e,"frameworkChanged",t.ya)}function hl(t){try{return yl.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function fl(t){t.D||t.B.b||(t.B.start(),sn(t,"tokenChanged",t.Z),nn(t,"tokenChanged",t.Z))}function pl(t){sn(t,"tokenChanged",t.Z),t.B.stop()}function dl(t,e){t.xa=e,Hr(t,"_lat",e)}function vl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then((function(){return t}))}function gl(t){t.i&&!t.P&&(t.P=!0,Cc(t.i,t))}function ml(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ol(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function bl(){}function wl(t){return Ie().then((function(){if(t.D)throw new E("app-deleted")}))}function _l(t){return H(t.providerData,(function(t){return t.providerId}))}function El(t,e){e&&(Cl(t,e.providerId),t.providerData.push(e))}function Cl(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function Il(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Hr(t,e,n)}function Tl(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Hr(t,"metadata",function(t){return new ol(t.a,t.b)}(e.metadata)):Hr(t,"metadata",new ol),U(e.providerData,(function(e){El(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Hr(t,"refreshToken",t.b.a),$c(t.O,e.O.b))}function Sl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ga(t.a,Ia,{idToken:e}).then(m(t.Ic,t))}(t,e).then((function(){return n||Il(t,"isAnonymous",!1),e}))}))}function kl(t,e){e[qs]&&t.xa!=e[qs]&&(rl(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),dl(t,e[qs]),Il(t,"refreshToken",t.b.a))}function xl(t,e){return Sl(t).then((function(){if(q(_l(t),e))return vl(t).then((function(){throw new E("provider-already-linked")}))}))}function Al(t,e,n){return qr({user:t,credential:Oo(e),additionalUserInfo:e=Hi(e),operationType:n})}function Nl(t,e){return kl(t,e),t.reload().then((function(){return t}))}function Ol(t,e,n,r,i){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=Bi(n.providerId),s=Or(t.uid+":::"),a=null;(!kr()||fr())&&t.s&&n.isOAuthProvider&&(a=uu(t.s,t.l,t.m,e,n,null,s,yl.SDK_VERSION||null,null,null,t.tenantId));var u=ar(a,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Dl(t),!i)return t.I().then((function(){}))})).then((function(){return kc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new ye((function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Nc(t.i,t,e,u,s)}))})).then((function(t){return u&&sr(u),t?qr(t):null})).o((function(t){throw u&&sr(u),t})),Pl(t,r,i)}function Rl(t,e,n,r,i){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=null,s=Or(t.uid+":::");return r=r().then((function(){if(Dl(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,vl(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Fl,t.v(),e.a)),e})).then((function(){return Ac(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return jl(t.ga);throw o})).then((function(){if(o)throw o})),Pl(t,r,i)}function Dl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Pl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Te(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Zc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),hl(t),m(t.hc,t))),n||e}))}function Ml(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new al(e,n,t);return t.providerData&&U(t.providerData,(function(t){t&&El(r,qr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Ll(t){this.a=t,this.b=qu()}zc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ht(e.f);return delete n[qc],delete n[Wc],pt(n,t),e.g(n)}))},_(Kc,E),Xc.prototype.ob=function(t,e,n){return e.type==$i?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:xo(t.a)}),Ga(e,Ea,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(t.a)}),Ga(e,Ca,n)}))}(this,t,e)},_(Yc,Xc),_(Qc,Yc),_(Zc,qe),(t=Jc.prototype).wc=function(t){$c(this,function(t){var e=[];return U(t.mfaInfo||[],(function(t){(t=Gr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Ji(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return kl(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ga(r,Ka,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return $c(e,r),kl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.v()}))}}},tl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=wn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Mr()||!t?Ie():new ye((function(n){e=function(){Mr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},tl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},el.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:nl(this)}},el.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new E("user-token-expired")):t||!this.b||w()>nl(this)-3e4?this.a?il(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},ol.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(al,vn),al.prototype.va=function(t){this.oa=t,Ys(this.a,t)},al.prototype.ja=function(){return this.oa},al.prototype.Ea=function(){return X(this.W)},al.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Hr(al.prototype,"providerId","firebase"),(t=al.prototype).reload=function(){var t=this;return Pl(this,wl(this).then((function(){return Sl(t).then((function(){return vl(t)})).then(bl)})))},t.mc=function(t){return this.I(t).then((function(t){return new Hc(t)}))},t.I=function(t){var e=this;return Pl(this,wl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(dl(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),Il(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");ml(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new sl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)El(this,e[n]);Il(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{ed:t}))},t.Jc=function(t){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Pl(this,t.c(this.a,this.uid).then((function(t){return kl(e,t),n=Al(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Pl(this,xl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=Al(e,t,"link"),Nl(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Pl(this,xl(this,"phone").then((function(){return Bc(hl(n),t,e,m(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Pl(this,Ie().then((function(){return Bc(hl(n),t,e,m(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Pl(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return kl(e,t),e.reload()})))},t.cd=function(t){var e=this;return Pl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return kl(e,t),e.reload()})))},t.yb=function(t){var e=this;return Pl(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return kl(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return wl(this);var e=this;return Pl(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return kl(e,t),Il(e,"displayName",t.displayName||null),Il(e,"photoURL",t.photoUrl||null),U(e.providerData,(function(t){"password"===t.providerId&&(Hr(t,"displayName",e.displayName),Hr(t,"photoURL",e.photoURL))})),vl(e)})).then(bl))},t.ad=function(t){var e=this;return Pl(this,Sl(this).then((function(n){return q(_l(e),t)?function(t,e,n){return Ga(t,ba,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return U(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),U(_l(e),(function(t){n[t]||Cl(e,t)})),n[Ao.PROVIDER_ID]||Hr(e,"phoneNumber",null),vl(e)})):vl(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Pl(this,this.I().then((function(e){return Ga(t.a,ma,{idToken:e})})).then((function(){t.dispatchEvent(new Zc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ul(t,null),ll(t,null),t.N=[],t.D=!0,pl(t),Hr(t,"refreshToken",null),t.i&&Ic(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?m(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?m(this.Ib,this):null},t.Cc=function(t){var e=this;return Ol(this,"linkViaPopup",t,(function(){return xl(e,t.providerId).then((function(){return vl(e)}))}),!1)},t.Lc=function(t){return Ol(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Dc=function(t){var e=this;return Rl(this,"linkViaRedirect",t,(function(){return xl(e,t.providerId)}),!1)},t.Mc=function(t){return Rl(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,this.I().then((function(n){return ha(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=Al(i,t,"link"),Nl(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,Ie().then((function(){return no(fa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=Al(i,t,"reauthenticate"),kl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Pl(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Ri(new Ei(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Pl(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Ri(new Ei(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Pl(this,t=no(Ie(t),n.uid).then((function(t){return e=Al(n,t,"reauthenticate"),kl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),U(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var Fl={name:"redirectUser",F:"session"};function jl(t){return Gu(t.b,Fl,t.a)}function Vl(t){this.a=t,this.b=qu(),this.c=null,this.f=function(t){var e=Hl("local"),n=Hl("session"),r=Hl("none");return function(t,e,n){var r=Ku(e,n),i=Wu(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Nr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Bl,t.a).then((function(t){return t?Hl(t):e}))}))}))})).then((function(e){return t.c=e,Ul(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Hl("local"),this.a,m(this.g,this))}function Ul(t,e){var n,r=[];for(n in Hu)Hu[n]!==e&&r.push(Gu(t.b,Hl(Hu[n]),t.a));return r.push(Gu(t.b,Bl,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],b(o,a),s);else e(i)}))}(r)}Vl.prototype.g=function(){var t=this,e=Hl("local");Kl(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Ul(t,"local").then((function(){t.c=e}))}))}))};var Bl={name:"persistence",F:"session"};function Hl(t){return{name:"authUser",F:t}}function zl(t,e){return Kl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function ql(t){return Kl(t,(function(){return Gu(t.b,t.c,t.a)}))}function Wl(t,e){return Kl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ml(t||{})}))}))}function Kl(t,e){return t.f=t.f.then(e,e),t.f}function Gl(t){if(this.l=!1,Hr(this,"settings",new Vc),Hr(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new E("invalid-api-key");t=yl.SDK_VERSION?wr(yl.SDK_VERSION):null,this.b=new Hs(eh(this).options&&eh(this).options.apiKey,x(I),t),this.P=[],this.m=[],this.O=[],this.$b=yl.INTERNAL.createSubscribe(m(this.xc,this)),this.W=void 0,this.ac=yl.INTERNAL.createSubscribe(m(this.yc,this)),$l(this,null),this.i=new Vl(eh(this).options.apiKey+":"+eh(this).name),this.B=new Ll(eh(this).options.apiKey+":"+eh(this).name),this.Z=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ml(t||{})}))}(t.B,eh(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),jl(t.B)}));return oh(t,e)}(t).then((function(){return Wl(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return zl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ql(t.i)}))):null})).then((function(e){$l(t,e||null)}));return oh(t,n)}(this)),this.h=oh(this,function(t){return t.Z.then((function(){return Zl(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Hl("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=m(this.Xc,this),this.Ma=m(this.ca,this),this.xa=m(this.jc,this),this.ya=m(this.uc,this),this.za=m(this.vc,this),this.a=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&Ir()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Rc(e,n,eh(t).name),Cc(t.a,t),nh(t)&&gl(nh(t)),t.D){gl(t.D);var r=t.D;r.va(t.ja()),ul(r,t),cl(r=t.D,t.N),ll(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Xl(t){qe.call(this,"languageCodeChanged"),this.g=t}function Yl(t){qe.call(this,"frameworkChanged"),this.c=t}function Ql(t){return t.Zb||Te(new E("auth-domain-config-required"))}function Zl(t){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));var e=Ql(t).then((function(){return t.a.pa()})).then((function(t){return t?qr(t):null}));return oh(t,e)}function Jl(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new al(t,e);return n&&(i.ga=n),r&&cl(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return nh(t)&&e.uid==nh(t).uid?(Tl(nh(t),e),t.ca(e)):($l(t,e),gl(e),t.ca(e))})).then((function(){ih(t)}))}function $l(t,e){nh(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(nh(t),t.Ma),sn(nh(t),"tokenChanged",t.xa),sn(nh(t),"userDeleted",t.ya),sn(nh(t),"userInvalidated",t.za),pl(nh(t))),e&&(e.R.push(t.Ma),nn(e,"tokenChanged",t.xa),nn(e,"userDeleted",t.ya),nn(e,"userInvalidated",t.za),0<t.s&&fl(e)),Hr(t,"currentUser",e),e&&(e.va(t.ja()),ul(e,t),cl(e,t.N),ll(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then((function(e){return n=Oo(e),r=Hi(e),Jl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),t,m(t.ic,t))),n||e})).then((function(){return qr({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](rh(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](rh(t))}}function oh(t,e){return t.P.push(e),e.ma((function(){W(t.P,e)})),e}function sh(){}function ah(){this.a={},this.b=1e12}Vl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Hu)if(Hu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(dr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!_u()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),Kl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Ul(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},_(Gl,vn),_(Xl,qe),_(Yl,qe),(t=Gl.prototype).tb=function(t){return oh(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ys(this.b,this.$),this.dispatchEvent(new Xl(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Qs(this.b,yl.SDK_VERSION?wr(yl.SDK_VERSION,this.N):null),this.dispatchEvent(new Yl(this.N))},t.Ea=function(){return X(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return th(i,la(i.b,o))}))},t.Vc=function(t){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));var e=this,n=Bi(t.providerId),r=Or(),i=null;(!kr()||fr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(i=uu(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,r,yl.SDK_VERSION||null,null,null,this.S()));var o=ar(i,n&&n.ta,n&&n.sa);return oh(this,n=Ql(this).then((function(n){return kc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ye((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Nc(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&sr(o),t?qr(t):null})).o((function(t){throw o&&sr(o),t})))},t.Wc=function(t){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));var e=this;return oh(this,Ql(this).then((function(){return function(t){return Kl(t,(function(){return t.b.set(Bl,t.c.F,t.a)}))}(e.i)})).then((function(){return Ac(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Zl(this).then((function(e){return t.a&&Mc(t.a.b),e})).o((function(e){throw t.a&&Mc(t.a.b),e}))},t.bd=function(t){if(!t)return Te(new E("null-user"));if(this.R!=t.tenantId)return Te(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new al(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&cl(e,r),Tl(e,t),e}(t,n,e.B,e.Ea());return oh(this,this.h.then((function(){if(eh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return nh(e)&&t.uid==nh(e).uid?(Tl(nh(e),t),e.ca(t)):($l(e,r),gl(r),e.ca(r))})).then((function(){ih(e)})))},t.wb=function(){var t=this;return oh(this,this.h.then((function(){return t.a&&Mc(t.a.b),nh(t)?($l(t,null),ql(t.i).then((function(){ih(t)}))):Ie()})))},t.Xc=function(){var t=this;return Wl(this.i,eh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Tl(nh(t),e),nh(t).I();(nh(t)||e)&&($l(t,e),e&&(gl(e),e.ga=t.B),t.a&&Cc(t.a,t),ih(t))}}))},t.ca=function(t){return zl(this.i,t)},t.jc=function(){ih(this),this.ca(nh(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return th(e,Ie(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(nh(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),oh(t,t.h.then((function(){!t.l&&q(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(rh(t)))})))}(this,(function(){t.next(nh(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return oh(this,this.h.then((function(){return nh(e)?nh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return th(e,Ga(e.b,Ba,{token:t}))})).then((function(t){var n=t.user;return Il(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return th(n,Ga(n.b,Ha,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return th(n,Ga(n.b,ga,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return th(e,t.ia(e.b))}))},t.Qc=function(t){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=nh(t);if(e&&e.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.b.vb()).then((function(e){var n=e.user;return Il(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&nh(this)&&fl(nh(this))},t.Nc=function(t){var e=this;U(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&nh(this)&&pl(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),oh(this,this.h.then((function(){e.l||q(e.m,t)&&t(rh(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Hl("local"),t.a,this.oa),this.a&&(Ic(this.a,this),Mc(this.a.b)),Promise.resolve()},t.fc=function(t){return oh(this,function(t,e){return Ga(t,ya,{identifier:e,continueUri:Tr()?rr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!To(t)},t.sb=function(t,e){var n=this;return oh(this,Ie().then((function(){var t=new Ei(e);if(!t.c)throw new E("argument-error",Ti+" must be true when sending sign in link to email");return Ri(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return oh(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return oh(this,this.b.Pa(t).then((function(t){return new $r(t)})))},t.fb=function(t){return oh(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return oh(this,Ie().then((function(){return void 0===e||lt(e)?{}:Ri(new Ei(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return oh(this,Bc(this,t,e,m(this.Ya,this)))},t.Tc=function(t,e){var n=this;return oh(this,Ie().then((function(){var r=e||rr(),i=Io(t,r);if(!(r=To(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)})))},sh.prototype.render=function(){},sh.prototype.reset=function(){},sh.prototype.getResponse=function(){},sh.prototype.execute=function(){};var uh=null;function ch(t,e){return(e=lh(e))&&t.a[e]||null}function lh(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=re(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():nn(this.f,"click",this.i)}function fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ph(){}function dh(){}ah.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},ah.prototype.reset=function(t){var e=ch(this,t);t=lh(t),e&&t&&(e.delete(),delete this.a[t])},ah.prototype.getResponse=function(t){return(t=ch(this,t))?t.getResponse():null},ah.prototype.execute=function(t){(t=ch(this,t))&&t.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,sn(this.f,"click",this.i)},Hr(ph,"FACTOR_ID","phone"),dh.prototype.g=function(){return uh||(uh=new ah),Ie(uh)},dh.prototype.c=function(){};var vh=null;function gh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new vt(mt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mh=new Pr(3e4,6e4);gh.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),mh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},Ie(Ms(Et(yh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},gh.prototype.c=function(){this.b--};var bh=null;function wh(t,e,n,r,i,o,a){if(Hr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(vh||(vh=new dh),a=vh):(bh||(bh=new gh),a=bh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ih],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.i&&re(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hs(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[_h];this.a[_h]=function(t){if(Th(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Er(c,s);"function"==typeof e&&e(t)}};var l=this.a[Eh];this.a[Eh]=function(){if(Th(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Er(l,s);"function"==typeof t&&t()}}}var _h="callback",Eh="expired-callback",Ch="sitekey",Ih="size";function Th(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Sh(t,e){return t.h.push(e),e.ma((function(){W(t.h,e)})),e}function kh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function xh(t,e,n){var r=!1;try{this.b=n||yl.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=yl.SDK_VERSION?wr(yl.SDK_VERSION,o):null,wh.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,x(I),r)}function Ah(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Nh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Nh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=wh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Sh(this,Ie().then((function(){if(Tr()&&!pr())return lr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Ga(t.s,Na,{})})).then((function(e){t.a[Ch]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){kh(this);var t=this;return Sh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=re(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ne&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Vt(s.name),'"'),s.type){o.push(' type="',Vt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ce(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ie(o,s)),2<r.length&&ue(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){kh(this);var t=this;return Sh(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){kh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){kh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=re(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},_(xh,wh);var Nh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Oh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Rh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Dh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Ph(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Mh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Lh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Fh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function jh(t){return p(t)&&"string"==typeof t.uid}function Vh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Uh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function Bh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Ah(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Hh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ah(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Uh(Gl.prototype,{fb:{name:"applyActionCode",j:[Oh("code")]},Pa:{name:"checkActionCode",j:[Oh("code")]},jb:{name:"confirmPasswordReset",j:[Oh("code"),Oh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Oh("email"),Oh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Oh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Oh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Vh(Dh(),Ph(),"nextOrObserver"),Ph("opt_error",!0),Ph("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Vh(Dh(),Ph(),"nextOrObserver"),Ph("opt_error",!0),Ph("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Oh("email"),Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Oh("email"),Dh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Oh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Lh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Lh()]},Rc:{name:"signInWithCustomToken",j:[Oh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Oh("email"),Oh("password")]},Tc:{name:"signInWithEmailLink",j:[Oh("email"),Oh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Vh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof al)}},Mh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Oh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Oh("code")]}}),Bh(Gl.prototype,{lc:{name:"languageCode",gb:Vh(Oh(),Mh(),"languageCode")},ti:{name:"tenantId",gb:Vh(Oh(),Mh(),"tenantId")}}),Gl.Persistence=Hu,Gl.Persistence.LOCAL="local",Gl.Persistence.SESSION="session",Gl.Persistence.NONE="none",Uh(al.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Rh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Lh()]},mb:{name:"linkWithCredential",j:[Lh()]},Bc:{name:"linkWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lh()]},pb:{name:"reauthenticateWithCredential",j:[Lh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Oh(null,!0)]},ad:{name:"unlink",j:[Oh("provider")]},xb:{name:"updateEmail",j:[Oh("email")]},yb:{name:"updatePassword",j:[Oh("password")]},cd:{name:"updatePhoneNumber",j:[Lh("phone")]},zb:{name:"updateProfile",j:[Dh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Oh("email"),Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),Uh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Uh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Uh(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Bh(Vc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Rh("appVerificationDisabledForTesting")}}),Uh(Uc.prototype,{confirm:{name:"confirm",j:[Oh("verificationCode")]}}),Hh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[uo,Eo,ko,oo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Vh(Oh(),Dh(),"json")]),Hh(Co,"credential",(function(t,e){return new _o(t,e)}),[Oh("email"),Oh("password")]),Uh(_o.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(fo.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(fo,"credential",po,[Vh(Oh(),Dh(),"token")]),Hh(Co,"credentialWithLink",Io,[Oh("email"),Oh("emailLink")]),Uh(vo.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(vo,"credential",go,[Vh(Oh(),Dh(),"token")]),Uh(yo.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(yo,"credential",mo,[Vh(Oh(),Vh(Dh(),Mh()),"idToken"),Vh(Oh(),Mh(),"accessToken",!0)]),Uh(bo.prototype,{Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(bo,"credential",wo,[Vh(Oh(),Dh(),"token"),Oh("secret",!0)]),Uh(ho.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},credential:{name:"credential",j:[Vh(Oh(),Vh(Dh(),Mh()),"optionsOrIdToken"),Vh(Oh(),Mh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Uh(so.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(ro.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Hh(Ao,"credential",No,[Oh("verificationId"),Oh("verificationCode")]),Uh(Ao.prototype,{cb:{name:"verifyPhoneNumber",j:[Vh(Oh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,$i)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,to)&&jh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Uh(So.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(E.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(Vo.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(jo.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(Kc.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(zc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Uh(Jc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Oh("displayName",!0)]},$c:{name:"unenroll",j:[Vh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:jh},Oh(),"multiFactorInfoIdentifier")]}}),Uh(xh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(pi,"parseLink",_i,[Oh("link")]),Hh(ph,"assertion",(function(t){return new Qc(t)}),[Lh("phone")]),function(){if(void 0===yl||!yl.INTERNAL||!yl.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ei,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ti,VERIFY_AND_CHANGE_EMAIL:ni,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Gl,AuthCredential:eo,Error:E};Hh(t,"EmailAuthProvider",Co,[]),Hh(t,"FacebookAuthProvider",fo,[]),Hh(t,"GithubAuthProvider",vo,[]),Hh(t,"GoogleAuthProvider",yo,[]),Hh(t,"TwitterAuthProvider",bo,[]),Hh(t,"OAuthProvider",ho,[Oh("providerId")]),Hh(t,"SAMLAuthProvider",lo,[Oh("providerId")]),Hh(t,"PhoneAuthProvider",Ao,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Gl)}}]),Hh(t,"RecaptchaVerifier",xh,[Vh(Oh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof yl.app.App)}}]),Hh(t,"ActionCodeURL",pi,[]),Hh(t,"PhoneMultiFactorGenerator",ph,[]),yl.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Gl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),yl.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.kc,t),addAuthTokenListener:m(t.bc,t),removeAuthTokenListener:m(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),yl.registerVersion("@firebase/auth","0.14.9"),yl.INTERNAL.extendNamespace({User:al})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ml=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),Oc(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Nc(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),bl=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Dc(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),wl=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new ml(e)}}catch(t){}return new bl},_l=wl("localStorage"),El=wl("sessionStorage"),Cl=new il("@firebase/database"),Il=function(){var t=1;return function(){return t++}}(),Tl=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,cc(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Fc;n.update(e);var r=n.digest();return fc.encodeByteArray(r)},Sl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=Sl.apply(null,i):n+="object"==typeof i?Oc(i):i,n+=" "}return n},kl=null,xl=!0,Al=function(t,e){cc(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Cl.logLevel=Zc.VERBOSE,kl=Cl.log.bind(Cl),e&&El.set("logging_enabled",!0)):"function"==typeof t?kl=t:(kl=null,El.remove("logging_enabled"))},Nl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===xl&&(xl=!1,null===kl&&!0===El.get("logging_enabled")&&Al(!0)),kl){var n=Sl.apply(null,t);kl(n)}},Ol=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Nl.apply(void 0,d([t],e))}},Rl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+Sl.apply(void 0,d(t));Cl.error(n)},Dl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+Sl.apply(void 0,d(t));throw Cl.error(n),new Error(n)},Pl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+Sl.apply(void 0,d(t));Cl.warn(n)},Ml=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Ll="[MIN_NAME]",Fl="[MAX_NAME]",jl=function(t,e){if(t===e)return 0;if(t===Ll||e===Fl)return-1;if(e===Ll||t===Fl)return 1;var n=Kl(t),r=Kl(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},Vl=function(t,e){return t===e?0:t<e?-1:1},Ul=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Oc(e))},Bl=function(t){if("object"!=typeof t||null===t)return Oc(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=Oc(e[i]),r+=":",r+=Bl(t[e[i]]);return r+="}"},Hl=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var ql=function(t){cc(!Ml(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(a.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},Wl=new RegExp("^-?(0*)\\d{1,10}$"),Kl=function(t){if(Wl.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},Gl=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw Pl("Exception was thrown by user callback.",e),t}),Math.floor(0))}},Xl=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},Yl=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=jl(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),Ql=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=Wc(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=Wc(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=Wc(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),Zl=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=_l.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&_l.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(cc("string"==typeof t,"typeof type must == string"),cc("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return zl(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var Jl,$l,th,eh,nh,rh=function(t){var e=ih(t),n=e.namespace;"firebase.com"===e.domain&&Dl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||Dl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Pl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new Zl(e.host,e.secure,n,r,"",n!==e.subdomain),path:new Yl(e.pathString)}},ih=function(t){var e="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(l,h)));var p=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=f(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Pl("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;var d=e.slice(0,c);if("localhost"===d.toLowerCase())n="localhost";else if(d.split(".").length<=2)n=d;else{var v=e.indexOf(".");r=e.substring(0,v).toLowerCase(),n=e.substring(v+1),o=r}"ns"in p&&(o=p.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},oh=/[\[\].#$\/\u0000-\u001F\u007F]/,sh=/[\[\].#$\u0000-\u001F\u007F]/,ah=function(t){return"string"==typeof t&&0!==t.length&&!oh.test(t)},uh=function(t){return"string"==typeof t&&0!==t.length&&!sh.test(t)},ch=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Ml(t)||t&&"object"==typeof t&&Dc(t,".sv")},lh=function(t,e,n,r,i){i&&void 0===n||hh(Hc(t,e,i),n,r)},hh=function(t,e,n){var r=n instanceof Yl?new Ql(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(Ml(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&Wc(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(zl(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ah(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),hh(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},fh=function(t,e,n,r,i){if(!i||void 0!==n){var o=Hc(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];zl(n,(function(t,e){var n=new Yl(t);if(hh(o,e,r.child(n)),".priority"===n.getBack()&&!ch(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ah(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(Yl.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},ph=function(t,e,n,r){if(!r||void 0!==n){if(Ml(n))throw new Error(Hc(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!ch(n))throw new Error(Hc(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},dh=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(Hc(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},vh=function(t,e,n,r){if(!(r&&void 0===n||ah(n)))throw new Error(Hc(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},gh=function(t,e,n,r){if(!(r&&void 0===n||uh(n)))throw new Error(Hc(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},yh=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),gh(t,e,n,r)},mh=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},bh=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!ah(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),uh(t)}(r))throw new Error(Hc(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},wh=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(Hc(t,e,r)+"must be a boolean.")},_h=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){Bc("OnDisconnect.cancel",0,1,arguments.length),zc("OnDisconnect.cancel",1,t,!0);var e=new gc;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){Bc("OnDisconnect.remove",0,1,arguments.length),mh("OnDisconnect.remove",this.path_),zc("OnDisconnect.remove",1,t,!0);var e=new gc;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){Bc("OnDisconnect.set",1,2,arguments.length),mh("OnDisconnect.set",this.path_),lh("OnDisconnect.set",1,t,this.path_,!1),zc("OnDisconnect.set",2,e,!0);var n=new gc;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){Bc("OnDisconnect.setWithPriority",2,3,arguments.length),mh("OnDisconnect.setWithPriority",this.path_),lh("OnDisconnect.setWithPriority",1,t,this.path_,!1),ph("OnDisconnect.setWithPriority",2,e,!1),zc("OnDisconnect.setWithPriority",3,n,!0);var r=new gc;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(Bc("OnDisconnect.update",1,2,arguments.length),mh("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Pl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fh("OnDisconnect.update",1,t,this.path_,!1),zc("OnDisconnect.update",2,e,!0);var i=new gc;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),Eh=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return Bc("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Ch=(Jl="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",$l=0,th=[],function(t){var e,n=t===$l;$l=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=Jl.charAt(t%64),t=Math.floor(t/64);cc(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===th[e];e--)th[e]=0;th[e]++}else for(e=0;e<12;e++)th[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=Jl.charAt(th[e]);return cc(20===i.length,"nextPushId: Length should be 20."),i}),Ih=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Th=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Ih(Ll,t),r=new Ih(Ll,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Ih.MIN},t}(),Sh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return eh},set:function(t){eh=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return jl(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw lc("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Ih.MIN},e.prototype.maxPost=function(){return new Ih(Fl,eh)},e.prototype.makePost=function(t,e){return cc("string"==typeof t,"KeyIndex indexValue must always be a string."),new Ih(t,eh)},e.prototype.toString=function(){return".key"},e}(Th),kh=new Sh;var xh,Ah,Nh,Oh=function(t){return"number"==typeof t?"number:"+ql(t):"string:"+t},Rh=function(t){if(t.isLeafNode()){var e=t.val();cc("string"==typeof e||"number"==typeof e||"object"==typeof e&&Dc(e,".sv"),"Priority must be a string or number.")}else cc(t===nh||t.isEmpty(),"priority of unexpected type.");cc(t===nh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Dh=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,cc(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Rh(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return xh},set:function(t){xh=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(cc(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Oh(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?ql(this.value_):this.value_,this.lazyHash_=Tl(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(cc(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return cc(i>=0,"Unknown leaf type: "+n),cc(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Ph,Mh,Lh=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?jl(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Ih.MIN},e.prototype.maxPost=function(){return new Ih(Fl,new Dh("[PRIORITY-POST]",Nh))},e.prototype.makePost=function(t,e){var n=Ah(t);return new Ih(e,new Dh("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Th)),Fh=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),jh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Uh.EMPTY_NODE,this.right=null!=o?o:Uh.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Uh.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Uh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Vh=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new jh(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Uh=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,jh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,jh.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Fh(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Fh(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Fh(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Fh(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Vh,t}(),Bh=Math.log(2),Hh=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/Bh,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),zh=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new jh(s,o.node,jh.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new jh(s,o.node,jh.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new jh(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,jh.BLACK):(a(h,jh.BLACK),a(h,jh.RED))}return o}(new Hh(t.length));return new Uh(r||e,o)},qh={},Wh=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return cc(qh&&Lh,"ChildrenNode.ts has not been loaded"),Ph=Ph||new t({".priority":qh},{".priority":Lh})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Pc(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Uh?e:null},t.prototype.hasIndex=function(t){return Dc(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){cc(e!==kh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(Ih.Wrap),a=s.getNext();a;)o=o||e.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?zh(i,e.getCompare()):qh;var u=e.toString(),l=c({},this.indexSet_);l[u]=e;var h=c({},this.indexes_);return h[u]=r,new t(h,l)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Lc(this.indexes_,(function(t,i){var o=Pc(r.indexSet_,i);if(cc(o,"Missing index implementation for "+i),t===qh){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(Ih.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),zh(s,o.getCompare())}return qh}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Ih(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Lc(this.indexes_,(function(t){if(t===qh)return t;var r=n.get(e.name);return r?t.remove(new Ih(e.name,r)):t})),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Kh(t,e){return jl(t.name,e.name)}function Gh(t,e){return jl(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xh=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Rh(this.priorityNode_),this.children_.isEmpty()&&cc(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Mh||(Mh=new t(new Uh(Gh),null,Wh.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Mh},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Mh:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(cc(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Ih(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Mh:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;cc(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Lh,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Oh(this.getPriority().val())+":"),this.forEachChild(Lh,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":Tl(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Ih(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Ih(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Ih(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Ih.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Ih.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Yh?-1:0},t.prototype.withIndex=function(e){if(e===kh||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===kh||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Lh),r=e.getIterator(Lh),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===kh?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Yh=new(function(t){function e(){return t.call(this,new Uh(Gh),Xh.EMPTY_NODE,Wh.Default)||this}return u(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Xh.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Xh));Object.defineProperties(Ih,{MIN:{value:new Ih(Ll,Xh.EMPTY_NODE)},MAX:{value:new Ih(Fl,Yh)}}),Sh.__EMPTY_NODE=Xh.EMPTY_NODE,Dh.__childrenNodeConstructor=Xh,nh=Yh,function(t){Nh=t}(Yh);function Qh(t,e){if(void 0===e&&(e=null),null===t)return Xh.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),cc(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Dh(t,Qh(e));if(t instanceof Array){var n=Xh.EMPTY_NODE;return zl(t,(function(e,r){if(Dc(t,e)&&"."!==e.substring(0,1)){var i=Qh(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(Qh(e))}var r=[],i=!1;if(zl(t,(function(t,e){if("."!==t.substring(0,1)){var n=Qh(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Ih(t,n)))}})),0===r.length)return Xh.EMPTY_NODE;var o=zh(r,Kh,(function(t){return t.name}),Gh);if(i){var s=zh(r,Lh.getCompare());return new Xh(o,Qh(e),new Wh({".priority":s},{".priority":Lh}))}return new Xh(o,Qh(e),Wh.Default)}!function(t){Ah=t}(Qh);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Zh,Jh=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?jl(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Ih.MIN},e.prototype.maxPost=function(){return Ih.MAX},e.prototype.makePost=function(t,e){var n=Qh(t);return new Ih(e,n)},e.prototype.toString=function(){return".value"},e}(Th)),$h=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,cc(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return u(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?jl(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=Qh(t),r=Xh.EMPTY_NODE.updateChild(this.indexPath_,n);return new Ih(e,r)},e.prototype.maxPost=function(){var t=Xh.EMPTY_NODE.updateChild(this.indexPath_,Yh);return new Ih(Fl,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Th),tf=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return Bc("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return Bc("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return Bc("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return Bc("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){Bc("DataSnapshot.child",0,1,arguments.length),e=String(e),gh("DataSnapshot.child",1,e,!1);var n=new Yl(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Lh)},t.prototype.hasChild=function(t){Bc("DataSnapshot.hasChild",1,1,arguments.length),gh("DataSnapshot.hasChild",1,t,!1);var e=new Yl(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return Bc("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(Bc("DataSnapshot.forEach",1,1,arguments.length),zc("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Lh))}))},t.prototype.hasChildren=function(){return Bc("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return Bc("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return Bc("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),ef=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+Oc(this.snapshot.exportVal())},t}(),nf=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),rf=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new ef("value",this,new tf(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){cc(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new nf(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),of=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Dc(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new nf(this,t,e):null},t.prototype.createEvent=function(t,e){cc(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new ef(t.type,this,new tf(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){cc(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),sf=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return cc(Zh,"Reference.ts has not been loaded"),Zh},set:function(t){Zh=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===kh){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Ll)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Fl)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Lh){if(null!=e&&!ch(e)||null!=n&&!ch(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(cc(t.getIndex()instanceof $h||t.getIndex()===Jh,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return Bc("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){Bc("Query.on",2,4,arguments.length),dh("Query.on",1,e,!1),zc("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new rf(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new of(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){Bc("Query.off",0,3,arguments.length),dh("Query.off",1,t,!0),zc("Query.off",2,e,!0),qc("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new rf(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new of(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;Bc("Query.once",1,4,arguments.length),dh("Query.once",1,e,!1),zc("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=!0,u=new gc;u.promise.catch((function(){}));var c=function(t){a&&(a=!1,o.off(e,c),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if(Bc("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(Bc("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(Bc("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');gh("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new Yl(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new $h(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){Bc("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(kh);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){Bc("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Lh);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){Bc("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(Jh);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),Bc("Query.startAt",0,2,arguments.length),lh("Query.startAt",1,e,this.path,!0),vh("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),Bc("Query.endAt",0,2,arguments.length),lh("Query.endAt",1,e,this.path,!0),vh("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(Bc("Query.equalTo",1,2,arguments.length),lh("Query.equalTo",1,t,this.path,!1),vh("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return Bc("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return Bc("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=Bl(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(Bc("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,zc(t,3,r.cancel,!0),r.context=n,qc(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(Hc(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),af=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),uf=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),cf=function(t,e,n){return t&&"object"==typeof t?(cc(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?lf(t[".sv"],e,n):"object"==typeof t[".sv"]?hf(t[".sv"],e):void cc(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},lf=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:cc(!1,"Unexpected server value: "+t)}},hf=function(t,e,n){t.hasOwnProperty("increment")||cc(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&cc(!1,"Unexpected increment value: "+r);var i=e.node();if(cc(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},ff=function(t,e,n,r){return df(e,new uf(n,t),r)},pf=function(t,e,n){return df(t,new af(e),n)};function df(t,e,n){var r,i=t.getPriority().val(),o=cf(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=cf(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Dh(a,Qh(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Dh(o))),u.forEachChild(Lh,(function(t,i){var o=df(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vf,gf=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Lh,(function(t,e){n.remember(new Yl(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new Yl(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(vf||(vf={}));var yf,mf,bf=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,cc(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),wf=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=vf.ACK_USER_WRITE,this.source=bf.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return cc(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new Yl(e));return new t(Yl.Empty,n,this.revert)}return cc(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),_f=function(){function t(t,e){void 0===e&&(yf||(yf=new Uh(Vl)),e=yf),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return zl(e,(function(t,e){n=n.set(new Yl(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:Yl.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new Yl(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(Yl.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,Yl.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,Yl.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(Yl.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),Ef=function(){function t(t,e){this.source=t,this.path=e,this.type=vf.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Yl.Empty):new t(this.source,this.path.popFront())},t}(),Cf=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=vf.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,Yl.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),If=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=vf.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new Yl(e));return n.isEmpty()?null:n.value?new Cf(this.source,Yl.Empty,n.value):new t(this.source,Yl.Empty,n)}return cc(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Tf=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Sf=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Tf(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Tf(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Tf(Xh.EMPTY_NODE,!1,!1),new Tf(Xh.EMPTY_NODE,!1,!1)),t}(),kf=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),xf=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){cc(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(kf.childRemovedChange(e,s)):cc(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(kf.childAddedChange(e,n)):o.trackChildChange(kf.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Lh,(function(t,r){e.hasChild(t)||n.trackChildChange(kf.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Lh,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(kf.childChangedChange(e,r,i))}else n.trackChildChange(kf.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Xh.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Af=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;cc(e===kf.CHILD_ADDED||e===kf.CHILD_CHANGED||e===kf.CHILD_REMOVED,"Only child changes supported for tracking"),cc(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===kf.CHILD_ADDED&&i===kf.CHILD_REMOVED)this.changeMap.set(n,kf.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===kf.CHILD_REMOVED&&i===kf.CHILD_ADDED)this.changeMap.delete(n);else if(e===kf.CHILD_REMOVED&&i===kf.CHILD_CHANGED)this.changeMap.set(n,kf.childRemovedChange(n,r.oldSnap));else if(e===kf.CHILD_CHANGED&&i===kf.CHILD_ADDED)this.changeMap.set(n,kf.childAddedChange(n,t.snapshotNode));else{if(e!==kf.CHILD_CHANGED||i!==kf.CHILD_CHANGED)throw lc("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,kf.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Nf=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),Of=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Tf(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),Rf=function(t,e){this.viewCache=t,this.changes=e},Df=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){cc(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),cc(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new Af;if(n.type===vf.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,a):(cc(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,s,a))}else if(n.type===vf.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,a):(cc(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,s,a))}else if(n.type===vf.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,a):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,a)}else{if(n.type!==vf.LISTEN_COMPLETE)throw lc("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,a)}var h=a.getChanges();return t.maybeAddValueEvent_(e,o,h),new Rf(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(kf.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(cc(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Xh?u:Xh.EMPTY_NODE,l=n.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){cc(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();a=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,a);s=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),g=void 0;if(o.isCompleteForChild(f)){a=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);g=null!=y?o.getNode().getImmediateChild(f).updateChild(v,y):o.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),f,g,v,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,Nf,null)}var d=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new Of(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new Of(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):Xh.EMPTY_NODE}if(f.equals(p))s=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);s=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:_f.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new Yl(e),h,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new Yl(e),f,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=_f.Empty;return a.getNode().forEachChild(kh,(function(t,e){u=u.set(new Yl(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=_f.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Nf,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new Of(n,t,r),a=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();cc(l instanceof Xh,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(a,c,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=a.getImmediateChild(h)),(u=null!=f?this.filter_.updateChild(a,h,f,e.popFront(),s,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(a,h,Xh.EMPTY_NODE,e.popFront(),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(Yl.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Pf=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===kf.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(kf.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,kf.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,kf.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,kf.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,kf.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,kf.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw lc("Should only compare child_ events.");var n=new Ih(t.childName,t.snapshotNode),r=new Ih(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Mf=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new xf(n.getIndex()),i=n.getNodeFilter();this.processor_=new Df(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(Xh.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Xh.EMPTY_NODE,s.getNode(),null),c=new Tf(a,o.isFullyInitialized(),r.filtersNodes()),l=new Tf(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Sf(l,c),this.eventGenerator_=new Pf(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){cc(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===vf.MERGE&&null!==t.source.queryId&&(cc(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),cc(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),cc(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Lh,(function(t,e){n.push(kf.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(kf.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Lf=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return cc(mf,"Reference.ts has not been loaded"),mf},set:function(t){cc(!mf,"__referenceConstructor has already been defined"),mf=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return cc(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,e,n)}var a=[];try{for(var u=f(this.views.values()),c=u.next();!c.done;c=u.next()){s=c.value;a=a.concat(s.applyOperation(t,e,n))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof Xh?(a=n.calcCompleteEventChildren(r),u=!1):(a=Xh.EMPTY_NODE,u=!1);var c=new Sf(new Tf(a,u,!1),new Tf(r,i,!1));s=new Mf(t,c),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),a=[],u=[],c=this.hasCompleteView();if("default"===s)try{for(var l=f(this.views.entries()),h=l.next();!h.done;h=l.next()){var d=p(h.value,2),v=d[0],g=d[1];u=u.concat(g.removeEventRegistration(n,r)),g.isEmpty()&&(this.views.delete(v),g.getQuery().getQueryParams().loadsAllData()||a.push(g.getQuery()))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(g=this.views.get(s))&&(u=u.concat(g.removeEventRegistration(n,r)),g.isEmpty()&&(this.views.delete(s),g.getQuery().getQueryParams().loadsAllData()||a.push(g.getQuery())));return c&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=f(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=f(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=f(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Ff=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new _f(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=Yl.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new _f(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return zl(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,_f.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(Yl.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Lh,(function(e,n){t.push(new Ih(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Ih(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new _f(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(cc(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Yl.Empty,this.writeTree_,t)},t.Empty=new t(new _f(null)),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jf=function(){function t(){this.visibleWrites_=Ff.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Vf(t,this)},t.prototype.addOverwrite=function(t,e,n,r){cc(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){cc(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));cc(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):zl(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(Yl.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);c=n||Xh.EMPTY_NODE;return s.apply(c)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(Yl.Empty)){var c=n||Xh.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Xh.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Lh,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Lh,(function(t,e){var r=i.childCompoundWrite(new Yl(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){cc(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(Yl.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,Yl.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ff.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=Yl.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=Yl.relativePath(s,n),r=r.addWrite(Yl.Empty,o.snap.getChild(a)));else{if(!o.children)throw lc("WriteRecord should have .snap or .children");if(n.contains(s))a=Yl.relativePath(n,s),r=r.addWrites(a,o.children);else if(s.contains(n))if((a=Yl.relativePath(s,n)).isEmpty())r=r.addWrites(Yl.Empty,o.children);else{var u=Pc(o.children,a.getFront());if(u){var c=u.getChild(a.popFront());r=r.addWrite(Yl.Empty,c)}}}}}return r},t}(),Vf=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Uf=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=_f.Empty,this.pendingWriteTree_=new jf,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Cf(bf.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=_f.fromObject(e);return this.applyOperationToSyncPoints_(new If(bf.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=_f.Empty;return null!=n.snap?r=r.set(Yl.Empty,!0):zl(n.children,(function(t,e){r=r.set(new Yl(t),e)})),this.applyOperationToSyncPoints_(new wf(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Cf(bf.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=_f.fromObject(e);return this.applyOperationToSyncPoints_(new If(bf.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Ef(bf.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=Yl.relativePath(s,e),c=new Cf(bf.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=Yl.relativePath(s,e),c=_f.fromObject(n),l=new If(bf.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=Yl.relativePath(o,e),u=new Ef(bf.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=Yl.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);(a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(Yl.Empty)):(a=new Lf,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=Xh.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(Yl.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);cc(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var h=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(e,n,h,i,s);if(!u&&!o){var p=a.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=Yl.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),zl(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(r);if(i)cc(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),zl(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Xh.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return cc(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new Yl(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);cc(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(Yl.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(Yl.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(Yl.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(Yl.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(Yl.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),Bf=function(){function t(){this.rootNode_=Xh.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Hf=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Dc(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return dc(this.counters_)},t}(),zf=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new Hf),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),qf=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=c({},t);return this.last_&&zl(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),Wf=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new qf(t);var n=1e4+2e4*Math.random();Xl(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;zl(e,(function(e,i){i>0&&Dc(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),Xl(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Kf=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new Gf(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),Gf=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();kl&&Nl("event: "+e.toString()),Gl(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Xf=function(){function t(t){this.allowedEvents_=t,this.listeners_={},cc(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=d(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){cc(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),Yf=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return u(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return cc("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Xf),Qf=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||mc()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return u(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return cc("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Xf),Zf=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&Gl((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),Jf=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Ol(t),this.stats_=zf.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new Zf(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new $f((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=p(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=p(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=Oc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=hc(e),fc.encodeByteArray(n,!0)),i=Hl(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=Oc(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),$f=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Il(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){Nl("frame writing exception"),t.stack&&Nl(t.stack),Nl(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Nl("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){Nl("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),tp="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var ep=null;"undefined"!=typeof MozWebSocket?ep=MozWebSocket:"undefined"!=typeof WebSocket&&(ep=WebSocket);var np=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Ol(this.connId),this.stats_=zf.getCollection(n),this.connURL=t.connectionURL_(n,i,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,_l.set("previous_websocket_failure",!0);try{if(Ec()){var r=ac?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+tp+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new ep(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new ep(this.connURL,[],i)}}catch(t){this.log_("Error instantiating WebSocket.");var a=t.message||t.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==ep&&!t.forceDisallow_},t.previouslyFailed=function(){return _l.isInMemoryStorage||!0===_l.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){_l.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Nc(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(cc(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=Oc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=Hl(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),rp=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Jf,np]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=np&&np.isAvailable(),o=i&&!np.previouslyFailed();if(e.webSocketOnly&&(i||Pl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[np];else{var s=this.transports_=[];try{for(var a=f(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),ip=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Ol("c:"+this.id+":"),this.transportManager_=new rp(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Xl((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=Ul("t",t),n=Ul("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=Ul("t",t),n=Ul("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=Ul("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?Rl("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):Rl("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Pl("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Xl((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Xl((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(_l.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),op=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),sp=function(t){function e(n,r,i,o,s,a,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=Ol("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Ec())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),Yf.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&Qf.getInstance().on("online",c.onOnline_,c),c}return u(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(Oc(i)),cc(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),cc(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),cc(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Dc(t,"w")){var n=Pc(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();Pl("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=Rc(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=Rc(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),cc(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+Oc(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):Rl("Unrecognized action received from server: "+Oc(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;cc(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,a=!1,u=null,c=function(){u?u.close():(a=!0,r())};this.realtime_={close:c,sendRequest:function(t){cc(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then((function(e){a?Nl("getToken() completed but was canceled"):(Nl("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new ip(i,o.repoInfo_,o.applicationId_,t,n,r,(function(t){Pl(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),a||c()}))}},e.prototype.interrupt=function(t){Nl("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){Nl("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Mc(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return Bl(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new Yl(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){Nl("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=f(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,f(s.values())),u=a.next();!u.done;u=a.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+tp.replace(/\./g,"-")]=1,mc()?t["framework.cordova"]=1:_c()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=Qf.getInstance().currentlyOnline();return Mc(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(op),ap=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=Ol("p:rest:"),i.listens_={},i}return u(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(cc(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),Pc(o.listens_,a)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=Nc(a.responseText)}catch(t){Pl("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Pl("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))},e}(op),up=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Kf,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new gf,this.persistentConnection_=null,this.stats_=zf.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new ap(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Oc(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new sp(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=zf.getOrCreateReporter(t,(function(){return new Wf(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new Bf,this.infoSyncTree_=new Uf({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Uf({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new Yl(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new Yl(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=Lc(e,(function(t){return Qh(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=Qh(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var u=Lc(e,(function(t){return Qh(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=Qh(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;zl(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new Yl("/.info/"+t),r=Qh(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=Qh(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=pf(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||Pl("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(zl(e,(function(e,n){i=!1,s[e]=ff(t.child(e),Qh(n),r.serverSyncTree_,o)})),i)Nl("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||Pl("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,i)})),zl(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new gf;this.onDisconnect_.forEachTree(Yl.Empty,(function(r,i){var o=ff(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(Yl.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new gf,this.eventQueue_.raiseEventsForChangedPath(Yl.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=Qh(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=Qh(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Mc(e))return Nl("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&zl(e,(function(e,n){var i=Qh(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new qf(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);zl(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),Nl.apply(void 0,d([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&Gl((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new bp(this))},enumerable:!1,configurable:!0}),t}(),cp=function(){function t(e){this.indexedFilter_=new xf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Ih(e,n))||(n=Xh.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Xh.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Xh.EMPTY_NODE);var i=this;return e.forEachChild(Lh,(function(t,e){i.matches(new Ih(t,e))||(r=r.updateImmediateChild(t,Xh.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),lp=function(){function t(t){this.rangedFilter_=new cp(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Ih(e,n))||(n=Xh.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Xh.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Xh.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(Xh.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,Xh.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;cc(a.numChildren()===this.limit_,"");var u=new Ih(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var h=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(kf.childChangedChange(e,n,h)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(kf.childRemovedChange(e,h));var d=a.updateImmediateChild(e,Xh.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(kf.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(kf.childRemovedChange(c.name,c.node)),i.trackChildChange(kf.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,Xh.EMPTY_NODE)):t},t}(),hp=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Lh}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return cc(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return cc(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ll},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return cc(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return cc(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Fl},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return cc(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Lh&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Lh},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new xf(this.getIndex()):this.hasLimit()?new lp(this):new cp(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Lh?e=n.PRIORITY_INDEX:this.index_===Jh?e=n.VALUE_INDEX:this.index_===kh?e=n.KEY_INDEX:(cc(this.index_ instanceof $h,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=Oc(e),this.startSet_&&(r[n.START_AT]=Oc(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+Oc(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=Oc(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+Oc(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),fp=function(t){function e(e,n){if(!(e instanceof up))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,hp.DEFAULT,!1)||this}return u(e,t),e.prototype.getKey=function(){return Bc("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return Bc("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof Yl||(null===this.path.getFront()?yh("Reference.child",1,t,!1):gh("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){Bc("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){Bc("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){Bc("Reference.set",1,2,arguments.length),mh("Reference.set",this.path),lh("Reference.set",1,t,this.path,!1),zc("Reference.set",2,e,!0);var n=new gc;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(Bc("Reference.update",1,2,arguments.length),mh("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Pl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}fh("Reference.update",1,t,this.path,!1),zc("Reference.update",2,e,!0);var i=new gc;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(Bc("Reference.setWithPriority",2,3,arguments.length),mh("Reference.setWithPriority",this.path),lh("Reference.setWithPriority",1,t,this.path,!1),ph("Reference.setWithPriority",2,e,!1),zc("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new gc;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return Bc("Reference.remove",0,1,arguments.length),mh("Reference.remove",this.path),zc("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(Bc("Reference.transaction",1,3,arguments.length),mh("Reference.transaction",this.path),zc("Reference.transaction",1,t,!1),zc("Reference.transaction",2,e,!0),wh("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new gc;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new Eh(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){Bc("Reference.setPriority",1,2,arguments.length),mh("Reference.setPriority",this.path),ph("Reference.setPriority",1,t,!1),zc("Reference.setPriority",2,e,!0);var n=new gc;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){Bc("Reference.push",0,2,arguments.length),mh("Reference.push",this.path),lh("Reference.push",1,t,this.path,!0),zc("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Ch(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return mh("Reference.onDisconnect",this.path),new _h(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(sf);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sf.__referenceConstructor=fp,Lf.__referenceConstructor=fp;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pp,dp=function(){this.children={},this.childCount=0,this.value=null},vp=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new dp),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof Yl?e:new Yl(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,Pc(r.node_.children,i)||new dp),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){cc(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;zl(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new Yl(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Dc(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(pp||(pp={})),up.MAX_TRANSACTION_RETRIES_=25,up.prototype.transactionsInit_=function(){this.transactionQueueTree_=new vp},up.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new fp(this,t);o.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:Il(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new tf(s.currentInputSnapshot,new fp(this,s.path),Lh);s.onComplete(null,!1,c)}}else{hh("transaction failed: Data returned ",u,s.path),s.status=pp.RUN;var l=this.transactionQueueTree_.subTree(t),h=l.getValue()||[];h.push(s),l.setValue(h);var f=void 0;if("object"==typeof u&&null!==u&&Dc(u,".priority"))f=Pc(u,".priority"),cc(ch(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||Xh.EMPTY_NODE).getPriority().val();f=f;var p=this.generateServerValues(),d=Qh(u,f),v=pf(d,a,p);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,v,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},up.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Xh.EMPTY_NODE},up.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);cc(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===pp.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},up.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var u=e[a];cc(u.status===pp.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=pp.SENT,u.retryCount++;var c=Yl.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=pp.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new fp(n,e[s].path),c=new tf(a,u,Lh);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)Gl(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status===pp.SENT_NEEDS_ABORT?e[s].status=pp.NEEDS_ABORT:e[s].status=pp.RUN;else{Pl("transaction at "+h.toString()+" failed: "+r);for(s=0;s<e.length;s++)e[s].status=pp.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),s)},up.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},up.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===pp.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],u=Yl.relativePath(e,a.path),c=!1,l=void 0;if(cc(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===pp.NEEDS_ABORT)c=!0,l=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===pp.RUN)if(a.retryCount>=up.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,o);a.currentInputSnapshot=h;var f=t[s].update(h.val());if(void 0!==f){hh("transaction failed: Data returned ",f,a.path);var p=Qh(f);"object"==typeof f&&null!=f&&Dc(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=a.currentWriteId,v=this.generateServerValues(),g=pf(p,h,v);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(d),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],c&&(t[s].status=pp.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===l){var y=new fp(this,t[s].path),m=t[s].currentInputSnapshot,b=new tf(m,y,Lh);r.push(t[s].onComplete.bind(null,null,!1,b))}else r.push(t[s].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)Gl(r[s]);this.sendReadyTransactions_()}},up.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},up.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},up.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},up.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==pp.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},up.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},up.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===pp.SENT_NEEDS_ABORT);else if(e[o].status===pp.SENT)cc(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=pp.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(cc(e[o].status===pp.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)Gl(n[o])}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var gp,yp=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(Nl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Pl(t)},t}(),mp=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return gp||(gp=new t),gp},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=f(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,f(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].interrupt()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=f(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,f(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].resume()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&Dl("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=rh(r),o=i.repoInfo,s=void 0;"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(!0,r="http://"+s+"?ns="+o.namespace,o=(i=rh(r)).repoInfo):i.repoInfo.secure;var a=new yp(t,e);return bh("Invalid Firebase Database URL",1,i),i.path.isEmpty()||Dl("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,a).database},t.prototype.deleteRepo=function(t){var e=Pc(this.repos_,t.app.name);e&&Pc(e,t.repoInfo_.toURLString())===t||Dl("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=Pc(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=Pc(r,t.toURLString());return i&&Dl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new up(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),bp=function(){function t(t){this.repo_=t,t instanceof up||Dl("Don't call new Database() directly - please use firebase.database()."),this.root_=new fp(t,Yl.Empty),this.INTERNAL=new wp(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),Bc("database.ref",0,1,arguments.length),t instanceof fp?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),Bc(e,1,1,arguments.length);var n=rh(t);bh(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&Dl(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&Dl("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){Bc("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){Bc("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),wp=function(){function t(t){this.database=t}return t.prototype.delete=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){return this.database.checkDeleted_("delete"),mp.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),_p=Object.freeze({__proto__:null,forceLongPolling:function(){np.forceDisallow(),Jf.forceAllow()},forceWebSockets:function(){Jf.forceDisallow()},isWebSocketsAvailable:function(){return np.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),Ep=sp;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */sp.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},sp.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Cp,Ip=ip,Tp=Zl,Sp=Object.freeze({__proto__:null,DataConnection:Ep,RealTimeConnection:Ip,hijackHash:function(t){var e=sp.prototype.put;return sp.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){sp.prototype.put=e}},ConnectionTarget:Tp,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){mp.getInstance().forceRestClient(t)}}),kp=bp.ServerValue;(function(t){tp=t})((Cp=yl).SDK_VERSION),Cp.INTERNAL.registerComponent(new Kc("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return mp.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:fp,Query:sf,Database:bp,DataSnapshot:tf,enableLogging:Al,INTERNAL:_p,ServerValue:kp,TEST_ACCESS:Sp}).setMultipleInstances(!0)),Cp.registerVersion("@firebase/database","0.6.11");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var xp=function(t,e){return(xp=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Ap(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Np,Op="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Rp=Rp||{},Dp=Op||self;function Pp(){}function Mp(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Lp(t){var e=Mp(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Fp(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var jp="closure_uid_"+(1e9*Math.random()>>>0),Vp=0;function Up(t,e,n){return t.call.apply(t.bind,arguments)}function Bp(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function Hp(t,e,n){return(Hp=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Up:Bp).apply(null,arguments)}function zp(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var qp=Date.now;function Wp(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function Kp(){this.j=this.j,this.i=this.i}Kp.prototype.j=!1,Kp.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,jp)&&t[jp]||(t[jp]=++Vp)})(this)},Kp.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var Gp=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Xp=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function Yp(t){return Array.prototype.concat.apply([],arguments)}function Qp(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function Zp(t){return/^[\s\xa0]*$/.test(t)}var Jp,$p=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function td(t,e){return-1!=t.indexOf(e)}function ed(t,e){return t<e?-1:t>e?1:0}t:{var nd=Dp.navigator;if(nd){var rd=nd.userAgent;if(rd){Jp=rd;break t}}Jp=""}function id(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function od(t){var e={};for(var n in t)e[n]=t[n];return e}var sd="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ad(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<sd.length;o++)n=sd[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ud(t){return ud[" "](t),t}ud[" "]=Pp;var cd,ld,hd=td(Jp,"Opera"),fd=td(Jp,"Trident")||td(Jp,"MSIE"),pd=td(Jp,"Edge"),dd=pd||fd,vd=td(Jp,"Gecko")&&!(td(Jp.toLowerCase(),"webkit")&&!td(Jp,"Edge"))&&!(td(Jp,"Trident")||td(Jp,"MSIE"))&&!td(Jp,"Edge"),gd=td(Jp.toLowerCase(),"webkit")&&!td(Jp,"Edge");function yd(){var t=Dp.document;return t?t.documentMode:void 0}t:{var md="",bd=(ld=Jp,vd?/rv:([^\);]+)(\)|;)/.exec(ld):pd?/Edge\/([\d\.]+)/.exec(ld):fd?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(ld):gd?/WebKit\/(\S+)/.exec(ld):hd?/(?:Version)[ \/]?(\S+)/.exec(ld):void 0);if(bd&&(md=bd?bd[1]:""),fd){var wd=yd();if(null!=wd&&wd>parseFloat(md)){cd=String(wd);break t}}cd=md}var _d,Ed={};function Cd(t){return function(t,e){var n=Ed;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=$p(String(cd)).split("."),r=$p(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ed(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ed(0==s[2].length,0==a[2].length)||ed(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Dp.document&&fd){var Id=yd();_d=Id||(parseInt(cd,10)||void 0)}else _d=void 0;var Td=_d,Sd=!fd||9<=Number(Td),kd=fd&&!Cd("9"),xd=function(){if(!Dp.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Dp.addEventListener("test",Pp,e),Dp.removeEventListener("test",Pp,e)}catch(t){}return t}();function Ad(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Nd(t,e){if(Ad.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(vd){t:{try{ud(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Od[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Ad.prototype.b=function(){this.defaultPrevented=!0},Wp(Nd,Ad);var Od={2:"touch",3:"pen",4:"mouse"};Nd.prototype.b=function(){Nd.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,kd)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var Rd="closure_listenable_"+(1e6*Math.random()|0),Dd=0;function Pd(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Dd,this.Y=this.Z=!1}function Md(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Ld(t){this.src=t,this.a={},this.b=0}function Fd(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=Gp(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Md(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function jd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Ld.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=jd(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Pd(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Vd="closure_lm_"+(1e6*Math.random()|0),Ud={};function Bd(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=Yd(r),e&&e[Rd]?e.wa(n,r,Fp(i)?!!i.capture:!!i,o):Hd(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)Bd(t,e[o],n,r,i);return null}return n=Yd(n),t&&t[Rd]?t.va(e,n,Fp(r)?!!r.capture:!!r,i):Hd(t,e,n,!1,r,i)}function Hd(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Fp(i)?!!i.capture:!!i;if(s&&!Sd)return null;var a=Gd(t);if(a||(t[Vd]=a=new Ld(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=Kd,e=Sd?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)xd||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(qd(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function zd(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[Rd])Fd(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(qd(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Gd(e))?(Fd(n,t),0==n.b&&(n.src=null,e[Vd]=null)):Md(t)}}}function qd(t){return t in Ud?Ud[t]:Ud[t]="on"+t}function Wd(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&zd(t),n.call(r,e)}function Kd(t,e){if(t.Y)return!0;if(!Sd){if(!e)t:{e=["window","event"];for(var n=Dp,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return Wd(t,e=new Nd(e,this))}return Wd(t,new Nd(e,this))}function Gd(t){return(t=t[Vd])instanceof Ld?t:null}var Xd="__closure_events_fn_"+(1e9*Math.random()>>>0);function Yd(t){return"function"==Mp(t)?t:(t[Xd]||(t[Xd]=function(e){return t.handleEvent(e)}),t[Xd])}function Qd(){Kp.call(this),this.c=new Ld(this),this.J=this,this.C=null}function Zd(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Fd(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}Wp(Qd,Kp),Qd.prototype[Rd]=!0,(Np=Qd.prototype).addEventListener=function(t,e,n,r){Bd(this,t,e,n,r)},Np.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Fp(i)?!!i.capture:!!i,r=Yd(r),e&&e[Rd]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=jd(s=e.a[n],r,i,o))&&(Md(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=Gd(e))&&(n=e.a[n.toString()],e=-1,n&&(e=jd(n,r,i,o)),(r=-1<e?n[e]:null)&&zd(r))}(this,t,e,n,r)},Np.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Ad(t,n);else if(t instanceof Ad)t.target=t.target||n;else{var i=t;ad(t=new Ad(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=Zd(s,r,!0,t)&&i}if(i=Zd(s=t.a=n,r,!0,t)&&i,i=Zd(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=Zd(s=t.a=e[o],r,!1,t)&&i;return i},Np.G=function(){if(Qd.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Md(n[r]);delete e.a[t],e.b--}}this.C=null},Np.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Np.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var Jd=Dp.JSON.stringify;function $d(){this.b=this.a=null}var tv,ev=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new rv}),(function(t){t.reset()}),100);function nv(){var t=av,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function rv(){this.next=this.b=this.a=null}function iv(t){Dp.setTimeout((function(){throw t}),0)}function ov(t,e){tv||function(){var t=Dp.Promise.resolve(void 0);tv=function(){t.then(uv)}}(),sv||(tv(),sv=!0),av.add(t,e)}$d.prototype.add=function(t,e){var n=ev.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},rv.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},rv.prototype.reset=function(){this.next=this.b=this.a=null};var sv=!1,av=new $d;function uv(){for(var t;t=nv();){try{t.a.call(t.b)}catch(t){iv(t)}var e=ev;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}sv=!1}function cv(t,e){Qd.call(this),this.b=t||1,this.a=e||Dp,this.f=Hp(this.Ya,this),this.g=qp()}function lv(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function hv(t,e,n){if("function"==Mp(t))n&&(t=Hp(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=Hp(t.handleEvent,t)}return 2147483647<Number(e)?-1:Dp.setTimeout(t,e||0)}function fv(t){t.a=hv((function(){t.a=null,t.c&&(t.c=!1,fv(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}Wp(cv,Qd),(Np=cv.prototype).aa=!1,Np.M=null,Np.Ya=function(){if(this.aa){var t=qp()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(lv(this),this.start()))}},Np.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=qp())},Np.G=function(){cv.S.G.call(this),lv(this),delete this.a};var pv=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}xp(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:fv(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Dp.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(Kp);function dv(t){Kp.call(this),this.b=t,this.a={}}Wp(dv,Kp);var vv=[];function gv(t,e,n,r){Array.isArray(n)||(n&&(vv[0]=n.toString()),n=vv);for(var i=0;i<n.length;i++){var o=Bd(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function yv(t){id(t.a,(function(t,e){this.a.hasOwnProperty(e)&&zd(t)}),t),t.a={}}function mv(){this.a=!0}function bv(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return Jd(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}dv.prototype.G=function(){dv.S.G.call(this),yv(this)},dv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},mv.prototype.info=function(){};var wv=null;function _v(){return wv=wv||new Qd}function Ev(t){Ad.call(this,"serverreachability",t)}function Cv(t){var e=_v();e.dispatchEvent(new Ev(e,t))}function Iv(t){Ad.call(this,"statevent",t)}function Tv(t){var e=_v();e.dispatchEvent(new Iv(e,t))}function Sv(t){Ad.call(this,"timingevent",t)}function kv(t,e){if("function"!=Mp(t))throw Error("Fn must not be null and must be a function");return Dp.setTimeout((function(){t()}),e)}Wp(Ev,Ad),Wp(Iv,Ad),Wp(Sv,Ad);var xv={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Av={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Nv(){}function Ov(t){var e;return(e=t.a)||(e=t.a={}),e}function Rv(){}Nv.prototype.a=null;var Dv,Pv={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Mv(){Ad.call(this,"d")}function Lv(){Ad.call(this,"c")}function Fv(){}function jv(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new dv(this),this.P=Vv,t=dd?125:void 0,this.R=new cv(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}Wp(Mv,Ad),Wp(Lv,Ad),Wp(Fv,Nv),Dv=new Fv;var Vv=45e3,Uv={},Bv={};function Hv(t,e,n){t.H=1,t.i=lg(ig(e)),t.j=n,t.I=!0,zv(t,null)}function zv(t,e){t.u=qp(),Kv(t),t.l=ig(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Cg(n.b,"t",r),t.D=0,t.a=yy(t.g,t.g.C?e:null),0<t.O&&(t.F=new pv(Hp(t.Ca,t,t.a),t.O)),gv(t.J,t.a,"readystatechange",t.Wa),e=t.B?od(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Cv(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function qv(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=Wv(t,n);if(i==Bv){4==e&&(t.h=4,Tv(14),r=!1),bv(t.c,t.f,null,"[Incomplete Response]");break}if(i==Uv){t.h=4,Tv(15),bv(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}bv(t.c,t.f,i,null),Zv(t,i)}4==e&&0==n.length&&(t.h=1,Tv(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),cy(e),e.F=!0)):(bv(t.c,t.f,n,"[Invalid Chunked Response]"),Qv(t),Yv(t))}function Wv(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?Bv:(n=Number(e.substring(n,r)),isNaN(n)?Uv:(r+=1)+n>e.length?Bv:(e=e.substr(r,n),t.D=r+n,e))}function Kv(t){t.U=qp()+t.P,Gv(t,t.P)}function Gv(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=kv(Hp(t.Ua,t),e)}function Xv(t){t.o&&(Dp.clearTimeout(t.o),t.o=null)}function Yv(t){0==t.g.v||t.A||fy(t.g,t)}function Qv(t){Xv(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,lv(t.R),yv(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function Zv(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Ng(n.b,t)))if(n.I=t.N,!t.C&&Ng(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;hy(n),ty(n)}uy(n),Tv(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=kv(Hp(n.Ra,n),6e3));if(1>=Ag(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else dy(n,11)}else if((t.C||n.a==t)&&hy(n),!Zp(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(td(l,"spdy")||td(l,"quic")||td(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(Og(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,cg(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=qp()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=gy(u,u.C?u.ga:null,u.fa),p.C){Rg(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(Xv(d),Kv(d)),u.a=p}else ay(u);0<n.g.length&&ry(n)}else"stop"!=i[0]&&"close"!=i[0]||dy(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?dy(n,7):$g(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Cv(4)}catch(t){}}function Jv(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Lp(t)||"string"==typeof t)Xp(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Lp(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Lp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function $v(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof $v)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function tg(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];eg(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)eg(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function eg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Np=jv.prototype).setTimeout=function(t){this.P=t},Np.Wa=function(t){t=t.target;var e=this.F;e&&3==Yg(t)?e.f():this.Ca(t)},Np.Ca=function(t){try{if(t==this.a)t:{var e=Yg(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!dd&&!this.a.$())){this.A||4!=e||7==n||Cv(8==n||0>=r?3:2),Xv(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Zp(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Tv(12),Qv(this),Yv(this);break t}bv(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,Zv(this,u)}this.I?(qv(this,e,o),dd&&this.b&&3==e&&(gv(this.J,this.R,"tick",this.Va),this.R.start())):(bv(this.c,this.f,o,null),Zv(this,o)),4==e&&Qv(this),this.b&&!this.A&&(4==e?fy(this.g,this):(this.b=!1,Kv(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Tv(12)):(this.h=0,Tv(13)),Qv(this),Yv(this)}}}catch(t){}},Np.Va=function(){if(this.a){var t=Yg(this.a),e=this.a.$();this.D<e.length&&(Xv(this),qv(this,t,e),this.b&&4!=t&&Kv(this))}},Np.cancel=function(){this.A=!0,Qv(this)},Np.Ua=function(){this.o=null;var t=qp();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Cv(3),Tv(17)),Qv(this),this.h=2,Yv(this)):Gv(this,this.U-t)},(Np=$v.prototype).K=function(){tg(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Np.L=function(){return tg(this),this.a.concat()},Np.get=function(t,e){return eg(this.b,t)?this.b[t]:e},Np.set=function(t,e){eg(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Np.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var ng=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function rg(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof rg){this.a=void 0!==e?e:t.a,og(this,t.f),this.j=t.j,sg(this,t.c),ag(this,t.h),this.g=t.g,e=t.b;var n=new bg;n.c=e.c,e.a&&(n.a=new $v(e.a),n.b=e.b),ug(this,n),this.i=t.i}else t&&(n=String(t).match(ng))?(this.a=!!e,og(this,n[1]||"",!0),this.j=hg(n[2]||""),sg(this,n[3]||"",!0),ag(this,n[4]),this.g=hg(n[5]||"",!0),ug(this,n[6]||"",!0),this.i=hg(n[7]||"")):(this.a=!!e,this.b=new bg(null,this.a))}function ig(t){return new rg(t)}function og(t,e,n){t.f=n?hg(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function sg(t,e,n){t.c=n?hg(e,!0):e}function ag(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function ug(t,e,n){e instanceof bg?(t.b=e,function(t,e){e&&!t.f&&(wg(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(_g(this,e),Cg(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=fg(e,yg)),t.b=new bg(e,t.a))}function cg(t,e,n){t.b.set(e,n)}function lg(t){return cg(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^qp()).toString(36)),t}function hg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fg(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,pg),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function pg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}rg.prototype.toString=function(){var t=[],e=this.f;e&&t.push(fg(e,dg,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(fg(e,dg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(fg(n,"/"==n.charAt(0)?gg:vg,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",fg(n,mg)),t.join("")};var dg=/[#\/\?@]/g,vg=/[#\?:]/g,gg=/[#\?]/g,yg=/[#\?@]/g,mg=/#/g;function bg(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function wg(t){t.a||(t.a=new $v,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function _g(t,e){wg(t),e=Ig(t,e),eg(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,eg((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&tg(t)))}function Eg(t,e){return wg(t),e=Ig(t,e),eg(t.a.b,e)}function Cg(t,e,n){_g(t,e),0<n.length&&(t.c=null,t.a.set(Ig(t,e),Qp(n)),t.b+=n.length)}function Ig(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Tg(t,e){this.b=t,this.a=e}function Sg(t){this.g=t||kg,Dp.PerformanceNavigationTiming?t=0<(t=Dp.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Dp.ia&&Dp.ia.ya&&Dp.ia.ya()&&Dp.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Np=bg.prototype).add=function(t,e){wg(this),this.c=null,t=Ig(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Np.forEach=function(t,e){wg(this),this.a.forEach((function(n,r){Xp(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Np.L=function(){wg(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Np.K=function(t){wg(this);var e=[];if("string"==typeof t)Eg(this,t)&&(e=Yp(e,this.a.get(Ig(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=Yp(e,t[n])}return e},Np.set=function(t,e){return wg(this),this.c=null,Eg(this,t=Ig(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Np.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Np.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var kg=10;function xg(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Ag(t){return t.b?1:t.a?t.a.size:0}function Ng(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function Og(t,e){t.a?t.a.add(e):t.b=e}function Rg(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Dg(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Ap(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return Qp(t.c)}function Pg(){}function Mg(){this.a=new Pg}function Lg(t,e,n){var r=n||"";try{Jv(t,(function(t,n){var i=t;Fp(t)&&(i=Jd(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Fg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}Sg.prototype.cancel=function(){var t,e;if(this.c=Dg(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Ap(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Pg.prototype.stringify=function(t){return Dp.JSON.stringify(t,void 0)},Pg.prototype.parse=function(t){return Dp.JSON.parse(t,void 0)};var jg=Dp.JSON.parse;function Vg(t){Qd.call(this),this.headers=new $v,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Ug,this.D=this.F=!1}Wp(Vg,Qd);var Ug="",Bg=/^https?$/i,Hg=["POST","PUT"];function zg(t){return"content-type"==t.toLowerCase()}function qg(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,Wg(t),Gg(t)}function Wg(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Kg(t){if(t.b&&void 0!==Rp&&(!t.s[1]||4!=Yg(t)||2!=t.X()))if(t.l&&4==Yg(t))hv(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==Yg(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(ng)[1]||null;if(!o&&Dp.self&&Dp.self.location){var s=Dp.self.location.protocol;o=s.substr(0,s.length-1)}i=!Bg.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<Yg(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.X()+"]",Wg(t)}}finally{Gg(t)}}}function Gg(t,e){if(t.a){Xg(t);var n=t.a,r=t.s[0]?Pp:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function Xg(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Dp.clearTimeout(t.m),t.m=null)}function Yg(t){return t.a?t.a.readyState:0}function Qg(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return id(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):cg(t,e,n))}function Zg(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function Jg(t){this.pa=0,this.g=[],this.c=new mv,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=Zg("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=Zg("baseRetryDelayMs",5e3,t),this.Ma=Zg("retryDelaySeedMs",1e4,t),this.Ja=Zg("forwardChannelMaxRetries",2,t),this.ma=Zg("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new Sg(t&&t.concurrentRequestLimit),this.ka=new Mg,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function $g(t){if(ey(t),3==t.v){var e=t.R++,n=ig(t.B);cg(n,"SID",t.J),cg(n,"RID",e),cg(n,"TYPE","terminate"),oy(t,n),(e=new jv(t,t.c,e,void 0)).H=2,e.i=lg(ig(n)),n=!1,Dp.navigator&&Dp.navigator.sendBeacon&&(n=Dp.navigator.sendBeacon(e.i.toString(),"")),!n&&Dp.Image&&((new Image).src=e.i,n=!0),n||(e.a=yy(e.g,null),e.a.ba(e.i)),e.u=qp(),Kv(e)}vy(t)}function ty(t){t.a&&(cy(t),t.a.cancel(),t.a=null)}function ey(t){ty(t),t.j&&(Dp.clearTimeout(t.j),t.j=null),hy(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Dp.clearTimeout(t.h),t.h=null)}function ny(t,e){t.g.push(new Tg(t.La++,e)),3==t.v&&ry(t)}function ry(t){xg(t.b)||t.h||(t.h=!0,ov(t.Ba,t),t.u=0)}function iy(t,e){var n;n=e?e.f:t.R++;var r=ig(t.B);cg(r,"SID",t.J),cg(r,"RID",n),cg(r,"AID",t.P),oy(t,r),t.i&&t.l&&Qg(r,t.i,t.l),n=new jv(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=sy(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),Og(t.b,n),Hv(n,r,e)}function oy(t,e){t.f&&Jv({},(function(t,n){cg(e,n,t)}))}function sy(t,e,n){n=Math.min(t.g.length,n);var r=t.f?Hp(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Lg(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function ay(t){t.a||t.j||(t.U=1,ov(t.Aa,t),t.o=0)}function uy(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=kv(Hp(t.Aa,t),py(t,t.o)),t.o++,!0)}function cy(t){null!=t.s&&(Dp.clearTimeout(t.s),t.s=null)}function ly(t){t.a=new jv(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=ig(t.la);cg(e,"RID","rpc"),cg(e,"SID",t.J),cg(e,"CI",t.H?"0":"1"),cg(e,"AID",t.P),oy(t,e),cg(e,"TYPE","xmlhttp"),t.i&&t.l&&Qg(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=lg(ig(e)),n.j=null,n.I=!0,zv(n,t)}function hy(t){null!=t.m&&(Dp.clearTimeout(t.m),t.m=null)}function fy(t,e){var n=null;if(t.a==e){hy(t),cy(t),t.a=null;var r=2}else{if(!Ng(t.b,e))return;n=e.s,Rg(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=qp()-e.u;var i=t.u;(r=_v()).dispatchEvent(new Sv(r,n,e,i)),ry(t)}else ay(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Ag(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=kv(Hp(t.Ba,t,e),py(t,t.u)),t.u++,!0))}(t,e)||2==r&&uy(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:dy(t,5);break;case 4:dy(t,10);break;case 3:dy(t,6);break;default:dy(t,2)}}function py(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function dy(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=Hp(t.Xa,t);n||(n=new rg("//www.google.com/images/cleardot.gif"),Dp.location&&"http"==Dp.location.protocol||og(n,"https"),lg(n)),function(t,e){var n=new mv;if(Dp.Image){var r=new Image;r.onload=zp(Fg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=zp(Fg,n,r,"TestLoadImage: error",!1,e),r.onabort=zp(Fg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=zp(Fg,n,r,"TestLoadImage: timeout",!1,e),Dp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Tv(2);t.v=0,t.f&&t.f.ra(e),vy(t),ey(t)}function vy(t){t.v=0,t.I=-1,t.f&&(0==Dg(t.b).length&&0==t.g.length||(t.b.c.length=0,Qp(t.g),t.g.length=0),t.f.qa())}function gy(t,e,n){var r=function(t){return t instanceof rg?ig(t):new rg(t,void 0)}(n);if(""!=r.c)e&&sg(r,e+"."+r.c),ag(r,r.h);else{var i=Dp.location;r=function(t,e,n,r){var i=new rg(null,void 0);return t&&og(i,t),e&&sg(i,e),n&&ag(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&id(t.W,(function(t,e){cg(r,e,t)})),e=t.A,n=t.na,e&&n&&cg(r,e,n),cg(r,"VER",t.ha),oy(t,r),r}function yy(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Vg(t.Ka)).F=t.C,e}function my(){}function by(){if(fd&&!(10<=Number(Td)))throw Error("Environmental error: no available transport.")}function wy(t,e){Qd.call(this),this.a=new Jg(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!Zp(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Zp(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new Cy(this)}function _y(t){Mv.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Ey(){Lv.call(this),this.status=1}function Cy(t){this.a=t}(Np=Vg.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?Ov(this.H):Ov(Dv),this.a.onreadystatechange=Hp(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void qg(this,t)}t=n||"";var i=new $v(this.headers);r&&Jv(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=zg,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Dp.FormData&&t instanceof Dp.FormData,!(0<=Gp(Hg,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{Xg(this),0<this.o&&((this.D=function(t){return fd&&Cd(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=Hp(this.xa,this)):this.m=hv(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){qg(this,t)}},Np.xa=function(){void 0!==Rp&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Np.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),Gg(this))},Np.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),Gg(this,!0)),Vg.S.G.call(this)},Np.za=function(){this.j||(this.A||this.l||this.g?Kg(this):this.Ta())},Np.Ta=function(){Kg(this)},Np.X=function(){try{return 2<Yg(this)?this.a.status:-1}catch(t){return-1}},Np.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Np.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),jg(e)}},Np.ua=function(){return this.h},Np.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Np=Jg.prototype).ha=8,Np.v=1,Np.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new jv(this,this.c,t,void 0),r=this.l;if(this.O&&(r?ad(r=od(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=sy(this,n,e),cg(i=ig(this.B),"RID",t),cg(i,"CVER",22),this.A&&cg(i,"X-HTTP-Session-Id",this.A),oy(this,i),this.i&&r&&Qg(i,this.i,r),Og(this.b,n),this.Ga&&cg(i,"TYPE","init"),this.da?(cg(i,"$req",e),cg(i,"SID","null"),n.V=!0,Hv(n,i,null)):Hv(n,i,e),this.v=2}}else 3==this.v&&(t?iy(this,t):0==this.g.length||xg(this.b)||iy(this))},Np.Aa=function(){if(this.j=null,ly(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=kv(Hp(this.Sa,this),t)}},Np.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,ty(this),ly(this))},Np.Ra=function(){null!=this.m&&(this.m=null,ty(this),uy(this),Tv(19))},Np.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Tv(2)):(this.c.info("Failed to ping google.com"),Tv(1))},(Np=my.prototype).ta=function(){},Np.sa=function(){},Np.ra=function(){},Np.qa=function(){},Np.Ha=function(){},by.prototype.a=function(t,e){return new wy(t,e)},Wp(wy,Qd),(Np=wy.prototype).addEventListener=function(t,e,n,r){wy.S.addEventListener.call(this,t,e,n,r)},Np.removeEventListener=function(t,e,n,r){wy.S.removeEventListener.call(this,t,e,n,r)},Np.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Tv(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=gy(t,null,t.fa),ry(t)},Np.close=function(){$g(this.a)},Np.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,ny(this.a,e)}else this.g?((e={}).__data__=Jd(t),ny(this.a,e)):ny(this.a,t)},Np.G=function(){this.a.f=null,delete this.f,$g(this.a),delete this.a,wy.S.G.call(this)},Wp(_y,Mv),Wp(Ey,Lv),Wp(Cy,my),Cy.prototype.ta=function(){this.a.dispatchEvent("a")},Cy.prototype.sa=function(t){this.a.dispatchEvent(new _y(t))},Cy.prototype.ra=function(t){this.a.dispatchEvent(new Ey(t))},Cy.prototype.qa=function(){this.a.dispatchEvent("b")},by.prototype.createWebChannel=by.prototype.a,wy.prototype.send=wy.prototype.Pa,wy.prototype.open=wy.prototype.Oa,wy.prototype.close=wy.prototype.close,xv.NO_ERROR=0,xv.TIMEOUT=8,xv.HTTP_ERROR=6,Av.COMPLETE="complete",Rv.EventType=Pv,Pv.OPEN="a",Pv.CLOSE="b",Pv.ERROR="c",Pv.MESSAGE="d",Qd.prototype.listen=Qd.prototype.va,Vg.prototype.listenOnce=Vg.prototype.wa,Vg.prototype.getLastError=Vg.prototype.Qa,Vg.prototype.getLastErrorCode=Vg.prototype.ua,Vg.prototype.getStatus=Vg.prototype.X,Vg.prototype.getResponseJson=Vg.prototype.Na,Vg.prototype.getResponseText=Vg.prototype.$,Vg.prototype.send=Vg.prototype.ba;var Iy={createWebChannelTransport:function(){return new by},ErrorCode:xv,EventType:Av,WebChannel:Rv,XhrIo:Vg},Ty=Iy.createWebChannelTransport,Sy=Iy.ErrorCode,ky=Iy.EventType,xy=Iy.WebChannel,Ay=Iy.XhrIo,Ny=new il("@firebase/firestore");function Oy(){return Ny.logLevel}function Ry(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ny.logLevel<=Zc.DEBUG){var r=e.map(My);Ny.debug.apply(Ny,v(["Firestore (7.18.0): "+t],r))}}function Dy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ny.logLevel<=Zc.ERROR){var r=e.map(My);Ny.error.apply(Ny,v(["Firestore (7.18.0): "+t],r))}}function Py(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ny.logLevel<=Zc.WARN){var r=e.map(My);Ny.warn.apply(Ny,v(["Firestore (7.18.0): "+t],r))}}function My(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.18.0) INTERNAL ASSERTION FAILED: "+t;throw Dy(e),new Error(e)}function Fy(t,e){t||Ly()}function jy(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vy(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Uy=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Vy(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function By(t,e){return t<e?-1:t>e?1:0}function Hy(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function zy(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qy=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},Wy=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return By(this.projectId,t.projectId)||By(this.database,t.database)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ky(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Gy(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function Xy(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Yy=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.u(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){Gy(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype._=function(){return Xy(this.l)},t}(),Qy={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Zy=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return u(e,t),e}(Error),Jy=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Zy(Qy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Zy(Qy.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Zy(Qy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Zy(Qy.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?By(this.nanoseconds,t.nanoseconds):By(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),$y=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new Jy(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),tm=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Ly(),void 0===n?n=t.length-e:n>t.length-e&&Ly(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),em=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(tm),nm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.M=function(t){return nm.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new Zy(Qy.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Zy(Qy.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new Zy(Qy.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(tm),im=function(){function t(t){this.path=t}return t.B=function(e){return new t(em.k(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===em.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return em.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new em(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(t){return null==t}function sm(t){return-0===t&&1/t==-1/0}function am(t){return"number"==typeof t&&Number.isInteger(t)&&!sm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var um=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.K=null};function cm(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new um(t,e,n,r,i,o,s)}function lm(t){var e=jy(t);if(null===e.K){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+eb(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),om(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=Zw(e.startAt)),e.endAt&&(n+="|ub:",n+=Zw(e.endAt)),e.K=n}return e.K}function hm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!n_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!Zm(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$w(t.startAt,e.startAt)&&$w(t.endAt,e.endAt)}function fm(t){return im.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pm=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.G,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return By(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();pm.Y=new pm("");var dm,vm,gm=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=$y.min()),void 0===o&&(o=$y.min()),void 0===s&&(s=pm.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),ym=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mm(t){switch(t){case Qy.OK:return Ly();case Qy.CANCELLED:case Qy.UNKNOWN:case Qy.DEADLINE_EXCEEDED:case Qy.RESOURCE_EXHAUSTED:case Qy.INTERNAL:case Qy.UNAVAILABLE:case Qy.UNAUTHENTICATED:return!1;case Qy.INVALID_ARGUMENT:case Qy.NOT_FOUND:case Qy.ALREADY_EXISTS:case Qy.PERMISSION_DENIED:case Qy.FAILED_PRECONDITION:case Qy.ABORTED:case Qy.OUT_OF_RANGE:case Qy.UNIMPLEMENTED:case Qy.DATA_LOSS:return!0;default:return Ly()}}function bm(t){if(void 0===t)return Dy("GRPC error has no .code"),Qy.UNKNOWN;switch(t){case dm.OK:return Qy.OK;case dm.CANCELLED:return Qy.CANCELLED;case dm.UNKNOWN:return Qy.UNKNOWN;case dm.DEADLINE_EXCEEDED:return Qy.DEADLINE_EXCEEDED;case dm.RESOURCE_EXHAUSTED:return Qy.RESOURCE_EXHAUSTED;case dm.INTERNAL:return Qy.INTERNAL;case dm.UNAVAILABLE:return Qy.UNAVAILABLE;case dm.UNAUTHENTICATED:return Qy.UNAUTHENTICATED;case dm.INVALID_ARGUMENT:return Qy.INVALID_ARGUMENT;case dm.NOT_FOUND:return Qy.NOT_FOUND;case dm.ALREADY_EXISTS:return Qy.ALREADY_EXISTS;case dm.PERMISSION_DENIED:return Qy.PERMISSION_DENIED;case dm.FAILED_PRECONDITION:return Qy.FAILED_PRECONDITION;case dm.ABORTED:return Qy.ABORTED;case dm.OUT_OF_RANGE:return Qy.OUT_OF_RANGE;case dm.UNIMPLEMENTED:return Qy.UNIMPLEMENTED;case dm.DATA_LOSS:return Qy.DATA_LOSS;default:return Ly()}}(vm=dm||(dm={}))[vm.OK=0]="OK",vm[vm.CANCELLED=1]="CANCELLED",vm[vm.UNKNOWN=2]="UNKNOWN",vm[vm.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",vm[vm.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",vm[vm.NOT_FOUND=5]="NOT_FOUND",vm[vm.ALREADY_EXISTS=6]="ALREADY_EXISTS",vm[vm.PERMISSION_DENIED=7]="PERMISSION_DENIED",vm[vm.UNAUTHENTICATED=16]="UNAUTHENTICATED",vm[vm.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",vm[vm.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",vm[vm.ABORTED=10]="ABORTED",vm[vm.OUT_OF_RANGE=11]="OUT_OF_RANGE",vm[vm.UNIMPLEMENTED=12]="UNIMPLEMENTED",vm[vm.INTERNAL=13]="INTERNAL",vm[vm.UNAVAILABLE=14]="UNAVAILABLE",vm[vm.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wm=function(){function t(t,e){this.P=t,this.root=e||Em.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,Em.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,Em.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new _m(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new _m(this.root,t,this.P,!1)},t.prototype.ct=function(){return new _m(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new _m(this.root,t,this.P,!0)},t}(),_m=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),Em=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},t.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw Ly();if(this.right.At())throw Ly();var t=this.left.bt();if(t!==this.right.bt())throw Ly();return t+(this.At()?0:1)},t}();Em.EMPTY=null,Em.RED=!0,Em.st=!1,Em.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Ly()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Ly()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Ly()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Ly()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Ly()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new Em(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Cm=function(){function t(t){this.P=t,this.data=new wm(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new Im(this.data.at())},t.prototype.ut=function(t){return new Im(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),Im=function(){function t(t){this.Nt=t}return t.prototype.dt=function(){return this.Nt.dt().key},t.prototype.wt=function(){return this.Nt.wt()},t}(),Tm=new wm(im.P);function Sm(){return Tm}function km(){return Sm()}var xm=new wm(im.P);function Am(){return xm}var Nm=new wm(im.P),Om=new Cm(im.P);function Rm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=Om,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Dm=new Cm(By);function Pm(){return Dm}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Mm=function(){function t(t){this.P=t?function(e,n){return t(e,n)||im.P(e.key,n.key)}:function(t,e){return im.P(t.key,e.key)},this.Ft=Am(),this.kt=new wm(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Ft.get(t)},t.prototype.get=function(t){return this.Ft.get(t)},t.prototype.first=function(){return this.kt.it()},t.prototype.last=function(){return this.kt.rt()},t.prototype._=function(){return this.kt._()},t.prototype.indexOf=function(t){var e=this.Ft.get(t);return e?this.kt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.kt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.kt.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ft.nt(t.key,t),e.kt.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ft.remove(t),this.kt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.kt.at(),r=e.kt.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.Ft=e,r.kt=n,r},t}(),Lm=function(){function t(){this.$t=new wm(im.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.$t.get(e);n?0!==t.type&&3===n.type?this.$t=this.$t.nt(e,t):3===t.type&&1!==n.type?this.$t=this.$t.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.$t=this.$t.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.$t=this.$t.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.$t=this.$t.remove(e):1===t.type&&2===n.type?this.$t=this.$t.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.$t=this.$t.nt(e,{type:2,doc:t.doc}):Ly():this.$t=this.$t.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.$t.ot((function(e,n){t.push(n)})),t},t}(),Fm=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.qt=s,this.Bt=a}return t.Ut=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Mm.xt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.qt===t.qt&&this.Lt.isEqual(t.Lt)&&Lw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),jm=function(){function t(t,e,n,r,i){this.X=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,Vm.zt(e,n)),new t($y.min(),r,Pm(),Sm(),Rm())},t}(),Vm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(pm.Y,n,Rm(),Rm(),Rm())},t}(),Um=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},Bm=function(t,e){this.targetId=t,this.ee=e},Hm=function(t,e,n,r){void 0===n&&(n=pm.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},zm=function(){function t(){this.ne=0,this.se=Km(),this.ie=pm.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=Rm(),e=Rm(),n=Rm();return this.se.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Ly()}})),new Vm(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=Km()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),qm=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=Sm(),this.Ae=Wm(),this.Re=new Cm(By)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof Cw?this.Ve(r,t.te):t.te instanceof Iw&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ge(s,t.key,t.te)}},t.prototype.ye=function(t){var e=this;this.pe(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:Ly()}}))},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(fm(i))if(0===n){var o=new im(i.path);this.ge(e,o,new Iw(o,$y.min()))}else Fy(1===n);else this.Ne(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.Fe=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&fm(o.target)){var s=new im(o.target.path);null!==e.me.get(s)||e.ke(i,s)||e.ge(i,s,new Iw(s,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=Rm();this.Ae.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.J||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new jm(t,n,this.Re,this.me,r);return this.me=Sm(),this.Ae=Wm(),this.Re=new Cm(By),i},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.ke(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.xe(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.ke(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.xe(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Ne=function(t){var e=this.be(t).ce();return this.Ee.$e(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new zm,this.Ie.set(t,e)),e},t.prototype.xe=function(t){var e=this.Ae.get(t);return e||(e=new Cm(By),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||Ry("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new zm),this.Ee.$e(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.ke=function(t,e){return this.Ee.$e(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(){return new wm(im.P)}function Km(){return new wm(im.P)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gm(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function Xm(t){var e=nb(t.mapValue.fields.__local_write_time__.timestampValue);return new Jy(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ym=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qm(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Gm(t)?4:10:Ly()}function Zm(t,e){var n=Qm(t);if(n!==Qm(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Xm(t).isEqual(Xm(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=nb(t.timestampValue),r=nb(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return ib(t.bytesValue).isEqual(ib(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return rb(t.geoPointValue.latitude)===rb(e.geoPointValue.latitude)&&rb(t.geoPointValue.longitude)===rb(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return rb(t.integerValue)===rb(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=rb(t.doubleValue),r=rb(e.doubleValue);return n===r?sm(n)===sm(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return Hy(t.arrayValue.values||[],e.arrayValue.values||[],Zm);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(Ky(n)!==Ky(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!Zm(n[i],r[i])))return!1;return!0}(t,e);default:return Ly()}}function Jm(t,e){return void 0!==(t.values||[]).find((function(t){return Zm(t,e)}))}function $m(t,e){var n=Qm(t),r=Qm(e);if(n!==r)return By(n,r);switch(n){case 0:return 0;case 1:return By(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=rb(t.integerValue||t.doubleValue),r=rb(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return tb(t.timestampValue,e.timestampValue);case 4:return tb(Xm(t),Xm(e));case 5:return By(t.stringValue,e.stringValue);case 6:return function(t,e){var n=ib(t),r=ib(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=By(n[i],r[i]);if(0!==o)return o}return By(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=By(rb(t.latitude),rb(e.latitude));return 0!==n?n:By(rb(t.longitude),rb(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=$m(n[i],r[i]);if(o)return o}return By(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=By(r[s],o[s]);if(0!==a)return a;var u=$m(n[r[s]],i[o[s]]);if(0!==u)return u}return By(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Ly()}}function tb(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return By(t,e);var n=nb(t),r=nb(e),i=By(n.seconds,r.seconds);return 0!==i?i:By(n.nanos,r.nanos)}function eb(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=nb(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?ib(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,im.B(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Ly();var n,r}(t)}function nb(t){if(Fy(!!t),"string"==typeof t){var e=0,n=Ym.exec(t);if(Fy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:rb(t.seconds),nanos:rb(t.nanos)}}function rb(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function ib(t){return"string"==typeof t?pm.fromBase64String(t):pm.fromUint8Array(t)}function ob(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function sb(t){return!!t&&"integerValue"in t}function ab(t){return!!t&&"arrayValue"in t}function ub(t){return!!t&&"nullValue"in t}function cb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function lb(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hb={asc:"ASCENDING",desc:"DESCENDING"},fb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pb=function(t,e){this.s=t,this.Oe=e};function db(t){return{integerValue:""+t}}function vb(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sm(e)?"-0":e}}function gb(t,e){return am(e)?db(e):vb(t,e)}function yb(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function mb(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function bb(t,e){return yb(t,e.A())}function wb(t){return Fy(!!t),$y.I(function(t){var e=nb(t);return new Jy(e.seconds,e.nanos)}(t))}function _b(t,e){return function(t){return new em(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function Eb(t){var e=em.k(t);return Fy(Bb(e)),e}function Cb(t,e){return _b(t.s,e.path)}function Ib(t,e){var n=Eb(e);return Fy(n.get(1)===t.s.projectId),Fy(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new im(xb(n))}function Tb(t,e){return _b(t.s,e)}function Sb(t){var e=Eb(t);return 4===e.length?em.$():xb(e)}function kb(t){return new em(["projects",t.s.projectId,"databases",t.s.database]).F()}function xb(t){return Fy(t.length>4&&"documents"===t.get(4)),t.g(5)}function Ab(t,e,n){return{name:Cb(t,e),fields:n.proto.mapValue.fields}}function Nb(t,e){var n;if(e instanceof hw)n={update:Ab(t,e.key,e.value)};else if(e instanceof yw)n={delete:Cb(t,e.key)};else if(e instanceof fw)n={update:Ab(t,e.key,e.data),updateMask:Ub(e.Le)};else if(e instanceof dw)n={transform:{document:Cb(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof Kb)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof Gb)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof Yb)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof Zb)return{fieldPath:e.field.F(),increment:n.qe};throw Ly()}(0,t)}))}};else{if(!(e instanceof mw))return Ly();n={verify:Cb(t,e.key)}}return e.Ue.Be||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:bb(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Ly()}(t,e.Ue)),n}function Ob(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?rw.updateTime(wb(t.updateTime)):void 0!==t.exists?rw.exists(t.exists):rw.Qe()}(e.currentDocument):rw.Qe();if(e.update){e.update.name;var r=Ib(t,e.update.name),i=new bw({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new tw(e.map((function(t){return rm.q(t)})))}(e.updateMask);return new fw(r,i,o,n)}return new hw(r,i,n)}if(e.delete){var s=Ib(t,e.delete);return new yw(s,n)}if(e.transform){var a=Ib(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Fy("REQUEST_TIME"===e.setToServerValue),n=new Kb;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new Gb(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new Yb(i)}else"increment"in e?n=new Zb(t,e.increment):Ly();var o=rm.q(e.fieldPath);return new ew(o,n)}(t,e)}));return Fy(!0===n.exists),new dw(a,u)}if(e.verify){var c=Ib(t,e.verify);return new mw(c,n)}return Ly()}function Rb(t,e){return{documents:[Tb(t,e.path)]}}function Db(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Tb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Tb(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(cb(t.value))return{unaryFilter:{field:Lb(t.field),op:"IS_NAN"}};if(ub(t.value))return{unaryFilter:{field:Lb(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(cb(t.value))return{unaryFilter:{field:Lb(t.field),op:"IS_NOT_NAN"}};if(ub(t.value))return{unaryFilter:{field:Lb(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Lb(t.field),op:(e=t.op,fb[e]),value:t.value}};var e}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Lb((e=t).field),direction:(n=e.dir,hb[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Oe||om(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Pb(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Pb(e.endAt)),n}function Pb(t){return{before:t.before,values:t.position}}function Mb(t){var e=!!t.before,n=t.values||[];return new Qw(n,e)}function Lb(t){return{fieldPath:t.F()}}function Fb(t){return rm.q(t.fieldPath)}function jb(t){return Bw.create(Fb(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Ly()}}(t.fieldFilter.op),t.fieldFilter.value)}function Vb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Fb(t.unaryFilter.field);return Bw.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Fb(t.unaryFilter.field);return Bw.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Fb(t.unaryFilter.field);return Bw.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Fb(t.unaryFilter.field);return Bw.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Ly()}}function Ub(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function Bb(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Hb=function(){this.We=void 0};function zb(t,e,n){return t instanceof Kb?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof Gb?Xb(t,e):t instanceof Yb?Qb(t,e):function(t,e){var n=Wb(t,e),r=Jb(n)+Jb(t.qe);return sb(n)&&sb(t.qe)?db(r):vb(t.serializer,r)}(t,e)}function qb(t,e,n){return t instanceof Gb?Xb(t,e):t instanceof Yb?Qb(t,e):n}function Wb(t,e){return t instanceof Zb?sb(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var Kb=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e}(Hb),Gb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return u(e,t),e}(Hb);function Xb(t,e){for(var n=$b(e),r=function(t){n.some((function(e){return Zm(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Yb=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return u(e,t),e}(Hb);function Qb(t,e){for(var n=$b(e),r=function(t){n=n.filter((function(e){return!Zm(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var Zb=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.qe=n,r}return u(e,t),e}(Hb);function Jb(t){return rb(t.integerValue||t.doubleValue)}function $b(t){return ab(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tw=function(){function t(t){this.fields=t,t.sort(rm.P)}return t.prototype.je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return Hy(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),ew=function(t,e){this.field=t,this.transform=e},nw=function(t,e){this.version=t,this.transformResults=e},rw=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Be",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function iw(t,e){return void 0!==t.updateTime?e instanceof Cw&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Cw}var ow=function(){};function sw(t,e,n){return t instanceof hw?function(t,e,n){return new Cw(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof fw?function(t,e,n){if(!iw(t.Ue,e))return new Tw(t.key,n.version);var r=pw(t,e);return new Cw(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof dw?function(t,e,n){if(Fy(null!=n.transformResults),!iw(t.Ue,e))return new Tw(t.key,n.version);var r=vw(t,e),i=function(t,e,n){var r=[];Fy(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Cw&&(a=e.field(o.field)),r.push(qb(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=gw(t,r.data(),i);return new Cw(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Iw(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function aw(t,e,n,r){return t instanceof hw?function(t,e){if(!iw(t.Ue,e))return e;var n=lw(e);return new Cw(t.key,n,t.value,{Ke:!0})}(t,e):t instanceof fw?function(t,e){if(!iw(t.Ue,e))return e;var n=lw(e),r=pw(t,e);return new Cw(t.key,n,r,{Ke:!0})}(t,e):t instanceof dw?function(t,e,n,r){if(!iw(t.Ue,e))return e;var i=vw(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Cw&&(c=n.field(a.field)),null===c&&r instanceof Cw&&(c=r.field(a.field)),i.push(zb(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=gw(t,i.data(),o);return new Cw(t.key,i.version,s,{Ke:!0})}(t,e,r,n):function(t,e){return iw(t.Ue,e)?new Iw(t.key,$y.min()):e}(t,e)}function uw(t,e){return t instanceof dw?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Cw?e.field(o.field):void 0,a=Wb(o.transform,s||null);null!=a&&(n=null==n?(new ww).set(o.field,a):n.set(o.field,a))}return n?n.Ge():null}(t,e):null}function cw(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||Hy(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof Gb&&e instanceof Gb||t instanceof Yb&&e instanceof Yb?Hy(t.elements,e.elements,Zm):t instanceof Zb&&e instanceof Zb?Zm(t.qe,e.qe):t instanceof Kb&&e instanceof Kb}(t.transform,e.transform)}(t,e)})))}function lw(t){return t instanceof Cw?t.version:$y.min()}var hw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return u(e,t),e}(ow),fw=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Le=r,o.Ue=i,o.type=1,o}return u(e,t),e}(ow);function pw(t,e){return function(t,e){var n=new ww(e);return t.Le.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ge()}(t,e instanceof Cw?e.data():bw.empty())}var dw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=rw.exists(!0),r}return u(e,t),e}(ow);function vw(t,e){return e}function gw(t,e,n){for(var r=new ww(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Ge()}var yw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return u(e,t),e}(ow),mw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return u(e,t),e}(ow),bw=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!lb(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return Zm(this.proto,t.proto)},t}(),ww=function(){function t(t){void 0===t&&(t=bw.empty()),this.ze=t,this.He=new Map}return t.prototype.set=function(t,e){return this.Ye(t,e),this},t.prototype.delete=function(t){return this.Ye(t,null),this},t.prototype.Ye=function(t,e){for(var n=this.He,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===Qm(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.Ge=function(){var t=this.Je(rm.$(),this.He);return null!=t?new bw(t):this.ze},t.prototype.Je=function(t,e){var n=this,r=!1,i=this.ze.field(t),o=lb(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Je(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function _w(t){var e=[];return Gy(t.fields||{},(function(t,n){var r=new rm([t]);if(lb(n)){var i=_w(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new tw(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Ew=function(t,e){this.key=t,this.version=e},Cw=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Xe=r,o.Ke=!!i.Ke,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return u(e,t),e.prototype.field=function(t){return this.Xe.field(t)},e.prototype.data=function(){return this.Xe},e.prototype.Ze=function(){return this.Xe.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ke===t.Ke&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Xe.isEqual(t.Xe)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Xe.toString()+", {hasLocalMutations: "+this.Ke+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ke||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Ew),Iw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return u(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ew),Tw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Ew);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sw(t,e){if(!(t instanceof e))throw e.name===t.constructor.name?new Zy(Qy.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?"):new Zy(Qy.INVALID_ARGUMENT,"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kw=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.tn=n,this.filters=r,this.limit=i,this.en=o,this.startAt=s,this.endAt=a,this.nn=null,this.sn=null,this.startAt,this.endAt}return t.prototype.rn=function(e){return new t(e,null,this.tn.slice(),this.filters.slice(),this.limit,this.en,this.startAt,this.endAt)},t.prototype.on=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.tn.length||1===this.tn.length&&this.tn[0].field.O())},t.prototype.hn=function(){return!om(this.limit)&&"F"===this.en},t.prototype.an=function(){return!om(this.limit)&&"L"===this.en},t.prototype.un=function(){return this.tn.length>0?this.tn[0].field:null},t.prototype.cn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n.ln())return n.field}return null},t.prototype._n=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function xw(t,e,n,r,i,o,s,a){return new kw(t,e,n,r,i,o,s,a)}function Aw(t){return new kw(t)}function Nw(t){return null!==t.collectionGroup}function Ow(t){var e=Sw(t,kw);if(null===e.nn){e.nn=[];var n=e.cn(),r=e.un();if(null!==n&&null===r)n.O()||e.nn.push(new t_(n)),e.nn.push(new t_(rm.L(),"asc"));else{for(var i=!1,o=0,s=e.tn;o<s.length;o++){var a=s[o];e.nn.push(a),a.field.O()&&(i=!0)}if(!i){var u=e.tn.length>0?e.tn[e.tn.length-1].dir:"asc";e.nn.push(new t_(rm.L(),u))}}}return e.nn}function Rw(t){var e=Sw(t,kw);if(!e.sn)if("F"===e.en)e.sn=cm(e.path,e.collectionGroup,Ow(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=Ow(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new t_(o.field,s))}var a=e.endAt?new Qw(e.endAt.position,!e.endAt.before):null,u=e.startAt?new Qw(e.startAt.position,!e.startAt.before):null;e.sn=cm(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.sn}function Dw(t,e,n){return new kw(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Pw(t,e){return new kw(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,e,t.endAt)}function Mw(t,e){return new kw(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,t.startAt,e)}function Lw(t,e){return hm(Rw(t),Rw(e))&&t.en===e.en}function Fw(t){return lm(Rw(t))+"|lt:"+t.en}function jw(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+eb(e.value);var e})).join(", ")+"]"),om(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+Zw(t.startAt)),t.endAt&&(e+=", endAt: "+Zw(t.endAt)),"Target("+e+")"}(Rw(t))+"; limitType="+t.en+")"}function Vw(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):im.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.tn;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!Jw(t.startAt,Ow(t),e)||t.endAt&&Jw(t.endAt,Ow(t),e))}(t,e)}function Uw(t){return function(e,n){for(var r=!1,i=0,o=Ow(t);i<o.length;i++){var s=o[i],a=e_(s,e,n);if(0!==a)return a;r=r||s.field.O()}return 0}}var Bw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return u(e,t),e.create=function(t,n,r){if(t.O())return"in"===n||"not-in"===n?this.fn(t,n,r):new Hw(t,n,r);if(ub(r)){if("=="!==n&&"!="!==n)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(cb(r)){if("=="!==n&&"!="!==n)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new Kw(t,r):"in"===n?new Gw(t,r):"not-in"===n?new Xw(t,r):"array-contains-any"===n?new Yw(t,r):new e(t,n,r)},e.fn=function(t,e,n){return"in"===e?new zw(t,n):new qw(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.dn($m(e,this.value)):null!==e&&Qm(this.value)===Qm(e)&&this.dn($m(e,this.value))},e.prototype.dn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Ly()}},e.prototype.ln=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),Hw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=im.B(r.referenceValue),i}return u(e,t),e.prototype.matches=function(t){var e=im.P(t.key,this.key);return this.dn(e)},e}(Bw),zw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=Ww("in",n),r}return u(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Bw),qw=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=Ww("not-in",n),r}return u(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}(Bw);function Ww(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return im.B(t.referenceValue)}))}var Kw=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return u(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return ab(e)&&Jm(e.arrayValue,this.value)},e}(Bw),Gw=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return u(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&Jm(this.value.arrayValue,e)},e}(Bw),Xw=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return u(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!Jm(this.value.arrayValue,e)},e}(Bw),Yw=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return u(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!ab(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return Jm(e.value.arrayValue,t)}))},e}(Bw),Qw=function(t,e){this.position=t,this.before=e};function Zw(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return eb(t)})).join(",")}function Jw(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.O()?im.P(im.B(s.referenceValue),n.key):$m(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function $w(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!Zm(t.position[n],e.position[n]))return!1;return!0}var t_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function e_(t,e,n){var r=t.field.O()?im.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?$m(r,i):Ly()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Ly()}}function n_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var r_=function(){function t(t,e,n,r){this.batchId=t,this.wn=e,this.baseMutations=n,this.mutations=r}return t.prototype.Tn=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=sw(o,e,r[i]))}return e},t.prototype.In=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=aw(i,e,e,this.wn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=aw(u,e,o,this.wn))}return e},t.prototype.mn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.In(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),Rm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&Hy(this.mutations,t.mutations,(function(t,e){return cw(t,e)}))&&Hy(this.baseMutations,t.baseMutations,(function(t,e){return cw(t,e)}))},t}(),i_=function(){function t(t,e,n,r){this.batch=t,this.An=e,this.En=n,this.Rn=r}return t.from=function(e,n,r){Fy(e.mutations.length===r.length);for(var i=Nm,o=e.mutations,s=0;s<o.length;s++)i=i.nt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),o_=function(){function t(t){var e=this;this.Pn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.gn=!1,this.yn=!1,t((function(t){e.gn=!0,e.result=t,e.Pn&&e.Pn(t)}),(function(t){e.gn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.yn&&Ly(),this.yn=!0,this.gn?this.error?this.pn(n,this.error):this.bn(e,this.result):new t((function(t,i){r.Pn=function(n){r.bn(e,n).next(t,i)},r.Vn=function(e){r.pn(n,e).next(t,i)}}))},t.prototype.vn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Sn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.bn=function(e,n){return e?this.Sn((function(){return e(n)})):t.resolve(n)},t.prototype.pn=function(e,n){return e?this.Sn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Dn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Cn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Dn(r)},t}(),s_=function(){function t(){this.Nn=new Yy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Fn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.kn},set:function(t){this.kn=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.$n(),this.readTime=e,this.Nn.set(t.key,t)},t.prototype.Mn=function(t,e){this.$n(),e&&(this.readTime=e),this.Nn.set(t,null)},t.prototype.On=function(t,e){this.$n();var n=this.Nn.get(e);return void 0!==n?o_.resolve(n):this.Ln(t,e)},t.prototype.getEntries=function(t,e){return this.qn(t,e)},t.prototype.apply=function(t){return this.$n(),this.Fn=!0,this.Bn(t)},t.prototype.$n=function(){},t}(),a_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",u_=function(){function t(){this.Un=[]}return t.prototype.Qn=function(t){this.Un.push(t)},t.prototype.Wn=function(){this.Un.forEach((function(t){return t()}))},t}(),c_=function(){function t(t,e,n){this.jn=t,this.Kn=e,this.Gn=n}return t.prototype.zn=function(t,e){var n=this;return this.Kn.Hn(t,e).next((function(r){return n.Yn(t,e,r)}))},t.prototype.Yn=function(t,e,n){return this.jn.On(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].In(e,t);return t}))},t.prototype.Jn=function(t,e,n){var r=km();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].In(t,e);r=r.nt(t,e)})),r},t.prototype.Xn=function(t,e){var n=this;return this.jn.getEntries(t,e).next((function(e){return n.Zn(t,e)}))},t.prototype.Zn=function(t,e){var n=this;return this.Kn.ts(t,e).next((function(r){var i=n.Jn(t,e,r),o=Sm();return i.forEach((function(t,e){e||(e=new Iw(t,$y.min())),o=o.nt(t,e)})),o}))},t.prototype.es=function(t,e,n){return function(t){return im.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ns(t,e.path):Nw(e)?this.ss(t,e,n):this.rs(t,e,n)},t.prototype.ns=function(t,e){return this.zn(t,new im(e)).next((function(t){var e=Am();return t instanceof Cw&&(e=e.nt(t.key,t)),e}))},t.prototype.ss=function(t,e,n){var r=this,i=e.collectionGroup,o=Am();return this.Gn.os(t,i).next((function(s){return o_.forEach(s,(function(s){var a=e.rn(s.child(i));return r.rs(t,a,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.rs=function(t,e,n){var r,i,o=this;return this.jn.es(t,e,n).next((function(n){return r=n,o.Kn.hs(t,e)})).next((function(e){return i=e,o.as(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=aw(u,l,l,o.wn);r=h instanceof Cw?r.nt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Vw(e,n)||(r=r.remove(t))})),r}))},t.prototype.as=function(t,e,n){for(var r=Rm(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof fw&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.jn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Cw&&(c=c.nt(t,e))})),c}))},t}(),l_=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.us=n,this.cs=r}return t.ls=function(e,n){for(var r=Rm(),i=Rm(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),h_=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e._s=function(t){return n.fs(t)},this.ds=function(t){return e.ws(t)})}return t.prototype.fs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ds&&this.ds(t),t},t}();h_.Ts=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var f_=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},p_=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Es=t,this.Is=e,this.ms=n,this.As=r,this.Rs=i,this.Ps=0,this.Vs=null,this.gs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ps=0},t.prototype.ys=function(){this.Ps=this.Rs},t.prototype.ps=function(t){var e=this;this.cancel();var n=Math.floor(this.Ps+this.bs()),r=Math.max(0,Date.now()-this.gs),i=Math.max(0,n-r);i>0&&Ry("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ps+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Vs=this.Es.vs(this.Is,i,(function(){return e.gs=Date.now(),t()})),this.Ps*=this.As,this.Ps<this.ms&&(this.Ps=this.ms),this.Ps>this.Rs&&(this.Ps=this.Rs)},t.prototype.Ss=function(){null!==this.Vs&&(this.Vs.Ds(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.bs=function(){return(Math.random()-.5)*this.Ps},t}(),d_=function(){function t(e,n,r){this.name=e,this.version=n,this.Cs=r,12.2===t.Ns(yc())&&Dy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return Ry("SimpleDb","Removing database:",t),w_(window.indexedDB.deleteDatabase(t)).vn()},t.Fs=function(){if("undefined"==typeof indexedDB)return!1;if(t.ks())return!0;var e=yc(),n=t.Ns(e),r=0<n&&n<10,i=t.xs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.ks=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.$s)},t.Ms=function(t,e){return t.store(e)},t.Ns=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Os=function(){return l(this,void 0,void 0,(function(){var t,e=this;return h(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(Ry("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){var n=e.target.result;t(n)},r.onblocked=function(){n(new g_("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;"VersionError"===e.name?n(new Zy(Qy.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new g_(e))},r.onupgradeneeded=function(t){Ry("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;e.Cs.createOrUpgrade(n,r.transaction,t.oldVersion,e.version).next((function(){Ry("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Ls&&(this.db.onversionchange=function(t){return e.Ls(t)}),this.db)]}}))}))},t.prototype.qs=function(t){this.Ls=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o,s,a;return h(this,(function(u){switch(u.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,a,u,c;return h(this,(function(l){switch(l.label){case 0:++i,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.Os()];case 2:return s.db=l.sent(),t=m_.open(s.db,r?"readonly":"readwrite",e),o=n(t).catch((function(e){return t.abort(e),o_.reject(e)})).vn(),a={},o.catch((function(){})),[4,t.Bs];case 3:return[2,(a.value=(l.sent(),o),a)];case 4:return u=l.sent(),c="FirebaseError"!==u.name&&i<3,Ry("SimpleDb","Transaction failed with error: %s. Retrying: %s.",u.message,c),s.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},s=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(a=u.sent()))return[2,a.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),v_=function(){function t(t){this.Us=t,this.Qs=!1,this.Ws=null}return Object.defineProperty(t.prototype,"gn",{get:function(){return this.Qs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"js",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Us=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Qs=!0},t.prototype.Ks=function(t){this.Ws=t},t.prototype.delete=function(){return w_(this.Us.delete())},t}(),g_=function(t){function e(e){var n=this;return(n=t.call(this,Qy.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return u(e,t),e}(Zy);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(t){return"IndexedDbTransactionError"===t.name}var m_=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Gs=new f_,this.transaction.oncomplete=function(){e.Gs.resolve()},this.transaction.onabort=function(){t.error?e.Gs.reject(new g_(t.error)):e.Gs.resolve()},this.transaction.onerror=function(t){var n=E_(t.target.error);e.Gs.reject(new g_(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new g_(e)}},Object.defineProperty(t.prototype,"Bs",{get:function(){return this.Gs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Gs.reject(t),this.aborted||(Ry("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new b_(e)},t}(),b_=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(Ry("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(Ry("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),w_(n)},t.prototype.add=function(t){return Ry("SimpleDb","ADD",this.store.name,t,t),w_(this.store.add(t))},t.prototype.get=function(t){var e=this;return w_(this.store.get(t)).next((function(n){return void 0===n&&(n=null),Ry("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return Ry("SimpleDb","DELETE",this.store.name,t),w_(this.store.delete(t))},t.prototype.count=function(){return Ry("SimpleDb","COUNT",this.store.name),w_(this.store.count())},t.prototype.zs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Hs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ys=function(t,e){Ry("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Js=!1;var r=this.cursor(n);return this.Hs(r,(function(t,e,n){return n.delete()}))},t.prototype.Xs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Hs(r,e)},t.prototype.Zs=function(t){var e=this.cursor({});return new o_((function(n,r){e.onerror=function(t){var e=E_(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Hs=function(t,e){var n=[];return new o_((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new v_(i),s=e(i.primaryKey,i.value,o);if(s instanceof o_){var a=s.catch((function(t){return o.done(),o_.reject(t)}));n.push(a)}o.gn?r():null===o.js?i.continue():i.continue(o.js)}else r()}})).next((function(){return o_.Dn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Js?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function w_(t){return new o_((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=E_(t.target.error);n(e)}}))}var __=!1;function E_(t){var e=d_.Ns(yc());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new Zy("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return __||(__=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function C_(){return"undefined"!=typeof window?window:null}function I_(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var T_=function(){function t(t,e,n,r,i){this.ti=t,this.Is=e,this.ei=n,this.op=r,this.ni=i,this.si=new f_,this.then=this.si.promise.then.bind(this.si.promise),this.si.promise.catch((function(t){}))}return t.ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.ri=setTimeout((function(){return e.oi()}),t)},t.prototype.Ds=function(){return this.oi()},t.prototype.cancel=function(t){null!==this.ri&&(this.clearTimeout(),this.si.reject(new Zy(Qy.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.oi=function(){var t=this;this.ti.hi((function(){return null!==t.ri?(t.clearTimeout(),t.op().then((function(e){return t.si.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ri&&(this.ni(this),clearTimeout(this.ri),this.ri=null)},t}(),S_=function(){function t(){var t=this;this.ai=Promise.resolve(),this.ui=[],this.ci=!1,this.li=[],this._i=null,this.fi=!1,this.di=[],this.wi=new p_(this,"async_queue_retry"),this.Ti=function(){var e=I_();e&&Ry("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.wi.Ss()};var e=I_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ti)}return Object.defineProperty(t.prototype,"Ei",{get:function(){return this.ci},enumerable:!1,configurable:!0}),t.prototype.hi=function(t){this.enqueue(t)},t.prototype.Ii=function(t){this.mi(),this.Ai(t)},t.prototype.Ri=function(t){return this.mi(),this.Ai(t)},t.prototype.Pi=function(t){return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return this.mi(),this.ci?[3,2]:(this.ci=!0,(e=I_())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ti),[4,this.Ri(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.mi(),this.ci?new Promise((function(t){})):this.Ai(t)},t.prototype.Vi=function(t){var e=this;this.ui.push(t),this.hi((function(){return e.gi()}))},t.prototype.gi=function(){return l(this,void 0,void 0,(function(){var t,e=this;return h(this,(function(n){switch(n.label){case 0:if(0===this.ui.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ui[0]()];case 2:return n.sent(),this.ui.shift(),this.wi.reset(),[3,4];case 3:if(!y_(t=n.sent()))throw t;return Ry("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ui.length>0&&this.wi.ps((function(){return e.gi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ai=function(t){var e=this,n=this.ai.then((function(){return e.fi=!0,t().catch((function(t){throw e._i=t,e.fi=!1,Dy("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.fi=!1,t}))}));return this.ai=n,n},t.prototype.vs=function(t,e,n){var r=this;this.mi(),this.di.indexOf(t)>-1&&(e=0);var i=T_.ii(this,t,e,n,(function(t){return r.yi(t)}));return this.li.push(i),i},t.prototype.mi=function(){this._i&&Ly()},t.prototype.pi=function(){},t.prototype.bi=function(){return l(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return[4,t=this.ai];case 1:e.sent(),e.label=2;case 2:if(t!==this.ai)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this.li;e<n.length;e++)if(n[e].Is===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e.li.sort((function(t,e){return t.ei-e.ei}));for(var n=0,r=e.li;n<r.length;n++){var i=r[n];if(i.Ds(),"all"!==t&&i.Is===t)break}return e.bi()}))},t.prototype.Di=function(t){this.di.push(t)},t.prototype.yi=function(t){var e=this.li.indexOf(t);this.li.splice(e,1)},t}();function k_(t,e){if(Dy("AsyncQueue",e+": "+t),y_(t))return new Zy(Qy.UNAVAILABLE,e+": "+t);throw t}function x_(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=By(n,i);return 0===s?By(r,o):s}var A_=function(){function t(t){this.Ci=t,this.buffer=new Cm(x_),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();x_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),N_={xi:!1,$i:0,Mi:0,Oi:0},O_=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();O_.ji=-1,O_.Ki=1048576,O_.Gi=41943040,O_.Qi=10,O_.Wi=1e3,O_.zi=new O_(O_.Gi,O_.Qi,O_.Wi),O_.Hi=new O_(O_.ji,0,0);var R_=function(){function t(t,e){this.Yi=t,this.ti=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==O_.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;Ry("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ti.vs("lru_garbage_collection",n,(function(){return l(e,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return y_(e=n.sent())?(Ry("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,BE(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),D_=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return o_.resolve(h_.Ts);var r=new A_(e);return this.nr.pe(t,(function(t){return r.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return r.ki(t)}))})).next((function(){return r.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.ur=function(t,e){var n=this;return this.params.Li===O_.ji?(Ry("LruGarbageCollector","Garbage collection skipped; disabled"),o_.resolve(N_)):this.cr(t).next((function(r){return r<n.params.Li?(Ry("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Li),N_):n.lr(t,e)}))},t.prototype.cr=function(t){return this.nr.cr(t)},t.prototype.lr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>c.params.Bi?(Ry("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Bi+" from "+e),r=c.params.Bi):r=e,o=Date.now(),c.rr(t,r)})).next((function(r){return n=r,s=Date.now(),c.hr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.ar(t,n)})).next((function(t){return u=Date.now(),Oy()<=Zc.DEBUG&&Ry("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),o_.resolve({xi:!0,$i:r,Mi:i,Oi:t})}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P_(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=L_(e)),e=M_(t.get(n),e);return L_(e)}function M_(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function L_(t){return t+""}function F_(t){var e=t.length;if(Fy(e>=2),2===e)return Fy(""===t.charAt(0)&&""===t.charAt(1)),em.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Ly(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Ly()}o=s+2}return new em(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var j_=function(t){this._r=t};function V_(t,e){if(e.document)return function(t,e,n){var r=Ib(t,e.name),i=wb(e.updateTime),o=new bw({mapValue:{fields:e.fields}});return new Cw(r,i,o,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=im.j(e.noDocument.path),r=q_(e.noDocument.readTime);return new Iw(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=im.j(e.unknownDocument.path),o=q_(e.unknownDocument.version);return new Tw(i,o)}return Ly()}function U_(t,e,n){var r=B_(n),i=e.key.path.p().N();if(e instanceof Cw){var o=function(t,e){return{name:Cb(t,e.key),fields:e.Ze().mapValue.fields,updateTime:yb(t,e.version.A())}}(t._r,e),s=e.hasCommittedMutations;return new vE(null,null,o,s,r,i)}if(e instanceof Iw){var a=e.key.path.N(),u=z_(e.version),c=e.hasCommittedMutations;return new vE(null,new pE(a,u),null,c,r,i)}if(e instanceof Tw){var l=e.key.path.N(),h=z_(e.version);return new vE(new dE(l,h),null,null,!0,r,i)}return Ly()}function B_(t){var e=t.A();return[e.seconds,e.nanoseconds]}function H_(t){var e=new Jy(t[0],t[1]);return $y.I(e)}function z_(t){var e=t.A();return new uE(e.seconds,e.nanoseconds)}function q_(t){var e=new Jy(t.seconds,t.nanoseconds);return $y.I(e)}function W_(t,e){var n=(e.baseMutations||[]).map((function(e){return Ob(t._r,e)})),r=e.mutations.map((function(e){return Ob(t._r,e)})),i=Jy.fromMillis(e.localWriteTimeMs);return new r_(e.batchId,i,n,r)}function K_(t){var e,n,r=q_(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?q_(t.lastLimboFreeSnapshotVersion):$y.min();return void 0!==t.query.documents?(Fy(1===(n=t.query).documents.length),e=Rw(Aw(Sb(n.documents[0])))):e=function(t){var e=Sb(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Fy(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Vb(e)]:void 0!==e.fieldFilter?[jb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Ly():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new t_(Fb((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return om(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Mb(n.startAt));var l=null;return n.endAt&&(l=Mb(n.endAt)),Rw(xw(e,i,a,s,u,"F",c,l))}(t.query),new gm(e,t.targetId,0,t.lastListenSequenceNumber,r,i,pm.fromBase64String(t.resumeToken))}function G_(t,e){var n,r=z_(e.X),i=z_(e.lastLimboFreeSnapshotVersion);n=fm(e.target)?Rb(t._r,e.target):Db(t._r,e.target);var o=e.resumeToken.toBase64();return new yE(e.targetId,lm(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X_=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Gn=n,this.dr=r,this.wr={}}return t.Tr=function(e,n,r,i){return Fy(""!==e.uid),new t(e.Er()?e.uid:"",n,r,i)},t.prototype.Ir=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Z_(t).Xs({index:hE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.mr=function(t,e,n,r){var i=this,o=J_(t),s=Z_(t);return s.add({}).next((function(a){Fy("number"==typeof a);for(var u=new r_(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Nb(t._r,e)})),i=n.mutations.map((function(e){return Nb(t._r,e)}));return new hE(e,n.batchId,n.wn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Cm((function(t,e){return By(t.F(),e.F())})),f=0,p=r;f<p.length;f++){var d=p[f],v=fE.key(i.userId,d.key.path,a);h=h.add(d.key.path.p()),l.push(s.put(c)),l.push(o.put(v,fE.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Gn.Ar(t,e))})),t.Qn((function(){i.wr[a]=u.keys()})),o_.Dn(l).next((function(){return u}))}))},t.prototype.Rr=function(t,e){var n=this;return Z_(t).get(e).next((function(t){return t?(Fy(t.userId===n.userId),W_(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?o_.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var r=t.keys();return n.wr[e]=r,r}return null}))},t.prototype.Vr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return Z_(t).Xs({index:hE.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Fy(e.batchId>=r),o=W_(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.gr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return Z_(t).Xs({index:hE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Z_(t).zs(hE.userMutationsIndex,n).next((function(t){return t.map((function(t){return W_(e.serializer,t)}))}))},t.prototype.Hn=function(t,e){var n=this,r=fE.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return J_(t).Xs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=F_(u);if(a===n.userId&&e.path.isEqual(l))return Z_(t).get(c).next((function(t){if(!t)throw Ly();Fy(t.userId===n.userId),o.push(W_(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ts=function(t,e){var n=this,r=new Cm(By),i=[];return e.forEach((function(e){var o=fE.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=J_(t).Xs({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=F_(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),o_.Dn(i).next((function(){return n.pr(t,r)}))},t.prototype.hs=function(t,e){var n=this,r=e.path,i=r.length+1,o=fE.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Cm(By);return J_(t).Xs({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=F_(u);s===n.userId&&r.D(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(Z_(t).get(e).next((function(t){if(null===t)throw Ly();Fy(t.userId===n.userId),r.push(W_(n.serializer,t))})))})),o_.Dn(i).next((function(){return r}))},t.prototype.br=function(t,e){var n=this;return Q_(t.vr,this.userId,e).next((function(r){return t.Qn((function(){n.Sr(e.batchId)})),o_.forEach(r,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.Ir(t).next((function(n){if(!n)return o_.resolve();var r=IDBKeyRange.lowerBound(fE.prefixForUser(e.userId)),i=[];return J_(t).Xs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=F_(t[1]);i.push(o)}else r.done()})).next((function(){Fy(0===i.length)}))}))},t.prototype.Nr=function(t,e){return Y_(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return $_(t).get(this.userId).next((function(t){return t||new lE(e.userId,-1,"")}))},t}();function Y_(t,e,n){var r=fE.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return J_(t).Xs({range:o,Js:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function Q_(t,e,n){var r=t.store(hE.store),i=t.store(fE.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Xs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Fy(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=fE.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return o_.Dn(o).next((function(){return c}))}function Z_(t){return DE.Ms(t,hE.store)}function J_(t){return DE.Ms(t,fE.store)}function $_(t){return DE.Ms(t,lE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tE=function(){function t(t,e){this.serializer=t,this.Gn=e}return t.prototype.xn=function(t,e,n){return nE(t).put(rE(e),n)},t.prototype.Mn=function(t,e){var n=nE(t),r=rE(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype.On=function(t,e){var n=this;return nE(t).get(rE(e)).next((function(t){return n.xr(t)}))},t.prototype.$r=function(t,e){var n=this;return nE(t).get(rE(e)).next((function(t){var e=n.xr(t);return e?{Mr:e,size:iE(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=km();return this.Or(t,e,(function(t,e){var i=n.xr(e);r=r.nt(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=km(),i=new wm(im.P);return this.Or(t,e,(function(t,e){var o=n.xr(e);o?(r=r.nt(t,o),i=i.nt(t,iE(e))):(r=r.nt(t,null),i=i.nt(t,0))})).next((function(){return{qr:r,Br:i}}))},t.prototype.Or=function(t,e,n){if(e._())return o_.resolve();var r=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),i=e.at(),o=i.dt();return nE(t).Xs({range:r},(function(t,e,r){for(var s=im.j(t);o&&im.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,e),o=i.wt()?i.dt():null),o?r.Ks(o.path.N()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},t.prototype.es=function(t,e,n){var r=this,i=Am(),o=e.path.length+1,s={};if(n.isEqual($y.min())){var a=e.path.N();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.N(),c=B_(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=vE.collectionReadTimeIndex}return nE(t).Xs(s,(function(t,n,s){if(t.length===o){var a=V_(r.serializer,n);e.path.D(a.key.path)?a instanceof Cw&&Vw(e,a)&&(i=i.nt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,r=Sm(),i=B_(e),o=nE(t),s=IDBKeyRange.lowerBound(i,!0);return o.Xs({index:vE.readTimeIndex,range:s},(function(t,e){var o=V_(n.serializer,e);r=r.nt(o.key,o),i=e.readTime})).next((function(){return{Qr:r,readTime:H_(i)}}))},t.prototype.Wr=function(t){var e=nE(t),n=$y.min();return e.Xs({index:vE.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=H_(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return eE(t).get(gE.key).next((function(t){return Fy(!!t),t}))},t.prototype.kr=function(t,e){return eE(t).put(gE.key,e)},t.prototype.xr=function(t){if(t){var e=V_(this.serializer,t);return e instanceof Iw&&e.version.isEqual($y.min())?null:e}return null},t}();function eE(t){return DE.Ms(t,gE.store)}function nE(t){return DE.Ms(t,vE.store)}function rE(t){return t.path.N()}function iE(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Ly();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */tE.Kr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Hr=e,r.Gr=n,r.Yr=new Yy((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return u(e,t),e.prototype.Bn=function(t){var e=this,n=[],r=0,i=new Cm((function(t,e){return By(t.F(),e.F())}));return this.Nn.forEach((function(o,s){var a=e.Yr.get(o);if(s){var u=U_(e.Hr.serializer,s,e.readTime);i=i.add(o.path.p());var c=iE(u);r+=c-a,n.push(e.Hr.xn(t,o,u))}else if(r-=a,e.Gr){var l=U_(e.Hr.serializer,new Iw(o,$y.min()),e.readTime);n.push(e.Hr.xn(t,o,l))}else n.push(e.Hr.Mn(t,o))})),i.forEach((function(r){n.push(e.Hr.Gn.Ar(t,r))})),n.push(this.Hr.updateMetadata(t,r)),o_.Dn(n)},e.prototype.Ln=function(t,e){var n=this;return this.Hr.$r(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Mr)}))},e.prototype.qn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(s_);var oE=function(){function t(){this.Jr=new sE}return t.prototype.Ar=function(t,e){return this.Jr.add(e),o_.resolve()},t.prototype.os=function(t,e){return o_.resolve(this.Jr.getEntries(e))},t}(),sE=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new Cm(em.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Cm(em.P)).N()},t}(),aE=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Fy(n<r&&n>=0&&r<=10);var o=new m_(e);n<1&&r>=1&&(function(t){t.createObjectStore(cE.store)}(t),function(t){t.createObjectStore(lE.store,{keyPath:lE.keyPath}),t.createObjectStore(hE.store,{keyPath:hE.keyPath,autoIncrement:!0}).createIndex(hE.userMutationsIndex,hE.userMutationsKeyPath,{unique:!0}),t.createObjectStore(fE.store)}(t),_E(t),function(t){t.createObjectStore(vE.store)}(t));var s=o_.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(mE.store),t.deleteObjectStore(yE.store),t.deleteObjectStore(bE.store)}(t),_E(t)),s=s.next((function(){return function(t){var e=t.store(bE.store),n=new bE(0,0,$y.min().A(),0);return e.put(bE.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(hE.store).zs().next((function(n){t.deleteObjectStore(hE.store),t.createObjectStore(hE.store,{keyPath:hE.keyPath,autoIncrement:!0}).createIndex(hE.userMutationsIndex,hE.userMutationsKeyPath,{unique:!0});var r=e.store(hE.store),i=n.map((function(t){return r.put(t)}));return o_.Dn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(EE.store,{keyPath:EE.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(gE.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(vE.store);e.createIndex(vE.readTimeIndex,vE.readTimeIndexPath,{unique:!1}),e.createIndex(vE.collectionReadTimeIndex,vE.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(vE.store).Xs((function(t,n){e+=iE(n)})).next((function(){var n=new gE(e);return t.store(gE.store).put(gE.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(lE.store),r=t.store(hE.store);return n.zs().next((function(n){return o_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.zs(hE.userMutationsIndex,i).next((function(r){return o_.forEach(r,(function(r){Fy(r.userId===n.userId);var i=W_(e.serializer,r);return Q_(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(mE.store),n=t.store(vE.store);return t.store(bE.store).get(bE.key).next((function(t){var r=[];return n.Xs((function(n,i){var o=new em(n),s=function(t){return[0,P_(t)]}(o);r.push(e.get(s).next((function(n){return n?o_.resolve():function(n){return e.put(new mE(0,P_(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return o_.Dn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(wE.store,{keyPath:wE.keyPath});var n=e.store(wE.store),r=new sE,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:P_(i)})}};return e.store(vE.store).Xs({Js:!0},(function(t,e){var n=new em(t);return i(n.p())})).next((function(){return e.store(fE.store).Xs({Js:!0},(function(t,e){t[0];var n=t[1],r=(t[2],F_(n));return i(r.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(yE.store);return n.Xs((function(t,r){var i=K_(r),o=G_(e.serializer,i);return n.put(o)}))},t}(),uE=function(t,e){this.seconds=t,this.nanoseconds=e},cE=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};cE.store="owner",cE.key="owner";var lE=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};lE.store="mutationQueues",lE.keyPath="userId";var hE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};hE.store="mutations",hE.keyPath="batchId",hE.userMutationsIndex="userMutationsIndex",hE.userMutationsKeyPath=["userId","batchId"];var fE=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,P_(e)]},t.key=function(t,e,n){return[t,P_(e),n]},t}();fE.store="documentMutations",fE.PLACEHOLDER=new fE;var pE=function(t,e){this.path=t,this.readTime=e},dE=function(t,e){this.path=t,this.version=e},vE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};vE.store="remoteDocuments",vE.readTimeIndex="readTimeIndex",vE.readTimeIndexPath="readTime",vE.collectionReadTimeIndex="collectionReadTimeIndex",vE.collectionReadTimeIndexPath=["parentPath","readTime"];var gE=function(t){this.byteSize=t};gE.store="remoteDocumentGlobal",gE.key="remoteDocumentGlobalKey";var yE=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};yE.store="targets",yE.keyPath="targetId",yE.queryTargetsIndexName="queryTargetsIndex",yE.queryTargetsKeyPath=["canonicalId","targetId"];var mE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};mE.store="targetDocuments",mE.keyPath=["targetId","path"],mE.documentTargetsIndex="documentTargetsIndex",mE.documentTargetsKeyPath=["path","targetId"];var bE=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};bE.key="targetGlobalKey",bE.store="targetGlobal";var wE=function(t,e){this.collectionId=t,this.parent=e};function _E(t){t.createObjectStore(mE.store,{keyPath:mE.keyPath}).createIndex(mE.documentTargetsIndex,mE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(yE.store,{keyPath:yE.keyPath}).createIndex(yE.queryTargetsIndexName,yE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(bE.store)}wE.store="collectionParents",wE.keyPath=["collectionId","parent"];var EE=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};EE.store="clientMetadata",EE.keyPath="clientId";var CE=v(v(v([lE.store,hE.store,fE.store,vE.store,yE.store,cE.store,bE.store,mE.store],[EE.store]),[gE.store]),[wE.store]),IE=function(){function t(){this.Xr=new sE}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var r=e.S(),i=e.p();t.Qn((function(){n.Xr.add(e)}));var o={collectionId:r,parent:P_(i)};return TE(t).put(o)}return o_.resolve()},t.prototype.os=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[zy(e),""],!1,!0);return TE(t).zs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(F_(o.parent))}return n}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(t){return DE.Ms(t,wE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SE=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),kE=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var r=new SE(n.highestTargetId);return n.highestTargetId=r.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return $y.I(new Jy(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var r=this;return this.so(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.io(t,i)}))},t.prototype.ao=function(t,e){var n=this;return this.uo(t,e).next((function(){return n.so(t).next((function(r){return r.targetCount+=1,n.co(e,r),n.io(t,r)}))}))},t.prototype.lo=function(t,e){return this.uo(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return xE(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return Fy(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return xE(t).Xs((function(s,a){var u=K_(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r._o(t,u)))})).next((function(){return o_.Dn(o)})).next((function(){return i}))},t.prototype.pe=function(t,e){return xE(t).Xs((function(t,n){var r=K_(n);e(r)}))},t.prototype.so=function(t){return AE(t).get(bE.key).next((function(t){return Fy(null!==t),t}))},t.prototype.io=function(t,e){return AE(t).put(bE.key,e)},t.prototype.uo=function(t,e){return xE(t).put(G_(this.serializer,e))},t.prototype.co=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=lm(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return xE(t).Xs({range:r,index:yE.queryTargetsIndexName},(function(t,n,r){var o=K_(n);hm(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.To=function(t,e,n){var r=this,i=[],o=NE(t);return e.forEach((function(e){var s=P_(e.path);i.push(o.put(new mE(n,s))),i.push(r.dr.Eo(t,n,e))})),o_.Dn(i)},t.prototype.Io=function(t,e,n){var r=this,i=NE(t);return o_.forEach(e,(function(e){var o=P_(e.path);return o_.Dn([i.delete([n,o]),r.dr.mo(t,n,e)])}))},t.prototype.fo=function(t,e){var n=NE(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=NE(t),i=Rm();return r.Xs({range:n,Js:!0},(function(t,e,n){var r=F_(t[1]),o=new im(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Nr=function(t,e){var n=P_(e.path),r=IDBKeyRange.bound([n],[zy(n)],!1,!0),i=0;return NE(t).Xs({index:mE.documentTargetsIndex,Js:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return xE(t).get(e).next((function(t){return t?K_(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xE(t){return DE.Ms(t,yE.store)}function AE(t){return DE.Ms(t,bE.store)}function NE(t){return DE.Ms(t,mE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OE="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",RE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vr=e,r.Ro=n,r}return u(e,t),e}(u_),DE=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Es=o,this.window=s,this.document=a,this.Po=c,this.Vo=l,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.Fs())throw new Zy(Qy.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new LE(this,i),this.No=n+"main",this.serializer=new j_(u),this.Fo=new d_(this.No,10,new aE(this.serializer)),this.ko=new kE(this.dr,this.serializer),this.Gn=new IE,this.jn=new tE(this.serializer,this.Gn),this.window&&this.window.localStorage?this.xo=this.window.localStorage:(this.xo=null,!1===l&&Dy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof RE)return d_.Ms(t.vr,e);throw Ly()},t.prototype.start=function(){var t=this;return this.$o().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new Zy(Qy.FAILED_PRECONDITION,OE);return t.Mo(),t.Oo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new h_(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return l(e,void 0,void 0,(function(){return h(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.qs((function(n){return l(e,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Es.hi((function(){return l(e,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.$o()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.$o=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return ME(e).put(new EE(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.Es.Vi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(y_(e))return Ry("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return Ry("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Es.Vi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return PE(t).get(cE.key).next((function(t){return o_.resolve(e.Go(t))}))},t.prototype.zo=function(t){return ME(t).delete(this.clientId)},t.prototype.Ho=function(){return l(this,void 0,void 0,(function(){var e,n,r,i,o=this;return h(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,EE.store);return n.zs().next((function(t){var e=o.Jo(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return o_.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.xo)for(n=0,r=e;n<r.length;n++)i=r[n],this.xo.removeItem(this.Xo(i.clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.Es.vs("client_metadata_refresh",4e3,(function(){return t.$o().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?o_.resolve(!0):PE(t).get(cE.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new Zy(Qy.FAILED_PRECONDITION,OE);return!1}}return!(!e.networkEnabled||!e.inForeground)||ME(t).zs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&Ry("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return l(this,void 0,void 0,(function(){var t=this;return h(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.jo(e).next((function(){return t.zo(e)}))})).catch((function(t){Ry("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return ME(e).zs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return X_.Tr(t,this.serializer,this.Gn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.jn},t.prototype.uh=function(){return this.Gn},t.prototype.runTransaction=function(t,e,n){var r=this;Ry("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Fo.runTransaction(o,CE,(function(o){return i=new RE(o,r.yo?r.yo.next():h_.Ts),"readwrite-primary"===e?r.Qo(i).next((function(t){return!!t||r.Wo(i)})).next((function(e){if(!e)throw Dy("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Es.Vi((function(){return r.Co(!1)})),new Zy(Qy.FAILED_PRECONDITION,a_);return n(i)})).next((function(t){return r.Ko(i).next((function(){return t}))})):r.lh(i).next((function(){return n(i)}))})).then((function(t){return i.Wn(),t}))},t.prototype.lh=function(t){var e=this;return PE(t).get(cE.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new Zy(Qy.FAILED_PRECONDITION,OE)}))},t.prototype.Ko=function(t){var e=new cE(this.clientId,this.allowTabSynchronization,Date.now());return PE(t).put(cE.key,e)},t.Fs=function(){return d_.Fs()},t.prototype.jo=function(t){var e=this,n=PE(t);return n.get(cE.key).next((function(t){return e.Go(t)?(Ry("IndexedDbPersistence","Releasing primary lease."),n.delete(cE.key)):o_.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Dy("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.Es.hi((function(){return t.inForeground="visible"===t.document.visibilityState,t.$o()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Oo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.Es.hi((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.xo)||void 0===e?void 0:e.getItem(this.Xo(t)));return Ry("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Dy("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.xo)try{this.xo.setItem(this.Xo(this.clientId),String(Date.now()))}catch(t){Dy("Failed to set zombie client id.",t)}},t.prototype.ih=function(){if(this.xo)try{this.xo.removeItem(this.Xo(this.clientId))}catch(t){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function PE(t){return DE.Ms(t,cE.store)}function ME(t){return DE.Ms(t,EE.store)}var LE=function(){function t(t,e){this.db=t,this.Yi=new D_(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.pe=function(t,e){return this.db.hh().pe(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return FE(t,n)},t.prototype.mo=function(t,e,n){return FE(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return FE(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return $_(t).Zs((function(r){return Y_(t,r,e).next((function(t){return t&&(n=!0),o_.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,r=this.db.ah().jr(),i=[],o=0;return this.fh(t,(function(s,a){if(a<=e){var u=n.dh(t,s).next((function(e){if(!e)return o++,r.On(t,s).next((function(){return r.Mn(s),NE(t).delete([0,P_(s.path)])}))}));i.push(u)}})).next((function(){return o_.Dn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Z(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return FE(t,e)},t.prototype.fh=function(t,e){var n,r=NE(t),i=h_.Ts;return r.Xs({index:mE.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==h_.Ts&&e(new im(F_(n)),i),i=a,n=s):i=h_.Ts})).next((function(){i!==h_.Ts&&e(new im(F_(n)),i)}))},t.prototype.cr=function(t){return this.db.ah().zr(t)},t}();function FE(t,e){return NE(t).put(function(t,e){return new mE(0,P_(t.path),e)}(e,t.Ro))}function jE(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var VE=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new wm(By),this.Ih=new Yy((function(t){return lm(t)}),hm),this.mh=$y.min(),this.Kn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new c_(this.Ah,this.Kn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.Vh=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i=this;return h(this,(function(o){switch(o.label){case 0:return e=this.Kn,n=this.Rh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.Kn.yr(r).next((function(s){return o=s,e=i.persistence.oh(t),n=new c_(i.Ah,e,i.persistence.uh()),e.yr(r)})).next((function(t){for(var e=[],i=[],s=Rm(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];s=s.add(m.key)}}return n.Xn(r,s).next((function(t){return{gh:t,yh:e,ph:i}}))}))}))];case 1:return r=o.sent(),[2,(this.Kn=e,this.Rh=n,this.Th.Ph(this.Rh),r)]}}))}))},t.prototype.bh=function(t){var e,n=this,r=Jy.now(),i=t.reduce((function(t,e){return t.add(e.key)}),Rm());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Rh.Xn(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=uw(c,e.get(c.key));null!=l&&s.push(new fw(c.key,l,_w(l.proto.mapValue),rw.exists(!0)))}return n.Kn.mr(o,r,s,t)}))})).then((function(t){var n=t.mn(e);return{batchId:t.batchId,Nn:n}}))},t.prototype.vh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Ah.jr({Gr:!0});return e.Sh(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.Kn.Cr(n)})).next((function(){return e.Rh.Xn(n,r)}))}))},t.prototype.Dh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Kn.Rr(n,t).next((function(t){return Fy(null!==t),r=t.keys(),e.Kn.br(n,t)})).next((function(){return e.Kn.Cr(n)})).next((function(){return e.Rh.Xn(n,r)}))}))},t.prototype.gr=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Kn.gr(e)}))},t.prototype.ro=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ko.ro(e)}))},t.prototype.Ch=function(e){var n=this,r=e.X,i=this.Eh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Ah.jr({Gr:!0});i=n.Eh;var a=[];e.Qt.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.ko.Io(o,e.Xt,s).next((function(){return n.ko.To(o,e.Yt,s)})));var c=e.resumeToken;if(c.H()>0){var l=u.tt(c,r).Z(o.Ro);i=i.nt(s,l),t.Nh(u,l,e)&&a.push(n.ko.lo(o,l))}}}));var u=Sm(),c=Rm();if(e.jt.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.jt.forEach((function(i,c){var l=t.get(i);c instanceof Iw&&c.version.isEqual($y.min())?(s.Mn(i,r),u=u.nt(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(s.xn(c,r),u=u.nt(i,c)):Ry("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.Kt.has(i)&&a.push(n.persistence.dr.wh(o,i))}))}))),!r.isEqual($y.min())){var l=n.ko.ro(o).next((function(t){return n.ko.ho(o,o.Ro,r)}));a.push(l)}return o_.Dn(a).next((function(){return s.apply(o)})).next((function(){return n.Rh.Zn(o,u)}))})).then((function(t){return n.Eh=i,t}))},t.Nh=function(t,e,n){return Fy(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Fh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.kh=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c=this;return h(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return o_.forEach(t,(function(t){return o_.forEach(t.us,(function(n){return c.persistence.dr.Eo(e,t.targetId,n)})).next((function(){return o_.forEach(t.cs,(function(n){return c.persistence.dr.mo(e,t.targetId,n)}))}))}))}))];case 1:return l.sent(),[3,3];case 2:if(!y_(e=l.sent()))throw e;return Ry("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)i=r[n],o=i.targetId,i.fromCache||(s=this.Eh.get(o),a=s.X,u=s.et(a),this.Eh=this.Eh.nt(o,u));return[2]}}))}))},t.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Kn.Vr(n,t)}))},t.prototype.$h=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Rh.zn(n,t)}))},t.prototype.Mh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.ko.wo(n,t).next((function(i){return i?(r=i,o_.resolve(r)):e.ko.no(n).next((function(i){return r=new gm(t,i,0,n.Ro),e.ko.ao(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.Eh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(e.Eh=e.Eh.nt(n.targetId,n),e.Ih.set(t,n.targetId)),n}))},t.prototype.wo=function(t,e){var n=this.Ih.get(e);return void 0!==n?o_.resolve(this.Eh.get(n)):this.ko.wo(t,e)},t.prototype.Oh=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o=this;return h(this,(function(s){switch(s.label){case 0:n=this.Eh.get(t),r=e?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),e?[3,3]:[4,this.persistence.runTransaction("Release target",r,(function(t){return o.persistence.dr.removeTarget(t,n)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!y_(i=s.sent()))throw i;return Ry("LocalStore","Failed to update sequence numbers for target "+t+": "+i),[3,5];case 5:return this.Eh=this.Eh.remove(t),this.Ih.delete(n.target),[2]}}))}))},t.prototype.Lh=function(t,e){var n=this,r=$y.min(),i=Rm();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.wo(o,Rw(t)).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.ko.Ao(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Th.es(o,t,e?r:$y.min(),e?i:Rm())})).next((function(t){return{documents:t,qh:i}}))}))},t.prototype.Sh=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=o_.resolve();return o.forEach((function(r){s=s.next((function(){return n.On(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);Fy(null!==s),(!o||o.version.o(s)<0)&&(o=i.Tn(r,o,e))&&n.xn(o,e.An)}))})),s.next((function(){return r.Kn.br(t,i)}))},t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.ur(n,e.Eh)}))},t}();function UE(t,e){var n=jy(t),r=jy(n.ko),i=n.Eh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function BE(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){if(t.code!==Qy.FAILED_PRECONDITION||t.message!==a_)throw t;return Ry("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */VE.Fh=3e8;var HE=function(){function t(){this.Bh=new Cm(zE.Uh),this.Qh=new Cm(zE.Wh)}return t.prototype._=function(){return this.Bh._()},t.prototype.Eo=function(t,e){var n=new zE(t,e);this.Bh=this.Bh.add(n),this.Qh=this.Qh.add(n)},t.prototype.jh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.mo=function(t,e){this.Kh(new zE(t,e))},t.prototype.Gh=function(t,e){var n=this;t.forEach((function(t){return n.mo(t,e)}))},t.prototype.zh=function(t){var e=this,n=new im(new em([])),r=new zE(n,t),i=new zE(n,t+1),o=[];return this.Qh.vt([r,i],(function(t){e.Kh(t),o.push(t.key)})),o},t.prototype.Hh=function(){var t=this;this.Bh.forEach((function(e){return t.Kh(e)}))},t.prototype.Kh=function(t){this.Bh=this.Bh.delete(t),this.Qh=this.Qh.delete(t)},t.prototype.Yh=function(t){var e=new im(new em([])),n=new zE(e,t),r=new zE(e,t+1),i=Rm();return this.Qh.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Nr=function(t){var e=new zE(t,0),n=this.Bh.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),zE=function(){function t(t,e){this.key=t,this.Jh=e}return t.Uh=function(t,e){return im.P(t.key,e.key)||By(t.Jh,e.Jh)},t.Wh=function(t,e){return By(t.Jh,e.Jh)||im.P(t.key,e.key)},t}(),qE=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.Xh=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();qE.UNAUTHENTICATED=new qE(null),qE.Zh=new qE("google-credentials-uid"),qE.ta=new qE("first-party-uid");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var WE=function(t,e){this.user=e,this.type="OAuth",this.ea={},this.ea.Authorization="Bearer "+t},KE=function(){function t(){this.na=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.sa=function(){},t.prototype.ia=function(t){this.na=t,t(qE.UNAUTHENTICATED)},t.prototype.ra=function(){this.na=null},t}(),GE=function(){function t(t){var e=this;this.oa=null,this.currentUser=qE.UNAUTHENTICATED,this.ha=!1,this.aa=0,this.na=null,this.forceRefresh=!1,this.oa=function(){e.aa++,e.currentUser=e.ua(),e.ha=!0,e.na&&e.na(e.currentUser)},this.aa=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oa):(this.oa(null),t.get().then((function(t){e.auth=t,e.oa&&e.auth.addAuthTokenListener(e.oa)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.aa,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.aa!==e?(Ry("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Fy("string"==typeof n.accessToken),new WE(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.sa=function(){this.forceRefresh=!0},t.prototype.ia=function(t){this.na=t,this.ha&&t(this.currentUser)},t.prototype.ra=function(){this.auth&&this.auth.removeAuthTokenListener(this.oa),this.oa=null,this.na=null},t.prototype.ua=function(){var t=this.auth&&this.auth.getUid();return Fy(null===t||"string"==typeof t),new qE(t)},t}(),XE=function(){function t(t,e){this.ca=t,this.la=e,this.type="FirstParty",this.user=qE.ta}return Object.defineProperty(t.prototype,"ea",{get:function(){var t={"X-Goog-AuthUser":this.la},e=this.ca.auth._a([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),YE=function(){function t(t,e){this.ca=t,this.la=e}return t.prototype.getToken=function(){return Promise.resolve(new XE(this.ca,this.la))},t.prototype.ia=function(t){t(qE.ta)},t.prototype.ra=function(){},t.prototype.sa=function(){},t}(),QE=function(){function t(t,e,n,r,i,o){this.Es=t,this.fa=n,this.da=r,this.wa=i,this.listener=o,this.state=0,this.Ta=0,this.Ea=null,this.stream=null,this.wi=new p_(t,e)}return t.prototype.Ia=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ma=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Aa()},t.prototype.stop=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.Ia()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Ra=function(){this.state=0,this.wi.reset()},t.prototype.Pa=function(){var t=this;this.ma()&&null===this.Ea&&(this.Ea=this.Es.vs(this.fa,6e4,(function(){return t.Va()})))},t.prototype.ga=function(t){this.ya(),this.stream.send(t)},t.prototype.Va=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){return this.ma()?[2,this.close(0)]:[2]}))}))},t.prototype.ya=function(){this.Ea&&(this.Ea.cancel(),this.Ea=null)},t.prototype.close=function(t,e){return l(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return this.ya(),this.wi.cancel(),this.Ta++,3!==t?this.wi.reset():e&&e.code===Qy.RESOURCE_EXHAUSTED?(Dy(e.toString()),Dy("Using maximum backoff delay to prevent overloading the backend."),this.wi.ys()):e&&e.code===Qy.UNAUTHENTICATED&&this.wa.sa(),null!==this.stream&&(this.pa(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ba(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.pa=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.va(this.Ta),n=this.Ta;this.wa.getToken().then((function(e){t.Ta===n&&t.Sa(e)}),(function(n){e((function(){var e=new Zy(Qy.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Da(e)}))}))},t.prototype.Sa=function(t){var e=this,n=this.va(this.Ta);this.stream=this.Ca(t),this.stream.Na((function(){n((function(){return e.state=2,e.listener.Na()}))})),this.stream.ba((function(t){n((function(){return e.Da(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Aa=function(){var t=this;this.state=4,this.wi.ps((function(){return l(t,void 0,void 0,(function(){return h(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Da=function(t){return Ry("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.va=function(t){var e=this;return function(n){e.Es.hi((function(){return e.Ta===t?n():(Ry("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),ZE=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return u(e,t),e.prototype.Ca=function(t){return this.da.Fa("Listen",t)},e.prototype.onMessage=function(t){this.wi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Ly()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Oe?(Fy(void 0===e||"string"==typeof e),pm.fromBase64String(e||"")):(Fy(void 0===e||e instanceof Uint8Array),pm.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?Qy.UNKNOWN:bm(t.code);return new Zy(e,t.message||"")}(s);n=new Hm(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=Ib(t,u.document.name),l=wb(u.document.updateTime),h=new bw({mapValue:{fields:u.document.fields}}),f=new Cw(c,l,h,{}),p=u.targetIds||[],d=u.removedTargetIds||[];n=new Um(p,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var g=Ib(t,v.document),y=v.readTime?wb(v.readTime):$y.min(),m=new Iw(g,y),b=v.removedTargetIds||[];n=new Um([],b,m.key,m)}else if("documentRemove"in e){e.documentRemove;var w=e.documentRemove;w.document;var _=Ib(t,w.document),E=w.removedTargetIds||[];n=new Um([],E,_,null)}else{if(!("filter"in e))return Ly();e.filter;var C=e.filter;C.targetId;var I=C.count||0,T=new ym(I),S=C.targetId;n=new Bm(S,T)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return $y.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?$y.min():e.readTime?wb(e.readTime):$y.min()}(t);return this.listener.ka(e,n)},e.prototype.xa=function(t){var e={};e.database=kb(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=fm(r)?{documents:Rb(t,r)}:{query:Db(t,r)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=mb(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Ly()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.ga(e)},e.prototype.$a=function(t){var e={};e.database=kb(this.serializer),e.removeTarget=t,this.ga(e)},e}(QE),JE=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Ma=!1,s}return u(e,t),Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ma},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Ma=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.pa=function(){this.Ma&&this.La([])},e.prototype.Ca=function(t){return this.da.Fa("Write",t)},e.prototype.onMessage=function(t){if(Fy(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ma){this.wi.reset();var e=function(t,e){return t&&t.length>0?(Fy(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?wb(t.updateTime):wb(e);n.isEqual($y.min())&&(n=wb(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new nw(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=wb(t.commitTime);return this.listener.qa(n,e)}return Fy(!t.writeResults||0===t.writeResults.length),this.Ma=!0,this.listener.Ba()},e.prototype.Ua=function(){var t={};t.database=kb(this.serializer),this.ga(t)},e.prototype.La=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Nb(e.serializer,t)}))};this.ga(n)},e}(QE),$E=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.da=n,i.serializer=r,i.Qa=!1,i}return u(e,t),e.prototype.Wa=function(){if(this.Qa)throw new Zy(Qy.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.ja=function(t,e,n){var r=this;return this.Wa(),this.credentials.getToken().then((function(i){return r.da.ja(t,e,n,i)})).catch((function(t){throw t.code===Qy.UNAUTHENTICATED&&r.credentials.sa(),t}))},e.prototype.Ka=function(t,e,n){var r=this;return this.Wa(),this.credentials.getToken().then((function(i){return r.da.Ka(t,e,n,i)})).catch((function(t){throw t.code===Qy.UNAUTHENTICATED&&r.credentials.sa(),t}))},e.prototype.terminate=function(){this.Qa=!1},e}((function(){})),tC=function(){function t(t,e){this.ti=t,this.Ga=e,this.state="Unknown",this.za=0,this.Ha=null,this.Ya=!0}return t.prototype.Ja=function(){var t=this;0===this.za&&(this.Xa("Unknown"),this.Ha=this.ti.vs("online_state_timeout",1e4,(function(){return t.Ha=null,t.Za("Backend didn't respond within 10 seconds."),t.Xa("Offline"),Promise.resolve()})))},t.prototype.tu=function(t){"Online"===this.state?this.Xa("Unknown"):(this.za++,this.za>=1&&(this.eu(),this.Za("Connection failed 1 times. Most recent error: "+t.toString()),this.Xa("Offline")))},t.prototype.set=function(t){this.eu(),this.za=0,"Online"===t&&(this.Ya=!1),this.Xa(t)},t.prototype.Xa=function(t){t!==this.state&&(this.state=t,this.Ga(t))},t.prototype.Za=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ya?(Dy(e),this.Ya=!1):Ry("OnlineStateTracker",e)},t.prototype.eu=function(){null!==this.Ha&&(this.Ha.cancel(),this.Ha=null)},t}(),eC=function(){function t(t,e,n,r,i){var o=this;this.nu=t,this.su=e,this.ti=n,this.iu=[],this.ru=new Map,this.ou=null,this.hu=new Set,this.au=i,this.au.uu((function(t){n.hi((function(){return l(o,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.cu()?(Ry("RemoteStore","Restarting streams for network reachability change."),[4,this.lu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this._u=new tC(n,r),this.fu=function(t,e,n){var r=jy(t);return r.Wa(),new ZE(e,r.da,r.credentials,r.serializer,n)}(this.su,n,{Na:this.du.bind(this),ba:this.wu.bind(this),ka:this.Tu.bind(this)}),this.Eu=function(t,e,n){var r=jy(t);return r.Wa(),new JE(e,r.da,r.credentials,r.serializer,n)}(this.su,n,{Na:this.Iu.bind(this),ba:this.mu.bind(this),Ba:this.Au.bind(this),qa:this.qa.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.hu.delete(0),this.Ru()},t.prototype.Ru=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.cu()?(this.Pu()?this.Vu():this._u.set("Unknown"),[4,this.gu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.hu.add(0),[4,this.yu()];case 1:return t.sent(),this._u.set("Offline"),[2]}}))}))},t.prototype.yu=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.Eu.stop()];case 1:return t.sent(),[4,this.fu.stop()];case 2:return t.sent(),this.iu.length>0&&(Ry("RemoteStore","Stopping write stream with "+this.iu.length+" pending writes"),this.iu=[]),this.pu(),[2]}}))}))},t.prototype.th=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return Ry("RemoteStore","RemoteStore shutting down."),this.hu.add(5),[4,this.yu()];case 1:return t.sent(),this.au.th(),this._u.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.ru.has(t.targetId)||(this.ru.set(t.targetId,t),this.Pu()?this.Vu():this.fu.ma()&&this.bu(t))},t.prototype.vu=function(t){this.ru.delete(t),this.fu.ma()&&this.Su(t),0===this.ru.size&&(this.fu.ma()?this.fu.Pa():this.cu()&&this._u.set("Unknown"))},t.prototype.Me=function(t){return this.ru.get(t)||null},t.prototype.$e=function(t){return this.Du.$e(t)},t.prototype.bu=function(t){this.ou.de(t.targetId),this.fu.xa(t)},t.prototype.Su=function(t){this.ou.de(t),this.fu.$a(t)},t.prototype.Vu=function(){this.ou=new qm(this),this.fu.start(),this._u.Ja()},t.prototype.Pu=function(){return this.cu()&&!this.fu.Ia()&&this.ru.size>0},t.prototype.cu=function(){return 0===this.hu.size},t.prototype.pu=function(){this.ou=null},t.prototype.du=function(){return l(this,void 0,void 0,(function(){var t=this;return h(this,(function(e){return this.ru.forEach((function(e,n){t.bu(e)})),[2]}))}))},t.prototype.wu=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){return this.pu(),this.Pu()?(this._u.tu(t),this.Vu()):this._u.set("Unknown"),[2]}))}))},t.prototype.Tu=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:if(this._u.set("Online"),!(t instanceof Hm&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.Cu(t)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),Ry("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.Nu(n)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Um?this.ou.Pe(t):t instanceof Bm?this.ou.De(t):this.ou.ye(t),e.isEqual($y.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.nu.ro()];case 8:return r=o.sent(),e.o(r)>=0?[4,this.Fu(e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return Ry("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,this.Nu(i)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.Nu=function(t,e){return l(this,void 0,void 0,(function(){var n=this;return h(this,(function(r){switch(r.label){case 0:if(!y_(t))throw t;return this.hu.add(1),[4,this.yu()];case 1:return r.sent(),this._u.set("Offline"),e||(e=function(){return n.nu.ro()}),this.ti.Vi((function(){return l(n,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return Ry("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.hu.delete(1),[4,this.Ru()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.ku=function(t){var e=this;return t().catch((function(n){return e.Nu(n,t)}))},t.prototype.Fu=function(t){var e=this,n=this.ou.Fe(t);return n.Qt.forEach((function(n,r){if(n.resumeToken.H()>0){var i=e.ru.get(r);i&&e.ru.set(r,i.tt(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.ru.get(t);if(n){e.ru.set(t,n.tt(pm.Y,n.X)),e.Su(t);var r=new gm(n.target,t,1,n.sequenceNumber);e.bu(r)}})),this.Du.Ch(n)},t.prototype.Cu=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i;return h(this,(function(o){switch(o.label){case 0:e=t.cause,n=0,r=t.targetIds,o.label=1;case 1:return n<r.length?(i=r[n],this.ru.has(i)?[4,this.Du.xu(i,e)]:[3,3]):[3,5];case 2:o.sent(),this.ru.delete(i),this.ou.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.gu=function(){return l(this,void 0,void 0,(function(){var t,e,n;return h(this,(function(r){switch(r.label){case 0:t=this.iu.length>0?this.iu[this.iu.length-1].batchId:-1,r.label=1;case 1:if(!this.$u())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.nu.xh(t)];case 3:return null===(e=r.sent())?(0===this.iu.length&&this.Eu.Pa(),[3,7]):(t=e.batchId,this.Mu(e),[3,6]);case 4:return n=r.sent(),[4,this.Nu(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Ou()&&this.Lu(),[2]}}))}))},t.prototype.$u=function(){return this.cu()&&this.iu.length<10},t.prototype.qu=function(){return this.iu.length},t.prototype.Mu=function(t){this.iu.push(t),this.Eu.ma()&&this.Eu.Oa&&this.Eu.La(t.mutations)},t.prototype.Ou=function(){return this.cu()&&!this.Eu.Ia()&&this.iu.length>0},t.prototype.Lu=function(){this.Eu.start()},t.prototype.Iu=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){return this.Eu.Ua(),[2]}))}))},t.prototype.Au=function(){return l(this,void 0,void 0,(function(){var t,e,n;return h(this,(function(r){for(t=0,e=this.iu;t<e.length;t++)n=e[t],this.Eu.La(n.mutations);return[2]}))}))},t.prototype.qa=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i=this;return h(this,(function(o){switch(o.label){case 0:return n=this.iu.shift(),r=i_.from(n,t,e),[4,this.ku((function(){return i.Du.Bu(r)}))];case 1:return o.sent(),[4,this.gu()];case 2:return o.sent(),[2]}}))}))},t.prototype.mu=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return t&&this.Eu.Oa?[4,this.Uu(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Ou()&&this.Lu(),[2]}}))}))},t.prototype.Uu=function(t){return l(this,void 0,void 0,(function(){var e,n,r=this;return h(this,(function(i){switch(i.label){case 0:return mm(n=t.code)&&n!==Qy.ABORTED?(e=this.iu.shift(),this.Eu.Ra(),[4,this.ku((function(){return r.Du.Qu(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.gu()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.lu=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.hu.add(4),[4,this.yu()];case 1:return t.sent(),this._u.set("Unknown"),this.Eu.Ra(),this.fu.Ra(),this.hu.delete(4),[4,this.Ru()];case 2:return t.sent(),[2]}}))}))},t.prototype.Wu=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.ti.pi(),Ry("RemoteStore","RemoteStore received new credentials"),this.hu.add(3),[4,this.yu()];case 1:return e.sent(),this._u.set("Unknown"),[4,this.Du.Wu(t)];case 2:return e.sent(),this.hu.delete(3),[4,this.Ru()];case 3:return e.sent(),[2]}}))}))},t.prototype.ju=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return t?(this.hu.delete(2),[4,this.Ru()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.hu.add(2),[4,this.yu()]);case 3:e.sent(),this._u.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nC(t,e){return"firestore_clients_"+t+"_"+e}function rC(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Er()&&(r+="_"+e.uid),r}function iC(t,e){return"firestore_targets_"+t+"_"+e}var oC=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ku=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new Zy(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Dy("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Gu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),sC=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ku=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new Zy(r.error.code,r.error.message)),i?new t(e,r.state,o):(Dy("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Gu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),aC=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ku=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Pm(),s=0;i&&s<r.activeTargetIds.length;++s)i=am(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Dy("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),uC=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ku=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Dy("SharedClientState","Failed to parse online state: "+e),null)},t}(),cC=function(){function t(){this.activeTargetIds=Pm()}return t.prototype.zu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Hu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Gu=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),lC=function(){function t(t,e,n,r,i){this.window=t,this.Es=e,this.persistenceKey=n,this.Yu=r,this.Du=null,this.Ga=null,this._s=null,this.Ju=this.Xu.bind(this),this.Zu=new wm(By),this.tr=!1,this.tc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ec=nC(this.persistenceKey,this.Yu),this.nc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Zu=this.Zu.nt(this.Yu,new cC),this.sc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.ic=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.rc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.oc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ju)}return t.Fs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return l(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,f=this;return h(this,(function(h){switch(h.label){case 0:return[4,this.Du.rh()];case 1:for(t=h.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Yu&&(i=this.getItem(nC(this.persistenceKey,r)))&&(o=aC.Ku(r,i))&&(this.Zu=this.Zu.nt(o.clientId,o));for(this.hc(),(s=this.storage.getItem(this.oc))&&(a=this.ac(s))&&this.uc(a),u=0,c=this.tc;u<c.length;u++)l=c[u],this.Xu(l);return this.tc=[],this.window.addEventListener("unload",(function(){return f.th()})),this.tr=!0,[2]}}))}))},t.prototype.ws=function(t){this.setItem(this.nc,JSON.stringify(t))},t.prototype.cc=function(){return this.lc(this.Zu)},t.prototype._c=function(t){var e=!1;return this.Zu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.fc=function(t){this.dc(t,"pending")},t.prototype.wc=function(t,e,n){this.dc(t,e,n),this.Tc(t)},t.prototype.Ec=function(t){var e="not-current";if(this._c(t)){var n=this.storage.getItem(iC(this.persistenceKey,t));if(n){var r=sC.Ku(t,n);r&&(e=r.state)}}return this.Ic.zu(t),this.hc(),e},t.prototype.mc=function(t){this.Ic.Hu(t),this.hc()},t.prototype.Ac=function(t){return this.Ic.activeTargetIds.has(t)},t.prototype.Rc=function(t){this.removeItem(iC(this.persistenceKey,t))},t.prototype.Pc=function(t,e,n){this.Vc(t,e,n)},t.prototype.Vh=function(t,e,n){var r=this;e.forEach((function(t){r.Tc(t)})),this.currentUser=t,n.forEach((function(t){r.fc(t)}))},t.prototype.gc=function(t){this.yc(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.Ju),this.removeItem(this.ec),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return Ry("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){Ry("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){Ry("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Xu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(Ry("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ec)return void Dy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Es.Vi((function(){return l(e,void 0,void 0,(function(){var t,e,r,i,o,s;return h(this,(function(a){if(this.tr){if(null!==n.key)if(this.sc.test(n.key)){if(null==n.newValue)return t=this.pc(n.key),[2,this.bc(t,null)];if(e=this.vc(n.key,n.newValue))return[2,this.bc(e.clientId,e)]}else if(this.ic.test(n.key)){if(null!==n.newValue&&(r=this.Sc(n.key,n.newValue)))return[2,this.Dc(r)]}else if(this.rc.test(n.key)){if(null!==n.newValue&&(i=this.Cc(n.key,n.newValue)))return[2,this.Nc(i)]}else if(n.key===this.oc){if(null!==n.newValue&&(o=this.ac(n.newValue)))return[2,this.uc(o)]}else n.key===this.nc&&(s=function(t){var e=h_.Ts;if(null!=t)try{var n=JSON.parse(t);Fy("number"==typeof n),e=n}catch(t){Dy("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==h_.Ts&&this._s(s)}else this.tc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ic",{get:function(){return this.Zu.get(this.Yu)},enumerable:!1,configurable:!0}),t.prototype.hc=function(){this.setItem(this.ec,this.Ic.Gu())},t.prototype.dc=function(t,e,n){var r=new oC(this.currentUser,t,e,n),i=rC(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Gu())},t.prototype.Tc=function(t){var e=rC(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.yc=function(t){var e={clientId:this.Yu,onlineState:t};this.storage.setItem(this.oc,JSON.stringify(e))},t.prototype.Vc=function(t,e,n){var r=iC(this.persistenceKey,t),i=new sC(t,e,n);this.setItem(r,i.Gu())},t.prototype.pc=function(t){var e=this.sc.exec(t);return e?e[1]:null},t.prototype.vc=function(t,e){var n=this.pc(t);return aC.Ku(n,e)},t.prototype.Sc=function(t,e){var n=this.ic.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return oC.Ku(new qE(i),r,e)},t.prototype.Cc=function(t,e){var n=this.rc.exec(t),r=Number(n[1]);return sC.Ku(r,e)},t.prototype.ac=function(t){return uC.Ku(t)},t.prototype.Dc=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Du.Fc(t.batchId,t.state,t.error)]:(Ry("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Nc=function(t){return this.Du.kc(t.targetId,t.state,t.error)},t.prototype.bc=function(t,e){var n=this,r=e?this.Zu.nt(t,e):this.Zu.remove(t),i=this.lc(this.Zu),o=this.lc(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.Du.xc(s,a).then((function(){n.Zu=r}))},t.prototype.uc=function(t){this.Zu.get(t.clientId)&&this.Ga(t.onlineState)},t.prototype.lc=function(t){var e=Pm();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),hC=function(){function t(){this.$c=new cC,this.Mc={},this.Ga=null,this._s=null}return t.prototype.fc=function(t){},t.prototype.wc=function(t,e,n){},t.prototype.Ec=function(t){return this.$c.zu(t),this.Mc[t]||"not-current"},t.prototype.Pc=function(t,e,n){this.Mc[t]=e},t.prototype.mc=function(t){this.$c.Hu(t)},t.prototype.Ac=function(t){return this.$c.activeTargetIds.has(t)},t.prototype.Rc=function(t){delete this.Mc[t]},t.prototype.cc=function(){return this.$c.activeTargetIds},t.prototype._c=function(t){return this.$c.activeTargetIds.has(t)},t.prototype.start=function(){return this.$c=new cC,Promise.resolve()},t.prototype.Vh=function(t,e,n){},t.prototype.gc=function(t){},t.prototype.th=function(){},t.prototype.ws=function(t){},t}(),fC=function(t){this.key=t},pC=function(t){this.key=t},dC=function(){function t(t,e){this.query=t,this.Oc=e,this.Lc=null,this.Ht=!1,this.qc=Rm(),this.Lt=Rm(),this.Bc=Uw(t),this.Uc=new Mm(this.Bc)}return Object.defineProperty(t.prototype,"Qc",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Wc=function(t,e){var n=this,r=e?e.jc:new Lm,i=e?e.Uc:this.Uc,o=e?e.Lt:this.Lt,s=i,a=!1,u=this.query.hn()&&i.size===this.query.limit?i.last():null,c=this.query.an()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var l=i.get(t),h=e instanceof Cw?e:null;h&&(h=Vw(n.query,h)?h:null);var f=!!l&&n.Lt.has(l.key),p=!!h&&(h.Ke||n.Lt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Kc(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.Bc(h,u)>0||c&&n.Bc(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.hn()||this.query.an())for(;s.size>this.query.limit;){var l=this.query.hn()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Uc:s,jc:r,Gc:a,Lt:o}},t.prototype.Kc=function(t,e){return t.Ke&&e.hasCommittedMutations&&!e.Ke},t.prototype.Bn=function(t,e,n){var r=this,i=this.Uc;this.Uc=t.Uc,this.Lt=t.Lt;var o=t.jc.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ly()}};return n(t)-n(e)}(t.type,e.type)||r.Bc(t.doc,e.doc)})),this.zc(n);var s=e?this.Hc():[],a=0===this.qc.size&&this.Ht?1:0,u=a!==this.Lc;return this.Lc=a,0!==o.length||u?{snapshot:new Fm(this.query,t.Uc,i,o,t.Lt,0===a,u,!1),Yc:s}:{Yc:s}},t.prototype.Jc=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.Bn({Uc:this.Uc,jc:new Lm,Lt:this.Lt,Gc:!1},!1)):{Yc:[]}},t.prototype.Xc=function(t){return!this.Oc.has(t)&&!!this.Uc.has(t)&&!this.Uc.get(t).Ke},t.prototype.zc=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Oc=e.Oc.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Oc=e.Oc.delete(t)})),this.Ht=t.Ht)},t.prototype.Hc=function(){var t=this;if(!this.Ht)return[];var e=this.qc;this.qc=Rm(),this.Uc.forEach((function(e){t.Xc(e.key)&&(t.qc=t.qc.add(e.key))}));var n=[];return e.forEach((function(e){t.qc.has(e)||n.push(new pC(e))})),this.qc.forEach((function(t){e.has(t)||n.push(new fC(t))})),n},t.prototype.Zc=function(t){this.Oc=t.qh,this.qc=Rm();var e=this.Wc(t.documents);return this.Bn(e,!0)},t.prototype.tl=function(){return Fm.Ut(this.query,this.Uc,this.Lt,0===this.Lc)},t}(),vC=function(t,e,n){this.query=t,this.targetId=e,this.view=n},gC=function(t){this.key=t,this.el=!1},yC=function(){function t(t,e,n,r,i,o){this.nu=t,this.nl=e,this.su=n,this.sl=r,this.currentUser=i,this.il=o,this.rl=null,this.ol=new Yy((function(t){return Fw(t)}),Lw),this.hl=new Map,this.al=[],this.ul=new wm(im.P),this.cl=new Map,this.ll=new HE,this._l={},this.fl=new Map,this.dl=SE.eo(),this.onlineState="Unknown",this.wl=void 0}return Object.defineProperty(t.prototype,"Tl",{get:function(){return!0===this.wl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.rl=t},t.prototype.listen=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i,o;return h(this,(function(s){switch(s.label){case 0:return this.El("listen()"),(r=this.ol.get(t))?(e=r.targetId,this.sl.Ec(e),n=r.view.tl(),[3,4]):[3,1];case 1:return[4,this.nu.Mh(Rw(t))];case 2:return i=s.sent(),o=this.sl.Ec(i.targetId),e=i.targetId,[4,this.Il(t,e,"current"===o)];case 3:n=s.sent(),this.Tl&&this.nl.listen(i),s.label=4;case 4:return[2,n]}}))}))},t.prototype.Il=function(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o,s,a,u;return h(this,(function(c){switch(c.label){case 0:return[4,this.nu.Lh(t,!0)];case 1:return r=c.sent(),i=new dC(t,r.qh),o=i.Wc(r.documents),s=Vm.zt(e,n&&"Offline"!==this.onlineState),a=i.Bn(o,this.Tl,s),this.ml(e,a.Yc),u=new vC(t,e,i),[2,(this.ol.set(t,u),this.hl.has(e)?this.hl.get(e).push(t):this.hl.set(e,[t]),a.snapshot)]}}))}))},t.prototype.vu=function(t){return l(this,void 0,void 0,(function(){var e,n,r=this;return h(this,(function(i){switch(i.label){case 0:return this.El("unlisten()"),e=this.ol.get(t),(n=this.hl.get(e.targetId)).length>1?[2,(this.hl.set(e.targetId,n.filter((function(e){return!Lw(e,t)}))),void this.ol.delete(t))]:this.Tl?(this.sl.mc(e.targetId),this.sl._c(e.targetId)?[3,2]:[4,this.nu.Oh(e.targetId,!1).then((function(){r.sl.Rc(e.targetId),r.nl.vu(e.targetId),r.Al(e.targetId)})).catch(BE)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Al(e.targetId),[4,this.nu.Oh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:this.El("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.nu.bh(t)];case 2:return n=o.sent(),this.sl.fc(n.batchId),this.Rl(n.batchId,e),[4,this.Pl(n.Nn)];case 3:return o.sent(),[4,this.nl.gu()];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),i=k_(r,"Failed to persist write"),e.reject(i),[3,6];case 6:return[2]}}))}))},t.prototype.Ch=function(t){return l(this,void 0,void 0,(function(){var e,n=this;return h(this,(function(r){switch(r.label){case 0:this.El("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.Ch(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.cl.get(e);r&&(Fy(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.el=!0:t.Jt.size>0?Fy(r.el):t.Xt.size>0&&(Fy(r.el),r.el=!1))})),[4,this.Pl(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,BE(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Jc=function(t,e){if(this.Tl&&0===e||!this.Tl&&1===e){this.El("applyOnlineStateChange()");var n=[];this.ol.forEach((function(e,r){var i=r.view.Jc(t);i.snapshot&&n.push(i.snapshot)})),this.rl.Vl(t),this.rl.ka(n),this.onlineState=t,this.Tl&&this.sl.gc(t)}},t.prototype.xu=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a=this;return h(this,(function(u){switch(u.label){case 0:return this.El("rejectListens()"),this.sl.Pc(t,"rejected",e),n=this.cl.get(t),(r=n&&n.key)?(i=(i=new wm(im.P)).nt(r,new Iw(r,$y.min())),o=Rm().add(r),s=new jm($y.min(),new Map,new Cm(By),i,o),[4,this.Ch(s)]):[3,2];case 1:return u.sent(),this.ul=this.ul.remove(r),this.cl.delete(t),this.gl(),[3,4];case 2:return[4,this.nu.Oh(t,!1).then((function(){return a.Al(t,e)})).catch(BE)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))},t.prototype.Bu=function(t){return l(this,void 0,void 0,(function(){var e,n;return h(this,(function(r){switch(r.label){case 0:this.El("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.vh(t)];case 2:return n=r.sent(),this.yl(e,null),this.pl(e),this.sl.wc(e,"acknowledged"),[4,this.Pl(n)];case 3:return r.sent(),[3,6];case 4:return[4,BE(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Qu=function(t,e){return l(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:this.El("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.Dh(t)];case 2:return n=r.sent(),this.yl(t,e),this.pl(t),this.sl.wc(t,"rejected",e),[4,this.Pl(n)];case 3:return r.sent(),[3,6];case 4:return[4,BE(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bl=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i;return h(this,(function(o){switch(o.label){case 0:this.nl.cu()||Ry("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.nu.gr()];case 2:return-1===(e=o.sent())?[2,void t.resolve()]:((n=this.fl.get(e)||[]).push(t),this.fl.set(e,n),[3,4]);case 3:return r=o.sent(),i=k_(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}}))}))},t.prototype.pl=function(t){(this.fl.get(t)||[]).forEach((function(t){t.resolve()})),this.fl.delete(t)},t.prototype.vl=function(t){this.fl.forEach((function(e){e.forEach((function(e){e.reject(new Zy(Qy.CANCELLED,t))}))})),this.fl.clear()},t.prototype.Rl=function(t,e){var n=this._l[this.currentUser.Xh()];n||(n=new wm(By)),n=n.nt(t,e),this._l[this.currentUser.Xh()]=n},t.prototype.yl=function(t,e){var n=this._l[this.currentUser.Xh()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this._l[this.currentUser.Xh()]=n}},t.prototype.Al=function(t,e){var n=this;void 0===e&&(e=null),this.sl.mc(t);for(var r=0,i=this.hl.get(t);r<i.length;r++){var o=i[r];this.ol.delete(o),e&&this.rl.Sl(o,e)}this.hl.delete(t),this.Tl&&this.ll.zh(t).forEach((function(t){n.ll.Nr(t)||n.Dl(t)}))},t.prototype.Dl=function(t){var e=this.ul.get(t);null!==e&&(this.nl.vu(e),this.ul=this.ul.remove(t),this.cl.delete(e),this.gl())},t.prototype.ml=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof fC?(this.ll.Eo(i.key,t),this.Cl(i)):i instanceof pC?(Ry("SyncEngine","Document no longer in limbo: "+i.key),this.ll.mo(i.key,t),this.ll.Nr(i.key)||this.Dl(i.key)):Ly()}},t.prototype.Cl=function(t){var e=t.key;this.ul.get(e)||(Ry("SyncEngine","New document in limbo: "+e),this.al.push(e),this.gl())},t.prototype.gl=function(){for(;this.al.length>0&&this.ul.size<this.il;){var t=this.al.shift(),e=this.dl.next();this.cl.set(e,new gC(t)),this.ul=this.ul.nt(t,e),this.nl.listen(new gm(Rw(Aw(t.path)),e,2,h_.Ts))}},t.prototype.Nl=function(){return this.ul},t.prototype.Fl=function(){return this.al},t.prototype.Pl=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o=this;return h(this,(function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.ol.forEach((function(s,a){i.push(Promise.resolve().then((function(){var e=a.view.Wc(t);return e.Gc?o.nu.Lh(a.query,!1).then((function(t){var n=t.documents;return a.view.Wc(n,e)})):e})).then((function(t){var i=e&&e.Qt.get(a.targetId),s=a.view.Bn(t,o.Tl,i);if(o.ml(a.targetId,s.Yc),s.snapshot){o.Tl&&o.sl.Pc(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=l_.ls(a.targetId,s.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return s.sent(),this.rl.ka(n),[4,this.nu.kh(r)];case 2:return s.sent(),[2]}}))}))},t.prototype.El=function(t){},t.prototype.Wu=function(t){return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(Ry("SyncEngine","User change. New user:",t.Xh()),[4,this.nu.Vh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.vl("'waitForPendingWrites' promise is rejected due to a user change."),this.sl.Vh(t,e.yh,e.ph),[4,this.Pl(e.gh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.$e=function(t){var e=this.cl.get(t);if(e&&e.el)return Rm().add(e.key);var n=Rm(),r=this.hl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.ol.get(s);n=n.Ct(a.view.Qc)}return n},t}();function mC(t,e){return l(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return[4,(n=jy(t)).nu.Lh(e.query,!0)];case 1:return r=o.sent(),i=e.view.Zc(r),[2,(n.Tl&&n.ml(e.targetId,i.Yc),i)]}}))}))}function bC(t,e,n,r){return l(this,void 0,void 0,(function(){var i,o;return h(this,(function(s){switch(s.label){case 0:return(i=jy(t)).El("applyBatchState()"),[4,function(t,e){var n=jy(t),r=jy(n.Kn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Pr(t,e).next((function(e){return e?n.Rh.Xn(t,e):o_.resolve(null)}))}))}(i.nu,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,i.nl.gu()];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(i.yl(e,r||null),function(t,e){jy(jy(t).Kn).Sr(e)}(i.nu,e)):Ly(),s.label=4;case 4:return[4,i.Pl(o)];case 5:return s.sent(),[3,7];case 6:Ry("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function wC(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return h(this,(function(l){switch(l.label){case 0:return n=jy(t),!0!==e||!0===n.wl?[3,3]:(r=n.sl.cc(),[4,_C(n,r.N())]);case 1:return i=l.sent(),n.wl=!0,[4,n.nl.ju(!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],n.nl.listen(a);return[3,7];case 3:return!1!==e||!1===n.wl?[3,7]:(u=[],c=Promise.resolve(),n.hl.forEach((function(t,e){n.sl.Ac(e)?u.push(e):c=c.then((function(){return n.Al(e),n.nu.Oh(e,!0)})),n.nl.vu(e)})),[4,c]);case 4:return l.sent(),[4,_C(n,u)];case 5:return l.sent(),function(t){var e=jy(t);e.cl.forEach((function(t,n){e.nl.vu(n)})),e.ll.Hh(),e.cl=new Map,e.ul=new wm(im.P)}(n),n.wl=!1,[4,n.nl.ju(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function _C(t,e,n){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,f,p,d,v,g;return h(this,(function(h){switch(h.label){case 0:n=jy(t),r=[],i=[],o=0,s=e,h.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.hl.get(a))&&0!==c.length?[4,n.nu.Mh(Rw(c[0]))]:[3,7]):[3,13];case 2:u=h.sent(),l=0,f=c,h.label=3;case 3:return l<f.length?(p=f[l],d=n.ol.get(p),[4,mC(n,d)]):[3,6];case 4:(v=h.sent()).snapshot&&i.push(v.snapshot),h.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,UE(n.nu,a)];case 8:return g=h.sent(),[4,n.nu.Mh(g)];case 9:return u=h.sent(),[4,n.Il(EC(g),a,!1)];case 10:h.sent(),h.label=11;case 11:r.push(u),h.label=12;case 12:return o++,[3,1];case 13:return[2,(n.rl.ka(i),r)]}}))}))}function EC(t){return xw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function CC(t){var e=jy(t);return jy(jy(e.nu).persistence).rh()}function IC(t,e,n,r){return l(this,void 0,void 0,(function(){var i,o,s;return h(this,(function(a){switch(a.label){case 0:return(i=jy(t)).wl?(Ry("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.hl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=jy(t),n=jy(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.mh)})).then((function(t){var n=t.Qr,r=t.readTime;return e.mh=r,n}))}(i.nu)];case 3:return o=a.sent(),s=jm.Gt(e,"current"===n),[4,i.Pl(o,s)];case 4:return a.sent(),[3,8];case 5:return[4,i.nu.Oh(e,!0)];case 6:return a.sent(),i.Al(e,r),[3,8];case 7:Ly(),a.label=8;case 8:return[2]}}))}))}function TC(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,p;return h(this,(function(d){switch(d.label){case 0:if(!(r=jy(t)).wl)return[3,10];i=0,o=e,d.label=1;case 1:return i<o.length?(s=o[i],r.hl.has(s)?(Ry("SyncEngine","Adding an already active target "+s),[3,5]):[4,UE(r.nu,s)]):[3,6];case 2:return a=d.sent(),[4,r.nu.Mh(a)];case 3:return u=d.sent(),[4,r.Il(EC(a),u.targetId,!1)];case 4:d.sent(),r.nl.listen(u),d.label=5;case 5:return i++,[3,1];case 6:c=function(t){return h(this,(function(e){switch(e.label){case 0:return r.hl.has(t)?[4,r.nu.Oh(t,!1).then((function(){r.nl.vu(t),r.Al(t)})).catch(BE)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,f=n,d.label=7;case 7:return l<f.length?(p=f[l],[5,c(p)]):[3,10];case 8:d.sent(),d.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SC=function(){this.kl=void 0,this.listeners=[]},kC=function(){function t(t){this.Du=t,this.xl=new Yy((function(t){return Fw(t)}),Lw),this.onlineState="Unknown",this.$l=new Set,this.Du.subscribe(this)}return t.prototype.listen=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i,o,s;return h(this,(function(a){switch(a.label){case 0:if(e=t.query,n=!1,(r=this.xl.get(e))||(n=!0,r=new SC),!n)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),i=r,[4,this.Du.listen(e)];case 2:return i.kl=a.sent(),[3,4];case 3:return o=a.sent(),s=k_(o,"Initialization of query '"+jw(t.query)+"' failed"),[2,void t.onError(s)];case 4:return this.xl.set(e,r),r.listeners.push(t),t.Jc(this.onlineState),r.kl&&t.Ml(r.kl)&&this.Ol(),[2]}}))}))},t.prototype.vu=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i;return h(this,(function(o){return e=t.query,n=!1,(r=this.xl.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?[2,(this.xl.delete(e),this.Du.vu(e))]:[2]}))}))},t.prototype.ka=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.xl.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].Ml(i)&&(e=!0);s.kl=i}}e&&this.Ol()},t.prototype.Sl=function(t,e){var n=this.xl.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.xl.delete(t)},t.prototype.Vl=function(t){this.onlineState=t;var e=!1;this.xl.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Jc(t)&&(e=!0)})),e&&this.Ol()},t.prototype.Ll=function(t){this.$l.add(t),t.next()},t.prototype.ql=function(t){this.$l.delete(t)},t.prototype.Ol=function(){this.$l.forEach((function(t){t.next()}))},t}(),xC=function(){function t(t,e,n){this.query=t,this.Bl=e,this.Ul=!1,this.Ql=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ml=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Fm(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.qt,!0)}var o=!1;return this.Ul?this.Wl(t)&&(this.Bl.next(t),o=!0):this.jl(t,this.onlineState)&&(this.Kl(t),o=!0),this.Ql=t,o},t.prototype.onError=function(t){this.Bl.error(t)},t.prototype.Jc=function(t){this.onlineState=t;var e=!1;return this.Ql&&!this.Ul&&this.jl(this.Ql,t)&&(this.Kl(this.Ql),e=!0),e},t.prototype.jl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Gl&&n||t.docs._()&&"Offline"!==e)},t.prototype.Wl=function(t){if(t.docChanges.length>0)return!0;var e=this.Ql&&this.Ql.hasPendingWrites!==t.hasPendingWrites;return!(!t.qt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Kl=function(t){t=Fm.Ut(t.query,t.docs,t.Lt,t.fromCache),this.Ul=!0,this.Bl.next(t)},t}(),AC=function(){function t(){}return t.prototype.Ph=function(t){this.zl=t},t.prototype.es=function(t,e,n,r){var i=this;return e.on()||n.isEqual($y.min())?this.Hl(t,e):this.zl.Xn(t,r).next((function(o){var s=i.Yl(e,o);return(e.hn()||e.an())&&i.Gc(e.en,s,r,n)?i.Hl(t,e):(Oy()<=Zc.DEBUG&&Ry("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),jw(e)),i.zl.es(t,e,n).next((function(t){return s.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.Yl=function(t,e){var n=new Cm(Uw(t));return e.forEach((function(e,r){r instanceof Cw&&Vw(t,r)&&(n=n.add(r))})),n},t.prototype.Gc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Hl=function(t,e){return Oy()<=Zc.DEBUG&&Ry("IndexFreeQueryEngine","Using full collection scan to execute query:",jw(e)),this.zl.es(t,e,$y.min())},t}(),NC=function(){function t(t,e){this.Gn=t,this.dr=e,this.Kn=[],this.Jl=1,this.Xl=new Cm(zE.Uh)}return t.prototype.Ir=function(t){return o_.resolve(0===this.Kn.length)},t.prototype.mr=function(t,e,n,r){var i=this.Jl;this.Jl++,this.Kn.length>0&&this.Kn[this.Kn.length-1];var o=new r_(i,e,n,r);this.Kn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xl=this.Xl.add(new zE(u.key,i)),this.Gn.Ar(t,u.key.path.p())}return o_.resolve(o)},t.prototype.Rr=function(t,e){return o_.resolve(this.Zl(e))},t.prototype.Vr=function(t,e){var n=e+1,r=this.t_(n),i=r<0?0:r;return o_.resolve(this.Kn.length>i?this.Kn[i]:null)},t.prototype.gr=function(){return o_.resolve(0===this.Kn.length?-1:this.Jl-1)},t.prototype.yr=function(t){return o_.resolve(this.Kn.slice())},t.prototype.Hn=function(t,e){var n=this,r=new zE(e,0),i=new zE(e,Number.POSITIVE_INFINITY),o=[];return this.Xl.vt([r,i],(function(t){var e=n.Zl(t.Jh);o.push(e)})),o_.resolve(o)},t.prototype.ts=function(t,e){var n=this,r=new Cm(By);return e.forEach((function(t){var e=new zE(t,0),i=new zE(t,Number.POSITIVE_INFINITY);n.Xl.vt([e,i],(function(t){r=r.add(t.Jh)}))})),o_.resolve(this.e_(r))},t.prototype.hs=function(t,e){var n=e.path,r=n.length+1,i=n;im.W(i)||(i=i.child(""));var o=new zE(new im(i),0),s=new Cm(By);return this.Xl.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.Jh)),!0)}),o),o_.resolve(this.e_(s))},t.prototype.e_=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zl(t);null!==r&&n.push(r)})),n},t.prototype.br=function(t,e){var n=this;Fy(0===this.n_(e.batchId,"removed")),this.Kn.shift();var r=this.Xl;return o_.forEach(e.mutations,(function(i){var o=new zE(i.key,e.batchId);return r=r.delete(o),n.dr.Dr(t,i.key)})).next((function(){n.Xl=r}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new zE(e,0),r=this.Xl.Dt(n);return o_.resolve(e.isEqual(r&&r.key))},t.prototype.Cr=function(t){return this.Kn.length,o_.resolve()},t.prototype.n_=function(t,e){return this.t_(t)},t.prototype.t_=function(t){return 0===this.Kn.length?0:t-this.Kn[0].batchId},t.prototype.Zl=function(t){var e=this.t_(t);return e<0||e>=this.Kn.length?null:this.Kn[e]},t}(),OC=function(){function t(t,e){this.Gn=t,this.s_=e,this.docs=new wm(im.P),this.size=0}return t.prototype.xn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.s_(e);return this.docs=this.docs.nt(r,{Mr:e,size:s,readTime:n}),this.size+=s-o,this.Gn.Ar(t,r.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.On=function(t,e){var n=this.docs.get(e);return o_.resolve(n?n.Mr:null)},t.prototype.getEntries=function(t,e){var n=this,r=km();return e.forEach((function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Mr:null)})),o_.resolve(r)},t.prototype.es=function(t,e,n){for(var r=Am(),i=new im(e.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),a=s.key,u=s.value,c=u.Mr,l=u.readTime;if(!e.path.D(a.path))break;l.o(n)<=0||c instanceof Cw&&Vw(e,c)&&(r=r.nt(c.key,c))}return o_.resolve(r)},t.prototype.i_=function(t,e){return o_.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return o_.resolve(this.size)},t}();OC.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return u(e,t),e.prototype.Bn=function(t){var e=this,n=[];return this.Nn.forEach((function(r,i){i?n.push(e.Hr.xn(t,i,e.readTime)):e.Hr.Mn(r)})),o_.Dn(n)},e.prototype.Ln=function(t,e){return this.Hr.On(t,e)},e.prototype.qn=function(t,e){return this.Hr.getEntries(t,e)},e}(s_);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var RC=function(){function t(t){this.persistence=t,this.r_=new Yy((function(t){return lm(t)}),hm),this.lastRemoteSnapshotVersion=$y.min(),this.highestTargetId=0,this.o_=0,this.h_=new HE,this.targetCount=0,this.a_=SE.to()}return t.prototype.pe=function(t,e){return this.r_.forEach((function(t,n){return e(n)})),o_.resolve()},t.prototype.ro=function(t){return o_.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return o_.resolve(this.o_)},t.prototype.no=function(t){return this.highestTargetId=this.a_.next(),o_.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.o_&&(this.o_=e),o_.resolve()},t.prototype.uo=function(t){this.r_.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.a_=new SE(e),this.highestTargetId=e),t.sequenceNumber>this.o_&&(this.o_=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.uo(e),this.targetCount+=1,o_.resolve()},t.prototype.lo=function(t,e){return this.uo(e),o_.resolve()},t.prototype._o=function(t,e){return this.r_.delete(e.target),this.h_.zh(e.targetId),this.targetCount-=1,o_.resolve()},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return this.r_.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.r_.delete(s),o.push(r.fo(t,a.targetId)),i++)})),o_.Dn(o).next((function(){return i}))},t.prototype.do=function(t){return o_.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.r_.get(e)||null;return o_.resolve(n)},t.prototype.To=function(t,e,n){return this.h_.jh(e,n),o_.resolve()},t.prototype.Io=function(t,e,n){this.h_.Gh(e,n);var r=this.persistence.dr,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),o_.Dn(i)},t.prototype.fo=function(t,e){return this.h_.zh(e),o_.resolve()},t.prototype.Ao=function(t,e){var n=this.h_.Yh(e);return o_.resolve(n)},t.prototype.Nr=function(t,e){return o_.resolve(this.h_.Nr(e))},t}(),DC=function(){function t(t){var e=this;this.u_={},this.yo=new h_(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new RC(this),this.Gn=new oE,this.jn=new OC(this.Gn,(function(t){return e.dr.c_(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.Gn},t.prototype.oh=function(t){var e=this.u_[t.Xh()];return e||(e=new NC(this.Gn,this.dr),this.u_[t.Xh()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var r=this;Ry("MemoryPersistence","Starting transaction:",t);var i=new PC(this.yo.next());return this.dr.l_(),n(i).next((function(t){return r.dr.__(i).next((function(){return t}))})).vn().then((function(t){return i.Wn(),t}))},t.prototype.f_=function(t,e){return o_.Cn(Object.values(this.u_).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),PC=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return u(e,t),e}(u_),MC=function(){function t(t){this.persistence=t,this.d_=new HE,this.w_=null}return t.T_=function(e){return new t(e)},Object.defineProperty(t.prototype,"E_",{get:function(){if(this.w_)return this.w_;throw Ly()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.d_.Eo(n,e),this.E_.delete(n),o_.resolve()},t.prototype.mo=function(t,e,n){return this.d_.mo(n,e),this.E_.add(n),o_.resolve()},t.prototype.Dr=function(t,e){return this.E_.add(e),o_.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.d_.zh(e.targetId).forEach((function(t){return n.E_.add(t)}));var r=this.persistence.hh();return r.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.E_.add(t)}))})).next((function(){return r._o(t,e)}))},t.prototype.l_=function(){this.w_=new Set},t.prototype.__=function(t){var e=this,n=this.persistence.ah().jr();return o_.forEach(this.E_,(function(r){return e.I_(t,r).next((function(t){t||n.Mn(r)}))})).next((function(){return e.w_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.I_(t,e).next((function(t){t?n.E_.delete(e):n.E_.add(e)}))},t.prototype.c_=function(t){return 0},t.prototype.I_=function(t,e){var n=this;return o_.Cn([function(){return o_.resolve(n.d_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.f_(t,e)}])},t}(),LC=function(){function t(t){this.m_=t.m_,this.A_=t.A_}return t.prototype.Na=function(t){this.R_=t},t.prototype.ba=function(t){this.P_=t},t.prototype.onMessage=function(t){this.V_=t},t.prototype.close=function(){this.A_()},t.prototype.send=function(t){this.m_(t)},t.prototype.g_=function(){this.R_()},t.prototype.y_=function(t){this.P_(t)},t.prototype.p_=function(t){this.V_(t)},t}(),FC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},jC=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return u(e,t),e.prototype.N_=function(t,e,n,r){return new Promise((function(i,o){var s=new Ay;s.listenOnce(ky.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Sy.NO_ERROR:var e=s.getResponseJson();Ry("Connection","XHR received:",JSON.stringify(e)),i(e);break;case Sy.TIMEOUT:Ry("Connection",'RPC "'+t+'" timed out'),o(new Zy(Qy.DEADLINE_EXCEEDED,"Request time out"));break;case Sy.HTTP_ERROR:var n=s.getStatus();if(Ry("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(Qy).indexOf(e)>=0?e:Qy.UNKNOWN}(r.status);o(new Zy(a,r.message))}else o(new Zy(Qy.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new Zy(Qy.UNAVAILABLE,"Connection failed."));break;default:Ly()}}finally{Ry("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Fa=function(t,e){var n=[this.v_,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Ty(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.C_(i.initMessageHeaders,e),mc()||_c()||yc().indexOf("Electron/")>=0||function(){var t=yc();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||yc().indexOf("MSAppHost/")>=0||wc()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");Ry("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),a=!1,u=!1,c=new LC({m_:function(t){u?Ry("Connection","Not sending because WebChannel is closed:",t):(a||(Ry("Connection","Opening WebChannel transport."),s.open(),a=!0),Ry("Connection","WebChannel sending:",t),s.send(t))},A_:function(){return s.close()}}),l=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(xy.EventType.OPEN,(function(){u||Ry("Connection","WebChannel transport opened.")})),l(xy.EventType.CLOSE,(function(){u||(u=!0,Ry("Connection","WebChannel transport closed"),c.y_())})),l(xy.EventType.ERROR,(function(t){u||(u=!0,Py("Connection","WebChannel transport errored:",t),c.y_(new Zy(Qy.UNAVAILABLE,"The operation could not be completed")))})),l(xy.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];Fy(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){Ry("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=dm[t];if(void 0!==e)return bm(e)}(o),l=i.message;void 0===a&&(a=Qy.INTERNAL,l="Unknown error status: "+o+" with message "+i.message),u=!0,c.y_(new Zy(a,l)),s.close()}else Ry("Connection","WebChannel received:",n),c.p_(n)}})),setTimeout((function(){c.g_()}),0),c},e}(function(){function t(t){this.b_=t,this.s=t.s;var e=t.ssl?"https":"http";this.v_=e+"://"+t.host,this.S_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.ja=function(t,e,n,r){var i=this.D_(t,e);Ry("RestConnection","Sending: ",i,n);var o={};return this.C_(o,r),this.N_(t,i,o,n).then((function(t){return Ry("RestConnection","Received: ",t),t}),(function(e){throw Py("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ka=function(t,e,n,r){return this.ja(t,e,n,r)},t.prototype.C_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.18.0",t["Content-Type"]="text/plain",e)for(var n in e.ea)e.ea.hasOwnProperty(n)&&(t[n]=e.ea[n])},t.prototype.D_=function(t,e){var n=FC[t];return this.v_+"/v1/"+e+":"+n},t}()),VC=function(){function t(){var t=this;this.F_=function(){return t.k_()},this.x_=function(){return t.M_()},this.O_=[],this.L_()}return t.prototype.uu=function(t){this.O_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.F_),window.removeEventListener("offline",this.x_)},t.prototype.L_=function(){window.addEventListener("online",this.F_),window.addEventListener("offline",this.x_)},t.prototype.k_=function(){Ry("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.O_;t<e.length;t++)(0,e[t])(0)},t.prototype.M_=function(){Ry("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.O_;t<e.length;t++)(0,e[t])(1)},t.Fs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),UC=function(){function t(){}return t.prototype.uu=function(t){},t.prototype.th=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BC(t){return new pb(t,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HC="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",zC=function(){function t(){}return t.prototype.initialize=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.sl=this.q_(t),this.persistence=this.B_(t),[4,this.persistence.start()];case 1:return e.sent(),this.U_=this.Q_(t),this.nu=this.W_(t),[2]}}))}))},t.prototype.Q_=function(t){return null},t.prototype.W_=function(t){return e=this.persistence,n=new AC,r=t.j_,new VE(e,n,r);var e,n,r},t.prototype.B_=function(t){if(t.G_.K_)throw new Zy(Qy.FAILED_PRECONDITION,HC);return new DC(MC.T_)},t.prototype.q_=function(t){return new hC},t.prototype.terminate=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.U_&&this.U_.stop(),[4,this.sl.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new Zy(Qy.FAILED_PRECONDITION,HC)},t}(),qC=function(t){function e(e){var n=this;return(n=t.call(this)||this).z_=e,n}return u(e,t),e.prototype.initialize=function(e){return l(this,void 0,void 0,(function(){var n,r=this;return h(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.z_.initialize(this,e)];case 2:return i.sent(),n=this.z_.Du,this.sl instanceof lC?(this.sl.Du={Fc:bC.bind(null,n),kc:IC.bind(null,n),xc:TC.bind(null,n),rh:CC.bind(null,n)},[4,this.sl.start()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[4,this.persistence.qo((function(t){return l(r,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return[4,wC(this.z_.Du,t)];case 1:return e.sent(),this.U_&&(t&&!this.U_.tr?this.U_.start(this.nu):t||this.U_.stop()),[2]}}))}))}))];case 5:return i.sent(),[2]}}))}))},e.prototype.q_=function(t){if(t.G_.K_&&t.G_.synchronizeTabs){var e=C_();if(!lC.Fs(e))throw new Zy(Qy.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=jE(t.b_.s,t.b_.persistenceKey);return new lC(e,t.ti,n,t.clientId,t.j_)}return new hC},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.initialize=function(e){return l(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return l(this,void 0,void 0,(function(){var e,n;return h(this,(function(r){return e=jy(t),n=jy(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.mh=t}))]}))}))}(this.nu)];case 2:return n.sent(),[2]}}))}))},e.prototype.Q_=function(t){var e=this.persistence.dr.Yi;return new R_(e,t.ti)},e.prototype.B_=function(t){var e=jE(t.b_.s,t.b_.persistenceKey),n=BC(t.b_.s);return new DE(t.G_.synchronizeTabs,e,t.clientId,O_.Ui(t.G_.cacheSizeBytes),t.ti,C_(),I_(),n,this.sl,t.G_.Vo)},e.prototype.q_=function(t){return new hC},e.prototype.clearPersistence=function(t,e){return function(t){return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return d_.Fs()?(e=t+"main",[4,d_.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(jE(t,e))},e}(zC)),WC=function(){function t(){}return t.prototype.initialize=function(t,e){return l(this,void 0,void 0,(function(){var n=this;return h(this,(function(r){switch(r.label){case 0:return this.nu?[3,3]:(this.nu=t.nu,this.sl=t.sl,this.su=this.H_(e),this.nl=this.Y_(e),this.Du=this.J_(e),this.X_=this.Z_(e),this.sl.Ga=function(t){return n.Du.Jc(t,1)},this.nl.Du=this.Du,[4,this.nl.start()]);case 1:return r.sent(),[4,this.nl.ju(this.Du.Tl)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.Z_=function(t){return new kC(this.Du)},t.prototype.H_=function(t){var e,n=BC(t.b_.s),r=(e=t.b_,new jC(e));return function(t,e,n){return new $E(t,e,n)}(t.credentials,r,n)},t.prototype.Y_=function(t){var e=this;return new eC(this.nu,this.su,t.ti,(function(t){return e.Du.Jc(t,0)}),VC.Fs()?new VC:new UC)},t.prototype.J_=function(t){return function(t,e,n,r,i,o,s){var a=new yC(t,e,n,r,i,o);return s&&(a.wl=!0),a}(this.nu,this.nl,this.su,this.sl,t.j_,t.il,!t.G_.K_||!t.G_.synchronizeTabs)},t.prototype.terminate=function(){return this.nl.th()},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KC(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var GC=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.tf(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.tf(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.ef=function(){this.muted=!0},t.prototype.tf=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XC(t,e){if(0!==e.length)throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+fI(e.length,"argument")+".")}function YC(t,e,n){if(e.length!==n)throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires "+fI(n,"argument")+", but was called with "+fI(e.length,"argument")+".")}function QC(t,e,n){if(e.length<n)throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires at least "+fI(n,"argument")+", but was called with "+fI(e.length,"argument")+".")}function ZC(t,e,n,r){if(e.length<n||e.length>r)throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+fI(e.length,"argument")+".")}function JC(t,e,n,r){iI(t,e,hI(n)+" argument",r)}function $C(t,e,n,r){void 0!==r&&JC(t,e,n,r)}function tI(t,e,n,r){iI(t,e,n+" option",r)}function eI(t,e,n,r){void 0!==r&&tI(t,e,n,r)}function nI(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(sI(u))}var c=sI(r);throw new Zy(Qy.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function rI(t,e,n,r){if(!e.some((function(t){return t===r})))throw new Zy(Qy.INVALID_ARGUMENT,"Invalid value "+sI(r)+" provided to function "+t+"() for its "+hI(n)+" argument. Acceptable values: "+e.join(", "));return r}function iI(t,e,n,r){if(!("object"===e?oI(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=sI(r);throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function oI(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function sI(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Ly()}function aI(t,e,n){if(void 0===n)throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+hI(e)+" argument, but it was undefined.")}function uI(t,e,n){Gy(e,(function(e,r){if(n.indexOf(e)<0)throw new Zy(Qy.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function cI(t,e,n,r){var i=sI(r);return new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires its "+hI(n)+" argument to be a "+e+", but it was: "+i)}function lI(t,e,n){if(n<=0)throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires its "+hI(e)+" argument to be a positive number, but it was: "+n+".")}function hI(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function fI(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pI(){if("undefined"==typeof Uint8Array)throw new Zy(Qy.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function dI(){if("undefined"==typeof atob)throw new Zy(Qy.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var vI=function(){function t(t){dI(),this.nf=t}return t.fromBase64String=function(e){YC("Blob.fromBase64String",arguments,1),JC("Blob.fromBase64String","string",1,e),dI();try{return new t(pm.fromBase64String(e))}catch(e){throw new Zy(Qy.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(YC("Blob.fromUint8Array",arguments,1),pI(),!(e instanceof Uint8Array))throw cI("Blob.fromUint8Array","Uint8Array",1,e);return new t(pm.fromUint8Array(e))},t.prototype.toBase64=function(){return YC("Blob.toBase64",arguments,0),dI(),this.nf.toBase64()},t.prototype.toUint8Array=function(){return YC("Blob.toUint8Array",arguments,0),pI(),this.nf.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.nf.isEqual(t.nf)},t}(),gI=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new Zy(Qy.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+fI(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(JC("FieldPath","string",e,t[e]),0===t[e].length)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.sf=new rm(t)},yI=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return u(e,t),e.documentId=function(){return new e(rm.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw cI("isEqual","FieldPath",1,t);return this.sf.isEqual(t.sf)},e}(gI),mI=new RegExp("[~\\*/\\[\\]]"),bI=function(){this.if=this},wI=function(t){function e(e){var n=this;return(n=t.call(this)||this).rf=e,n}return u(e,t),e.prototype.hf=function(t){if(2!==t.af)throw 1===t.af?t.uf(this.rf+"() can only appear at the top level of your update data"):t.uf(this.rf+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(bI);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _I(t,e,n){return new PI({af:3,cf:e.settings.cf,methodName:t.rf,lf:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var EI=function(t){function e(e){var n=this;return(n=t.call(this)||this).rf=e,n}return u(e,t),e.prototype.hf=function(t){return new ew(t.path,new Kb)},e.prototype.isEqual=function(t){return t instanceof e},e}(bI),CI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r._f=n,r}return u(e,t),e.prototype.hf=function(t){var e=_I(this,t,!0),n=this._f.map((function(t){return UI(t,e)})),r=new Gb(n);return new ew(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(bI),II=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r._f=n,r}return u(e,t),e.prototype.hf=function(t){var e=_I(this,t,!0),n=this._f.map((function(t){return UI(t,e)})),r=new Yb(n);return new ew(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(bI),TI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.ff=n,r}return u(e,t),e.prototype.hf=function(t){var e=new Zb(t.serializer,gb(t.serializer,this.ff));return new ew(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(bI),SI=function(t){function e(){return t.call(this)||this}return u(e,t),e.delete=function(){return XC("FieldValue.delete",arguments),new kI(new wI("FieldValue.delete"))},e.serverTimestamp=function(){return XC("FieldValue.serverTimestamp",arguments),new kI(new EI("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return QC("FieldValue.arrayUnion",arguments,1),new kI(new CI("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return QC("FieldValue.arrayRemove",arguments,1),new kI(new II("FieldValue.arrayRemove",t))},e.increment=function(t){return JC("FieldValue.increment","number",1,t),YC("FieldValue.increment",arguments,1),new kI(new TI("FieldValue.increment",t))},e}(bI),kI=function(t){function e(e){var n=this;return(n=t.call(this)||this).if=e,n.rf=e.rf,n}return u(e,t),e.prototype.hf=function(t){return this.if.hf(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.if.isEqual(t.if)},e}(SI),xI=function(){function t(t,e){if(YC("GeoPoint",arguments,2),JC("GeoPoint","number",1,t),JC("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Zy(Qy.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Zy(Qy.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.df=t,this.wf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.wf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.df===t.df&&this.wf===t.wf},t.prototype.T=function(t){return By(this.df,t.df)||By(this.wf,t.wf)},t}(),AI=/^__.*__$/,NI=function(t,e,n){this.Tf=t,this.Ef=e,this.If=n},OI=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.mf=function(t,e){var n=[];return null!==this.Le?n.push(new fw(t,this.data,this.Le,e)):n.push(new hw(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new dw(t,this.fieldTransforms)),n},t}(),RI=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.mf=function(t,e){var n=[new fw(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new dw(t,this.fieldTransforms)),n},t}();function DI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ly()}}var PI=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Af(),this.fieldTransforms=i||[],this.Le=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.settings.af},enumerable:!1,configurable:!0}),t.prototype.Rf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.Pf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Rf({path:n,lf:!1});return r.Vf(t),r},t.prototype.gf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Rf({path:n,lf:!1});return r.Af(),r},t.prototype.yf=function(t){return this.Rf({path:void 0,lf:!0})},t.prototype.uf=function(t){return KI(t,this.settings.methodName,this.settings.pf||!1,this.path,this.settings.cf)},t.prototype.contains=function(t){return void 0!==this.Le.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.Af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Vf(this.path.get(t))},t.prototype.Vf=function(t){if(0===t.length)throw this.uf("Document fields must not be empty");if(DI(this.af)&&AI.test(t))throw this.uf('Document fields cannot begin and end with "__"')},t}(),MI=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||BC(t)}return t.prototype.bf=function(t,e,n,r){return void 0===r&&(r=!1),new PI({af:t,methodName:e,cf:n,path:rm.$(),lf:!1,pf:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function LI(t,e,n,r,i,o){void 0===o&&(o={});var s=t.bf(o.merge||o.mergeFields?2:0,e,n,i);zI("Data must be an object, but it was:",s,r);var a,u,c=BI(r,s);if(o.merge)a=new tw(s.Le),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=f[h],d=void 0;if(p instanceof gI)d=p.sf;else{if("string"!=typeof p)throw Ly();d=WI(e,p,n)}if(!s.contains(d))throw new Zy(Qy.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");GI(l,d)||l.push(d)}a=new tw(l),u=s.fieldTransforms.filter((function(t){return a.je(t.field)}))}else a=null,u=s.fieldTransforms;return new OI(new bw(c),a,u)}function FI(t,e,n,r){var i=t.bf(1,e,n);zI("Data must be an object, but it was:",i,r);var o=[],s=new ww;Gy(r,(function(t,r){var a=WI(e,t,n),u=i.gf(a);if(r instanceof bI&&r.if instanceof wI)o.push(a);else{var c=UI(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new tw(o);return new RI(s.Ge(),a,i.fieldTransforms)}function jI(t,e,n,r,i,o){var s=t.bf(1,e,n),a=[qI(e,r,n)],u=[i];if(o.length%2!=0)throw new Zy(Qy.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(qI(e,o[c])),u.push(o[c+1]);for(var l=[],h=new ww,f=a.length-1;f>=0;--f)if(!GI(l,a[f])){var p=a[f],d=u[f],v=s.gf(p);if(d instanceof bI&&d.if instanceof wI)l.push(p);else{var g=UI(d,v);null!=g&&(l.push(p),h.set(p,g))}}var y=new tw(l);return new RI(h.Ge(),y,s.fieldTransforms)}function VI(t,e,n,r){return void 0===r&&(r=!1),UI(n,t.bf(r?4:3,e))}function UI(t,e){if(HI(t))return zI("Unsupported field value:",e,t),BI(t,e);if(t instanceof bI)return function(t,e){if(!DI(e.af))throw e.uf(t.rf+"() can only be used with update() and set()");if(!e.path)throw e.uf(t.rf+"() is not currently supported inside arrays");var n=t.hf(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.lf&&4!==e.af)throw e.uf("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=UI(o[i],e.yf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return gb(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=Jy.fromDate(t);return{timestampValue:yb(e.serializer,n)}}if(t instanceof Jy){var r=new Jy(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:yb(e.serializer,r)}}if(t instanceof xI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof vI)return{bytesValue:mb(e.serializer,t)};if(t instanceof NI){var i=e.s,o=t.Tf;if(!o.isEqual(i))throw e.uf("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:_b(t.Tf||e.s,t.Ef.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.uf("Unsupported field value: "+sI(t))}(t,e)}function BI(t,e){var n={};return Xy(t)?e.path&&e.path.length>0&&e.Le.push(e.path):Gy(t,(function(t,r){var i=UI(r,e.Pf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function HI(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof Jy||t instanceof xI||t instanceof vI||t instanceof NI||t instanceof bI)}function zI(t,e,n){if(!HI(n)||!oI(n)){var r=sI(n);throw"an object"===r?e.uf(t+" a custom object"):e.uf(t+" "+r)}}function qI(t,e,n){if(e instanceof gI)return e.sf;if("string"==typeof e)return WI(t,e);throw KI("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function WI(t,e,n){try{return function(t){if(t.search(mI)>=0)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(yI.bind.apply(yI,v([void 0],t.split("."))))}catch(e){throw new Zy(Qy.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).sf}catch(e){throw KI((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function KI(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new Zy(Qy.INVALID_ARGUMENT,(a+=". ")+t+u)}function GI(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var XI=function(){function t(t){this.su=t,this.vf=new Map,this.mutations=[],this.Sf=!1,this.Df=null,this.Cf=new Set}return t.prototype.Nf=function(t){return l(this,void 0,void 0,(function(){var e,n=this;return h(this,(function(r){switch(r.label){case 0:if(this.Ff(),this.mutations.length>0)throw new Zy(Qy.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a;return h(this,(function(u){switch(u.label){case 0:return n=jy(t),r=kb(n.serializer)+"/documents",i={documents:e.map((function(t){return Cb(n.serializer,t)}))},[4,n.Ka("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Fy(!!e.found),e.found.name,e.found.updateTime;var n=Ib(t,e.found.name),r=wb(e.found.updateTime),i=new bw({mapValue:{fields:e.found.fields}});return new Cw(n,r,i,{})}(t,e):"missing"in e?function(t,e){Fy(!!e.missing),Fy(!!e.readTime);var n=Ib(t,e.missing),r=wb(e.readTime);return new Iw(n,r)}(t,e):Ly()}(n.serializer,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Fy(!!e),a.push(e)})),a)]}}))}))}(this.su,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Iw||t instanceof Cw?n.kf(t):Ly()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.mf(t,this.Ue(t))),this.Cf.add(t)},t.prototype.update=function(t,e){try{this.write(e.mf(t,this.xf(t)))}catch(t){this.Df=t}this.Cf.add(t)},t.prototype.delete=function(t){this.write([new yw(t,this.Ue(t))]),this.Cf.add(t)},t.prototype.commit=function(){return l(this,void 0,void 0,(function(){var t,e=this;return h(this,(function(n){switch(n.label){case 0:if(this.Ff(),this.Df)throw this.Df;return t=this.vf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new im(em.k(n));e.mutations.push(new mw(r,e.Ue(r)))})),[4,function(t,e){return l(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return n=jy(t),r=kb(n.serializer)+"/documents",i={writes:e.map((function(t){return Nb(n.serializer,t)}))},[4,n.ja("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.su,this.mutations)];case 1:return n.sent(),this.Sf=!0,[2]}}))}))},t.prototype.kf=function(t){var e;if(t instanceof Cw)e=t.version;else{if(!(t instanceof Iw))throw Ly();e=$y.min()}var n=this.vf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new Zy(Qy.ABORTED,"Document version changed between two reads.")}else this.vf.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.vf.get(t.toString());return!this.Cf.has(t)&&e?rw.updateTime(e):rw.Qe()},t.prototype.xf=function(t){var e=this.vf.get(t.toString());if(!this.Cf.has(t)&&e){if(e.isEqual($y.min()))throw new Zy(Qy.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return rw.updateTime(e)}return rw.exists(!0)},t.prototype.write=function(t){this.Ff(),this.mutations=this.mutations.concat(t)},t.prototype.Ff=function(){},t}(),YI=function(){function t(t,e,n,r){this.ti=t,this.su=e,this.updateFunction=n,this.si=r,this.$f=5,this.wi=new p_(this.ti,"transaction_retry")}return t.prototype.run=function(){this.Mf()},t.prototype.Mf=function(){var t=this;this.wi.ps((function(){return l(t,void 0,void 0,(function(){var t,e,n=this;return h(this,(function(r){return t=new XI(this.su),(e=this.Of(t))&&e.then((function(e){n.ti.hi((function(){return t.commit().then((function(){n.si.resolve(e)})).catch((function(t){n.Lf(t)}))}))})).catch((function(t){n.Lf(t)})),[2]}))}))}))},t.prototype.Of=function(t){try{var e=this.updateFunction(t);return!om(e)&&e.catch&&e.then?e:(this.si.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.si.reject(t),null}},t.prototype.Lf=function(t){var e=this;this.$f>0&&this.qf(t)?(this.$f-=1,this.ti.hi((function(){return e.Mf(),Promise.resolve()}))):this.si.reject(t)},t.prototype.qf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!mm(e)}return!1},t}(),QI=function(){function t(t,e){this.credentials=t,this.ti=e,this.clientId=Uy.t(),this.Bf=new f_}return t.prototype.start=function(t,e,n,r){var i=this;this.Uf(),this.b_=t;var o=new f_,s=!1;return this.credentials.ia((function(t){if(!s)return s=!0,Ry("FirestoreClient","Initializing. user=",t.uid),i.Qf(e,n,r,t,o).then(i.Bf.resolve,i.Bf.reject);i.ti.Vi((function(){return i.nl.Wu(t)}))})),this.ti.hi((function(){return i.Bf.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Uf(),this.ti.enqueue((function(){return t.persistence.Uo(!0),t.nl.enableNetwork()}))},t.prototype.Qf=function(t,e,n,r,i){return l(this,void 0,void 0,(function(){var o,s,a=this;return h(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o={ti:this.ti,b_:this.b_,clientId:this.clientId,credentials:this.credentials,j_:r,il:100,G_:n},[4,t.initialize(o)];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.sl=t.sl,this.nu=t.nu,this.U_=t.U_,this.su=e.su,this.nl=e.nl,this.Du=e.Du,this.Wf=e.X_,this.persistence.Bo((function(){return l(a,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(s=u.sent(),i.reject(s),!this.jf(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.Qf(new zC,new WC,{K_:!1},r,i))];case 4:return[2]}}))}))},t.prototype.jf=function(t){return"FirebaseError"===t.name?t.code===Qy.FAILED_PRECONDITION||t.code===Qy.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Uf=function(){if(this.ti.Ei)throw new Zy(Qy.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Uf(),this.ti.enqueue((function(){return t.persistence.Uo(!1),t.nl.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.ti.Pi((function(){return l(t,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.U_&&this.U_.stop(),[4,this.nl.th()];case 1:return t.sent(),[4,this.sl.th()];case 2:return t.sent(),[4,this.persistence.th()];case 3:return t.sent(),this.credentials.ra(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Uf();var e=new f_;return this.ti.hi((function(){return t.Du.bl(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Uf();var i=new GC(n),o=new xC(t,i,e);return this.ti.hi((function(){return r.Wf.listen(o)})),function(){i.ef(),r.ti.hi((function(){return r.Wf.vu(o)}))}},t.prototype.Kf=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(e.sent(),function(t,e,n){return l(this,void 0,void 0,(function(){var r,i=this;return h(this,(function(o){switch(o.label){case 0:return r=new f_,[4,t.enqueue((function(){return l(i,void 0,void 0,(function(){var t,i,o;return h(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,e.$h(n)];case 1:return(t=s.sent())instanceof Cw?r.resolve(t):t instanceof Iw?r.resolve(null):r.reject(new Zy(Qy.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=k_(i,"Failed to get document '"+n+" from cache"),r.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),r.promise)]}}))}))}(this.ti,this.nu,t))]}}))}))},t.prototype.Gf=function(t,e){return l(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new f_,o=ZI(t,e,Aw(n.path),{includeMetadataChanges:!0,Gl:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new Zy(Qy.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new Zy(Qy.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ti,this.Wf,t,e))]}}))}))},t.prototype.zf=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(e.sent(),function(t,e,n){return l(this,void 0,void 0,(function(){var r,i=this;return h(this,(function(o){switch(o.label){case 0:return r=new f_,[4,t.enqueue((function(){return l(i,void 0,void 0,(function(){var t,i,o,s,a,u;return h(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,e.Lh(n,!0)];case 1:return t=c.sent(),i=new dC(n,t.qh),o=i.Wc(t.documents),s=i.Bn(o,!1),r.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=k_(a,"Failed to execute query '"+n+" against cache"),r.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),r.promise)]}}))}))}(this.ti,this.nu,t))]}}))}))},t.prototype.Hf=function(t,e){return l(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new f_,o=ZI(t,e,n,{includeMetadataChanges:!0,Gl:!0},{next:function(t){o(),t.fromCache&&r&&"server"===r.source?i.reject(new Zy(Qy.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ti,this.Wf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Uf();var n=new f_;return this.ti.hi((function(){return e.Du.write(t,n)})),n.promise},t.prototype.s=function(){return this.b_.s},t.prototype.Ll=function(t){var e=this;this.Uf();var n=new GC(t);return this.ti.hi((function(){return l(e,void 0,void 0,(function(){return h(this,(function(t){return[2,this.Wf.Ll(n)]}))}))})),function(){n.ef(),e.ti.hi((function(){return l(e,void 0,void 0,(function(){return h(this,(function(t){return[2,this.Wf.ql(n)]}))}))}))}},Object.defineProperty(t.prototype,"Yf",{get:function(){return this.ti.Ei},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Uf();var n=new f_;return this.ti.hi((function(){return new YI(e.ti,e.su,t,n).run(),Promise.resolve()})),n.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZI(t,e,n,r,i){var o=new GC(i),s=new xC(n,o,r);return t.hi((function(){return e.listen(s)})),function(){o.ef(),t.hi((function(){return e.vu(s)}))}}var JI=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Jf=n,this.Xf=r}return t.prototype.Zf=function(t){switch(Qm(t)){case 0:return null;case 1:return t.booleanValue;case 2:return rb(t.integerValue||t.doubleValue);case 3:return this.td(t.timestampValue);case 4:return this.ed(t);case 5:return t.stringValue;case 6:return new vI(ib(t.bytesValue));case 7:return this.nd(t.referenceValue);case 8:return this.sd(t.geoPointValue);case 9:return this.rd(t.arrayValue);case 10:return this.od(t.mapValue);default:throw Ly()}},t.prototype.od=function(t){var e=this,n={};return Gy(t.fields||{},(function(t,r){n[t]=e.Zf(r)})),n},t.prototype.sd=function(t){return new xI(rb(t.latitude),rb(t.longitude))},t.prototype.rd=function(t){var e=this;return(t.values||[]).map((function(t){return e.Zf(t)}))},t.prototype.ed=function(t){switch(this.Jf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return Gm(n)?t(n):n}(t);return null==e?null:this.Zf(e);case"estimate":return this.td(Xm(t));default:return null}},t.prototype.td=function(t){var e=nb(t),n=new Jy(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.nd=function(t){var e=em.k(t);Fy(Bb(e));var n=new Wy(e.get(1),e.get(3)),r=new im(e.g(5));return n.isEqual(this.s)||Dy("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Xf(r)},t}(),$I=O_.ji,tT=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new Zy(Qy.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else tI("settings","non-empty string","host",t.host),this.host=t.host,eI("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(uI("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),eI("settings","object","credentials",t.credentials),this.credentials=t.credentials,eI("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),eI("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Dy("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Dy("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,eI("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=O_.Gi;else{if(t.cacheSizeBytes!==$I&&t.cacheSizeBytes<O_.Ki)throw new Zy(Qy.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+O_.Ki);this.cacheSizeBytes=t.cacheSizeBytes}eI("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),eT=function(){function t(e,n,r,i){var o=this;if(void 0===r&&(r=new zC),void 0===i&&(i=new WC),this.hd=r,this.ad=i,this.ud=null,this.ld=new S_,this.INTERNAL={delete:function(){return l(o,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this._d(),[4,this.fd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.ud=s,this.Tf=t.dd(s),this.wd=s.name,this.Td=new GE(n)}else{var a=e;if(!a.projectId)throw new Zy(Qy.INVALID_ARGUMENT,"Must provide projectId");this.Tf=new Wy(a.projectId,a.database),this.wd="[DEFAULT]",this.Td=new KE}this.Ed=new tT({})}return Object.defineProperty(t.prototype,"Id",{get:function(){return this.md||(this.md=new MI(this.Tf,this.Ed.ignoreUndefinedProperties)),this.md},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){YC("Firestore.settings",arguments,1),JC("Firestore.settings","object",1,t);var e=new tT(t);if(this.fd&&!this.Ed.isEqual(e))throw new Zy(Qy.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Ed=e,void 0!==e.credentials&&(this.Td=function(t){if(!t)return new KE;switch(t.type){case"gapi":var e=t.Ad;return Fy(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new YE(e,t.la||"0");case"provider":return t.Ad;default:throw new Zy(Qy.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this._d(),this.fd.enableNetwork()},t.prototype.disableNetwork=function(){return this._d(),this.fd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.fd)throw new Zy(Qy.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Dy("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new Zy(Qy.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Rd(this.hd,this.ad,{K_:!0,cacheSizeBytes:this.Ed.cacheSizeBytes,synchronizeTabs:r,Vo:i})},t.prototype.clearPersistence=function(){return l(this,void 0,void 0,(function(){var t,e=this;return h(this,(function(n){if(void 0!==this.fd&&!this.fd.Yf)throw new Zy(Qy.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new f_,[2,(this.ld.Ii((function(){return l(e,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hd.clearPersistence(this.Tf,this.wd)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Pd",{get:function(){return this._d(),this.fd.Yf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this._d(),this.fd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this._d(),KC(t))return this.fd.Ll(t);JC("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.fd.Ll(e)},t.prototype._d=function(){return this.fd||this.Rd(new zC,new WC,{K_:!1}),this.fd},t.prototype.Vd=function(){return new qy(this.Tf,this.wd,this.Ed.host,this.Ed.ssl,this.Ed.forceLongPolling)},t.prototype.Rd=function(t,e,n){var r=this.Vd();return this.fd=new QI(this.Td,this.ld),this.fd.start(r,t,e,n)},t.dd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new Zy(Qy.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!n||"string"!=typeof n)throw new Zy(Qy.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Wy(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ud)throw new Zy(Qy.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ud},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return YC("Firestore.collection",arguments,1),JC("Firestore.collection","non-empty string",1,t),this._d(),new gT(em.k(t),this,null)},t.prototype.doc=function(t){return YC("Firestore.doc",arguments,1),JC("Firestore.doc","non-empty string",1,t),this._d(),iT.gd(em.k(t),this,null)},t.prototype.collectionGroup=function(t){if(YC("Firestore.collectionGroup",arguments,1),JC("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._d(),new dT(function(t){return new kw(em.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return YC("Firestore.runTransaction",arguments,1),JC("Firestore.runTransaction","function",1,t),this._d().transaction((function(n){return t(new nT(e,n))}))},t.prototype.batch=function(){return this._d(),new rT(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(Oy()){case Zc.DEBUG:return"debug";case Zc.ERROR:return"error";case Zc.SILENT:return"silent";case Zc.WARN:return"warn";case Zc.INFO:return"info";case Zc.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;YC("Firestore.setLogLevel",arguments,1),rI("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,Ny.setLogLevel(e)},t.prototype.yd=function(){return this.Ed.timestampsInSnapshots},t}(),nT=function(){function t(t,e){this.pd=t,this.bd=e}return t.prototype.get=function(t){var e=this;YC("Transaction.get",arguments,1);var n=wT("Transaction.get",t,this.pd);return this.bd.Nf([n.Ef]).then((function(t){if(!t||1!==t.length)return Ly();var r=t[0];if(r instanceof Iw)return new sT(e.pd,n.Ef,null,!1,!1,n.If);if(r instanceof Cw)return new sT(e.pd,n.Ef,r,!1,!1,n.If);throw Ly()}))},t.prototype.set=function(t,e,n){ZC("Transaction.set",arguments,2,3);var r=wT("Transaction.set",t,this.pd);n=yT("Transaction.set",n);var i=ET(r.If,e,n),o=LI(this.pd.Id,"Transaction.set",r.Ef,i,null!==r.If,n);return this.bd.set(r.Ef,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof yI?(QC("Transaction.update",arguments,3),r=wT("Transaction.update",t,this.pd),i=jI(this.pd.Id,"Transaction.update",r.Ef,e,n,o)):(YC("Transaction.update",arguments,2),r=wT("Transaction.update",t,this.pd),i=FI(this.pd.Id,"Transaction.update",r.Ef,e)),this.bd.update(r.Ef,i),this},t.prototype.delete=function(t){YC("Transaction.delete",arguments,1);var e=wT("Transaction.delete",t,this.pd);return this.bd.delete(e.Ef),this},t}(),rT=function(){function t(t){this.pd=t,this.vd=[],this.Sd=!1}return t.prototype.set=function(t,e,n){ZC("WriteBatch.set",arguments,2,3),this.Dd();var r=wT("WriteBatch.set",t,this.pd);n=yT("WriteBatch.set",n);var i=ET(r.If,e,n),o=LI(this.pd.Id,"WriteBatch.set",r.Ef,i,null!==r.If,n);return this.vd=this.vd.concat(o.mf(r.Ef,rw.Qe())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Dd(),"string"==typeof e||e instanceof yI?(QC("WriteBatch.update",arguments,3),r=wT("WriteBatch.update",t,this.pd),i=jI(this.pd.Id,"WriteBatch.update",r.Ef,e,n,o)):(YC("WriteBatch.update",arguments,2),r=wT("WriteBatch.update",t,this.pd),i=FI(this.pd.Id,"WriteBatch.update",r.Ef,e)),this.vd=this.vd.concat(i.mf(r.Ef,rw.exists(!0))),this},t.prototype.delete=function(t){YC("WriteBatch.delete",arguments,1),this.Dd();var e=wT("WriteBatch.delete",t,this.pd);return this.vd=this.vd.concat(new yw(e.Ef,rw.Qe())),this},t.prototype.commit=function(){return this.Dd(),this.Sd=!0,this.vd.length>0?this.pd._d().write(this.vd):Promise.resolve()},t.prototype.Dd=function(){if(this.Sd)throw new Zy(Qy.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),iT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.Tf,e,r)||this).Ef=e,i.firestore=n,i.If=r,i.fd=i.firestore._d(),i}return u(e,t),e.gd=function(t,n,r){if(t.length%2!=0)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new im(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.Ef.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new gT(this.Ef.path.p(),this.firestore,this.If)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ef.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(YC("DocumentReference.collection",arguments,1),JC("DocumentReference.collection","non-empty string",1,t),!t)throw new Zy(Qy.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=em.k(t);return new gT(this.Ef.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw cI("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Ef.isEqual(t.Ef)&&this.If===t.If},e.prototype.set=function(t,e){ZC("DocumentReference.set",arguments,1,2),e=yT("DocumentReference.set",e);var n=ET(this.If,t,e),r=LI(this.firestore.Id,"DocumentReference.set",this.Ef,n,null!==this.If,e);return this.fd.write(r.mf(this.Ef,rw.Qe()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof yI?(QC("DocumentReference.update",arguments,2),n=jI(this.firestore.Id,"DocumentReference.update",this.Ef,t,e,r)):(YC("DocumentReference.update",arguments,1),n=FI(this.firestore.Id,"DocumentReference.update",this.Ef,t)),this.fd.write(n.mf(this.Ef,rw.exists(!0)))},e.prototype.delete=function(){return YC("DocumentReference.delete",arguments,0),this.fd.write([new yw(this.Ef,rw.Qe())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];ZC("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||KC(i[a])||(uI("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),eI("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(KC(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else JC("DocumentReference.onSnapshot","function",a,i[a]),$C("DocumentReference.onSnapshot","function",a+1,i[a+1]),$C("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Cd(t))},error:i[a+1],complete:i[a+2]};return this.fd.listen(Aw(this.Ef.path),u,l)},e.prototype.get=function(t){var e=this;ZC("DocumentReference.get",arguments,0,1),bT("DocumentReference.get",t);var n=this.firestore._d();return t&&"cache"===t.source?n.Kf(this.Ef).then((function(t){return new sT(e.firestore,e.Ef,t,!0,t instanceof Cw&&t.Ke,e.If)})):n.Gf(this.Ef,t).then((function(t){return e.Cd(t)}))},e.prototype.withConverter=function(t){return new e(this.Ef,this.firestore,t)},e.prototype.Cd=function(t){var e=t.docs.get(this.Ef);return new sT(this.firestore,this.Ef,e,t.fromCache,t.hasPendingWrites,this.If)},e}(NI),oT=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),sT=function(){function t(t,e,n,r,i,o){this.pd=t,this.Ef=e,this.Nd=n,this.Fd=r,this.kd=i,this.If=o}return t.prototype.data=function(t){var e=this;if(ZC("DocumentSnapshot.data",arguments,0,1),t=mT("DocumentSnapshot.data",t),this.Nd){if(this.If){var n=new aT(this.pd,this.Ef,this.Nd,this.Fd,this.kd,null);return this.If.fromFirestore(n,t)}return new JI(this.pd.Tf,this.pd.yd(),t.serverTimestamps||"none",(function(t){return new iT(t,e.pd,null)})).Zf(this.Nd.Ze())}},t.prototype.get=function(t,e){var n=this;if(ZC("DocumentSnapshot.get",arguments,1,2),e=mT("DocumentSnapshot.get",e),this.Nd){var r=this.Nd.data().field(qI("DocumentSnapshot.get",t,this.Ef));if(null!==r)return new JI(this.pd.Tf,this.pd.yd(),e.serverTimestamps||"none",(function(t){return new iT(t,n.pd,n.If)})).Zf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Ef.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new iT(this.Ef,this.pd,this.If)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Nd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new oT(this.kd,this.Fd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw cI("isEqual","DocumentSnapshot",1,e);return this.pd===e.pd&&this.Fd===e.Fd&&this.Ef.isEqual(e.Ef)&&(null===this.Nd?null===e.Nd:this.Nd.isEqual(e.Nd))&&this.If===e.If},t}(),aT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(sT);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uT(t,e,n,r,i,o,s){var a;if(i.O()){if("array-contains"===o||"array-contains-any"===o)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){hT(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(lT(r,t,h))}a={arrayValue:{values:u}}}else a=lT(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||hT(s,o),a=VI(n,e,s,"in"===o||"not-in"===o);var f=Bw.create(i,o,a);return function(t,e){if(e.ln()){var n=t.cn();if(null!==n&&!n.isEqual(e.field))throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=t.un();null!==r&&fT(t,e.field,r)}var i=t._n(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new Zy(Qy.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new Zy(Qy.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}function cT(t,e,n){if(null!==t.startAt)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new t_(e,n);return function(t,e){if(null===t.un()){var n=t.cn();null!==n&&fT(t,n,e.field)}}(t,r),r}function lT(t,e,n){if("string"==typeof n){if(""===n)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Nw(e)&&-1!==n.indexOf("/"))throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(em.k(n));if(!im.W(r))throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return ob(t,new im(r))}if(n instanceof NI)return ob(t,n.Ef);throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+sI(n)+".")}function hT(t,e){if(!Array.isArray(t)||0===t.length)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function fT(t,e,n){if(!n.isEqual(e))throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function pT(t){if(t.an()&&0===t.tn.length)throw new Zy(Qy.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var dT=function(){function t(t,e,n){this.xd=t,this.firestore=e,this.If=n}return t.prototype.where=function(e,n,r){var i;YC("Query.where",arguments,3),aI("Query.where",3,r),i="not-in"===n||"!="===n?n:rI("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=qI("Query.where",e),s=uT(this.xd,"Query.where",this.firestore.Id,this.firestore.Tf,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new kw(t.path,t.collectionGroup,t.tn.slice(),n,t.limit,t.en,t.startAt,t.endAt)}(this.xd,s),this.firestore,this.If)},t.prototype.orderBy=function(e,n){var r;if(ZC("Query.orderBy",arguments,1,2),$C("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new Zy(Qy.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=qI("Query.orderBy",e),o=cT(this.xd,i,r);return new t(function(t,e){var n=t.tn.concat([e]);return new kw(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.en,t.startAt,t.endAt)}(this.xd,o),this.firestore,this.If)},t.prototype.limit=function(e){return YC("Query.limit",arguments,1),JC("Query.limit","number",1,e),lI("Query.limit",1,e),new t(Dw(this.xd,e,"F"),this.firestore,this.If)},t.prototype.limitToLast=function(e){return YC("Query.limitToLast",arguments,1),JC("Query.limitToLast","number",1,e),lI("Query.limitToLast",1,e),new t(Dw(this.xd,e,"L"),this.firestore,this.If)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];QC("Query.startAt",arguments,1);var i=this.$d("Query.startAt",e,n,!0);return new t(Pw(this.xd,i),this.firestore,this.If)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];QC("Query.startAfter",arguments,1);var i=this.$d("Query.startAfter",e,n,!1);return new t(Pw(this.xd,i),this.firestore,this.If)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];QC("Query.endBefore",arguments,1);var i=this.$d("Query.endBefore",e,n,!0);return new t(Mw(this.xd,i),this.firestore,this.If)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];QC("Query.endAt",arguments,1);var i=this.$d("Query.endAt",e,n,!1);return new t(Mw(this.xd,i),this.firestore,this.If)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw cI("isEqual","Query",1,e);return this.firestore===e.firestore&&Lw(this.xd,e.xd)&&this.If===e.If},t.prototype.withConverter=function(e){return new t(this.xd,this.firestore,e)},t.prototype.$d=function(t,e,n,r){if(aI(t,1,e),e instanceof sT)return YC(t,v([e],n),1),function(t,e,n,r,i){if(!r)throw new Zy(Qy.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=Ow(t);s<a.length;s++){var u=a[s];if(u.field.O())o.push(ob(e,r.key));else{var c=r.field(u.field);if(Gm(c))throw new Zy(Qy.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.F();throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new Qw(o,i)}(this.xd,this.firestore.Tf,t,e.Nd,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.tn;if(i.length>s.length)throw new Zy(Qy.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.O()){if("string"!=typeof c)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Nw(t)&&-1!==c.indexOf("/"))throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(em.k(c));if(!im.W(l))throw new Zy(Qy.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new im(l);a.push(ob(e,h))}else{var f=VI(n,r,c);a.push(f)}}return new Qw(a,o)}(this.xd,this.firestore.Tf,this.firestore.Id,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];ZC("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||KC(i[a])||(uI("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),eI("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),KC(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else JC("Query.onSnapshot","function",a,i[a]),$C("Query.onSnapshot","function",a+1,i[a+1]),$C("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new vT(r.firestore,r.xd,t,r.If))},error:i[a+1],complete:i[a+2]};return pT(this.xd),this.firestore._d().listen(this.xd,s,c)},t.prototype.get=function(t){var e=this;ZC("Query.get",arguments,0,1),bT("Query.get",t),pT(this.xd);var n=this.firestore._d();return(t&&"cache"===t.source?n.zf(this.xd):n.Hf(this.xd,t)).then((function(t){return new vT(e.firestore,e.xd,t,e.If)}))},t}(),vT=function(){function t(t,e,n,r){this.pd=t,this.Md=e,this.Od=n,this.If=r,this.Ld=null,this.qd=null,this.metadata=new oT(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Od.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Od.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;ZC("QuerySnapshot.forEach",arguments,1,2),JC("QuerySnapshot.forEach","function",1,t),this.Od.docs.forEach((function(r){t.call(e,n.Bd(r,n.metadata.fromCache,n.Od.Lt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new dT(this.Md,this.pd,this.If)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(uI("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),eI("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Od.Bt)throw new Zy(Qy.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Ld&&this.qd===e||(this.Ld=function(t,e,n){if(t.Ot._()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Lt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ot;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:_T(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Od,e,this.Bd.bind(this)),this.qd=e),this.Ld},t.prototype.isEqual=function(e){if(!(e instanceof t))throw cI("isEqual","QuerySnapshot",1,e);return this.pd===e.pd&&Lw(this.Md,e.Md)&&this.Od.isEqual(e.Od)&&this.If===e.If},t.prototype.Bd=function(t,e,n){return new aT(this.pd,t.key,t,e,n,this.If)},t}(),gT=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Aw(e),n,r)||this).Ud=e,e.length%2!=1)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return i}return u(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.xd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.xd.path.p();return t._()?null:new iT(new im(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.xd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){ZC("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Uy.t()),JC("CollectionReference.doc","non-empty string",1,t);var e=em.k(t);return iT.gd(this.xd.path.child(e),this.firestore,this.If)},e.prototype.add=function(t){YC("CollectionReference.add",arguments,1),JC("CollectionReference.add","object",1,this.If?this.If.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Ud,this.firestore,t)},e}(dT);function yT(t,e){if(void 0===e)return{merge:!1};if(uI(t,e,["merge","mergeFields"]),eI(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+sI(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Zy(Qy.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+sI(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof yI}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new Zy(Qy.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function mT(t,e){return void 0===e?{}:(uI(t,e,["serverTimestamps"]),nI(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function bT(t,e){$C(t,"object",1,e),e&&(uI(t,e,["source"]),nI(t,0,"source",e.source,["default","server","cache"]))}function wT(t,e,n){if(e instanceof NI){if(e.firestore!==n)throw new Zy(Qy.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw cI(t,"DocumentReference",1,e)}function _T(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ly()}}function ET(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var CT={Firestore:eT,GeoPoint:xI,Timestamp:Jy,Blob:vI,Transaction:nT,WriteBatch:rT,DocumentReference:iT,DocumentSnapshot:sT,Query:dT,QueryDocumentSnapshot:aT,QuerySnapshot:vT,CollectionReference:gT,FieldPath:yI,FieldValue:SI,setLogLevel:eT.setLogLevel,CACHE_SIZE_UNLIMITED:$I};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){!function(t,e){t.INTERNAL.registerComponent(new Kc("firestore",(function(t){return function(t,e){var n=new WC,r=new qC(n);return new eT(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},CT)))}(t),t.registerVersion("@firebase/firestore","1.16.4")}(yl);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var IT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},TT=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return u(e,t),e}(Error);var ST=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return l(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return l(this,void 0,void 0,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var xT=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return kT(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?kT(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var AT=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new xT,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new ST(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return l(this,void 0,void 0,(function(){var r,i;return h(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,f,p,d;return h(this,(function(h){switch(h.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o=new Headers,[4,this.contextProvider.getContext()];case 1:return(s=h.sent()).authToken&&o.append("Authorization","Bearer "+s.authToken),s.instanceIdToken&&o.append("Firebase-Instance-ID-Token",s.instanceIdToken),a=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new TT("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(a),c=u.timer,l=u.promise,[4,Promise.race([NT(c,this.postJSON(r,i,o)),l,NT(c,this.cancelAllRequests)])];case 2:if(!(f=h.sent()))throw new TT("cancelled","Firebase Functions instance was deleted.");if(p=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!IT[a])return new TT("internal","internal");r=IT[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new TT(r,i,o)}(f.status,f.json,this.serializer))throw p;if(!f.json)throw new TT("internal","Response is not valid JSON object.");if(void 0===(d=f.json.data)&&(d=f.json.result),void 0===d)throw new TT("internal","Response is missing data field.");return[2,{data:this.serializer.decode(d)}]}}))}))},t}();function NT(t,e){return l(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OT(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new AT(n,r,i,e)}function RT(t){return Array.prototype.slice.call(t)}function DT(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function PT(t,e,n){var r,i=new Promise((function(i,o){DT(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function MT(t,e,n){var r=PT(t,e,n);return r.then((function(t){if(t)return new BT(t,r.request)}))}function LT(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function FT(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return PT(this[e],r,arguments)})}))}function jT(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function VT(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return MT(this[e],r,arguments)})}))}function UT(t){this._index=t}function BT(t,e){this._cursor=t,this._request=e}function HT(t){this._store=t}function zT(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function qT(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new zT(n)}function WT(t){this._db=t}function KT(t,e,n){var r=PT(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new qT(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new WT(t)}))}function GT(t){return PT(indexedDB,"deleteDatabase",[t])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){var e={Functions:AT};t.INTERNAL.registerComponent(new Kc("functions",OT,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(yl),yl.registerVersion("@firebase/functions","0.4.50"),LT(UT,"_index",["name","keyPath","multiEntry","unique"]),FT(UT,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),VT(UT,"_index",IDBIndex,["openCursor","openKeyCursor"]),LT(BT,"_cursor",["direction","key","primaryKey","value"]),FT(BT,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&(BT.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),DT(e._request).then((function(t){if(t)return new BT(t,e._request)}))}))})})),HT.prototype.createIndex=function(){return new UT(this._store.createIndex.apply(this._store,arguments))},HT.prototype.index=function(){return new UT(this._store.index.apply(this._store,arguments))},LT(HT,"_store",["name","keyPath","indexNames","autoIncrement"]),FT(HT,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),VT(HT,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),jT(HT,"_store",IDBObjectStore,["deleteIndex"]),zT.prototype.objectStore=function(){return new HT(this._tx.objectStore.apply(this._tx,arguments))},LT(zT,"_tx",["objectStoreNames","mode"]),jT(zT,"_tx",IDBTransaction,["abort"]),qT.prototype.createObjectStore=function(){return new HT(this._db.createObjectStore.apply(this._db,arguments))},LT(qT,"_db",["name","version","objectStoreNames"]),jT(qT,"_db",IDBDatabase,["deleteObjectStore","close"]),WT.prototype.transaction=function(){return new zT(this._db.transaction.apply(this._db,arguments))},LT(WT,"_db",["name","version","objectStoreNames"]),jT(WT,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[HT,UT].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=RT(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[UT,HT].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var XT,YT=((XT={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',XT["not-registered"]="Firebase Installation is not registered.",XT["installation-not-found"]="Firebase Installation not found.",XT["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',XT["app-offline"]="Could not process request. Application offline.",XT["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",XT),QT=new kc("installations","Installations",YT);function ZT(t){return t instanceof Sc&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JT(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function $T(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function tS(t,e){return l(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,QT.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function eS(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function nS(t,e){var n=e.refreshToken,r=eS(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function rS(t){return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function iS(t,e){var n=e.fid;return l(this,void 0,void 0,(function(){var e,r,i,o,s,a;return h(this,(function(u){switch(u.label){case 0:return e=JT(t),r=eS(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.16"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,rS((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:$T(a.authToken)}];case 3:return[4,tS("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var sS=/^[cdef][\w-]{21}$/;function aS(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,d(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return sS.test(e)?e:""}catch(t){return""}}function uS(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cS=new Map;function lS(t,e){var n=uS(t);hS(n,e),function(t,e){var n=pS();n&&n.postMessage({key:t,fid:e});dS()}(n,e)}function hS(t,e){var n,r,i=cS.get(t);if(i)try{for(var o=f(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var fS=null;function pS(){return!fS&&"BroadcastChannel"in self&&((fS=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){hS(t.data.key,t.data.fid)}),fS}function dS(){0===cS.size&&fS&&(fS.close(),fS=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vS,gS="firebase-installations-store",yS=null;function mS(){return yS||(yS=KT("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(gS)}}))),yS}function bS(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s;return h(this,(function(a){switch(a.label){case 0:return n=uS(t),[4,mS()];case 1:return r=a.sent(),i=r.transaction(gS,"readwrite"),[4,(o=i.objectStore(gS)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||lS(t,e.fid),[2,e]}}))}))}function wS(t){return l(this,void 0,void 0,(function(){var e,n,r;return h(this,(function(i){switch(i.label){case 0:return e=uS(t),[4,mS()];case 1:return n=i.sent(),[4,(r=n.transaction(gS,"readwrite")).objectStore(gS).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function _S(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a;return h(this,(function(u){switch(u.label){case 0:return n=uS(t),[4,mS()];case 1:return r=u.sent(),i=r.transaction(gS,"readwrite"),[4,(o=i.objectStore(gS)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||lS(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES(t){return l(this,void 0,void 0,(function(){var e,n,r;return h(this,(function(i){switch(i.label){case 0:return[4,_S(t,(function(n){var r=function(t){return TS(t||{fid:aS(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(QT.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return l(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,iS(t,e)];case 1:return n=i.sent(),[2,bS(t,n)];case 2:return ZT(r=i.sent())&&409===r.serverCode?[4,wS(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,bS(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:CS(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function CS(t){return l(this,void 0,void 0,(function(){var e,n,r,i;return h(this,(function(o){switch(o.label){case 0:return[4,IS(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,oS(100)];case 3:return o.sent(),[4,IS(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,ES(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function IS(t){return _S(t,(function(t){if(!t)throw QT.create("installation-not-found");return TS(t)}))}function TS(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function SS(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return l(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return h(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return JT(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=nS(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.16"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,rS((function(){return fetch(t,a)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,$T(c)];case 3:return[4,tS("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function kS(t,e){return void 0===e&&(e=!1),l(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return[4,_S(t.appConfig,(function(r){if(!AS(r))throw QT.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return l(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return[4,xS(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,oS(100)];case 3:return i.sent(),[4,xS(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,kS(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw QT.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return c(c({},t),{authToken:e})}(r);return n=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,SS(t,e)];case 1:return n=o.sent(),i=c(c({},e),{authToken:n}),[4,bS(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!ZT(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,wS(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=c(c({},e),{authToken:{requestStatus:0}}),[4,bS(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function xS(t){return _S(t,(function(t){if(!AS(t))throw QT.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?c(c({},t),{authToken:{requestStatus:0}}):t}))}function AS(t){return void 0!==t&&2===t.registrationStatus}function NS(t){return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return[4,ES(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OS(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o;return h(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return JT(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=nS(t,e),i={method:"DELETE",headers:r},[4,rS((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,tS("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function RS(t,e){var n=t.appConfig;return function(t,e){pS();var n=uS(t),r=cS.get(n);r||(r=new Set,cS.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=uS(t),r=cS.get(n);r&&(r.delete(e),0===r.size&&cS.delete(n),dS())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DS(t){return QT.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new Kc("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw DS("App Configuration");if(!t.name)throw DS("App Name");try{for(var r=f(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw DS(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(t){return l(this,void 0,void 0,(function(){var e,n,r;return h(this,(function(i){switch(i.label){case 0:return[4,ES(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):kS(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),l(this,void 0,void 0,(function(){return h(this,(function(n){switch(n.label){case 0:return[4,NS(t.appConfig)];case 1:return n.sent(),[4,kS(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return l(this,void 0,void 0,(function(){var e,n;return h(this,(function(r){switch(r.label){case 0:return[4,_S(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw QT.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw QT.create("app-offline");case 3:return[4,OS(e,n)];case 4:return r.sent(),[4,wS(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return RS(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.16")}(yl);var PS,MS=((vS={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',vS["only-available-in-window"]="This method is available in a Window context.",vS["only-available-in-sw"]="This method is available in a service worker context.",vS["permission-default"]="The notification permission was not granted and dismissed instead.",vS["permission-blocked"]="The notification permission was not granted and blocked instead.",vS["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",vS["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",vS["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",vS["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",vS["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",vS["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",vS["token-update-no-token"]="FCM returned no token when updating the user to push.",vS["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",vS["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",vS["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",vS["invalid-vapid-key"]="The public VAPID key must be a string.",vS["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",vS),LS=new kc("messaging","Messaging",MS),FS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jS(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,d(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function VS(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(PS||(PS={}));function US(t){return l(this,void 0,void 0,(function(){var e,n,r=this;return h(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,KT("fcm_token_details_db",5,(function(e){return l(r,void 0,void 0,(function(){var r,i,o,s;return h(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,r.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:jS(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:jS(o.auth),p256dh:jS(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:jS(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,GT("fcm_token_details_db")];case 4:return i.sent(),[4,GT("fcm_vapid_details_db")];case 5:return i.sent(),[4,GT("undefined")];case 6:return i.sent(),[2,BS(n)?n:null]}}))}))}function BS(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var HS="firebase-messaging-store",zS=null;function qS(){return zS||(zS=KT("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(HS)}}))),zS}function WS(t){return l(this,void 0,void 0,(function(){var e,n,r;return h(this,(function(i){switch(i.label){case 0:return e=XS(t),[4,qS()];case 1:return[4,i.sent().transaction(HS).objectStore(HS).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,US(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,KS(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function KS(t,e){return l(this,void 0,void 0,(function(){var n,r,i;return h(this,(function(o){switch(o.label){case 0:return n=XS(t),[4,qS()];case 1:return r=o.sent(),[4,(i=r.transaction(HS,"readwrite")).objectStore(HS).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function GS(t){return l(this,void 0,void 0,(function(){var e,n,r;return h(this,(function(i){switch(i.label){case 0:return e=XS(t),[4,qS()];case 1:return n=i.sent(),[4,(r=n.transaction(HS,"readwrite")).objectStore(HS).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function XS(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YS(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a;return h(this,(function(u){switch(u.label){case 0:return[4,$S(t)];case 1:n=u.sent(),r=tk(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(JS(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),LS.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,LS.create("token-subscribe-failed",{errorInfo:a});if(!o.token)throw LS.create("token-subscribe-no-token");return[2,o.token]}}))}))}function QS(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s,a;return h(this,(function(u){switch(u.label){case 0:return[4,$S(t)];case 1:n=u.sent(),r=tk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(JS(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),LS.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,LS.create("token-update-failed",{errorInfo:a});if(!o.token)throw LS.create("token-update-no-token");return[2,o.token]}}))}))}function ZS(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o,s;return h(this,(function(a){switch(a.label){case 0:return[4,$S(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(JS(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw o=i.error.message,LS.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=a.sent(),LS.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function JS(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function $S(t){var e=t.appConfig,n=t.installations;return l(this,void 0,void 0,(function(){var t;return h(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function tk(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==FS&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ek(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o,s;return h(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw LS.create("permission-blocked");return[4,ok(e,n)];case 1:return r=a.sent(),[4,WS(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:jS(r.getKey("auth")),p256dh:jS(r.getKey("p256dh"))},i?[3,3]:[2,ik(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,p=c.p256dh===u.p256dh,l&&h&&f&&p)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,ZS(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,ik(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,rk({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,p;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function nk(t,e){return l(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return[4,WS(t)];case 1:return(n=i.sent())?[4,ZS(t,n.token)]:[3,4];case 2:return i.sent(),[4,GS(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function rk(t,e,n){return l(this,void 0,void 0,(function(){var r,i,o;return h(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,QS(e,t)];case 1:return r=s.sent(),i=c(c({},t),{token:r,createTime:Date.now()}),[4,KS(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,nk(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function ik(t,e){return l(this,void 0,void 0,(function(){var n,r;return h(this,(function(i){switch(i.label){case 0:return[4,YS(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,KS(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function ok(t,e){return l(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:VS(e)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function sk(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var uk=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw LS.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return l(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,WS(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:FS,r.label=2;case 2:return[2,ek(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return nk(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw LS.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw LS.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw LS.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw LS.create("only-available-in-window")},t.prototype.onMessage=function(){throw LS.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw LS.create("only-available-in-window")},t.prototype.onPush=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i;return h(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,fk()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,hk(n,e)]:(r=!1,e.notification?[4,pk(ck(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(!e.notification)return;t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){if(!e.data)return;t.data=e.data}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return l(this,void 0,void 0,(function(){var r;return h(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,nk(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,WS(this.firebaseDependencies)];case 3:return r=i.sent(),[4,nk(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,ek(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:FS)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return l(this,void 0,void 0,(function(){var r,i,o;return h(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return sk(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?[4,lk(i)]:[2]):[2];case 1:return(o=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=s.sent(),[4,ak(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=s.sent(),s.label=6;case 6:return o?(r.messageType=PS.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,o.postMessage(r)]):[2]}}))}))},t}();function ck(t){var e,n=c({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function lk(t){return l(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return h(this,(function(u){switch(u.label){case 0:return e=new URL(t,self.location.href),[4,fk()];case 1:n=u.sent();try{for(r=f(n),i=r.next();!i.done;i=r.next())if(o=i.value,new URL(o.url,self.location.href).host===e.host)return[2,o]}catch(t){s={error:t}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}}return[2,null]}}))}))}function hk(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=PS.PUSH_RECEIVED;try{for(var i=f(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function fk(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function pk(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var dk=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return l(this,void 0,void 0,(function(){var e,n;return h(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===PS.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),sk(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw LS.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,ek(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=FS),[2]}))}))},t.prototype.updateSwReg=function(t){return l(this,void 0,void 0,(function(){return h(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw LS.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return l(this,void 0,void 0,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),LS.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,nk(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return l(this,void 0,void 0,(function(){var t;return h(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?LS.create("permission-blocked"):LS.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw LS.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw LS.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw LS.create("invalid-sw-registration");if(this.swRegistration)throw LS.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw LS.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw LS.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return l(this,void 0,void 0,(function(){var n;return h(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case PS.NOTIFICATION_CLICKED:return"notification_open";case PS.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function vk(t){return LS.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gk={isSupported:yk};function yk(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}yl.INTERNAL.registerComponent(new Kc("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw vk("App Configuration Object");if(!t.name)throw vk("App Name");var r=t.options;try{for(var i=f(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw vk(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!yk())throw LS.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new uk(n):new dk(n)}),"PUBLIC").setServiceProps(gk));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mk=function(){function t(t,e){this.code_=Fk(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return Fk(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),bk="unknown",wk="object-not-found",_k="quota-exceeded",Ek="unauthenticated",Ck="unauthorized",Ik="retry-limit-exceeded",Tk="canceled",Sk="invalid-url",kk="invalid-default-bucket",xk="cannot-slice-blob",Ak="server-file-wrong-size",Nk="no-download-url",Ok="invalid-argument",Rk="invalid-argument-count",Dk="app-deleted",Pk="invalid-root-operation",Mk="invalid-format",Lk="internal-error";function Fk(t){return"storage/"+t}function jk(){return new mk(bk,"An unknown error occurred, please check the error payload for server response.")}function Vk(){return new mk(Tk,"User canceled the upload/download.")}function Uk(){return new mk(xk,"Cannot slice blob for upload. Please retry the upload.")}function Bk(){return new mk(Nk,"The given file does not have any download URLs.")}function Hk(t,e,n){return new mk(Ok,"Invalid argument in `"+e+"` at index "+t+": "+n)}function zk(){return new mk(Dk,"The Firebase app was deleted.")}function qk(t,e){return new mk(Mk,"String does not match format '"+t+"': "+e)}function Wk(t){throw new mk(Lk,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Kk={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function Gk(t){switch(t){case Kk.RAW:case Kk.BASE64:case Kk.BASE64URL:case Kk.DATA_URL:return;default:throw"Expected one of the event types: ["+Kk.RAW+", "+Kk.BASE64+", "+Kk.BASE64URL+", "+Kk.DATA_URL+"]."}}var Xk=function(t,e){this.data=t,this.contentType=e||null};function Yk(t,e){switch(t){case Kk.RAW:return new Xk(Qk(e));case Kk.BASE64:case Kk.BASE64URL:return new Xk(Zk(t,e));case Kk.DATA_URL:return new Xk((n=new Jk(e)).base64?Zk(Kk.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw qk(Kk.DATA_URL,"Malformed data URL.")}return Qk(e)}(n.rest),function(t){return new Jk(t).contentType}(e))}var n;throw jk()}function Qk(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function Zk(t,e){switch(t){case Kk.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw qk(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case Kk.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw qk(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw qk(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var Jk=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw qk(Kk.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var $k,tx={STATE_CHANGED:"state_changed"},ex="running",nx="pausing",rx="paused",ix="success",ox="canceling",sx="canceled",ax="error",ux={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function cx(t){switch(t){case ex:case nx:case ox:return ux.RUNNING;case rx:return ux.PAUSED;case ix:return ux.SUCCESS;case sx:return ux.CANCELED;case ax:default:return ux.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t){return null!=t}function hx(t){return void 0!==t}function fx(t){return"function"==typeof t}function px(t){return"object"==typeof t}function dx(t){return px(t)&&null!==t}function vx(t){return"string"==typeof t||t instanceof String}function gx(t){return yx(t)&&Number.isInteger(t)}function yx(t){return"number"==typeof t||t instanceof Number}function mx(t){return bx()&&t instanceof Blob}function bx(){return"undefined"!=typeof Blob}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}($k||($k={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var wx=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=$k.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=$k.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=$k.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw Wk("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),lx(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return lx(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw Wk("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw Wk("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw Wk("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){lx(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){lx(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),_x=function(){function t(){}return t.prototype.createXhrIo=function(){return new wx},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Ex(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Cx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Ex();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(bx())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Ix=function(){function t(t,e){var n=0,r="";mx(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(mx(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(bx()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Cx.apply(null,r))}var i=e.map((function(t){return vx(t)?Yk(Kk.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Tx=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new mk(kk,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.bucket],h=c[u.indices.path];h||(h=""),n=new t(l,h),u.postModify(n);break}}if(null==n)throw function(t){return new mk(Sk,"Invalid URL '"+t+"'.")}(e);return n},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Sx(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return px(t)&&!Array.isArray(t)}(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kx(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function xx(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(t){return"https://firebasestorage.googleapis.com/v0"+t}function Nx(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ox(t,e){return e}var Rx=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||Ox},Dx=null;function Px(){if(Dx)return Dx;var t=[];t.push(new Rx("bucket")),t.push(new Rx("generation")),t.push(new Rx("metageneration")),t.push(new Rx("name","fullPath",!0));var e=new Rx("name");e.xform=function(t,e){return function(t){return!vx(t)||t.length<2?t:xx(t)}(e)},t.push(e);var n=new Rx("size");return n.xform=function(t,e){return lx(e)?Number(e):e},t.push(n),t.push(new Rx("timeCreated")),t.push(new Rx("updated")),t.push(new Rx("md5Hash",null,!0)),t.push(new Rx("cacheControl",null,!0)),t.push(new Rx("contentDisposition",null,!0)),t.push(new Rx("contentEncoding",null,!0)),t.push(new Rx("contentLanguage",null,!0)),t.push(new Rx("contentType",null,!0)),t.push(new Rx("metadata","customMetadata",!0)),Dx=t}function Mx(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new Tx(n,r);return e.makeStorageReference(i)}})}(r,t),r}function Lx(t,e,n){var r=Sx(e);return null===r?null:Mx(t,r,n)}function Fx(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function jx(t){if(!px(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!px(n))throw"Expected object for 'customMetadata' mapping."}else if(dx(n))throw"Mapping for '"+e+"' cannot be an object."}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e,n){var r=Sx(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new Tx(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];a=t.makeStorageReference(new Tx(e,l.name));r.items.push(a)}return r}(t,e,r)}function Ux(t){if(!px(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!gx(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!vx(t.pageToken))throw"Expected pageToken to be string."}}var Bx=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hx(t){if(!t)throw jk()}function zx(t,e){return function(n,r){var i=Lx(t,r,e);return Hx(null!==i),i}}function qx(t,e){return function(n,r){var i=Lx(t,r,e);return Hx(null!==i),function(t,e){var n=Sx(e);if(null===n)return null;if(!vx(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return Ax("/b/"+i(n)+"/o/"+i(r))+Nx({alt:"media",token:e})}))[0]}(i,r)}}function Wx(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new mk(Ek,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new mk(_k,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new mk(Ck,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function Kx(t){var e=Wx(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new mk(wk,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function Gx(t,e,n){var r=Ax(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Bx(r,"GET",zx(t,n),i);return o.errorHandler=Kx(e),o}function Xx(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Ax(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new Bx(s,"GET",function(t,e){return function(n,r){var i=Vx(t,e,r);return Hx(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=Wx(e),u}function Yx(t,e,n){var r=Ax(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new Bx(r,"GET",qx(t,n),i);return o.errorHandler=Kx(e),o}function Qx(t,e,n,r){var i=Ax(e.fullServerUrl()),o=Fx(n,r),s=t.maxOperationRetryTime,a=new Bx(i,"PATCH",zx(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=Kx(e),a}function Zx(t,e){var n=Ax(e.fullServerUrl()),r=t.maxOperationRetryTime;var i=new Bx(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=Kx(e),i}function Jx(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var $x=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function tA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Hx(!1)}return Hx(!!n&&-1!==(e||["active"]).indexOf(n)),n}function eA(t,e,n,r,i,o,s,a){var u=new $x(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new mk(Ak,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw Uk();var v=e.maxUploadRetryTime,g=new Bx(n,"POST",(function(t,n){var i,s=tA(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?zx(e,o)(t,n):null,new $x(a,c,"final"===s,i)}),v);return g.headers=p,g.body=d.uploadData(),g.progressCallback=a||null,g.errorHandler=Wx(t),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nA=function(t,e,n){if(fx(t)||lx(e)||lx(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},rA=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function iA(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s,a,u,c,l,h;if(!(r<=n.length&&n.length<=i))throw s=r,a=i,u=t,c=n.length,s===a?(l=s,h=1===s?"argument":"arguments"):(l="between "+s+" and "+a,h="arguments"),new mk(Rk,"Invalid argument count in `"+u+"`: Expected "+l+" "+h+", received "+c+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?Hk(o,t,e.message):Hk(o,t,e)}}var oA=function(t,e){var n=this;this.validator=function(e){n.optional&&!hx(e)||t(e)},this.optional=!!e};function sA(t,e){function n(t){if(!vx(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new oA(r,e)}function aA(){return new oA((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||bx()&&t instanceof Blob))throw"Expected Blob or File."}))}function uA(t){return new oA(jx,t)}function cA(t){return new oA(Ux,t)}function lA(){return new oA((function(t){if(!(yx(t)&&t>=0))throw"Expected a number 0 or greater."}))}function hA(t,e){return new oA((function(e){if(!(null===e||lx(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function fA(t){return new oA((function(t){if(!(null===t||fx(t)))throw"Expected a Function."}),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pA(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=ex,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(Tk)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(ax))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(Tk)?s.completeTransitions_():(s.error_=t,s.transition_(ax))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===ex&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case ex:t(n);break;case ox:e.transition_(sx);break;case nx:e.transition_(rx)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=Jx(e,r,i),a={name:s.fullPath},u=Ax(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Fx(s,n),h=t.maxUploadRetryTime,f=new Bx(u,"POST",(function(t){var e;tA(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Hx(!1)}return Hx(vx(e)),e}),h);return f.urlParams=a,f.headers=c,f.body=l,f.errorHandler=Wx(e),f}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new Bx(n,"POST",(function(t){var e=tA(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Hx(!1)}n||Hx(!1);var i=Number(n);return Hx(!isNaN(i)),new $x(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=Wx(e),o}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new $x(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=eA(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(ax)}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(ix)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=Gx(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(ix)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=Jx(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Fx(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=Ix.getBlob(c,r,l);if(null===h)throw Uk();var f={name:u.fullPath},p=Ax(o),d=t.maxUploadRetryTime,v=new Bx(p,"POST",zx(t,n),d);return v.urlParams=f,v.headers=s,v.body=h.uploadData(),v.errorHandler=Wx(e),v}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(ix)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case ox:case nx:this.state_=t,null!==this.request_&&this.request_.cancel();break;case ex:var e=this.state_===rx;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case rx:this.state_=t,this.notifyObservers_();break;case sx:this.error_=Vk(),this.state_=t,this.notifyObservers_();break;case ax:case ix:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case nx:this.transition_(rx);break;case ox:this.transition_(sx);break;case ex:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=cx(this.state_);return new rA(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==tx.STATE_CHANGED)throw"Expected one of the event types: ["+tx.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=fA(!0).validator,a=hA(null,!0).validator;function u(t){try{return void s(t)}catch(t){}try{if(a(t),!(hx(t.next)||hx(t.error)||hx(t.complete)))throw"";return}catch(t){throw o}}var c=[sA(i),hA(u,!0),fA(!0),fA(!0)];iA("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&iA("on",t,arguments);var o=new nA(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var p=[hA(f),fA(!0),fA(!0)],d=!(hx(e)||hx(n)||hx(r));return d?h(p):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(cx(this.state_)){case ux.SUCCESS:pA(this.resolve_.bind(null,this.snapshot))();break;case ux.CANCELED:case ux.ERROR:pA(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(cx(this.state_)){case ux.RUNNING:case ux.PAUSED:t.next&&pA(t.next.bind(t,this.snapshot))();break;case ux.SUCCESS:t.complete&&pA(t.complete.bind(t))();break;case ux.CANCELED:case ux.ERROR:t.error&&pA(t.error.bind(t,this.error_))();break;default:t.error&&pA(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){iA("resume",[],arguments);var t=this.state_===rx||this.state_===nx;return t&&this.transition_(ex),t},t.prototype.pause=function(){iA("pause",[],arguments);var t=this.state_===ex;return t&&this.transition_(nx),t},t.prototype.cancel=function(){iA("cancel",[],arguments);var t=this.state_===ex||this.state_===nx;return t&&this.transition_(ox),t},t}(),vA=function(){function t(t,e){this.service=t,this.location=e instanceof Tx?e:Tx.makeFromUrl(e)}return t.prototype.toString=function(){return iA("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Px()},t.prototype.child=function(t){iA("child",[sA()],arguments);var e=kx(this.location.path,t),n=new Tx(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Tx(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Tx(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return xx(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),iA("put",[aA(),uA(!0)],arguments),this.throwIfRoot_("put"),new dA(this,this.service,this.location,this.mappings(),new Ix(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=Kk.RAW),iA("putString",[sA(),sA(Gk,!0),uA(!0)],arguments),this.throwIfRoot_("putString");var r=Yk(e,t),i=Object.assign({},n);return!lx(i.contentType)&&lx(r.contentType)&&(i.contentType=r.contentType),new dA(this,this.service,this.location,this.mappings(),new Ix(r.data,!0),i)},t.prototype.delete=function(){var t=this;return iA("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=Zx(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){iA("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return l(this,void 0,void 0,(function(){var n,r,i,o;return h(this,(function(s){switch(s.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=s.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){iA("list",[cA(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=Xx(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return iA("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=Gx(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return iA("updateMetadata",[uA()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=Qx(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return iA("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=Yx(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw Bk();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new mk(Pk,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),gA=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var yA=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());hx(a)?i(a):i()}catch(t){o(t)}else null!==s?((r=jk()).setServerResponseProp(s.getResponseText()),t.errorCallback_?o(t.errorCallback_(s,r)):o(r)):n.canceled?o(r=t.appDelete_?zk():Vk()):o(r=new mk(Ik,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new mA(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,v([null,t],e));else{var i,h=a()||o;if(h)c.call.apply(c,v([null,t],e));else r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),l(i)}}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(s=2),clearTimeout(i),l(0)):t||(s=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new mA(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===$k.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new mA(s,n))}else{var a=n.getErrorCode()===$k.ABORT;e(!1,new mA(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),mA=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function bA(t,e,n,r){var i=Nx(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){var e=void 0!==yl?yl.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(s),new yA(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wA=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?Tx.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new _A(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:Tx.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return l(this,void 0,void 0,(function(){var t,e;return h(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new vA(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new gA(zk());var r=bA(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(iA("ref",[sA(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new vA(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Tx.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return iA("refFromURL",[sA(e,!1)],arguments),new vA(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){iA("setMaxUploadRetryTime",[lA()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){iA("setMaxOperationRetryTime",[lA()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),_A=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function EA(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new wA(n,r,new _x,e)}!function(t){var e={TaskState:ux,TaskEvent:tx,StringFormat:Kk,Storage:wA,Reference:vA};t.INTERNAL.registerComponent(new Kc("storage",EA,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.42")}(yl);var CA,IA,TA,SA,kA=((CA={})["trace started"]="Trace {$traceName} was started before.",CA["trace stopped"]="Trace {$traceName} is not running.",CA["no window"]="Window is not available.",CA["no app id"]="App id is not available.",CA["no project id"]="Project id is not available.",CA["no api key"]="Api key is not available.",CA["invalid cc log"]="Attempted to queue invalid cc event",CA["FB not default"]="Performance can only start when Firebase app instance is the default one.",CA["RC response not ok"]="RC response is not ok",CA["invalid attribute name"]="Attribute name {$attributeName} is invalid.",CA["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",CA["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",CA["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",CA),xA=new kc("performance","Performance",kA),AA=function(){function t(t){if(this.window=t,!t)throw xA.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===IA&&(IA=new t(TA)),IA},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function NA(t,e){var n=t.length-e.length;if(n<0||n>1)throw xA.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var OA,RA,DA=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=NA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=NA("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw xA.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw xA.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw xA.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===SA&&(SA=new t),SA},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PA(){return OA}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(RA||(RA={}));var MA=["firebase_","google_","ga_"],LA=new RegExp("^[a-zA-Z]\\w*$");function FA(){var t=AA.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function jA(){switch(AA.getInstance().document.visibilityState){case"visible":return RA.VISIBLE;case"hidden":return RA.HIDDEN;default:return RA.UNKNOWN}}function VA(){var t=AA.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var UA=new il("Performance");UA.logLevel=Zc.INFO;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var BA=!0;function HA(t){var e=function(){var t=AA.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(zA(e),Promise.resolve()):function(t){return(e=DA.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+DA.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+DA.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:DA.getInstance().getAppId(),app_version:"0.3.11",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw xA.create("RC response not ok")}))})).catch((function(){UA.info("Could not fetch config, will use default configs")}));var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then(zA).then((function(t){return function(t){var e=AA.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*DA.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function zA(t){if(!t)return t;var e=DA.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=BA,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=qA(e.tracesSamplingRate),e.logNetworkAfterSampling=qA(e.networkRequestsSamplingRate),t}function qA(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var WA,KA=1;function GA(){return KA=2,WA=WA||function(){var t=AA.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=DA.getInstance().installationsService.getId()).then((function(t){OA=t})),t;var t})).then((function(t){return HA(t)})).then((function(){return XA()}),(function(){return XA()}))}function XA(){KA=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var YA,QA=3,ZA=[],JA=!1;function $A(t){setTimeout((function(){if(0!==QA)return ZA.length?void function(){var t=v(ZA);ZA=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=DA.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||UA.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(ZA=v(e,ZA),UA.info("Retry transport request later.")),QA=3,$A(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:DA.getInstance().logSource,log_event:e},t).catch((function(){ZA=v(t,ZA),QA--,UA.info("Tries left: "+QA+"."),$A(1e4)}))}():$A(1e4)}),t)}function tN(t){if(!t.eventTime||!t.message)throw xA.create("invalid cc log");ZA=v(ZA,[t])}function eN(t,e){YA||(YA=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);tN({message:r,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(iN)),YA(t,e)}function nN(t){var e=DA.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&AA.getInstance().requiredApisAvailable()&&(t.isAuto&&jA()!==RA.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===KA?rN(t):GA().then((function(){return rN(t)}),(function(){return rN(t)}))))}function rN(t){PA()&&setTimeout((function(){return eN(t,1)}),0)}function iN(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:oN(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:oN(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function oN(){return{google_app_id:DA.getInstance().getAppId(),app_instance_id:PA(),web_app_info:{sdk_version:"0.3.11",page_url:AA.getInstance().getUrl(),service_worker_status:FA(),visibility_state:jA(),effective_connection_type:VA()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sN=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var aN=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=AA.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw xA.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw xA.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),nN(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=c({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}nN(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&sN.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw xA.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&UA.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&(!MA.some((function(e){return t.startsWith(e)}))&&!!t.match(LA))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw xA.create("invalid attribute name",{attributeName:t});if(!r)throw xA.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return c({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=AA.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*AA.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}nN(o)}},t.createUserTimingTrace=function(e){nN(new t(e,!1,e))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uN(t){var e=t;if(e&&void 0!==e.responseStart){var n=AA.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=DA.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return eN(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cN(){PA()&&(setTimeout((function(){return function(){var t=AA.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){aN.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),aN.createOobTrace(e,n,t))}))}else aN.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=AA.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){uN(r[n])}t.setupObserver("resource",uN)}()}),0),setTimeout((function(){return function(){for(var t=AA.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){lN(r[n])}t.setupObserver("measure",lN)}()}),0))}function lN(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&aN.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var hN=function(){function t(t){this.app=t,AA.getInstance().requiredApisAvailable()?(JA||($A(5500),JA=!0),GA().then(cN,cN)):UA.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new aN(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return DA.getInstance().instrumentationEnabled},set:function(t){DA.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return DA.getInstance().dataCollectionEnabled},set:function(t){DA.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw xA.create("FB not default");if("undefined"==typeof window)throw xA.create("no window");return function(t){TA=t}(window),DA.getInstance().firebaseAppInstance=t,DA.getInstance().installationsService=e,new hN(t)};t.INTERNAL.registerComponent(new Kc("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.3.11")}(yl);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var fN,pN,dN="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(fN||(fN={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(pN||(pN={}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var vN,gN=new il("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yN(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,i){if(n===fN.EVENT){var o=[];if(i&&i.send_to){var s=i.send_to;Array.isArray(s)||(s=[s]);for(var a=0,u=s;a<u.length;a++){var c=u[a],l=e[c];if(!l){o=[];break}o.push(l)}}if(0===o.length)for(var h=0,f=Object.values(e);h<f.length;h++){var p=f[h];o.push(p)}Promise.all(o).then((function(){return t(fN.EVENT,r,i||{})})).catch((function(t){return gN.error(t)}))}else if(n===fN.CONFIG){(e[r]||Promise.resolve()).then((function(){t(fN.CONFIG,r,i)})).catch((function(t){return gN.error(t)}))}else t(fN.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}var mN,bN,wN=((vN={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',vN["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",vN["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",vN["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",vN["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",vN["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",vN["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.",vN["invalid-analytics-context"]="Firebase Analytics is not supported in browser extensions.",vN),_N=new kc("analytics","Analytics",wN),EN={},CN="dataLayer",IN="gtag",TN=!1;function SN(t){if(TN)throw _N.create("already-initialized");t.dataLayerName&&(CN=t.dataLayerName),t.gtagName&&(IN=t.gtagName)}function kN(t,e){if(wc())throw _N.create("invalid-analytics-context");if(!Tc())throw _N.create("cookies-not-enabled");if(!Cc())throw _N.create("indexedDB-unsupported");Ic().catch((function(t){throw _N.create("invalid-indexedDB-context",{errorInfo:t})}));var n=t.options.measurementId;if(!n)throw _N.create("no-ga-id");if(null!=EN[n])throw _N.create("already-exists",{id:n});if(!TN){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(dN))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)()||function(t){var e=document.createElement("script");e.src=dN+"?l="+t,e.async=!0,document.head.appendChild(e)}(CN),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(CN);var r=yN(EN,CN,IN),i=r.wrappedGtag,o=r.gtagCore;bN=i,mN=o,TN=!0}return EN[n]=function(t,e,n){return l(this,void 0,void 0,(function(){var r,i;return h(this,(function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n(fN.CONFIG,t.options.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2]}}))}))}(t,e,mN),{app:t,logEvent:function(t,e,r){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t,e,n,r,i){var o=r||{};i&&i.global||(o=c(c({},r),{send_to:e})),t(fN.EVENT,n,o||{})}(bN,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t(fN.SET,{screen_name:n}):t(fN.CONFIG,e,{update:!0,screen_name:n})}(bN,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t(fN.SET,{user_id:n}):t(fN.CONFIG,e,{update:!0,user_id:n})}(bN,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var i={},o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];i["user_properties."+a]=n[a]}t(fN.SET,i)}else t(fN.CONFIG,e,{update:!0,user_properties:n})}(bN,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}function xN(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:if(wc())return[2,!1];if(!Tc())return[2,!1];if(!Cc())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Ic()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new Kc("analytics",(function(t){return kN(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:SN,EventName:pN,isSupported:xN})),t.INTERNAL.registerComponent(new Kc("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw _N.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.4.2")}(yl);var AN,NN=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i,o;return h(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),ON=((AN={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",AN["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",AN["registration-api-key"]="Undefined API key. Check Firebase app initialization.",AN["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",AN["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",AN["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",AN["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",AN["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",AN["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",AN["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',AN["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',AN["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",AN["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",AN),RN=new kc("remoteconfig","Remote Config",ON);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var DN=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return l(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c,l,f,p,d,v,g,y,m,b,w;return h(this,(function(h){switch(h.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=h.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:s,body:JSON.stringify(a)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),h.label=2;case 2:return h.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return h.sent(),[4,c];case 4:return f=h.sent(),[3,6];case 5:throw p=h.sent(),d="fetch-client-network","AbortError"===p.name&&(d="fetch-timeout"),RN.create(d,{originalErrorMessage:p.message});case 6:if(v=f.status,g=f.headers.get("ETag")||void 0,200!==f.status)return[3,11];b=void 0,h.label=7;case 7:return h.trys.push([7,9,,10]),[4,f.json()];case 8:return b=h.sent(),[3,10];case 9:throw w=h.sent(),RN.create("fetch-client-parse",{originalErrorMessage:w.message});case 10:y=b.entries,m=b.state,h.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===m?v=500:"NO_CHANGE"===m?v=304:"NO_TEMPLATE"!==m&&"EMPTY_CONFIG"!==m||(y={}),304!==v&&200!==v)throw RN.create("fetch-status",{httpStatus:v});return[2,{status:v,eTag:g,config:y}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},t}(),PN=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),MN=["1","true","t","yes","y","on"],LN=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&MN.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),FN=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=Zc.DEBUG;break;case"silent":this._logger.logLevel=Zc.SILENT;break;default:this._logger.logLevel=Zc.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return l(this,void 0,void 0,(function(){var t,e,n;return h(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return l(this,void 0,void 0,(function(){var t,e,n,r=this;return h(this,(function(i){switch(i.label){case 0:t=new PN,setTimeout((function(){return l(r,void 0,void 0,(function(){return h(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof Sc&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return l(this,void 0,void 0,(function(){return h(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(c(c({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new LN("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new LN("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new LN("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jN(t,e){var n=t.target.error||void 0;return RN.create(e,{originalErrorMessage:n&&n.message})}var VN=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(jN(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return l(this,void 0,void 0,(function(){var e,n=this;return h(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(jN(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(RN.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return l(this,void 0,void 0,(function(){var n,r=this;return h(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(jN(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(RN.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return l(this,void 0,void 0,(function(){var e,n=this;return h(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(jN(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(t){i(RN.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),UN=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return l(this,void 0,void 0,(function(){var t,e,n,r,i,o;return h(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){var e=1e3*Math.pow(2,t),n=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HN(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(RN.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var zN,qN=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return l(this,void 0,void 0,(function(){var e;return h(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return l(this,void 0,void 0,(function(){var e,i,o;return h(this,(function(s){switch(s.label){case 0:return[4,HN(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof Sc))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+BN(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),WN="@firebase/remote-config";(zN=yl).INTERNAL.registerComponent(new Kc("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw RN.create("registration-window");var i=n.options,o=i.projectId,s=i.apiKey,a=i.appId;if(!o)throw RN.create("registration-project-id");if(!s)throw RN.create("registration-api-key");if(!a)throw RN.create("registration-app-id");e=e||"firebase";var u=new VN(a,n.name,e),c=new UN(u),l=new il(WN);l.logLevel=Zc.ERROR;var h=new DN(r,zN.SDK_VERSION,e,o,s,a),f=new qN(h,u),p=new NN(f,u,c,l),d=new FN(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),zN.registerVersion(WN,"0.1.27");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
yl.registerVersion("firebase","7.18.0","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),yl.registerVersion("firebase","7.18.0");yl.initializeApp({apiKey:"AIzaSyAPLBplcM9EtF_AKjZztjUwAt9q80vtBlM",authDomain:"chat-kit-d2adf.firebaseapp.com",databaseURL:"https://chat-kit-d2adf.firebaseio.com",projectId:"chat-kit-d2adf",storageBucket:"chat-kit-d2adf.appspot.com",messagingSenderId:"590012450482",appId:"1:590012450482:web:a04c9beeb83f149080abab",measurementId:"G-1RRV3MP58T"});var KN=function(t){var e=function(t){return t<Math.pow(2,10)?t+" b":t<Math.pow(2,20)?Math.round(t/Math.pow(2,10))+" KB":t<25*Math.pow(2,20)&&Math.round(t/Math.pow(2,20))+" MB"}(null==t?void 0:t.size);if(!e)return!1;var n=t.type.split("/")[1],r=yl.storage().ref("/test"+t.name);return{type:n,fileTask:r.put(t),size:e,id:2e4*Math.random()+0,name:t.name,ref:r}},GN=function(t){var e=r.useState(!1),n=e[0],i=e[1],s=t.store,a=oc({onDrop:r.useCallback((function(e){e.forEach((function(e){var n=KN(e);i(!n),n&&t.pushFile((function(t){return v(t,[n])}))})),n&&Bi.uiManagment("showDropZone",!1,s)}),[])}),u=a.getRootProps,l=a.getInputProps,h=a.isDragActive,f=o.useStoreon("styles","settings","languages","managment"),p=f.styles,d=f.settings,g=f.languages,y=f.managment,m=g.get("active"),b=g.getIn(["stack",m,"CKDropAndDown"]),w=b.comment,_=b.errorComment,E=b.divider,C=b.chooseFileButtonTitle,I=b.title,T=y.getIn(["components","CKDropAndDown"]).chooseFile,S=d.get("media"),k=S.svg,x=S.icons,A=p.get("active"),N=t.loserDropZone,O=p.getIn(["stack",A,"CKDropAndDown"]),R=O.mainContainer,D=O.titleContainer,P=O.chooseFileButton,M=O.dividerContainer,L=O.svgContainer,F=O.dropAndDownContainer,j=O.commentContainer,V=n?k.dropZoneError:k.dropZone;return _i("div",c({className:"ckDropAndDown-mainContainer",css:c(c({},R),N)},u()),_i("input",c({},l())),_i("div",{css:F,className:""},_i(V,{style:h?c(c({},L),{opacity:"0.6"}):L,background:R.background})),_i("div",{className:"cKDropAndDown-titleContainer",css:D},I),_i("div",{className:"cKDropAndDown-dividerContainer",css:M},E),_i("button",{css:P},T.withTitle&&C,T.withIcon&&_i(ka,{icon:x.addFileIcon.icon,className:x.addFileIcon.icon,props:x.addFileIcon.props})),_i("div",{className:"cKDropAndDown-commentsContainer",css:j},n?_:w))},XN=function(t){var e=o.useStoreon("settings").settings.getIn(["media","progressLoader"]),n=e.radius,r=e.strokeWidth,i=e.color,s=n-2*r,a=2*s*Math.PI,u=a-t.progress/100*a;return _i("svg",{className:"ckProgressLoader",height:2*n,width:2*n},_i("circle",{stroke:i,fill:"transparent",strokeWidth:r,strokeDasharray:a+" "+a,style:{strokeDashoffset:u},r:s,cx:n,cy:n,css:{transition:"stroke-dashoffset 0.35s",transform:"rotate(-90deg)",transformOrigin:"50% 50%"}}))},YN=function(){return _i("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i("g",{"clip-path":"url(#clip0)"},_i("g",{filter:"url(#filter0_d)"},_i("path",{d:"M15.6368 5.93908L12.0002 9.57563L8.36368 5.93908C7.91745 5.49285 7.19367 5.49285 6.74744 5.93908L5.93932 6.74721C5.49308 7.19344 5.49308 7.91722 5.93932 8.36345L9.57587 12L5.93932 15.6365C5.49308 16.0828 5.49308 16.8066 5.93932 17.2528L6.74744 18.0609C7.19367 18.5072 7.91745 18.5072 8.36368 18.0609L12.0002 14.4244L15.6368 18.0609C16.083 18.5071 16.8068 18.5071 17.253 18.0609L18.0611 17.2528C18.5074 16.8066 18.5074 16.0828 18.0611 15.6365L14.4246 12L18.0611 8.36345C18.5074 7.91722 18.5074 7.19344 18.0611 6.74721L17.253 5.93909C16.8068 5.49285 16.083 5.49285 15.6368 5.93908Z",fill:"white"}))),_i("defs",null,_i("filter",{id:"filter0_d",x:"-1.31348",y:"-1.31372",width:"26.6274",height:"26.6274",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},_i("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),_i("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),_i("feOffset",null),_i("feGaussianBlur",{stdDeviation:"1"}),_i("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),_i("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),_i("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),_i("clipPath",{id:"clip0"},_i("rect",{width:"24",height:"24",fill:"white"}))))};YN.displayName="DeleteFile svg";var QN=function(t){var e=o.useStoreon("styles","settings"),n=e.styles,i=e.settings.get("media").svg,s=t.file,a=t.uploadedFile,u=r.useState(0),c=u[0],f=u[1],p=r.useState(!0),d=p[0],g=p[1],y=r.useRef(!0);d&&s.fileTask.on("state_changed",(function(t){var e=t.bytesTransferred/t.totalBytes*100;f((function(){return e}))}),(function(t){}),(function(){return g((function(){return!1}))}));var m=i[s.type+"File"]?i[s.type+"File"]:i.defaultFile,b=n.get("active"),w=n.getIn(["stack",b,"Sender"]),_=w.fileContainer,E=w.fileImage,C=w.deleteFileButton;return r.useEffect((function(){y.current!=d&&(y.current=d,l(void 0,void 0,void 0,(function(){var e,n;return h(this,(function(r){switch(r.label){case 0:return[4,s.ref.getDownloadURL()];case 1:return e=r.sent(),n={name:s.name,url:e,size:s.size,type:s.type,id:s.id},t.pushFile((function(t){return v(t,[n])})),[2]}}))})))}),[d]),_i("div",{css:_,className:"sender-fileContainer"},d&&_i(XN,{progress:c}),!d&&_i("div",{key:t.file.name,css:C,onClick:function(){s.ref.delete(),t.pushFile((function(t){return t.filter((function(t){return t.id!==s.id}))})),t.updateList((function(t){return t.filter((function(t){return t.id!==s.id}))}))}},_i(YN,{key:t.index})),"jpeg"===s.type||"png"===s.type||"jpg"===s.type?(null==a?void 0:a.url)&&_i(Ra,{sholdBeDownload:!1,imageSrc:null==a?void 0:a.url,style:E}):_i(m,null))};QN.displayName="SenderFile";var ZN=function(t){var e=o.useStoreon("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"Sender"]).filesContainer,i=t.listOfFiles,s=t.updateList,a=t.pushFile,u=t.uploadedFiles;return _i("div",{className:"sender-filesContainer",css:r},i.map((function(t,e){return _i(QN,{index:t.id,file:t,uploadedFile:u[e],key:e,pushFile:a,updateList:s})})))};ZN.displayName="SenderFiles";var JN=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),$N="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,tO="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),eO="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(tO):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var nO=["top","right","bottom","left","width","height","size","weight"],rO="undefined"!=typeof MutationObserver,iO=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){eO(o)}function a(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){$N&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),rO?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){$N&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;nO.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),oO=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},sO=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||tO},aO=pO(0,0,0,0);function uO(t){return parseFloat(t)||0}function cO(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+uO(t["border-"+n+"-width"])}),0)}function lO(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return aO;var r=sO(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=uO(o)}return e}(r),o=i.left+i.right,s=i.top+i.bottom,a=uO(r.width),u=uO(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=cO(r,"left","right")+o),Math.round(u+s)!==n&&(u-=cO(r,"top","bottom")+s)),!function(t){return t===sO(t).document.documentElement}(t)){var c=Math.round(a+o)-e,l=Math.round(u+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(l)&&(u-=l)}return pO(i.left,i.top,a,u)}var hO="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof sO(t).SVGGraphicsElement}:function(t){return t instanceof sO(t).SVGElement&&"function"==typeof t.getBBox};function fO(t){return $N?hO(t)?function(t){var e=t.getBBox();return pO(0,0,e.width,e.height)}(t):lO(t):aO}function pO(t,e,n,r){return{x:t,y:e,width:n,height:r}}var dO=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=pO(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=fO(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),vO=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return oO(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}(e);oO(this,{target:t,contentRect:n})},gO=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new JN,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof sO(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new dO(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof sO(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new vO(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),yO="undefined"!=typeof WeakMap?new WeakMap:new JN,mO=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=iO.getInstance(),r=new gO(e,n,this);yO.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){mO.prototype[t]=function(){var e;return(e=yO.get(this))[t].apply(e,arguments)}}));var bO=void 0!==tO.ResizeObserver?tO.ResizeObserver:mO;function wO(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var _O="object"==typeof global&&global&&global.Object===Object&&global,EO="object"==typeof self&&self&&self.Object===Object&&self,CO=_O||EO||Function("return this")(),IO=function(){return CO.Date.now()},TO=CO.Symbol,SO=Object.prototype,kO=SO.hasOwnProperty,xO=SO.toString,AO=TO?TO.toStringTag:void 0;var NO=Object.prototype.toString;var OO=TO?TO.toStringTag:void 0;function RO(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":OO&&OO in Object(t)?function(t){var e=kO.call(t,AO),n=t[AO];try{t[AO]=void 0;var r=!0}catch(t){}var i=xO.call(t);return r&&(e?t[AO]=n:delete t[AO]),i}(t):function(t){return NO.call(t)}(t)}var DO=/^\s+|\s+$/g,PO=/^[-+]0x[0-9a-f]+$/i,MO=/^0b[01]+$/i,LO=/^0o[0-7]+$/i,FO=parseInt;function jO(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==RO(t)}(t))return NaN;if(wO(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=wO(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(DO,"");var n=MO.test(t);return n||LO.test(t)?FO(t.slice(2),n?2:8):PO.test(t)?NaN:+t}var VO=Math.max,UO=Math.min;function BO(t,e,n){var r,i,o,s,a,u,c=0,l=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,o=i;return r=i=void 0,c=e,s=t.apply(o,n)}function d(t){return c=t,a=setTimeout(g,e),l?p(t):s}function v(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=o}function g(){var t=IO();if(v(t))return y(t);a=setTimeout(g,function(t){var n=e-(t-u);return h?UO(n,o-(t-c)):n}(t))}function y(t){return a=void 0,f&&r?p(t):(r=i=void 0,s)}function m(){var t=IO(),n=v(t);if(r=arguments,i=this,u=t,n){if(void 0===a)return d(u);if(h)return clearTimeout(a),a=setTimeout(g,e),p(u)}return void 0===a&&(a=setTimeout(g,e)),s}return e=jO(e)||0,wO(n)&&(l=!!n.leading,o=(h="maxWait"in n)?VO(jO(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=u=i=a=void 0},m.flush=function(){return void 0===a?s:y(IO())},m}var HO={debounce:BO,throttle:function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return wO(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),BO(t,e,{leading:r,maxWait:e,trailing:i})}},zO=function(t){return"function"==typeof t},qO=function(){return"undefined"==typeof window},WO=function(t){return t instanceof Element||t instanceof HTMLDocument};function KO(t){return(KO="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function GO(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function XO(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function YO(t,e){return(YO=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function QO(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=$O(t);if(e){var i=$O(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return ZO(this,n)}}function ZO(t,e){return!e||"object"!==KO(e)&&"function"!=typeof e?JO(t):e}function JO(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function $O(t){return($O=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function tR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var eR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&YO(t,e)}(u,r.PureComponent);var e,n,o,a=QO(u);function u(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,u),tR(JO(e=a.call(this,t)),"cancelHandler",(function(){e.resizeHandler&&e.resizeHandler.cancel&&(e.resizeHandler.cancel(),e.resizeHandler=null)})),tR(JO(e),"rafClean",(function(){e.raf&&e.raf.cancel&&(e.raf.cancel(),e.raf=null)})),tR(JO(e),"toggleObserver",(function(t){var n=e.getElement();n&&e.resizeObserver[t]&&e.resizeObserver[t](n)})),tR(JO(e),"getElement",(function(){var t=e.props,n=t.querySelector,r=t.targetDomEl;if(!qO()){if(n)return document.querySelector(n);if(r&&WO(r))return r;if(e.targetRef&&WO(e.targetRef.current))return e.targetRef.current;var i=s.findDOMNode(JO(e));if(i)switch(e.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}}})),tR(JO(e),"createUpdater",(function(){return e.rafClean(),e.raf=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=i,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}((function(t){var n=t.width,r=t.height,i=e.props.onResize;zO(i)&&i(n,r),e.setState({width:n,height:r})})),e.raf})),tR(JO(e),"createResizeHandler",(function(t){var n=e.state,r=n.width,i=n.height,o=e.props,s=o.handleWidth,a=o.handleHeight;if(s||a){var u=e.createUpdater();t.forEach((function(t){var n=t&&t.contentRect||{},o=n.width,c=n.height,l=s&&r!==o||a&&i!==c;!e.skipOnMount&&l&&!qO()&&u({width:o,height:c}),e.skipOnMount=!1}))}})),tR(JO(e),"getRenderType",(function(){var t=e.props,n=t.render,i=t.children;return zO(n)?"renderProp":zO(i)?"childFunction":r.isValidElement(i)?"child":Array.isArray(i)?"childArray":"parent"}));var n=t.skipOnMount,i=t.refreshMode,o=t.refreshRate,c=t.refreshOptions;e.state={width:void 0,height:void 0},e.skipOnMount=n,e.raf=null,e.unmounted=!1,e.targetRef=r.createRef();var l=HO[i];return e.resizeHandler=l?l(e.createResizeHandler,o,c):e.createResizeHandler,e.resizeObserver=new bO(e.resizeHandler),e}return e=u,(n=[{key:"componentDidMount",value:function(){var t=this.props.targetRef;t&&t.current&&(this.targetRef.current=t.current),this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){var t=this.props,e=t.render,n=t.children,o=t.nodeType,s=this.state,a={width:s.width,height:s.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return e(a);case"childFunction":return n(a);case"child":if("string"==typeof n.type){var u=GO(a,["targetRef"]);return r.cloneElement(n,u)}return r.cloneElement(n,a);case"childArray":return n.map((function(t){return!!t&&r.cloneElement(t,a)}));default:return i.createElement(o,null)}}}])&&XO(e.prototype,n),o&&XO(e,o),u}();function nR(t){return(nR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function rR(){return(rR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function iR(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function oR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aR(t,e,n){return e&&sR(t.prototype,e),n&&sR(t,n),t}function uR(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&cR(t,e)}function cR(t,e){return(cR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function lR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=pR(t);if(e){var i=pR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return hR(this,n)}}function hR(t,e){return!e||"object"!==nR(e)&&"function"!=typeof e?fR(t):e}function fR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function pR(t){return(pR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function dR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}eR.propTypes={handleWidth:pa.bool,handleHeight:pa.bool,skipOnMount:pa.bool,refreshRate:pa.number,refreshMode:pa.string,refreshOptions:pa.shape({leading:pa.bool,trailing:pa.bool}),querySelector:pa.string,targetDomEl:pa.any,targetRef:pa.oneOfType([pa.func,pa.shape({current:pa.any})]),onResize:pa.func,render:pa.func,children:pa.any,nodeType:pa.node},eR.defaultProps={handleWidth:!0,handleHeight:!0,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,targetRef:null,onResize:null,render:void 0,children:null,nodeType:"div"};var vR=function(t){var e=t.height,n=t.changeSenderHeight,s=t.store,a=r.useState([]),u=a[0],l=a[1],h=0!==u.length?{padding:"47px 0px 56px 0px"}:{},f=r.useState([]),p=f[0],d=f[1],v=o.useStoreon("settings","managment","languages","styles"),g=v.dispatch,y=v.settings,m=v.managment,b=v.languages,w=v.styles,_=m.getIn(["components","Sender"]),E=_.blockInput,C=_.blockSubmit,I=_.audioMessage,T=_.addStickers,S=_.share,k=_.addFile,x=_.send,A=_.showDropZone,N=w.get("active"),O=w.getIn(["stack",N,"Sender"]),R=O.mainContainer,D=O.form,P=O.shareButton,M=O.stickersButton,L=O.voiceButton,F=O.addFileButton,j=O.textArea,V=O.sendMessageButton,U=b.get("active"),B=b.getIn(["stack",U,"Sender"]),H=B.placeholder,z=B.sendButtonTitle,q=B.fileButtonTitle,W=B.stickerButtonTitle,K=B.shareButtonTitle,G=B.voiceButtonTitle,X=y.getIn(["media","icons"]),Y=X.addFileIcon,Q=X.sendMessageIcon,Z=X.addStickersIcon,J=X.voiceIcon,$=X.shareIcon,tt=X.timesIcon,et=r.useRef();return r.useEffect((function(){n((function(){return et.current.clientHeight}))}),[e]),_i(i.Fragment,null,A&&_i(GN,{loserDropZone:h,listOfFiles:u,pushFile:l}),_i("div",{ref:et,className:"sender-main-container",css:R},0!==u.length&&_i(ZN,{uploadedFiles:p,listOfFiles:u,pushFile:d,updateList:l}),k.enabled&&_i(xa,{withIcon:k.withIcon,withTitle:k.withTitle,title:q,type:"button",block:!1,onClick:function(){return Bi.uiManagment("showDropZone",!A,s)},icon:A?tt:Y,style:F,className:"sender-addFileButton"}),_i(wu,{filesCount:p.length,inputPlaceHolder:H,blockSubmit:C,sendButton:c(c({},x),{title:z,icon:Q}),sendMessage:function(t){m.get("common").showRate&&ao.sendRate(4,s),0===p.length&&0!==t.length&&Hi.recieveMessage({text:t,type:"text",sender:"user",showRate:!1},s),1===p.length&&0!==t.length&&Hi.recieveMessage({text:t,type:"text/file",file:p[0],sender:"user",showRate:!1},s),1===p.length&&0===t.length&&Hi.recieveMessage({type:"file",file:p[0],sender:"user",showRate:!1},s),p.length>1&&0!==t.length&&Hi.recieveMessage({text:t,type:"text",sender:"user",showRate:!1},s),p.length>1&&p.map((function(t){return Hi.recieveMessage({file:t,type:"file",sender:"user",showRate:!1},s)})),l((function(){return[]})),d((function(){return[]})),0!==t.length&&ao.sendMessage(t,s)},focusInf:function(){return s?s.dispatch("changeSenderFocusInf"):g("changeSenderFocusInf")},blockInput:E,style:{form:D,sendMessageButton:V,textArea:j}}),T.enabled&&_i(xa,{withIcon:T.withIcon,withTitle:T.withTitle,title:W,type:"button",block:!1,onClick:function(){return console.log("stickers")},icon:Z,style:M,className:"sender-stickersButton"}),I.enabled&&_i(xa,{withIcon:I.withIcon,withTitle:I.withTitle,title:G,type:"button",block:!1,onClick:function(){return console.log("audioMessage")},icon:J,className:"sender-voiceButton",style:L}),S.enabled&&_i(xa,{withIcon:S.withIcon,withTitle:S.withTitle,title:K,type:"button",block:!1,onClick:function(){return console.log("share")},icon:$,style:P,className:"sender-shareButton"})))};vR.displayName="Sender";var gR=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0},n=function(n){uR(s,i.Component);var o=lR(s);function s(){var t;oR(this,s);for(var e=arguments.length,n=new Array(e),i=0;i<e;i++)n[i]=arguments[i];return dR(fR(t=o.call.apply(o,[this].concat(n))),"ref",r.createRef()),t}return aR(s,[{key:"render",value:function(){var n=this.props,r=n.forwardedRef,o=iR(n,["forwardedRef"]),s=r||this.ref;return i.createElement(eR,rR({},e,{targetRef:s}),i.createElement(t,rR({targetRef:s},o)))}}]),s}();function o(t,e){return i.createElement(n,rR({},t,{forwardedRef:e}))}var s=t.displayName||t.name;return o.displayName="withResizeDetector(".concat(s,")"),n.propTypes={forwardedRef:pa.oneOfType([pa.func,pa.shape({current:pa.any})])},n.defaultProps={forwardedRef:void 0},r.forwardRef(o)}(vR),yR=function(t){var e=t.store,n=o.useStoreon("styles","settings","managment","languages"),r=n.styles,i=n.settings,s=n.managment,a=n.languages,u=a.get("active"),l=a.getIn(["stack",u,"Search"]).placeholder,h=r.get("active"),f=i.getIn(["media","icons"]),p=f.searchIcon,d=f.searchDeactivateIcon,v=f.timesIcon,g=r.getIn(["stack",h,"Header"]),y=g.searchButton,m=g.headerSearchContainer,b=g.headerSearchInput,w=g.headerSearchResetButton,_=s.getIn(["components","Header"]).search,E=_.active?{width:"100%"}:{};return _i("div",{className:"sova-header-search-container",css:c(c({},m),E)},_i(xa,{type:"button",block:!1,withIcon:_.withIcon,withTitle:_.withTitle,icon:_.active?d:p,style:y,onClick:function(){Bi.uiManagment("toggleSearchActiveStatus",e),Bi.uiManagment("changeSearchValue","",e)},className:"sova-header-search-icon"}),_.active&&_i("input",{value:_.searchValue,className:"sova-header-search-input",css:b,placeholder:l,onChange:function(t){return n=t.target.value,Bi.uiManagment("changeSearchValue",n,e);var n}}),0!==_.searchValue.length&&_i(xa,{type:"button",block:!1,withIcon:_.withIcon,withTitle:_.withTitle,icon:v,style:w,onClick:function(){return Bi.uiManagment("changeSearchValue","",e)},className:"sova-header-search-icon"}))},mR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resetClick=function(){return Bi.uiManagment("reset",e.props.store)},e.closeWidget=function(){return Bi.uiManagment("openChat",!1,e.props.store)},e.settingsClick=function(){return Bi.uiManagment("showSettings",!0,e.props.store)},e}return u(e,t),e.prototype.render=function(){var t=this.props.managment.getIn(["components","Header"]),e=t.showTitle,n=t.showAvatar,r=t.reset,i=t.settings,o=t.search,s=t.close,a=this.props.languages.get("active"),u=this.props.languages.getIn(["stack",a,"Header"]),c=u.title,l=u.settingsButtonTitle,h=u.resetButtonTitle,f=u.closeButtonTitle,p=this.props.settings.getIn(["media","icons"]),d=p.resetIcon,v=p.settingsIcon,g=p.closeIcon,y=this.props.styles.get("active"),m=this.props.styles.getIn(["stack",y,"Header"]),b=m.mainContainer,w=m.avatarContainer,_=m.image,E=m.titleContainer,C=m.resetButton,I=m.settingsButton,T=m.closeButton;return _i("div",{className:"header-main-container",css:b},n&&!o.active&&_i(Co,{styles:{avatarContainer:w,image:_},className:"header"}),e&&!o.active&&_i("div",{className:"header-title-container",css:E},c),o.enabled&&_i(yR,{store:this.props.store}),r.enabled&&!o.active&&_i(xa,{type:"button",block:!1,withIcon:r.withIcon,withTitle:r.withTitle,title:h,onClick:this.resetClick,icon:d,style:C,className:"header-resetButton"}),i.enabled&&!o.active&&_i(xa,{type:"button",block:!1,withIcon:i.withIcon,withTitle:i.withTitle,title:l,icon:v,onClick:this.settingsClick,style:I,className:"header-settingsButton"}),s.enabled&&!o.active&&_i(xa,{type:"button",block:!1,withIcon:s.withIcon,withTitle:s.withTitle,title:f,onClick:this.closeWidget,icon:g,style:T,className:"header-closeButton"}))},e}(i.PureComponent),bR=o.connectStoreon("settings","managment","languages","styles",mR),wR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return u(e,t),e.prototype.render=function(){var t=this.props.styles;return _i("svg",{css:t,width:"170",height:"170",viewBox:"0 0 170 170",fill:"none",xmlns:"http://www.w3.org/2000/svg"},_i("g",{filter:"url(#filter0_d)"},_i("path",{d:"M120 65C120 74.0114 120 100 120 100C120 100 95.3185 100 85 100C65.67 100 50 84.33 50 65C50 45.67 65.67 30 85 30C104.33 30 120 45.67 120 65Z",fill:t.groupPath.fill||"#386FFE"})),_i("path",{id:"q",css:t.path,d:"M65 53H87",stroke:"white",strokeDasharray:"40",strokeWidth:"5"}),_i("path",{css:t.path,id:"w",d:"M93 53H105",stroke:"white",strokeDasharray:"10",strokeWidth:"5"}),_i("path",{css:t.path,d:"M65 65H95",stroke:"white",strokeDasharray:"50",strokeWidth:"5"}),_i("path",{css:t.path,d:"M65 77H83",stroke:"white",strokeDasharray:"30",strokeWidth:"5"}),_i("path",{css:t.path,d:"M88 77H99",stroke:"white",strokeDasharray:"10",strokeWidth:"5"}),_i("defs",null,_i("filter",{id:"filter0_d",x:"0",y:"0",width:"170",height:"170",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},_i("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),_i("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),_i("feOffset",{dy:"20"}),_i("feGaussianBlur",{stdDeviation:"25"}),_i("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0196078 0 0 0 0 0 0 0 0 0 0.219608 0 0 0 0.3 0"}),_i("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),_i("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))},e}(i.PureComponent),_R=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openChat=function(){return Bi.uiManagment("openChat",!0,e.props.store)},e}return u(e,t),e.prototype.render=function(){var t=this.props.managment.getIn(["components","Badge"]),e=t.showAvatar,n=t.showTitle,r=t.showSVG,i=this.props.languages.get("active"),o=this.props.languages.getIn(["stack",i,"Badge"]).title,s=this.props.styles.get("active"),a=this.props.styles.getIn(["stack",s,"Badge"]),u=a.mainContainer,c=a.avatarContainer,l=a.image,h=a.titleContainer,f=a.svg;return _i("div",{className:"badge-main-container",css:u,onClick:this.openChat},r&&_i(wR,{styles:f}),e&&_i(Co,{styles:{avatarContainer:c,image:l},className:"badge"}),n&&_i("div",{className:"badge-title-container",css:h},o))},e}(i.PureComponent),ER=o.connectStoreon("managment","languages","styles",_R),CR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeChat=function(){return e.props.store?e.props.store.dispatch("openChat",!1):so.dispatch("openChat",!1)},e}return u(e,t),e.prototype.render=function(){var t=this.props.settings.getIn(["media","icons"]).closeIcon,e=this.props.styles.get("active"),n=this.props.styles.getIn(["stack",e,"Close"]).mainContainer;return _i("div",{className:"close-main-container",css:n,onClick:this.closeChat},_i(ka,c({},t)))},e}(i.PureComponent),IR=o.connectStoreon("settings","styles",CR),TR=function(t){var e=t.properties,n=t.onChange,r=t.activePropertiy,o=t.type,s=t.styles,a=s.checkboxContainer,u=s.boxTitle,c=s.checkbox,l=s.switcher,h=Object.entries(e);return _i(i.Fragment,null,h.map((function(t,e){return _i("div",{key:e,className:"settings-"+o+"-checkbox-container",css:a},_i("input",{onChange:n,checked:t[0]===r,type:"checkbox",id:t[0],className:"settings-checkbox",css:c}),_i("label",{htmlFor:t[0],className:"settings-switcher",css:l}),_i("p",{className:"settings-box-title",css:u},t[0]),"themes"===o&&_i("div",{className:t[0]+"-theme-example",css:t[1].example}," "))})))},SR=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeSettings=function(){return Bi.uiManagment("showSettings",null,e.props.store)},e}return u(e,t),e.prototype.render=function(){var t=this.props.managment.getIn(["components","Settings"]).closeSettings,e=this.props.languages.get("active"),n=this.props.languages.getIn(["stack",e,"Settings"]),r=n.title,i=n.closeSettingsButtonTitle,o=this.props.styles.get("active"),s=this.props.styles.getIn(["stack",o,"Settings"]),a=s.closeSettingsButton,u=s.header,c=s.titleContainer,l=this.props.settings.getIn(["media","icons"]).closeSettingsIcon;return _i("div",{className:"settings-header",css:u},t.enabled&&_i(xa,{withIcon:t.withIcon,withTitle:t.withIcon,title:i,type:"button",block:!1,className:"settings-closeSettingsButton",style:a,icon:l,onClick:this.closeSettings}),_i("div",{className:"settings-titleContainer",css:c},r))},e}(i.PureComponent),kR=o.connectStoreon("languages","styles","managment","settings",SR),xR=r.memo((function(t){var e=t.store,n=t.languages.get("active"),r=t.languages.get("stack"),i=t.styles.get("active"),o=t.styles.get("stack"),s=t.languages.getIn(["stack",n,"Settings"]),a=s.headingLanguage,u=s.headingTime,c=s.headingTheme,l=t.styles.getIn(["stack",i,"Settings"]),h=l.mainContainer,f=l.languages,p=l.themes,d=l.languagesCheckboxContainer,v=l.themesCheckboxContainer,g=l.boxTitle,y=l.checkbox,m=l.switcher,b=l.heading,w=l.fieldcontainer,_=t.styles.getIn(["stack",i,"ToggleSlider"]),E=_.toggleContainer,C=_.toggleHeading,I=_.toggleLabel,T=_.toggleInput,S=_.toggleSlider,k=t.managment.getIn(["components","Message"]).showDate;return _i("div",{className:"settings-main-container",css:h},_i(kR,{store:e}),_i("div",{className:"settings-fieldcontainer",css:w},_i("span",{className:"sova-settings_group-heading",css:b},a||"Languages"),_i("div",{className:"settings-languages",css:f},_i(TR,{type:"languages",properties:r,activePropertiy:n,onChange:function(t){var n=t.currentTarget.id;return po.languages("changeLanguage",n,e)},styles:{checkboxContainer:d,boxTitle:g,checkbox:y,switcher:m}})),_i("div",{className:"sova-settings-toggle-container",css:E},_i("span",{className:"sova-settings_group-heading",css:C},u||"Time"),_i("div",null,_i("label",{className:"sova-settings-toggle-label",htmlFor:"sova-settings-toggle",css:I},_i("input",{name:"toggle-time",type:"checkbox",checked:k,onChange:function(){return Bi.uiManagment("toggleDisplayMessageTime",e)},id:"sova-settings-toggle",className:"sova-settings-toggle-input",css:T}),_i("div",{className:"sova-settings-toggle-slider",css:S})))),_i("span",{className:"sova-settings_group-heading",css:b},c||"Themes"),_i("div",{className:"settings-themes",css:p},_i(TR,{type:"themes",properties:o,activePropertiy:i,onChange:function(t){var n=t.currentTarget.id;return bo.styles("switchTheme",n,e)},styles:{checkboxContainer:v,boxTitle:g,checkbox:y,switcher:m}}))))}));xR.displayName="Settings";var AR=o.connectStoreon("languages","styles","managment",xR),NR=function(t){var e=t.store,n=o.useStoreon("settings","managment","languages","styles"),i=n.settings,s=n.managment,a=n.languages,u=n.styles,l=s.getIn(["components","Sender"]).addFile,h=s.getIn(["components","Header"]).search,f=u.get("active"),p=u.getIn(["stack",f,"Sender"]),d=p.mainContainer,v=p.mainContainerSearch,g=p.searchButtonContainer,y=p.searchCountContainer,m=p.switchingActiveButton,b=p.switchingDisableButton,w=a.get("active"),_=a.getIn(["stack",w,"Sender"]).fileButtonTitle,E=a.getIn(["stack",w,"Search"]),C=E.divider,I=E.status,T=i.getIn(["media","icons"]),S=T.chevronUpIcon,k=T.chevronDownIcon;r.useEffect((function(){Bi.uiManagment("scrollToFoundMessage",h.found.size-1,e)}),[h.found.size]);var x=0===h.found.size?I:h.found.size-h.foundMessage+" "+C+" "+h.found.size,A=h.found.size-h.foundMessage<h.found.size?{}:b,N=h.found.size-h.foundMessage>1?{}:b;return _i("div",{className:"sender-search-container",css:c(c({},d),v)},_i("div",{className:"sender-search-position-container",css:y},h.searchValue&&x),_i("div",{className:"sender-search-button-container",css:g},_i(xa,{withIcon:l.withIcon,withTitle:l.withTitle,title:_,type:"button",block:!1,onClick:function(){0!==h.foundMessage&&Bi.uiManagment("scrollToFoundMessage",h.foundMessage-1,e)},icon:S,style:c(c({},m),A),className:"sender-search-button-up"}),_i(xa,{withIcon:l.withIcon,withTitle:l.withTitle,title:_,type:"button",block:!1,onClick:function(){h.foundMessage!==h.found.size-1&&Bi.uiManagment("scrollToFoundMessage",h.foundMessage+1,e)},icon:k,style:c(c({},m),N),className:"sender-search-button-down"})))};NR.displayName="SenderSearch";var OR=function(t){var e=r.useRef(null),n=t.store;return r.useEffect((function(){var t;null===(t=e.current)||void 0===t||t.addEventListener("dragenter",(function(){Bi.uiManagment("showDropZone",!0,n)}))}),[e]),_i("div",{ref:e},t.children)},RR=r.memo((function(t){var e=o.useStoreon("managment","styles"),n=e.managment,s=e.styles,a=s.get("active"),u=t.store,c=s.getIn(["stack",a,"ChatIt"]),l=c.mainContainer,h=c.chatContainer,f=n.get("common"),p=f.chatIsOpen,d=f.showSettings,v=n.getIn(["components","Sender"]).showDropZone,g=n.getIn(["components","ChatIt"]),y=g.SenderEnabled,m=g.DialogEnabled,b=g.CloseEnabled,w=g.BadgeEnabled,_=g.HeaderEnabled,E=g.SettingsEnabled,C=s.getIn(["stack",a,"Header","mainContainer","height"]),I=s.getIn(["stack",a,"Sender","mainContainer","minHeight"]),T=r.useState(Number(I.split("px")[0])),S=T[0],k=T[1],x=n.getIn(["components","Header"]).search,A=function(t,e,n){var r=Number(e.split("px")[0]);return Number(n.split("px")[0])-(r+t+1)+"px"}(S,C,h.height);return _i("div",{className:"chatIt-main-container",css:l},b&&p&&_i(IR,{store:u}),p?_i("div",{className:"chatIt-chat-container",css:h},d?E&&_i(AR,{store:u}):_i(i.Fragment,null,_&&_i(bR,{store:u}),_i(OR,{store:u},m&&!v&&_i(mu,{store:u,height:A}),y&&x.active?_i(NR,{store:u}):_i(gR,{store:u,changeSenderHeight:k})))):w&&_i(ER,{store:u}))}));RR.displayName="ChatIt";var DR=_o(RR),PR=_o(cu),MR=_o(bR),LR={ChatIt:DR,Dialog:_o(mu),Sender:_o(gR),Header:MR,Badge:_o(ER),CKScrollBar:PR},FR={messages:Ji,modules:$i,settings:to,styles:eo,notifications:no,managment:ro,languages:io,clientConfig:oo};exports.CkComponents=LR,exports.ckAPIMethods=wo,exports.ckStore=so,exports.ckStoreModules=FR;
//# sourceMappingURL=index.js.map

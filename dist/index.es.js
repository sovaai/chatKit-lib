import{createStoreon as t}from"storeon";import{storeonDevtools as e}from"storeon/devtools";import n,{createContext as r,createElement as i,Fragment as o,forwardRef as s,Component as a,PureComponent as u,createRef as c,useRef as l,useState as h,useEffect as f,useImperativeHandle as p,useReducer as d,useCallback as v,useMemo as g,cloneElement as y,isValidElement as m,memo as b}from"react";import{StoreContext as w,connectStoreon as _,useStoreon as E}from"storeon/react";import{findDOMNode as C}from"react-dom";
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var I=function(t,e){return(I=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function T(t,e){function n(){this.constructor=t}I(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var S=function(){return(S=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function k(t,e,n,r){return new(n||(n=Promise))((function(i,o){function s(t){try{u(r.next(t))}catch(t){o(t)}}function a(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){var e;t.done?i(t.value):(e=t.value,e instanceof n?e:new n((function(t){t(e)}))).then(s,a)}u((r=r.apply(t,e||[])).next())}))}function x(t,e){var n,r,i,o,s={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,r=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(i=s.trys,(i=i.length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){s.label=o[1];break}if(6===o[0]&&s.label<i[1]){s.label=i[1],i=o;break}if(i&&s.label<i[2]){s.label=i[2],s.ops.push(o);break}i[2]&&s.ops.pop(),s.trys.pop();continue}o=e.call(t,s)}catch(t){o=[6,t],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}function A(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function N(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)s.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return s}function O(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(N(arguments[e]));return t}function R(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}var D={};function P(t){t&&(t.value=!0)}function M(){}function L(t){return void 0===t.size&&(t.size=t.__iterate(j)),t.size}function F(t,e){if("number"!=typeof e){var n=e>>>0;if(""+n!==e||4294967295===n)return NaN;e=n}return e<0?L(t)+e:e}function j(){return!0}function V(t,e,n){return(0===t&&!z(t)||void 0!==n&&t<=-n)&&(void 0===e||void 0!==n&&e>=n)}function U(t,e){return H(t,e,0)}function B(t,e){return H(t,e,e)}function H(t,e,n){return void 0===t?n:z(t)?e===1/0?e:0|Math.max(0,e+t):void 0===e||e===t?t:0|Math.min(e,t)}function z(t){return t<0||0===t&&1/t==-1/0}function q(t){return Boolean(t&&t["@@__IMMUTABLE_ITERABLE__@@"])}function W(t){return Boolean(t&&t["@@__IMMUTABLE_KEYED__@@"])}function K(t){return Boolean(t&&t["@@__IMMUTABLE_INDEXED__@@"])}function G(t){return W(t)||K(t)}var X=function(t){return q(t)?t:dt(t)},Y=function(t){function e(t){return W(t)?t:vt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(X),Q=function(t){function e(t){return K(t)?t:gt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(X),Z=function(t){function e(t){return q(t)&&!G(t)?t:yt(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(X);X.Keyed=Y,X.Indexed=Q,X.Set=Z;function J(t){return Boolean(t&&t["@@__IMMUTABLE_SEQ__@@"])}function $(t){return Boolean(t&&t["@@__IMMUTABLE_RECORD__@@"])}function tt(t){return q(t)||$(t)}var et="@@__IMMUTABLE_ORDERED__@@";function nt(t){return Boolean(t&&t[et])}var rt="function"==typeof Symbol&&Symbol.iterator,it=rt||"@@iterator",ot=function(t){this.next=t};function st(t,e,n,r){var i=0===t?e:1===t?n:[e,n];return r?r.value=i:r={value:i,done:!1},r}function at(){return{value:void 0,done:!0}}function ut(t){return!!ht(t)}function ct(t){return t&&"function"==typeof t.next}function lt(t){var e=ht(t);return e&&e.call(t)}function ht(t){var e=t&&(rt&&t[rt]||t["@@iterator"]);if("function"==typeof e)return e}ot.prototype.toString=function(){return"[Iterator]"},ot.KEYS=0,ot.VALUES=1,ot.ENTRIES=2,ot.prototype.inspect=ot.prototype.toSource=function(){return this.toString()},ot.prototype[it]=function(){return this};var ft=Object.prototype.hasOwnProperty;function pt(t){return!(!Array.isArray(t)&&"string"!=typeof t)||t&&"object"==typeof t&&Number.isInteger(t.length)&&t.length>=0&&(0===t.length?1===Object.keys(t).length:t.hasOwnProperty(t.length-1))}var dt=function(t){function e(t){return null==t?Et():tt(t)?t.toSeq():function(t){var e=Tt(t);if(e)return e;if("object"==typeof t)return new bt(t);throw new TypeError("Expected Array or collection object of values, or keyed object: "+t)}(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq {","}")},e.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},e.prototype.__iterate=function(t,e){var n=this._cache;if(n){for(var r=n.length,i=0;i!==r;){var o=n[e?r-++i:i++];if(!1===t(o[1],o[0],this))break}return i}return this.__iterateUncached(t,e)},e.prototype.__iterator=function(t,e){var n=this._cache;if(n){var r=n.length,i=0;return new ot((function(){if(i===r)return{value:void 0,done:!0};var o=n[e?r-++i:i++];return st(t,o[0],o[1])}))}return this.__iteratorUncached(t,e)},e}(X),vt=function(t){function e(t){return null==t?Et().toKeyedSeq():q(t)?W(t)?t.toSeq():t.fromEntrySeq():$(t)?t.toSeq():Ct(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toKeyedSeq=function(){return this},e}(dt),gt=function(t){function e(t){return null==t?Et():q(t)?W(t)?t.entrySeq():t.toIndexedSeq():$(t)?t.toSeq().entrySeq():It(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toIndexedSeq=function(){return this},e.prototype.toString=function(){return this.__toString("Seq [","]")},e}(dt),yt=function(t){function e(t){return(q(t)&&!G(t)?t:gt(t)).toSetSeq()}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return e(arguments)},e.prototype.toSetSeq=function(){return this},e}(dt);dt.isSeq=J,dt.Keyed=vt,dt.Set=yt,dt.Indexed=gt,dt.prototype["@@__IMMUTABLE_SEQ__@@"]=!0;var mt=function(t){function e(t){this._array=t,this.size=t.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this.has(t)?this._array[F(this,t)]:e},e.prototype.__iterate=function(t,e){for(var n=this._array,r=n.length,i=0;i!==r;){var o=e?r-++i:i++;if(!1===t(n[o],o,this))break}return i},e.prototype.__iterator=function(t,e){var n=this._array,r=n.length,i=0;return new ot((function(){if(i===r)return{value:void 0,done:!0};var o=e?r-++i:i++;return st(t,o,n[o])}))},e}(gt),bt=function(t){function e(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},e.prototype.has=function(t){return ft.call(this._object,t)},e.prototype.__iterate=function(t,e){for(var n=this._object,r=this._keys,i=r.length,o=0;o!==i;){var s=r[e?i-++o:o++];if(!1===t(n[s],s,this))break}return o},e.prototype.__iterator=function(t,e){var n=this._object,r=this._keys,i=r.length,o=0;return new ot((function(){if(o===i)return{value:void 0,done:!0};var s=r[e?i-++o:o++];return st(t,s,n[s])}))},e}(vt);bt.prototype[et]=!0;var wt,_t=function(t){function e(t){this._collection=t,this.size=t.length||t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var n=lt(this._collection),r=0;if(ct(n))for(var i;!(i=n.next()).done&&!1!==t(i.value,r++,this););return r},e.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var n=lt(this._collection);if(!ct(n))return new ot(at);var r=0;return new ot((function(){var e=n.next();return e.done?e:st(t,r++,e.value)}))},e}(gt);function Et(){return wt||(wt=new mt([]))}function Ct(t){var e=Array.isArray(t)?new mt(t):ut(t)?new _t(t):void 0;if(e)return e.fromEntrySeq();if("object"==typeof t)return new bt(t);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+t)}function It(t){var e=Tt(t);if(e)return e;throw new TypeError("Expected Array or collection object of values: "+t)}function Tt(t){return pt(t)?new mt(t):ut(t)?new _t(t):void 0}function St(t){return Boolean(t&&t["@@__IMMUTABLE_MAP__@@"])}function kt(t){return St(t)&&nt(t)}function xt(t){return Boolean(t&&"function"==typeof t.equals&&"function"==typeof t.hashCode)}function At(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!!(xt(t)&&xt(e)&&t.equals(e))}var Nt="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var n=65535&(t|=0),r=65535&(e|=0);return n*r+((t>>>16)*r+n*(e>>>16)<<16>>>0)|0};function Ot(t){return t>>>1&1073741824|3221225471&t}var Rt=Object.prototype.valueOf;function Dt(t){switch(typeof t){case"boolean":return t?1108378657:1108378656;case"number":return function(t){if(t!=t||t===1/0)return 0;var e=0|t;e!==t&&(e^=4294967295*t);for(;t>4294967295;)e^=t/=4294967295;return Ot(e)}(t);case"string":return t.length>Bt?function(t){var e=qt[t];void 0===e&&(e=Pt(t),zt===Ht&&(zt=0,qt={}),zt++,qt[t]=e);return e}(t):Pt(t);case"object":case"function":return null===t?1108378658:"function"==typeof t.hashCode?Ot(t.hashCode(t)):(t.valueOf!==Rt&&"function"==typeof t.valueOf&&(t=t.valueOf(t)),function(t){var e;if(jt&&void 0!==(e=Ft.get(t)))return e;if(void 0!==(e=t[Ut]))return e;if(!Lt){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[Ut]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++Vt,1073741824&Vt&&(Vt=0);if(jt)Ft.set(t,e);else{if(void 0!==Mt&&!1===Mt(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Lt)Object.defineProperty(t,Ut,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[Ut]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[Ut]=e}}return e}(t));case"undefined":return 1108378659;default:if("function"==typeof t.toString)return Pt(t.toString());throw new Error("Value type "+typeof t+" cannot be hashed.")}}function Pt(t){for(var e=0,n=0;n<t.length;n++)e=31*e+t.charCodeAt(n)|0;return Ot(e)}var Mt=Object.isExtensible,Lt=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}();var Ft,jt="function"==typeof WeakMap;jt&&(Ft=new WeakMap);var Vt=0,Ut="__immutablehash__";"function"==typeof Symbol&&(Ut=Symbol(Ut));var Bt=16,Ht=255,zt=0,qt={},Wt=function(t){function e(t,e){this._iter=t,this._useKeys=e,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.get=function(t,e){return this._iter.get(t,e)},e.prototype.has=function(t){return this._iter.has(t)},e.prototype.valueSeq=function(){return this._iter.valueSeq()},e.prototype.reverse=function(){var t=this,e=Zt(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},e.prototype.map=function(t,e){var n=this,r=Qt(this,t,e);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(t,e)}),r},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e,r){return t(e,r,n)}),e)},e.prototype.__iterator=function(t,e){return this._iter.__iterator(t,e)},e}(vt);Wt.prototype[et]=!0;var Kt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.includes=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this,r=0;return e&&L(this),this._iter.__iterate((function(i){return t(i,e?n.size-++r:r++,n)}),e)},e.prototype.__iterator=function(t,e){var n=this,r=this._iter.__iterator(1,e),i=0;return e&&L(this),new ot((function(){var o=r.next();return o.done?o:st(t,e?n.size-++i:i++,o.value,o)}))},e}(gt),Gt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.has=function(t){return this._iter.includes(t)},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new ot((function(){var e=n.next();return e.done?e:st(t,e.value,e.value,e)}))},e}(yt),Xt=function(t){function e(t){this._iter=t,this.size=t.size}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.entrySeq=function(){return this._iter.toSeq()},e.prototype.__iterate=function(t,e){var n=this;return this._iter.__iterate((function(e){if(e){ue(e);var r=q(e);return t(r?e.get(1):e[1],r?e.get(0):e[0],n)}}),e)},e.prototype.__iterator=function(t,e){var n=this._iter.__iterator(1,e);return new ot((function(){for(;;){var e=n.next();if(e.done)return e;var r=e.value;if(r){ue(r);var i=q(r);return st(t,i?r.get(0):r[0],i?r.get(1):r[1],e)}}}))},e}(vt);function Yt(t){var e=le(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=he,e.__iterateUncached=function(e,n){var r=this;return t.__iterate((function(t,n){return!1!==e(n,t,r)}),n)},e.__iteratorUncached=function(e,n){if(2===e){var r=t.__iterator(e,n);return new ot((function(){var t=r.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t}))}return t.__iterator(1===e?0:1,n)},e}function Qt(t,e,n){var r=le(t);return r.size=t.size,r.has=function(e){return t.has(e)},r.get=function(r,i){var o=t.get(r,D);return o===D?i:e.call(n,o,r,t)},r.__iterateUncached=function(r,i){var o=this;return t.__iterate((function(t,i,s){return!1!==r(e.call(n,t,i,s),i,o)}),i)},r.__iteratorUncached=function(r,i){var o=t.__iterator(2,i);return new ot((function(){var i=o.next();if(i.done)return i;var s=i.value,a=s[0];return st(r,a,e.call(n,s[1],a,t),i)}))},r}function Zt(t,e){var n=this,r=le(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Yt(t);return e.reverse=function(){return t.flip()},e}),r.get=function(n,r){return t.get(e?n:-1-n,r)},r.has=function(n){return t.has(e?n:-1-n)},r.includes=function(e){return t.includes(e)},r.cacheResult=he,r.__iterate=function(n,r){var i=this,o=0;return r&&L(t),t.__iterate((function(t,s){return n(t,e?s:r?i.size-++o:o++,i)}),!r)},r.__iterator=function(r,i){var o=0;i&&L(t);var s=t.__iterator(2,!i);return new ot((function(){var t=s.next();if(t.done)return t;var a=t.value;return st(r,e?a[0]:i?n.size-++o:o++,a[1],t)}))},r}function Jt(t,e,n,r){var i=le(t);return r&&(i.has=function(r){var i=t.get(r,D);return i!==D&&!!e.call(n,i,r,t)},i.get=function(r,i){var o=t.get(r,D);return o!==D&&e.call(n,o,r,t)?o:i}),i.__iterateUncached=function(i,o){var s=this,a=0;return t.__iterate((function(t,o,u){if(e.call(n,t,o,u))return a++,i(t,r?o:a-1,s)}),o),a},i.__iteratorUncached=function(i,o){var s=t.__iterator(2,o),a=0;return new ot((function(){for(;;){var o=s.next();if(o.done)return o;var u=o.value,c=u[0],l=u[1];if(e.call(n,l,c,t))return st(i,r?c:a++,l,o)}}))},i}function $t(t,e,n,r){var i=t.size;if(V(e,n,i))return t;var o=U(e,i),s=B(n,i);if(o!=o||s!=s)return $t(t.toSeq().cacheResult(),e,n,r);var a,u=s-o;u==u&&(a=u<0?0:u);var c=le(t);return c.size=0===a?a:t.size&&a||void 0,!r&&J(t)&&a>=0&&(c.get=function(e,n){return(e=F(this,e))>=0&&e<a?t.get(e+o,n):n}),c.__iterateUncached=function(e,n){var i=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(e,n);var s=0,u=!0,c=0;return t.__iterate((function(t,n){if(!u||!(u=s++<o))return c++,!1!==e(t,r?n:c-1,i)&&c!==a})),c},c.__iteratorUncached=function(e,n){if(0!==a&&n)return this.cacheResult().__iterator(e,n);if(0===a)return new ot(at);var i=t.__iterator(e,n),s=0,u=0;return new ot((function(){for(;s++<o;)i.next();if(++u>a)return{value:void 0,done:!0};var t=i.next();return r||1===e||t.done?t:st(e,u-1,0===e?void 0:t.value[1],t)}))},c}function te(t,e,n,r){var i=le(t);return i.__iterateUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterate(i,o);var a=!0,u=0;return t.__iterate((function(t,o,c){if(!a||!(a=e.call(n,t,o,c)))return u++,i(t,r?o:u-1,s)})),u},i.__iteratorUncached=function(i,o){var s=this;if(o)return this.cacheResult().__iterator(i,o);var a=t.__iterator(2,o),u=!0,c=0;return new ot((function(){var t,o,l;do{if((t=a.next()).done)return r||1===i?t:st(i,c++,0===i?void 0:t.value[1],t);var h=t.value;o=h[0],l=h[1],u&&(u=e.call(n,l,o,s))}while(u);return 2===i?t:st(i,o,l,t)}))},i}function ee(t,e){var n=W(t),r=[t].concat(e).map((function(t){return q(t)?n&&(t=Y(t)):t=n?Ct(t):It(Array.isArray(t)?t:[t]),t})).filter((function(t){return 0!==t.size}));if(0===r.length)return t;if(1===r.length){var i=r[0];if(i===t||n&&W(i)||K(t)&&K(i))return i}var o=new mt(r);return n?o=o.toKeyedSeq():K(t)||(o=o.toSetSeq()),(o=o.flatten(!0)).size=r.reduce((function(t,e){if(void 0!==t){var n=e.size;if(void 0!==n)return t+n}}),0),o}function ne(t,e,n){var r=le(t);return r.__iterateUncached=function(i,o){if(o)return this.cacheResult().__iterate(i,o);var s=0,a=!1;return function t(u,c){u.__iterate((function(o,u){return(!e||c<e)&&q(o)?t(o,c+1):(s++,!1===i(o,n?u:s-1,r)&&(a=!0)),!a}),o)}(t,0),s},r.__iteratorUncached=function(r,i){if(i)return this.cacheResult().__iterator(r,i);var o=t.__iterator(r,i),s=[],a=0;return new ot((function(){for(;o;){var t=o.next();if(!1===t.done){var u=t.value;if(2===r&&(u=u[1]),e&&!(s.length<e)||!q(u))return n?t:st(r,a++,u,t);s.push(o),o=u.__iterator(r,i)}else o=s.pop()}return{value:void 0,done:!0}}))},r}function re(t,e,n){e||(e=fe);var r=W(t),i=0,o=t.toSeq().map((function(e,r){return[r,e,i++,n?n(e,r,t):e]})).valueSeq().toArray();return o.sort((function(t,n){return e(t[3],n[3])||t[2]-n[2]})).forEach(r?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),r?vt(o):K(t)?gt(o):yt(o)}function ie(t,e,n){if(e||(e=fe),n){var r=t.toSeq().map((function(e,r){return[e,n(e,r,t)]})).reduce((function(t,n){return oe(e,t[1],n[1])?n:t}));return r&&r[0]}return t.reduce((function(t,n){return oe(e,t,n)?n:t}))}function oe(t,e,n){var r=t(n,e);return 0===r&&n!==e&&(null==n||n!=n)||r>0}function se(t,e,n,r){var i=le(t),o=new mt(n).map((function(t){return t.size}));return i.size=r?o.max():o.min(),i.__iterate=function(t,e){for(var n,r=this.__iterator(1,e),i=0;!(n=r.next()).done&&!1!==t(n.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map((function(t){return t=X(t),lt(i?t.reverse():t)})),s=0,a=!1;return new ot((function(){var n;return a||(n=o.map((function(t){return t.next()})),a=r?n.every((function(t){return t.done})):n.some((function(t){return t.done}))),a?{value:void 0,done:!0}:st(t,s++,e.apply(null,n.map((function(t){return t.value}))))}))},i}function ae(t,e){return t===e?t:J(t)?e:t.constructor(e)}function ue(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function ce(t){return W(t)?Y:K(t)?Q:Z}function le(t){return Object.create((W(t)?vt:K(t)?gt:yt).prototype)}function he(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):dt.prototype.cacheResult.call(this)}function fe(t,e){return void 0===t&&void 0===e?0:void 0===t?1:void 0===e?-1:t>e?1:t<e?-1:0}function pe(t,e){e=e||0;for(var n=Math.max(0,t.length-e),r=new Array(n),i=0;i<n;i++)r[i]=t[i+e];return r}function de(t,e){if(!t)throw new Error(e)}function ve(t){de(t!==1/0,"Cannot perform this action with an infinite size.")}function ge(t){if(pt(t)&&"string"!=typeof t)return t;if(nt(t))return t.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+t)}function ye(t){return"object"==typeof t&&(tt(t)||Array.isArray(t)||function(t){return t&&("function"!=typeof t.constructor||"Object"===t.constructor.name)}(t))}function me(t){try{return"string"==typeof t?JSON.stringify(t):String(t)}catch(e){return JSON.stringify(t)}}function be(t,e,n){return tt(t)?t.get(e,n):function(t,e){return tt(t)?t.has(e):ye(t)&&ft.call(t,e)}(t,e)?"function"==typeof t.get?t.get(e):t[e]:n}function we(t){if(Array.isArray(t))return pe(t);var e={};for(var n in t)ft.call(t,n)&&(e[n]=t[n]);return e}function _e(t,e,n,r){r||(r=n,n=void 0);var i=function t(e,n,r,i,o,s){var a=n===D;if(i===r.length){var u=a?o:n,c=s(u);return c===u?n:c}if(!a&&!ye(n))throw new TypeError("Cannot update within non-data-structure value in path ["+r.slice(0,i).map(me)+"]: "+n);var l=r[i],h=a?D:be(n,l,D),f=t(h===D?e:tt(h),h,r,i+1,o,s);return f===h?n:f===D?function(t,e){if(!ye(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(tt(t)){if(!t.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+t);return t.remove(e)}if(!ft.call(t,e))return t;var n=we(t);return Array.isArray(n)?n.splice(e,1):delete n[e],n}(n,l):function(t,e,n){if(!ye(t))throw new TypeError("Cannot update non-data-structure value: "+t);if(tt(t)){if(!t.set)throw new TypeError("Cannot update immutable value without .set() method: "+t);return t.set(e,n)}if(ft.call(t,e)&&n===t[e])return t;var r=we(t);return r[e]=n,r}(a?e?Je():{}:n,l,f)}(tt(t),t,ge(e),0,n,r);return i===D?n:i}function Ee(t,e){return function(t,e,n){return _e(t,e,D,(function(){return n}))}(this,t,e)}function Ce(t){return function(t,e){return _e(t,e,(function(){return D}))}(this,t)}function Ie(t,e,n,r){return _e(t,[e],n,r)}function Te(t,e,n){return 1===arguments.length?t(this):Ie(this,t,e,n)}function Se(t,e,n){return _e(this,t,e,n)}function ke(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ae(this,t)}function xe(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];if("function"!=typeof t)throw new TypeError("Invalid merger function: "+t);return Ae(this,e,t)}function Ae(t,e,n){for(var r=[],i=0;i<e.length;i++){var o=Y(e[i]);0!==o.size&&r.push(o)}return 0===r.length?t:0!==t.toSeq().size||t.__ownerID||1!==r.length?t.withMutations((function(t){for(var e=n?function(e,r){Ie(t,r,D,(function(t){return t===D?e:n(t,e,r)}))}:function(e,n){t.set(n,e)},i=0;i<r.length;i++)r[i].forEach(e)})):t.constructor(r[0])}function Ne(t,e,n){return Oe(t,e,function(t){return function e(n,r,i){return ye(n)&&ye(r)?Oe(n,[r],e):t?t(n,r,i):r}}(n))}function Oe(t,e,n){if(!ye(t))throw new TypeError("Cannot merge into non-data-structure value: "+t);if(tt(t))return"function"==typeof n&&t.mergeWith?t.mergeWith.apply(t,[n].concat(e)):t.merge?t.merge.apply(t,e):t.concat.apply(t,e);for(var r=Array.isArray(t),i=t,o=r?Q:Y,s=r?function(e){i===t&&(i=we(i)),i.push(e)}:function(e,r){var o=ft.call(i,r),s=o&&n?n(i[r],e,r):e;o&&s===i[r]||(i===t&&(i=we(i)),i[r]=s)},a=0;a<e.length;a++)o(e[a]).forEach(s);return i}function Re(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Ne(this,t)}function De(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return Ne(this,e,t)}function Pe(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return _e(this,t,Je(),(function(t){return Oe(t,e)}))}function Me(t){for(var e=[],n=arguments.length-1;n-- >0;)e[n]=arguments[n+1];return _e(this,t,Je(),(function(t){return Ne(t,e)}))}function Le(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this}function Fe(){return this.__ownerID?this:this.__ensureOwner(new M)}function je(){return this.__ensureOwner()}function Ve(){return this.__altered}Kt.prototype.cacheResult=Wt.prototype.cacheResult=Gt.prototype.cacheResult=Xt.prototype.cacheResult=he;var Ue=function(t){function e(e){return null==e?Je():St(e)&&!nt(e)?e:Je().withMutations((function(n){var r=t(e);ve(r.size),r.forEach((function(t,e){return n.set(e,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return Je().withMutations((function(e){for(var n=0;n<t.length;n+=2){if(n+1>=t.length)throw new Error("Missing value for key: "+t[n]);e.set(t[n],t[n+1])}}))},e.prototype.toString=function(){return this.__toString("Map {","}")},e.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},e.prototype.set=function(t,e){return $e(this,t,e)},e.prototype.remove=function(t){return $e(this,t,D)},e.prototype.deleteAll=function(t){var e=X(t);return 0===e.size?this:this.withMutations((function(t){e.forEach((function(e){return t.remove(e)}))}))},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Je()},e.prototype.sort=function(t){return In(re(this,t))},e.prototype.sortBy=function(t,e){return In(re(this,e,t))},e.prototype.map=function(t,e){return this.withMutations((function(n){n.forEach((function(r,i){n.set(i,t.call(e,r,i,n))}))}))},e.prototype.__iterator=function(t,e){return new Xe(this,t,e)},e.prototype.__iterate=function(t,e){var n=this,r=0;return this._root&&this._root.iterate((function(e){return r++,t(e[1],e[0],n)}),e),r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Ze(this.size,this._root,t,this.__hash):0===this.size?Je():(this.__ownerID=t,this.__altered=!1,this)},e}(Y);Ue.isMap=St;var Be=Ue.prototype;Be["@@__IMMUTABLE_MAP__@@"]=!0,Be.delete=Be.remove,Be.removeAll=Be.deleteAll,Be.setIn=Ee,Be.removeIn=Be.deleteIn=Ce,Be.update=Te,Be.updateIn=Se,Be.merge=Be.concat=ke,Be.mergeWith=xe,Be.mergeDeep=Re,Be.mergeDeepWith=De,Be.mergeIn=Pe,Be.mergeDeepIn=Me,Be.withMutations=Le,Be.wasAltered=Ve,Be.asImmutable=je,Be["@@transducer/init"]=Be.asMutable=Fe,Be["@@transducer/step"]=function(t,e){return t.set(e[0],e[1])},Be["@@transducer/result"]=function(t){return t.asImmutable()};var He=function(t,e){this.ownerID=t,this.entries=e};He.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(At(n,i[o][0]))return i[o][1];return r},He.prototype.update=function(t,e,n,r,i,o,s){for(var a=i===D,u=this.entries,c=0,l=u.length;c<l&&!At(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:a)return this;if(P(s),(a||!h)&&P(o),!a||1!==u.length){if(!h&&!a&&u.length>=sn)return function(t,e,n,r){t||(t=new M);for(var i=new Ke(t,Dt(n),[n,r]),o=0;o<e.length;o++){var s=e[o];i=i.update(t,0,void 0,s[0],s[1])}return i}(t,u,r,i);var f=t&&t===this.ownerID,p=f?u:pe(u);return h?a?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),f?(this.entries=p,this):new He(t,p)}};var ze=function(t,e,n){this.ownerID=t,this.bitmap=e,this.nodes=n};ze.prototype.get=function(t,e,n,r){void 0===e&&(e=Dt(n));var i=1<<(31&(0===t?e:e>>>t)),o=this.bitmap;return 0==(o&i)?r:this.nodes[rn(o&i-1)].get(t+5,e,n,r)},ze.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=Dt(r));var a=31&(0===e?n:n>>>e),u=1<<a,c=this.bitmap,l=0!=(c&u);if(!l&&i===D)return this;var h=rn(c&u-1),f=this.nodes,p=l?f[h]:void 0,d=tn(p,t,e+5,n,r,i,o,s);if(d===p)return this;if(!l&&d&&f.length>=an)return function(t,e,n,r,i){for(var o=0,s=new Array(32),a=0;0!==n;a++,n>>>=1)s[a]=1&n?e[o++]:void 0;return s[r]=i,new qe(t,o+1,s)}(t,f,c,a,d);if(l&&!d&&2===f.length&&en(f[1^h]))return f[1^h];if(l&&d&&1===f.length&&en(d))return d;var v=t&&t===this.ownerID,g=l?d?c:c^u:c|u,y=l?d?on(f,h,d,v):function(t,e,n){var r=t.length-1;if(n&&e===r)return t.pop(),t;for(var i=new Array(r),o=0,s=0;s<r;s++)s===e&&(o=1),i[s]=t[s+o];return i}(f,h,v):function(t,e,n,r){var i=t.length+1;if(r&&e+1===i)return t[e]=n,t;for(var o=new Array(i),s=0,a=0;a<i;a++)a===e?(o[a]=n,s=-1):o[a]=t[a+s];return o}(f,h,d,v);return v?(this.bitmap=g,this.nodes=y,this):new ze(t,g,y)};var qe=function(t,e,n){this.ownerID=t,this.count=e,this.nodes=n};qe.prototype.get=function(t,e,n,r){void 0===e&&(e=Dt(n));var i=31&(0===t?e:e>>>t),o=this.nodes[i];return o?o.get(t+5,e,n,r):r},qe.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=Dt(r));var a=31&(0===e?n:n>>>e),u=i===D,c=this.nodes,l=c[a];if(u&&!l)return this;var h=tn(l,t,e+5,n,r,i,o,s);if(h===l)return this;var f=this.count;if(l){if(!h&&--f<un)return function(t,e,n,r){for(var i=0,o=0,s=new Array(n),a=0,u=1,c=e.length;a<c;a++,u<<=1){var l=e[a];void 0!==l&&a!==r&&(i|=u,s[o++]=l)}return new ze(t,i,s)}(t,c,f,a)}else f++;var p=t&&t===this.ownerID,d=on(c,a,h,p);return p?(this.count=f,this.nodes=d,this):new qe(t,f,d)};var We=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entries=n};We.prototype.get=function(t,e,n,r){for(var i=this.entries,o=0,s=i.length;o<s;o++)if(At(n,i[o][0]))return i[o][1];return r},We.prototype.update=function(t,e,n,r,i,o,s){void 0===n&&(n=Dt(r));var a=i===D;if(n!==this.keyHash)return a?this:(P(s),P(o),nn(this,t,e,n,[r,i]));for(var u=this.entries,c=0,l=u.length;c<l&&!At(r,u[c][0]);c++);var h=c<l;if(h?u[c][1]===i:a)return this;if(P(s),(a||!h)&&P(o),a&&2===l)return new Ke(t,this.keyHash,u[1^c]);var f=t&&t===this.ownerID,p=f?u:pe(u);return h?a?c===l-1?p.pop():p[c]=p.pop():p[c]=[r,i]:p.push([r,i]),f?(this.entries=p,this):new We(t,this.keyHash,p)};var Ke=function(t,e,n){this.ownerID=t,this.keyHash=e,this.entry=n};Ke.prototype.get=function(t,e,n,r){return At(n,this.entry[0])?this.entry[1]:r},Ke.prototype.update=function(t,e,n,r,i,o,s){var a=i===D,u=At(r,this.entry[0]);return(u?i===this.entry[1]:a)?this:(P(s),a?void P(o):u?t&&t===this.ownerID?(this.entry[1]=i,this):new Ke(t,this.keyHash,[r,i]):(P(o),nn(this,t,e,Dt(r),[r,i])))},He.prototype.iterate=We.prototype.iterate=function(t,e){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(!1===t(n[e?i-r:r]))return!1},ze.prototype.iterate=qe.prototype.iterate=function(t,e){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[e?i-r:r];if(o&&!1===o.iterate(t,e))return!1}},Ke.prototype.iterate=function(t,e){return t(this.entry)};var Ge,Xe=function(t){function e(t,e,n){this._type=e,this._reverse=n,this._stack=t._root&&Qe(t._root)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var n=e.node,r=e.index++,i=void 0;if(n.entry){if(0===r)return Ye(t,n.entry)}else if(n.entries){if(r<=(i=n.entries.length-1))return Ye(t,n.entries[this._reverse?i-r:r])}else if(r<=(i=n.nodes.length-1)){var o=n.nodes[this._reverse?i-r:r];if(o){if(o.entry)return Ye(t,o.entry);e=this._stack=Qe(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}},e}(ot);function Ye(t,e){return st(t,e[0],e[1])}function Qe(t,e){return{node:t,index:0,__prev:e}}function Ze(t,e,n,r){var i=Object.create(Be);return i.size=t,i._root=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Je(){return Ge||(Ge=Ze(0))}function $e(t,e,n){var r,i;if(t._root){var o={value:!1},s={value:!1};if(r=tn(t._root,t.__ownerID,0,void 0,e,n,o,s),!s.value)return t;i=t.size+(o.value?n===D?-1:1:0)}else{if(n===D)return t;i=1,r=new He(t.__ownerID,[[e,n]])}return t.__ownerID?(t.size=i,t._root=r,t.__hash=void 0,t.__altered=!0,t):r?Ze(i,r):Je()}function tn(t,e,n,r,i,o,s,a){return t?t.update(e,n,r,i,o,s,a):o===D?t:(P(a),P(s),new Ke(e,r,[i,o]))}function en(t){return t.constructor===Ke||t.constructor===We}function nn(t,e,n,r,i){if(t.keyHash===r)return new We(e,r,[t.entry,i]);var o,s=31&(0===n?t.keyHash:t.keyHash>>>n),a=31&(0===n?r:r>>>n),u=s===a?[nn(t,e,n+5,r,i)]:(o=new Ke(e,r,i),s<a?[t,o]:[o,t]);return new ze(e,1<<s|1<<a,u)}function rn(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function on(t,e,n,r){var i=r?t:pe(t);return i[e]=n,i}var sn=8,an=16,un=8;function cn(t){return Boolean(t&&t["@@__IMMUTABLE_LIST__@@"])}var ln=function(t){function e(e){var n=yn();if(null==e)return n;if(cn(e))return e;var r=t(e),i=r.size;return 0===i?n:(ve(i),i>0&&i<32?gn(0,i,5,null,new fn(r.toArray())):n.withMutations((function(t){t.setSize(i),r.forEach((function(e,n){return t.set(n,e)}))})))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("List [","]")},e.prototype.get=function(t,e){if((t=F(this,t))>=0&&t<this.size){var n=wn(this,t+=this._origin);return n&&n.array[31&t]}return e},e.prototype.set=function(t,e){return function(t,e,n){if((e=F(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations((function(t){e<0?_n(t,e).set(0,n):_n(t,0,e+1).set(e,n)}));e+=t._origin;var r=t._tail,i=t._root,o={value:!1};e>=En(t._capacity)?r=mn(r,t.__ownerID,0,e,n,o):i=mn(i,t.__ownerID,t._level,e,n,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=r,t.__hash=void 0,t.__altered=!0,t;return gn(t._origin,t._capacity,t._level,i,r)}(this,t,e)},e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},e.prototype.insert=function(t,e){return this.splice(t,0,e)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):yn()},e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations((function(n){_n(n,0,e+t.length);for(var r=0;r<t.length;r++)n.set(e+r,t[r])}))},e.prototype.pop=function(){return _n(this,0,-1)},e.prototype.unshift=function(){var t=arguments;return this.withMutations((function(e){_n(e,-t.length);for(var n=0;n<t.length;n++)e.set(n,t[n])}))},e.prototype.shift=function(){return _n(this,1)},e.prototype.concat=function(){for(var e=arguments,n=[],r=0;r<arguments.length;r++){var i=e[r],o=t("string"!=typeof i&&ut(i)?i:[i]);0!==o.size&&n.push(o)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations((function(t){n.forEach((function(e){return e.forEach((function(e){return t.push(e)}))}))})):this.constructor(n[0])},e.prototype.setSize=function(t){return _n(this,0,t)},e.prototype.map=function(t,e){var n=this;return this.withMutations((function(r){for(var i=0;i<n.size;i++)r.set(i,t.call(e,r.get(i),i,r))}))},e.prototype.slice=function(t,e){var n=this.size;return V(t,e,n)?this:_n(this,U(t,n),B(e,n))},e.prototype.__iterator=function(t,e){var n=e?this.size:0,r=vn(this,e);return new ot((function(){var i=r();return i===dn?{value:void 0,done:!0}:st(t,e?--n:n++,i)}))},e.prototype.__iterate=function(t,e){for(var n,r=e?this.size:0,i=vn(this,e);(n=i())!==dn&&!1!==t(n,e?--r:r++,this););return r},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?gn(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):0===this.size?yn():(this.__ownerID=t,this.__altered=!1,this)},e}(Q);ln.isList=cn;var hn=ln.prototype;hn["@@__IMMUTABLE_LIST__@@"]=!0,hn.delete=hn.remove,hn.merge=hn.concat,hn.setIn=Ee,hn.deleteIn=hn.removeIn=Ce,hn.update=Te,hn.updateIn=Se,hn.mergeIn=Pe,hn.mergeDeepIn=Me,hn.withMutations=Le,hn.wasAltered=Ve,hn.asImmutable=je,hn["@@transducer/init"]=hn.asMutable=Fe,hn["@@transducer/step"]=function(t,e){return t.push(e)},hn["@@transducer/result"]=function(t){return t.asImmutable()};var fn=function(t,e){this.array=t,this.ownerID=e};fn.prototype.removeBefore=function(t,e,n){if(n===e?1<<e:0===this.array.length)return this;var r=n>>>e&31;if(r>=this.array.length)return new fn([],t);var i,o=0===r;if(e>0){var s=this.array[r];if((i=s&&s.removeBefore(t,e-5,n))===s&&o)return this}if(o&&!i)return this;var a=bn(this,t);if(!o)for(var u=0;u<r;u++)a.array[u]=void 0;return i&&(a.array[r]=i),a},fn.prototype.removeAfter=function(t,e,n){if(n===(e?1<<e:0)||0===this.array.length)return this;var r,i=n-1>>>e&31;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((r=o&&o.removeAfter(t,e-5,n))===o&&i===this.array.length-1)return this}var s=bn(this,t);return s.array.splice(i+1),r&&(s.array[i]=r),s};var pn,dn={};function vn(t,e){var n=t._origin,r=t._capacity,i=En(r),o=t._tail;return s(t._root,t._level,0);function s(t,a,u){return 0===a?function(t,s){var a=s===i?o&&o.array:t&&t.array,u=s>n?0:n-s,c=r-s;c>32&&(c=32);return function(){if(u===c)return dn;var t=e?--c:u++;return a&&a[t]}}(t,u):function(t,i,o){var a,u=t&&t.array,c=o>n?0:n-o>>i,l=1+(r-o>>i);l>32&&(l=32);return function(){for(;;){if(a){var t=a();if(t!==dn)return t;a=null}if(c===l)return dn;var n=e?--l:c++;a=s(u&&u[n],i-5,o+(n<<i))}}}(t,a,u)}}function gn(t,e,n,r,i,o,s){var a=Object.create(hn);return a.size=e-t,a._origin=t,a._capacity=e,a._level=n,a._root=r,a._tail=i,a.__ownerID=o,a.__hash=s,a.__altered=!1,a}function yn(){return pn||(pn=gn(0,0,5))}function mn(t,e,n,r,i,o){var s,a=r>>>n&31,u=t&&a<t.array.length;if(!u&&void 0===i)return t;if(n>0){var c=t&&t.array[a],l=mn(c,e,n-5,r,i,o);return l===c?t:((s=bn(t,e)).array[a]=l,s)}return u&&t.array[a]===i?t:(o&&P(o),s=bn(t,e),void 0===i&&a===s.array.length-1?s.array.pop():s.array[a]=i,s)}function bn(t,e){return e&&t&&e===t.ownerID?t:new fn(t?t.array.slice():[],e)}function wn(t,e){if(e>=En(t._capacity))return t._tail;if(e<1<<t._level+5){for(var n=t._root,r=t._level;n&&r>0;)n=n.array[e>>>r&31],r-=5;return n}}function _n(t,e,n){void 0!==e&&(e|=0),void 0!==n&&(n|=0);var r=t.__ownerID||new M,i=t._origin,o=t._capacity,s=i+e,a=void 0===n?o:n<0?o+n:i+n;if(s===i&&a===o)return t;if(s>=a)return t.clear();for(var u=t._level,c=t._root,l=0;s+l<0;)c=new fn(c&&c.array.length?[void 0,c]:[],r),l+=1<<(u+=5);l&&(s+=l,i+=l,a+=l,o+=l);for(var h=En(o),f=En(a);f>=1<<u+5;)c=new fn(c&&c.array.length?[c]:[],r),u+=5;var p=t._tail,d=f<h?wn(t,a-1):f>h?new fn([],r):p;if(p&&f>h&&s<o&&p.array.length){for(var v=c=bn(c,r),g=u;g>5;g-=5){var y=h>>>g&31;v=v.array[y]=bn(v.array[y],r)}v.array[h>>>5&31]=p}if(a<o&&(d=d&&d.removeAfter(r,0,a)),s>=f)s-=f,a-=f,u=5,c=null,d=d&&d.removeBefore(r,0,s);else if(s>i||f<h){for(l=0;c;){var m=s>>>u&31;if(m!==f>>>u&31)break;m&&(l+=(1<<u)*m),u-=5,c=c.array[m]}c&&s>i&&(c=c.removeBefore(r,u,s-l)),c&&f<h&&(c=c.removeAfter(r,u,f-l)),l&&(s-=l,a-=l)}return t.__ownerID?(t.size=a-s,t._origin=s,t._capacity=a,t._level=u,t._root=c,t._tail=d,t.__hash=void 0,t.__altered=!0,t):gn(s,a,u,c,d)}function En(t){return t<32?0:t-1>>>5<<5}var Cn,In=function(t){function e(t){return null==t?Sn():kt(t)?t:Sn().withMutations((function(e){var n=Y(t);ve(n.size),n.forEach((function(t,n){return e.set(n,t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},e.prototype.get=function(t,e){var n=this._map.get(t);return void 0!==n?this._list.get(n)[1]:e},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Sn()},e.prototype.set=function(t,e){return kn(this,t,e)},e.prototype.remove=function(t){return kn(this,t,D)},e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._list.__iterate((function(e){return e&&t(e[1],e[0],n)}),e)},e.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),n=this._list.__ensureOwner(t);return t?Tn(e,n,t,this.__hash):0===this.size?Sn():(this.__ownerID=t,this._map=e,this._list=n,this)},e}(Ue);function Tn(t,e,n,r){var i=Object.create(In.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=n,i.__hash=r,i}function Sn(){return Cn||(Cn=Tn(Je(),yn()))}function kn(t,e,n){var r,i,o=t._map,s=t._list,a=o.get(e),u=void 0!==a;if(n===D){if(!u)return t;s.size>=32&&s.size>=2*o.size?(r=(i=s.filter((function(t,e){return void 0!==t&&a!==e}))).toKeyedSeq().map((function(t){return t[0]})).flip().toMap(),t.__ownerID&&(r.__ownerID=i.__ownerID=t.__ownerID)):(r=o.remove(e),i=a===s.size-1?s.pop():s.set(a,void 0))}else if(u){if(n===s.get(a)[1])return t;r=o,i=s.set(a,[e,n])}else r=o.set(e,s.size),i=s.set(s.size,[e,n]);return t.__ownerID?(t.size=r.size,t._map=r,t._list=i,t.__hash=void 0,t):Tn(r,i)}In.isOrderedMap=kt,In.prototype[et]=!0,In.prototype.delete=In.prototype.remove;function xn(t){return Boolean(t&&t["@@__IMMUTABLE_STACK__@@"])}var An=function(t){function e(t){return null==t?Dn():xn(t)?t:Dn().pushAll(t)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.prototype.toString=function(){return this.__toString("Stack [","]")},e.prototype.get=function(t,e){var n=this._head;for(t=F(this,t);n&&t--;)n=n.next;return n?n.value:e},e.prototype.peek=function(){return this._head&&this._head.value},e.prototype.push=function(){var t=arguments;if(0===arguments.length)return this;for(var e=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:t[r],next:n};return this.__ownerID?(this.size=e,this._head=n,this.__hash=void 0,this.__altered=!0,this):Rn(e,n)},e.prototype.pushAll=function(e){if(0===(e=t(e)).size)return this;if(0===this.size&&xn(e))return e;ve(e.size);var n=this.size,r=this._head;return e.__iterate((function(t){n++,r={value:t,next:r}}),!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):Rn(n,r)},e.prototype.pop=function(){return this.slice(1)},e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Dn()},e.prototype.slice=function(e,n){if(V(e,n,this.size))return this;var r=U(e,this.size);if(B(n,this.size)!==this.size)return t.prototype.slice.call(this,e,n);for(var i=this.size-r,o=this._head;r--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):Rn(i,o)},e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Rn(this.size,this._head,t,this.__hash):0===this.size?Dn():(this.__ownerID=t,this.__altered=!1,this)},e.prototype.__iterate=function(t,e){var n=this;if(e)return new mt(this.toArray()).__iterate((function(e,r){return t(e,r,n)}),e);for(var r=0,i=this._head;i&&!1!==t(i.value,r++,this);)i=i.next;return r},e.prototype.__iterator=function(t,e){if(e)return new mt(this.toArray()).__iterator(t,e);var n=0,r=this._head;return new ot((function(){if(r){var e=r.value;return r=r.next,st(t,n++,e)}return{value:void 0,done:!0}}))},e}(Q);An.isStack=xn;var Nn,On=An.prototype;function Rn(t,e,n,r){var i=Object.create(On);return i.size=t,i._head=e,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Dn(){return Nn||(Nn=Rn(0))}On["@@__IMMUTABLE_STACK__@@"]=!0,On.shift=On.pop,On.unshift=On.push,On.unshiftAll=On.pushAll,On.withMutations=Le,On.wasAltered=Ve,On.asImmutable=je,On["@@transducer/init"]=On.asMutable=Fe,On["@@transducer/step"]=function(t,e){return t.unshift(e)},On["@@transducer/result"]=function(t){return t.asImmutable()};function Pn(t){return Boolean(t&&t["@@__IMMUTABLE_SET__@@"])}function Mn(t){return Pn(t)&&nt(t)}function Ln(t,e){if(t===e)return!0;if(!q(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||W(t)!==W(e)||K(t)!==K(e)||nt(t)!==nt(e))return!1;if(0===t.size&&0===e.size)return!0;var n=!G(t);if(nt(t)){var r=t.entries();return e.every((function(t,e){var i=r.next().value;return i&&At(i[1],t)&&(n||At(i[0],e))}))&&r.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var s=!0,a=e.__iterate((function(e,r){if(n?!t.has(e):i?!At(e,t.get(r,D)):!At(t.get(r,D),e))return s=!1,!1}));return s&&t.size===a}function Fn(t,e){var n=function(n){t.prototype[n]=e[n]};return Object.keys(e).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(n),t}function jn(t){if(!t||"object"!=typeof t)return t;if(!q(t)){if(!ye(t))return t;t=dt(t)}if(W(t)){var e={};return t.__iterate((function(t,n){e[n]=jn(t)})),e}var n=[];return t.__iterate((function(t){n.push(jn(t))})),n}var Vn=function(t){function e(e){return null==e?qn():Pn(e)&&!nt(e)?e:qn().withMutations((function(n){var r=t(e);ve(r.size),r.forEach((function(t){return n.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(Y(t).keySeq())},e.intersect=function(t){return(t=X(t).toArray()).length?Bn.intersect.apply(e(t.pop()),t):qn()},e.union=function(t){return(t=X(t).toArray()).length?Bn.union.apply(e(t.pop()),t):qn()},e.prototype.toString=function(){return this.__toString("Set {","}")},e.prototype.has=function(t){return this._map.has(t)},e.prototype.add=function(t){return Hn(this,this._map.set(t,t))},e.prototype.remove=function(t){return Hn(this,this._map.remove(t))},e.prototype.clear=function(){return Hn(this,this._map.clear())},e.prototype.map=function(t,e){var n=this,r=[],i=[];return this.forEach((function(o){var s=t.call(e,o,o,n);s!==o&&(r.push(o),i.push(s))})),this.withMutations((function(t){r.forEach((function(e){return t.remove(e)})),i.forEach((function(e){return t.add(e)}))}))},e.prototype.union=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];return 0===(e=e.filter((function(t){return 0!==t.size}))).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations((function(n){for(var r=0;r<e.length;r++)t(e[r]).forEach((function(t){return n.add(t)}))})):this.constructor(e[0])},e.prototype.intersect=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.every((function(e){return e.includes(t)}))||r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.subtract=function(){for(var e=[],n=arguments.length;n--;)e[n]=arguments[n];if(0===e.length)return this;e=e.map((function(e){return t(e)}));var r=[];return this.forEach((function(t){e.some((function(e){return e.includes(t)}))&&r.push(t)})),this.withMutations((function(t){r.forEach((function(e){t.remove(e)}))}))},e.prototype.sort=function(t){return ar(re(this,t))},e.prototype.sortBy=function(t,e){return ar(re(this,e,t))},e.prototype.wasAltered=function(){return this._map.wasAltered()},e.prototype.__iterate=function(t,e){var n=this;return this._map.__iterate((function(e){return t(e,e,n)}),e)},e.prototype.__iterator=function(t,e){return this._map.__iterator(t,e)},e.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):0===this.size?this.__empty():(this.__ownerID=t,this._map=e,this)},e}(Z);Vn.isSet=Pn;var Un,Bn=Vn.prototype;function Hn(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function zn(t,e){var n=Object.create(Bn);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function qn(){return Un||(Un=zn(Je()))}Bn["@@__IMMUTABLE_SET__@@"]=!0,Bn.delete=Bn.remove,Bn.merge=Bn.concat=Bn.union,Bn.withMutations=Le,Bn.asImmutable=je,Bn["@@transducer/init"]=Bn.asMutable=Fe,Bn["@@transducer/step"]=function(t,e){return t.add(e)},Bn["@@transducer/result"]=function(t){return t.asImmutable()},Bn.__empty=qn,Bn.__make=zn;var Wn,Kn=function(t){function e(t,n,r){if(!(this instanceof e))return new e(t,n,r);if(de(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<t&&(r=-r),this._start=t,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-t)/r-1)+1),0===this.size){if(Wn)return Wn;Wn=this}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},e.prototype.get=function(t,e){return this.has(t)?this._start+F(this,t)*this._step:e},e.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},e.prototype.slice=function(t,n){return V(t,n,this.size)?this:(t=U(t,this.size),(n=B(n,this.size))<=t?new e(0,0):new e(this.get(t,this._end),this.get(n,this._end),this._step))},e.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var n=e/this._step;if(n>=0&&n<this.size)return n}return-1},e.prototype.lastIndexOf=function(t){return this.indexOf(t)},e.prototype.__iterate=function(t,e){for(var n=this.size,r=this._step,i=e?this._start+(n-1)*r:this._start,o=0;o!==n&&!1!==t(i,e?n-++o:o++,this);)i+=e?-r:r;return o},e.prototype.__iterator=function(t,e){var n=this.size,r=this._step,i=e?this._start+(n-1)*r:this._start,o=0;return new ot((function(){if(o===n)return{value:void 0,done:!0};var s=i;return i+=e?-r:r,st(t,e?n-++o:o++,s)}))},e.prototype.equals=function(t){return t instanceof e?this._start===t._start&&this._end===t._end&&this._step===t._step:Ln(this,t)},e}(gt);function Gn(t,e,n){for(var r=ge(e),i=0;i!==r.length;)if((t=be(t,r[i++],D))===D)return n;return t}function Xn(t,e){return Gn(this,t,e)}function Yn(){ve(this.size);var t={};return this.__iterate((function(e,n){t[n]=e})),t}X.isIterable=q,X.isKeyed=W,X.isIndexed=K,X.isAssociative=G,X.isOrdered=nt,X.Iterator=ot,Fn(X,{toArray:function(){ve(this.size);var t=new Array(this.size||0),e=W(this),n=0;return this.__iterate((function(r,i){t[n++]=e?[i,r]:r})),t},toIndexedSeq:function(){return new Kt(this)},toJS:function(){return jn(this)},toKeyedSeq:function(){return new Wt(this,!0)},toMap:function(){return Ue(this.toKeyedSeq())},toObject:Yn,toOrderedMap:function(){return In(this.toKeyedSeq())},toOrderedSet:function(){return ar(W(this)?this.valueSeq():this)},toSet:function(){return Vn(W(this)?this.valueSeq():this)},toSetSeq:function(){return new Gt(this)},toSeq:function(){return K(this)?this.toIndexedSeq():W(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return An(W(this)?this.valueSeq():this)},toList:function(){return ln(W(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){for(var t=[],e=arguments.length;e--;)t[e]=arguments[e];return ae(this,ee(this,t))},includes:function(t){return this.some((function(e){return At(e,t)}))},entries:function(){return this.__iterator(2)},every:function(t,e){ve(this.size);var n=!0;return this.__iterate((function(r,i,o){if(!t.call(e,r,i,o))return n=!1,!1})),n},filter:function(t,e){return ae(this,Jt(this,t,e,!0))},find:function(t,e,n){var r=this.findEntry(t,e);return r?r[1]:n},forEach:function(t,e){return ve(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){ve(this.size),t=void 0!==t?""+t:",";var e="",n=!0;return this.__iterate((function(r){n?n=!1:e+=t,e+=null!=r?r.toString():""})),e},keys:function(){return this.__iterator(0)},map:function(t,e){return ae(this,Qt(this,t,e))},reduce:function(t,e,n){return $n(this,t,e,n,arguments.length<2,!1)},reduceRight:function(t,e,n){return $n(this,t,e,n,arguments.length<2,!0)},reverse:function(){return ae(this,Zt(this,!0))},slice:function(t,e){return ae(this,$t(this,t,e,!0))},some:function(t,e){return!this.every(nr(t),e)},sort:function(t){return ae(this,re(this,t))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some((function(){return!0}))},count:function(t,e){return L(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,n){var r=Ue().asMutable();return t.__iterate((function(i,o){r.update(e.call(n,i,o,t),0,(function(t){return t+1}))})),r.asImmutable()}(this,t,e)},equals:function(t){return Ln(this,t)},entrySeq:function(){var t=this;if(t._cache)return new mt(t._cache);var e=t.toSeq().map(er).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(nr(t),e)},findEntry:function(t,e,n){var r=n;return this.__iterate((function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1})),r},findKey:function(t,e){var n=this.findEntry(t,e);return n&&n[0]},findLast:function(t,e,n){return this.toKeyedSeq().reverse().find(t,e,n)},findLastEntry:function(t,e,n){return this.toKeyedSeq().reverse().findEntry(t,e,n)},findLastKey:function(t,e){return this.toKeyedSeq().reverse().findKey(t,e)},first:function(t){return this.find(j,null,t)},flatMap:function(t,e){return ae(this,function(t,e,n){var r=ce(t);return t.toSeq().map((function(i,o){return r(e.call(n,i,o,t))})).flatten(!0)}(this,t,e))},flatten:function(t){return ae(this,ne(this,t,!0))},fromEntrySeq:function(){return new Xt(this)},get:function(t,e){return this.find((function(e,n){return At(n,t)}),void 0,e)},getIn:Xn,groupBy:function(t,e){return function(t,e,n){var r=W(t),i=(nt(t)?In():Ue()).asMutable();t.__iterate((function(o,s){i.update(e.call(n,o,s,t),(function(t){return(t=t||[]).push(r?[s,o]:o),t}))}));var o=ce(t);return i.map((function(e){return ae(t,o(e))})).asImmutable()}(this,t,e)},has:function(t){return this.get(t,D)!==D},hasIn:function(t){return Gn(this,t,D)!==D},isSubset:function(t){return t="function"==typeof t.includes?t:X(t),this.every((function(e){return t.includes(e)}))},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:X(t)).isSubset(this)},keyOf:function(t){return this.findKey((function(e){return At(e,t)}))},keySeq:function(){return this.toSeq().map(tr).toIndexedSeq()},last:function(t){return this.toSeq().reverse().first(t)},lastKeyOf:function(t){return this.toKeyedSeq().reverse().keyOf(t)},max:function(t){return ie(this,t)},maxBy:function(t,e){return ie(this,e,t)},min:function(t){return ie(this,t?rr(t):or)},minBy:function(t,e){return ie(this,e?rr(e):or,t)},rest:function(){return this.slice(1)},skip:function(t){return 0===t?this:this.slice(Math.max(0,t))},skipLast:function(t){return 0===t?this:this.slice(0,-Math.max(0,t))},skipWhile:function(t,e){return ae(this,te(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(nr(t),e)},sortBy:function(t,e){return ae(this,re(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return this.slice(-Math.max(0,t))},takeWhile:function(t,e){return ae(this,function(t,e,n){var r=le(t);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var s=0;return t.__iterate((function(t,i,a){return e.call(n,t,i,a)&&++s&&r(t,i,o)})),s},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var s=t.__iterator(2,i),a=!0;return new ot((function(){if(!a)return{value:void 0,done:!0};var t=s.next();if(t.done)return t;var i=t.value,u=i[0],c=i[1];return e.call(n,c,u,o)?2===r?t:st(r,u,c,t):(a=!1,{value:void 0,done:!0})}))},r}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(nr(t),e)},update:function(t){return t(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=nt(t),n=W(t),r=e?1:0;return function(t,e){return e=Nt(e,3432918353),e=Nt(e<<15|e>>>-15,461845907),e=Nt(e<<13|e>>>-13,5),e=Nt((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=Ot((e=Nt(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(n?e?function(t,e){r=31*r+sr(Dt(t),Dt(e))|0}:function(t,e){r=r+sr(Dt(t),Dt(e))|0}:e?function(t){r=31*r+Dt(t)|0}:function(t){r=r+Dt(t)|0}),r)}(this))}});var Qn=X.prototype;Qn["@@__IMMUTABLE_ITERABLE__@@"]=!0,Qn[it]=Qn.values,Qn.toJSON=Qn.toArray,Qn.__toStringMapper=me,Qn.inspect=Qn.toSource=function(){return this.toString()},Qn.chain=Qn.flatMap,Qn.contains=Qn.includes,Fn(Y,{flip:function(){return ae(this,Yt(this))},mapEntries:function(t,e){var n=this,r=0;return ae(this,this.toSeq().map((function(i,o){return t.call(e,[o,i],r++,n)})).fromEntrySeq())},mapKeys:function(t,e){var n=this;return ae(this,this.toSeq().flip().map((function(r,i){return t.call(e,r,i,n)})).flip())}});var Zn=Y.prototype;Zn["@@__IMMUTABLE_KEYED__@@"]=!0,Zn[it]=Qn.entries,Zn.toJSON=Yn,Zn.__toStringMapper=function(t,e){return me(e)+": "+me(t)},Fn(Q,{toKeyedSeq:function(){return new Wt(this,!1)},filter:function(t,e){return ae(this,Jt(this,t,e,!1))},findIndex:function(t,e){var n=this.findEntry(t,e);return n?n[0]:-1},indexOf:function(t){var e=this.keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.lastKeyOf(t);return void 0===e?-1:e},reverse:function(){return ae(this,Zt(this,!1))},slice:function(t,e){return ae(this,$t(this,t,e,!1))},splice:function(t,e){var n=arguments.length;if(e=Math.max(e||0,0),0===n||2===n&&!e)return this;t=U(t,t<0?this.count():this.size);var r=this.slice(0,t);return ae(this,1===n?r:r.concat(pe(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var n=this.findLastEntry(t,e);return n?n[0]:-1},first:function(t){return this.get(0,t)},flatten:function(t){return ae(this,ne(this,t,!1))},get:function(t,e){return(t=F(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find((function(e,n){return n===t}),void 0,e)},has:function(t){return(t=F(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return ae(this,function(t,e){var n=le(t);return n.size=t.size&&2*t.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return t.__iterate((function(t){return(!o||!1!==n(e,o++,i))&&!1!==n(t,o++,i)}),r),o},n.__iteratorUncached=function(n,r){var i,o=t.__iterator(1,r),s=0;return new ot((function(){return(!i||s%2)&&(i=o.next()).done?i:s%2?st(n,s++,e):st(n,s++,i.value,i)}))},n}(this,t))},interleave:function(){var t=[this].concat(pe(arguments)),e=se(this.toSeq(),gt.of,t),n=e.flatten(!0);return e.size&&(n.size=e.size*t.length),ae(this,n)},keySeq:function(){return Kn(0,this.size)},last:function(t){return this.get(-1,t)},skipWhile:function(t,e){return ae(this,te(this,t,e,!1))},zip:function(){var t=[this].concat(pe(arguments));return ae(this,se(this,ir,t))},zipAll:function(){var t=[this].concat(pe(arguments));return ae(this,se(this,ir,t,!0))},zipWith:function(t){var e=pe(arguments);return e[0]=this,ae(this,se(this,t,e))}});var Jn=Q.prototype;function $n(t,e,n,r,i,o){return ve(t.size),t.__iterate((function(t,o,s){i?(i=!1,n=t):n=e.call(r,n,t,o,s)}),o),n}function tr(t,e){return e}function er(t,e){return[e,t]}function nr(t){return function(){return!t.apply(this,arguments)}}function rr(t){return function(){return-t.apply(this,arguments)}}function ir(){return pe(arguments)}function or(t,e){return t<e?1:t>e?-1:0}function sr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}Jn["@@__IMMUTABLE_INDEXED__@@"]=!0,Jn[et]=!0,Fn(Z,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),Z.prototype.has=Qn.includes,Z.prototype.contains=Z.prototype.includes,Fn(vt,Y.prototype),Fn(gt,Q.prototype),Fn(yt,Z.prototype);var ar=function(t){function e(t){return null==t?hr():Mn(t)?t:hr().withMutations((function(e){var n=Z(t);ve(n.size),n.forEach((function(t){return e.add(t)}))}))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.of=function(){return this(arguments)},e.fromKeys=function(t){return this(Y(t).keySeq())},e.prototype.toString=function(){return this.__toString("OrderedSet {","}")},e}(Vn);ar.isOrderedSet=Mn;var ur,cr=ar.prototype;function lr(t,e){var n=Object.create(cr);return n.size=t?t.size:0,n._map=t,n.__ownerID=e,n}function hr(){return ur||(ur=lr(Sn()))}cr[et]=!0,cr.zip=Jn.zip,cr.zipWith=Jn.zipWith,cr.__empty=hr,cr.__make=lr;var fr=function(t,e){var n,r=function(o){var s=this;if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(t),u=i._indices={};i._name=e,i._keys=a,i._defaultValues=t;for(var c=0;c<a.length;c++){var l=a[c];u[l]=c,i[l]?"object"==typeof console&&console.warn&&console.warn("Cannot define "+vr(this)+' with property "'+l+'" since that property name is part of the Record API.'):yr(i,l)}}this.__ownerID=void 0,this._values=ln().withMutations((function(t){t.setSize(s._keys.length),Y(o).forEach((function(e,n){t.set(s._indices[n],e===s._defaultValues[n]?void 0:e)}))}))},i=r.prototype=Object.create(pr);return i.constructor=r,e&&(r.displayName=e),r};fr.prototype.toString=function(){for(var t,e=vr(this)+" { ",n=this._keys,r=0,i=n.length;r!==i;r++)e+=(r?", ":"")+(t=n[r])+": "+me(this.get(t));return e+" }"},fr.prototype.equals=function(t){return this===t||t&&this._keys===t._keys&&gr(this).equals(gr(t))},fr.prototype.hashCode=function(){return gr(this).hashCode()},fr.prototype.has=function(t){return this._indices.hasOwnProperty(t)},fr.prototype.get=function(t,e){if(!this.has(t))return e;var n=this._indices[t],r=this._values.get(n);return void 0===r?this._defaultValues[t]:r},fr.prototype.set=function(t,e){if(this.has(t)){var n=this._values.set(this._indices[t],e===this._defaultValues[t]?void 0:e);if(n!==this._values&&!this.__ownerID)return dr(this,n)}return this},fr.prototype.remove=function(t){return this.set(t)},fr.prototype.clear=function(){var t=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:dr(this,t)},fr.prototype.wasAltered=function(){return this._values.wasAltered()},fr.prototype.toSeq=function(){return gr(this)},fr.prototype.toJS=function(){return jn(this)},fr.prototype.entries=function(){return this.__iterator(2)},fr.prototype.__iterator=function(t,e){return gr(this).__iterator(t,e)},fr.prototype.__iterate=function(t,e){return gr(this).__iterate(t,e)},fr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._values.__ensureOwner(t);return t?dr(this,e,t):(this.__ownerID=t,this._values=e,this)},fr.isRecord=$,fr.getDescriptiveName=vr;var pr=fr.prototype;function dr(t,e,n){var r=Object.create(Object.getPrototypeOf(t));return r._values=e,r.__ownerID=n,r}function vr(t){return t.constructor.displayName||t.constructor.name||"Record"}function gr(t){return Ct(t._keys.map((function(e){return[e,t.get(e)]})))}function yr(t,e){try{Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){de(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}catch(t){}}pr["@@__IMMUTABLE_RECORD__@@"]=!0,pr.delete=pr.remove,pr.deleteIn=pr.removeIn=Ce,pr.getIn=Xn,pr.hasIn=Qn.hasIn,pr.merge=ke,pr.mergeWith=xe,pr.mergeIn=Pe,pr.mergeDeep=Re,pr.mergeDeepWith=De,pr.mergeDeepIn=Me,pr.setIn=Ee,pr.update=Te,pr.updateIn=Se,pr.withMutations=Le,pr.asMutable=Fe,pr.asImmutable=je,pr[it]=pr.entries,pr.toJSON=pr.toObject=Qn.toObject,pr.inspect=pr.toSource=function(){return this.toString()};var mr,br=function(t){var e=t.colors,n=t.fonts,r=e.primarySenderBG,i=e.primaryDivider,o=e.secondaryButton,s=e.primaryAccent,a=e.primary,u=e.primaryText,c=e.primaryFileBackground,l=e.primaryPlaceholder;return{mainContainer:{display:"flex",bottom:"0",position:"absolute",justifyContent:"flex-start",alignItems:"center",width:"100%",flexWrap:"wrap",boxSizing:"border-box",background:r,borderRadius:"0px 0px 17px 17px",padding:"5px 20px 5px 20px",borderTop:"0.5px solid "+i,minHeight:"53px","@media screen and (max-width: 800px)":{minHeight:"6%",borderRadius:"0"}},mainContainerSearch:{justifyContent:"space-between",color:u},searchCountContainer:{display:"flex",alignItems:"center"},searchButtonContainer:{display:"flex",alignItems:"center",width:"59.6px",justifyContent:"space-between"},switchingActiveButton:{border:"none",fontSize:"1.125rem",background:r,height:"34px",outline:"none",padding:"0",color:o,transition:"color ease-in-out 0.1s",cursor:"pointer","&:hover":{color:"#878fa3"},"&:active":{color:a},"@media screen and (max-width: 800px)":{fontSize:"1.25rem"}},switchingDisableButton:{opacity:"0.2",cursor:"auto","&:hover":{},"&:active":{}},addFileButton:{border:"none",fontSize:"1.125rem",background:r,height:"34px",outline:"none",padding:"0",color:s,transition:"transform ease-in-out 0.3s, color ease-in-out 0.3s",cursor:"pointer","&:hover":{color:"#F2297B"},"&:active":{opacity:"0.5"},"@media screen and (max-width: 800px)":{fontSize:"1.25rem"}},sendMessageButton:{border:"none",fontSize:"1.125rem",background:r,outline:"none",height:"34px",padding:"3px",color:a,cursor:"pointer",transition:"transform ease-in-out 0.3s, color ease-in-out 0.3s","&:hover":{transform:"translateY(-5px)",color:"#2F66F1"},"&:active":{opacity:"0.5"},"@media screen and (max-width: 800px)":{fontSize:"1.25rem"}},shareButton:{},stickersButton:{},textArea:S(S({minWidth:"270px",resize:"none",border:"none",outline:"none",minHeight:"27px",color:u,background:"none",overflowY:"auto",wordWrap:"break-word",flex:1,margin:"0 1rem",padding:0,marginTop:"10px"},n),{"@media screen and (max-width: 800px)":{borderRadius:"15px",border:"1px solid "+i,padding:"6px",fontSize:"1rem",minWidth:"260px"},"@media screen and (max-width: 480px)":{minWidth:"74%"},"::-webkit-input-placeholder":{color:l,opacity:"0.2"},"::-moz-placeholder":{color:l,opacity:"0.2"},"-ms-input-placeholder":{color:l,opacity:"0.2"}}),voiceButton:{},filesContainer:{width:"100%",overflowX:"scroll",display:"flex",padding:"8px 0 8px 0",animation:"show 0.3s 1","::-webkit-scrollbar":{width:"0"},"@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},fileContainer:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",height:"60px",minWidth:"60px",maxWidth:"60px",borderRadius:"5px",background:c,marginRight:"8px","& .ckProgressLoader":{position:"absolute",display:"flex"},animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},fileImage:{height:"100%",minWidth:"100%",maxWidth:"100%",borderRadius:"5px"},deleteFileButton:{position:"absolute",left:"36px",top:"0px",cursor:"pointer","&:hover":{opacity:"0.5"},"&:active":{opacity:"1"}}}},wr=(new Array(360).fill(0).map((function(t,e){return e})).map((function(t){return t*Math.PI/180})).map((mr=20,function(t){return{x:50*Math.pow(Math.abs(Math.cos(t)),2/mr)*Math.sign(Math.cos(t))+50,y:50*Math.pow(Math.abs(Math.sin(t)),2/mr)*Math.sign(Math.sin(t))+50}})).map((function(t){var e=t.x,n=t.y;return{x:Math.round(10*e)/10,y:Math.round(10*n)/10}})).map((function(t){return t.x+"% "+t.y+"%"})).join(", "),function(t){var e=t.colors,n=t.fonts,r=e.primaryBackground;return{mainContainer:S({display:"flex",overflow:"hidden",width:"fit-content",margin:"auto",padding:"100px","@media screen and (max-width: 800px)":{justifyContent:"center",width:"100%",height:"100%",alignItems:"center",padding:"0"},animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},n),chatContainer:{width:"380px",display:"flex",flexDirection:"column",background:r,position:"relative",borderRadius:"17px",height:"600px",boxShadow:"0px 20px 50px rgba(5, 0, 56, 0.15)",overflow:"hidden","@media screen and (max-width: 800px)":{width:"100%",height:"100%",borderRadius:"0"}}}}),_r=function(t){return{mainContainer:{height:"496px",minHeight:"496px",background:t.primaryBackground,width:"100%",display:"flex",flexDirection:"column",justifyContent:"flex-end",boxSizing:"border-box",animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}},"@media screen and (max-width: 800px)":{height:"100vh",paddingTop:"60px"}},panel:{},rateButton:{},searchButton:{},messagesContainer:{maxHeight:"100%",display:"flex",flexDirection:"column","@media screen and (max-width: 800px)":{}}}},Er=function(t){var e=t.primaryWhite;return{mainContainer:{display:"flex",flexDirection:"colomn",width:"fit-content",maxWidth:"275px",marginLeft:"auto",marginRight:"24px",marginBottom:"16px",color:e,background:t.primary,borderRadius:"17px 17px 0 17px"},groupTypeMessagesNext:{marginBottom:"4px"},groupTypeMessagesPrev:{borderRadius:"17px 0 17px 17px"},groupTypeMessagesInter:{borderRadius:"17px 0 0 17px"},textContainer:{textAlign:"left",maxWidth:"100%",minWidth:"5%",wordBreak:"break-all","& mark":{background:"#FFDF00",padding:"3px 0 3px 0",color:t.primaryDark},"@media screen and (max-width: 800px)":{fontSize:"1rem"}},avatarContainer:{},image:{},positiveRateMessageButton:{display:"none"},negativeRateMessageButton:{display:"none"},audioMessageButton:{},dataContainer:{width:"100%",textAlign:"left",fontSize:"0.75rem",marginTop:"8px",color:e,opacity:"0.4"},bubbleContainer:{display:"flex",flexWrap:"wrap",padding:"16px"},buttonsContainer:{},imageFile:{maxWidth:"190px",maxHeight:"222px",display:"flex",borderRadius:"17px 17px 0 17px"},fileContainer:{display:"flex",width:"100%",marginBottom:"10px"},svgContainer:{marginRight:"16px",display:"flex"},sizeTittle:{fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"20px",color:e,opacity:"0.5"},fileNameTittle:{textAlign:"left",width:"100%",fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"20px",color:e,marginBottom:"4px",cursor:"pointer",transition:"color ease-in-out 0.3s",textDecoration:"none","&:hover":{opacity:"0.5"},"&:active":{opacity:"1"}},metaContainer:{display:"flex",flexDirection:"column",alignItems:"flex-start",justifyContent:"center"}}},Cr=function(t){var e=t.primaryLinks,n=t.primaryDark,r=t.primaryRatingElement,i=t.primaryResponse,o=t.primaryText;return{mainContainer:{display:"flex",flexDirection:"colomn",width:"fit-content",maxWidth:"275px",marginLeft:"24px",marginRight:"auto",marginBottom:"16px",color:o,background:i,borderRadius:"17px 17px 17px 0"},groupTypeMessagesNext:{marginBottom:"4px"},groupTypeMessagesPrev:{borderRadius:"0 17px 17px 17px"},groupTypeMessagesInter:{borderRadius:"0 17px 17px 0"},textContainer:{color:o,boxSizing:"border-box",background:i,maxWidth:"100%",minWidth:"5%",textAlign:"left","@media screen and (max-width: 800px)":{fontSize:"1rem"},"& mark":{background:"#FFDF00",color:n},"& a":{color:e,textDecoration:"none",transition:"color ease-in-out 0.3s"},"& ul":{margin:"0",display:"flex",padding:"0",flexDirection:"column",marginLeft:"-6px",alignItems:"flex-start",width:"100%"},"& li":{width:"100%",height:"32px",background:"none",borderRadius:"4px",padding:"8px 6px",lineHeight:"17px",boxSizing:"border-box",listStyleType:"none",cursor:"pointer",transition:"background ease-in-out 0.3s"},"& li:hover":{background:r},"& li:active":{opacity:"0.5"},"& a:hover":{color:"#2F66F1"},"& a:active":{color:t.primaryAccent}},avatarContainer:{},image:{},positiveRateMessageButton:{padding:0,alignSelf:"flex-end",marginLeft:"4%",display:"flex",alignItems:"flex-end",border:"none",outline:"none",color:o,background:"none",cursor:"pointer","& :hover":{opacity:"0.75"},"& :active":{opacity:"1"}},negativeRateMessageButton:{padding:0,alignSelf:"flex-end",marginLeft:"4%",display:"flex",border:"none",outline:"none",color:o,background:"none",cursor:"pointer","& :hover":{opacity:"0.75"},"& :active":{opacity:"1"}},audioMessageButton:{},dataContainer:{width:"100%",textAlign:"right",fontSize:"0.75rem",marginTop:"8px",color:o,opacity:"0.4"},bubbleContainer:{display:"flex",padding:"16px",flexDirection:"column",width:"100%"},buttonsContainer:{}}},Ir=function(t){var e=t.primaryResponse;return{mainContainer:{marginLeft:"24px",marginRight:"auto",marginBottom:"10px",borderRadius:"17px 17px 17px 0",width:"70px",padding:"6px",height:"24px",display:"flex",justifyContent:"space-evenly",alignItems:"center",textAlign:"center",zIndex:"5",userSelect:"none",color:t.primaryText,background:e},elementOne:{fontSize:"60px",animation:"loader 1.5s ease-in-out infinite",animationDelay:" 0.2s",paddingBottom:"28px","@keyframes loader":{"0%, 100%":{opacity:"0.4"},"50%, 60%":{opacity:"1",fontSize:"75px",paddingBottom:"38px"}}},elementTwo:{fontSize:"60px",animation:"loader 1.5s ease-in-out infinite",paddingBottom:"28px",animationDelay:" 0.4s","@keyframes loader":{"0%, 100%":{opacity:"0.4"},"50%, 60%":{opacity:"1",fontSize:"75px",paddingBottom:"38px"}}},elementThree:{fontSize:"60px",animation:"loader 1.5s ease-in-out infinite",animationDelay:" 0.6s",paddingBottom:"28px","@keyframes loader":{"0%, 100%":{opacity:"0.4"},"50%, 60%":{opacity:"1"}}}}},Tr=function(t){return{dividerMainContainer:{display:"flex",alignItems:"center",justifyContent:"center",padding:"22px 0",userSelect:"none",color:t.primaryDateDivider,opacity:"0.3"}}},Sr=function(t){var e=t.primaryWhite,n=t.primaryDivider,r=t.primaryDark,i=t.primaryHeaderButtonHover,o=t.primaryHeaderButtonActive;return{mainContainer:{display:"flex",alignItems:"center",width:"100%",boxSizing:"border-box",borderBottom:"0.5px solid "+n,justifyContent:"space-between",height:"50px",minHeight:"50px",background:r,borderRadius:"17px 17px 0px 0px",padding:"13px 17px",color:e,zIndex:50,"@media screen and (max-width: 800px)":{borderRadius:"0",height:"60px",position:"absolute",top:"0"}},avatarContainer:{borderRadius:"50px",display:"flex",flexDirection:"column",alignItems:"flex-end","@media screen and (max-width: 800px)":{width:"6%"},"@media screen and (max-width: 480px)":{width:"10%"}},image:{maxWidth:"24px",maxHeight:"24px","@media screen and (max-width: 800px)":{maxWidth:"35px",maxHeight:"35px"},"@media screen and (max-width: 480px)":{maxWidth:"25px",maxHeight:"25px"}},titleContainer:{textAlign:"left",width:"50%",fontSize:"1.125rem",marginLeft:"15px","@media screen and (max-width: 800px)":{width:"60%",fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{width:"50%",fontSize:"1.125rem"}},resetButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},closeButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},settingsButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},headerSearchContainer:{display:"flex",alignItems:"center"},headerSearchResetButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",padding:"0",justifyContent:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}},headerSearchInput:{display:"flex",alignItems:"center",marginLeft:"1rem",border:"none",width:"85%",background:"none",color:e,outline:"none",padding:"0",fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"200",lineHeight:"20px",fontSize:"1.125rem","::-webkit-input-placeholder":{color:e,opacity:"0.2"},"::-moz-placeholder":{color:e,opacity:"0.2"},"-ms-input-placeholder":{color:e,opacity:"0.2"}},searchButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:i},"&:active":{background:o},"@media screen and (max-width: 800px)":{fontSize:"1.5rem"},"@media screen and (max-width: 480px)":{fontSize:"0.875rem"}}}},kr=function(t){return{mainContainer:{width:"auto",height:"auto",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around",cursor:"pointer"},avatarContainer:{borderRadius:"50px",border:"4px solid #386FFE",width:"75px",height:"75px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},image:{width:"55px",height:"55px"},titleContainer:{},svg:{groupPath:{fill:t.primaryBadge},path:{animation:"dash 15s ease-in-out infinite"},"@keyframes dash":{"0%, 100%":{strokeDashoffset:250},"50%":{strokeDashoffset:10}}}}},xr=function(t){var e=t.primaryWhite,n=t.primaryButton,r=t.primaryButtonHover,i=t.secondaryRate,o=t.primaryText;return{mainContainer:{borderTop:"1px solid #dddee2",marginTop:"1rem",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},titleContainer:{width:"100%",textAlign:"center",marginTop:"1rem",marginBottom:"1rem"},negativeRateButton:{width:"48%",border:"none",outline:"none",display:"flex",flexDirection:"column",alignItems:"center",color:o,background:n,padding:"12px",cursor:"pointer",borderRadius:"5px",transition:"background-color ease-in-out 0.3s","&:hover":{backgroundColor:r},"&:active":{backgroundColor:i,color:e}},positiveRateButton:{width:"48%",border:"none",outline:"none",display:"flex",flexDirection:"column",alignItems:"center",color:o,background:n,padding:"12px",cursor:"pointer",borderRadius:"5px",transition:"background-color ease-in-out 0.3s","&:hover":{backgroundColor:r},"&:active":{backgroundColor:i,color:e}},ratingElement:{width:"100%",height:"32px",background:"none",borderRadius:"4px",padding:"8px 6px",lineHeight:"17px",boxSizing:"border-box",color:i,listStyleType:"none",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:t.primaryRatingElement},"&:active":{opacity:"0.5"}},ratingListContainer:{marginTop:"1rem",display:"flex",flexDirection:"column",alignItems:"flex-start",width:"100%"}}},Ar=function(t){return{mainContainer:{color:t.primaryDark,cursor:"pointer",opacity:"75%",transition:"opacity ease-in-out 0.3s","&:hover":{opacity:"100%"}}}},Nr=function(t){var e=t.primaryExampleBackground,n=t.primary,r=t.primaryBrightResponse;return{width:"5.5rem",height:"6.813rem",background:e,boxSizing:"border-box",borderTop:"0.7rem solid "+r,borderRadius:"7px",display:"flex",flexDirection:"column",justifyContent:"space-around",padding:"7px","::before":{content:'""',width:"3.2rem",height:"1.5rem",borderRadius:"3px",alignSelf:"flex-start",background:r},"::after":{content:'""',alignSelf:"flex-end",width:"3rem",height:"1.5rem",borderRadius:"3px",background:n}}},Or=function(t){var e=t.primaryWhite,n=t.primaryDivider,r=t.primaryDark,i=t.primaryBackground,o=t.primaryText,s=t.primary;return{mainContainer:{display:"flex",flexDirection:"column",alignItems:"center",background:i,color:o,height:"100%",transition:"background 0.35s ease-in-out"},header:{display:"flex",alignItems:"center",width:"100%",boxSizing:"border-box",height:"50px",borderBottom:"0.5px solid "+n,minHeight:"50px",background:r,borderRadius:"17px 17px 0px 0px",padding:"10px",color:e,zIndex:50,"@media screen and (max-width: 800px)":{borderRadius:"0",height:"60px",position:"absolute",top:"0",padding:"0"}},titleContainer:{flex:"0.9",fontSize:"1.125rem",textAlign:"center","@media screen and (max-width: 800px)":{flex:"0.85"}},closeSettingsButton:{background:r,fontSize:"1.125rem",color:e,border:"none",outline:"none",width:"30px",height:"30px",display:"flex",alignItems:"center",borderRadius:"4px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:t.primaryHeaderButtonHover},"&:active":{background:t.primaryHeaderButtonActive}},fieldcontainer:{display:"flex",flexDirection:"column",padding:"24px",width:"100%",boxSizing:"border-box",animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"30%":{opacity:"0.3"},"60%":{opacity:"0.6"},"100%":{opacity:"1"}},"@media screen and (max-width: 800px)":{height:"100vh",paddingTop:"10vh"}},heading:{marginBottom:"2rem",color:o,fontSize:"1rem",fontWeight:"bold"},languages:{display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:"2rem"},themes:{display:"flex",alignItems:"center",flexWrap:"wrap",marginBottom:"2rem",justifyContent:"space-between"},languagesCheckboxContainer:{display:"flex",alignItems:"center",width:"20%",justifyContent:"space-between",marginRight:"2rem"},themesCheckboxContainer:{display:"flex",flexDirection:"column-reverse",alignItems:"center"},boxTitle:{color:o},checkbox:{display:"none","&:hover + .settings-switcher":{opacity:"50%",background:s},"&:checked + .settings-switcher":{backgroundColor:s,border:"none",opacity:"1"},"&:checked + .settings-switcher::after":{height:"2px",width:"16px",borderRadius:"3px",content:'""',transform:"translateX(36%) translateY(308%) rotate(-45deg)",transformOrigin:"left bottom",backgroundColor:i},"&:checked + .settings-switcher::before":{height:"10px",width:"2px",borderRadius:"3px",backgroundColor:i,content:'""',transform:"translateX(372%) translateY(22%) rotate(-45deg)",transformOrigin:"left bottom"}},switcher:{display:"flex",justifyContent:"center",alignItems:"center",width:"2rem",height:" 2rem",border:"1px solid "+o,opacity:"0.2",borderRadius:"50%",cursor:"pointer",boxSizing:"border-box",transition:"all 0.3s","&:hover":{border:"none"},"&:hover::after":{height:"2px",width:"16px",borderRadius:"3px",content:'""',transform:"translateX(36%) translateY(308%) rotate(-45deg)",transformOrigin:"left bottom",backgroundColor:i,transition:"all 0.3s"},"&:hover::before":{height:"10px",width:"2px",borderRadius:"3px",backgroundColor:i,content:'""',transform:"translateX(372%) translateY(22%) rotate(-45deg)",transformOrigin:"left bottom"}}}},Rr=function(t){var e=t.primary,n=t.primaryText,r=t.primaryWhite;return{toggleContainer:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"flex-start",marginBottom:"2rem"},toggleHeading:{color:n,fontSize:"1rem",fontWeight:"bold",marginBottom:"1.5rem"},toggleLabel:{display:"inline-block",height:"24px",width:"48px",position:"relative"},toggleInput:{display:"none","&:checked + .sova-settings-toggle-slider":{backgroundColor:e},"&:checked + .sova-settings-toggle-slider:before":{transform:"translateX(24px)"}},toggleSlider:{backgroundColor:t.primaryGray,bottom:0,cursor:"pointer",left:0,position:"absolute",right:0,top:0,transition:"all ease-in-out 0.35s",borderRadius:"34px","&:before":{backgroundColor:r,bottom:"3px",content:'""',height:"18px",width:"18px",left:"3px",position:"absolute",transition:"all ease-in-out 0.35s",borderRadius:"50%"}}}},Dr={primary:"#386FFE",primaryWhite:"#FFFFFF",primaryBlack:"#000000",primaryGray:"#F3F3F3",primaryDark:"#151F49",primaryDashed:"#DCDEE2",primaryText:"#0F1F48",primaryAccent:"#FC2D81",primaryBackground:"#FFFFFF",primaryFileBackground:"#F9F9F9",primaryBadge:"#386FFE",primaryLinks:"#386FFE",primaryResponse:"#F3F3F3",primarySenderBG:"#FFFFFF",secondaryRate:"#386FFE",primaryDivider:"#F3F3F3",primaryButton:"#DCDEE2",primaryButtonHover:"#CCD2DC",primaryPlaceholder:"#0F1F48",primaryExample:"#386FFE",primaryExampleBackground:"#F2F2F2",primaryBrightResponse:"#E7E7E7",primaryDateDivider:"#151F49",primaryRatingElement:"#EDEDED",secondaryButton:"#0F1F48",primaryHeaderButtonHover:"rgba(231, 231, 231, 0.07)",primaryHeaderButtonActive:"rgba(231, 231, 231, 0.15)",primaryChooseFileButtonHover:"#2F66F1"},Pr={fontFamily:"Helvetica",lineHeight:"20px",fontSize:"0.875rem"},Mr=function(t){var e=t.primaryBackground,n=t.primaryDashed,r=t.primaryText,i=t.primary;return{mainContainer:{margin:"16px",height:"464px",background:e,display:"flex",alignItems:"center",padding:"98px 0px 56px 0px",flexDirection:"column",boxSizing:"border-box",outline:"none",border:"2px dashed "+n,animation:"show 0.3s 1","@keyframes show":{"0%":{opacity:"0"},"100%":{opacity:"1"}}},svgContainer:{},dropAndDownContainer:{marginBottom:"21.92px",outline:"none"},chooseFileButton:{padding:"4px 20px",width:"149px",height:"41px",fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",textAlign:"center",color:t.primaryWhite,background:i,borderRadius:"49px",border:"none",outline:"none",marginBottom:"24px",cursor:"pointer",transition:"background ease-in-out 0.3s","&:hover":{background:t.primaryChooseFileButtonHover},"&:active":{opacity:"0.6"}},titleContainer:{fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"22px",lineHeight:"32px",color:r,marginBottom:"13px"},commentContainer:{fontFamily:"Helvetica",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"16px",textAlign:"center",color:r,opacity:"0.5"},dividerContainer:{fontFamily:"Helvetica",marginBottom:"13px",fontStyle:"normal",fontWeight:"normal",fontSize:"14px",lineHeight:"30px",color:r,opacity:"0.3",width:"137px",alignItems:"center",justifyContent:"space-between",display:"flex","::before":{content:'""',width:"47px",height:"1px",opacity:"0.3",background:r},"::after":{content:'""',width:"47px",height:"1px",opacity:"0.3",background:r}}}},Lr=function(t){t.primaryBadge;return{mainContainer:{width:"372px",display:"flex",marginBottom:"16px",marginLeft:"8px",oveflowX:"hidden"},scrollbar:{"& .scrollbar-container":{}},elementContainer:{display:"flex",border:"0.5px solid #F3F3F3",flexDirection:"column",alignItems:"center",borderRadius:"17px",width:"280px",marginLeft:"16px",fontFamily:"Helvetica",background:"#F3F3F3"},buttonsContainer:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},webUrlButton:{fontSize:"14px",lineHeight:"18px",height:"44px",width:"100%",border:"none",outline:"none",display:"flex",alignItems:"center",justifyContent:"center",background:"transparent",color:"#386FFE",textDecoration:"none"},postbackButton:{fontSize:"14px",lineHeight:"18px",display:"flex",alignItems:"center",justifyContent:"center",height:"44px",width:"100%",border:"none",outline:"none",background:"transparent",color:"#386FFE",textDecoration:"none"},image:{width:"280px",objectFit:"cover",height:"200px",borderRadius:"17px 17px 0 0"},textContainer:{display:"flex",width:"100%",padding:"16px 12px",fontSize:"12px",height:"127px",boxSizing:"border-box",flexDirection:"column",alignItems:"flex-start",borderBottom:"1px solid #E1E1E1"},title:{lineHeight:"18px",color:"#0F1F48",marginBottom:"4px"},subTitle:{lineHeight:"18px",color:"#000000",opacity:"0.3"}}},Fr={themeName:"sovaLight",data:{example:Nr(Dr),Sender:br({colors:Dr,fonts:Pr}),ChatIt:wr({colors:Dr,fonts:Pr}),Dialog:_r(Dr),CKContents:Lr(Dr),UserMessage:Er(Dr),ResponseMessage:Cr(Dr),MessageLoader:Ir(Dr),Divider:Tr(Dr),Header:Sr(Dr),Badge:kr(Dr),Rate:xr(Dr),Close:Ar(Dr),Settings:Or(Dr),ToggleSlider:Rr(Dr),CKDropAndDown:Mr(Dr)}},jr={primary:"#386FFE",primaryWhite:"#FFFFFF",primaryBlack:"#000000",primaryGray:"#F3F3F3",primaryDark:"#151F49",primaryFileBackground:"#ffffff1f",primaryText:"#FFFFFF",primaryAccent:"#FC2D81",primaryBackground:"#0D1539",primaryDashed:"#575a67",primaryBadge:"#151F49",primaryLinks:"#386FFE",primaryResponse:"#151F49",primarySenderBG:"#151F49",secondaryRate:"#386FFE",primaryDivider:"#49505A",primaryButton:"#525D8A",primaryButtonHover:"#69739B",primaryPlaceholder:"#FFFFFF",primaryExample:"#E7E7E7",secondaryButton:"#F3F3F3",primaryExampleBackground:"#000000",primaryBrightResponse:"#273577",primaryDateDivider:"#FFFFFF",primaryRatingElement:"#515c8a4f",primaryHeaderButtonHover:"rgba(231, 231, 231, 0.07)",primaryHeaderButtonActive:"rgba(231, 231, 231, 0.15)",primaryChooseFileButtonHover:"#2F66F1"},Vr={fontFamily:"Helvetica",lineHeight:"20px",fontSize:"0.875rem"},Ur={themeName:"sovaDark",data:{example:Nr(jr),Sender:br({colors:jr,fonts:Vr}),ChatIt:wr({colors:jr,fonts:Vr}),Dialog:_r(jr),CKContents:Lr(jr),UserMessage:Er(jr),ResponseMessage:Cr(jr),MessageLoader:Ir(jr),Divider:Tr(jr),Header:Sr(jr),Badge:kr(jr),Rate:xr(jr),Close:Ar(jr),Settings:Or(jr),ToggleSlider:Rr(jr),CKDropAndDown:Mr(jr)}},Br={primary:"#386FFE",primaryWhite:"#FFFFFF",primaryBlack:"#000000",primaryGray:"#F3F3F3",primaryDark:"#273142",primaryFileBackground:"#ffffff1f",primaryText:"#FFFFFF",primaryAccent:"#FC2D81",primaryBackground:"#1B2431",primaryDashed:"#575a67",primaryBadge:"#1B2431",primaryLinks:"#386FFE",primaryResponse:"#273142",primarySenderBG:"#273142",secondaryRate:"#386FFE",primaryDivider:"#49505A",primaryButton:"#686F7B",primaryButtonHover:"#8D95A1",primaryPlaceholder:"#FFFFFF",secondaryButton:"#F3F3F3",primaryExample:"#E7E7E7",primaryExampleBackground:"#000000",primaryBrightResponse:"#273142",primaryDateDivider:"#FFFFFF",primaryRatingElement:"#686f7b3b",primaryHeaderButtonHover:"rgba(231, 231, 231, 0.07)",primaryHeaderButtonActive:"rgba(231, 231, 231, 0.15)",primaryChooseFileButtonHover:"#2F66F1"},Hr={fontFamily:"Helvetica",lineHeight:"20px",fontSize:"0.875rem"},zr={themeName:"sovaGray",data:{example:Nr(Br),Sender:br({colors:Br,fonts:Hr}),ChatIt:wr({colors:Br,fonts:Hr}),Dialog:_r(Br),CKContents:Lr(Br),UserMessage:Er(Br),ResponseMessage:Cr(Br),MessageLoader:Ir(Br),Divider:Tr(Br),Header:Sr(Br),Badge:kr(Br),Rate:xr(Br),Close:Ar(Br),Settings:Or(Br),ToggleSlider:Rr(Br),CKDropAndDown:Mr(Br)}},qr={common:{chatIsOpen:!1,sendInitOnOpen:!0,showNotification:!1,showMsgLoad:!1,showRate:!1,mobileEnabled:!0,showSettings:!1},components:{ChatIt:{SenderEnabled:!0,CloseEnabled:!1,NotificationsEnabled:!0,DialogEnabled:!0,RateEnabled:!1,BadgeEnabled:!0,HeaderEnabled:!0,SettingsEnabled:!0},Sender:{inFocus:!1,blockInput:!1,blockSubmit:!1,showDropZone:!1,audioMessage:{enabled:!1,withTitle:!0,withIcon:!0},addStickers:{enabled:!1,withTitle:!0,withIcon:!0},share:{enabled:!1,withTitle:!1,withIcon:!0},addFile:{enabled:!0,withTitle:!1,withIcon:!0},send:{enabled:!0,withTitle:!1,withIcon:!0}},Message:{showDate:!1,showAvatar:!1,RateEnabled:!0,positiveRateMessage:{enabled:!1,withTitle:!1,withIcon:!0},negativeRateMessage:{enabled:!1,withTitle:!1,withIcon:!0},audioMessage:{enabled:!1,withTitle:!0,withIcon:!0}},Header:{showTitle:!0,showAvatar:!0,settings:{enabled:!0,withTitle:!1,withIcon:!0},reset:{enabled:!0,withTitle:!1,withIcon:!0},search:{active:!1,searchValue:"",found:Vn(),foundMessage:-1,enabled:!0,withTitle:!1,withIcon:!0},close:{enabled:!0,withTitle:!1,withIcon:!0}},Dialog:{rate:{enabled:!1,withTitle:!0,withIcon:!0},search:{enabled:!1,withTitle:!0,withIcon:!0},dividerEnabled:!0,loader:{enabled:!0,showTitle:!1,showAnimation:!0}},Rate:{positiveRate:{enabled:!0,withTitle:!0,withIcon:!1},negativeRate:{enabled:!0,withTitle:!0,withIcon:!1}},Badge:{showTitle:!1,showAvatar:!1,showSVG:!0},Settings:{closeSettings:{enabled:!0,withTitle:!1,withIcon:!0}},CKDropAndDown:{chooseFile:{enabled:!0,withTitle:!0,withIcon:!1}}}},Wr={enabled:!0,shown:0,clicked:0,settings:{revision:"",timer1:15,timer2:15,disablePeriod:2592e3},messages:ln([])};var Kr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e};var Gr=function(){function t(t){this.isSpeedy=void 0===t.speedy?"production"===process.env.NODE_ENV:t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.before=null}var e=t.prototype;return e.insert=function(t){if(this.ctr%(this.isSpeedy?65e3:1)==0){var e,n=function(t){var e=document.createElement("style");return e.setAttribute("data-emotion",t.key),void 0!==t.nonce&&e.setAttribute("nonce",t.nonce),e.appendChild(document.createTextNode("")),e}(this);e=0===this.tags.length?this.before:this.tags[this.tags.length-1].nextSibling,this.container.insertBefore(n,e),this.tags.push(n)}var r=this.tags[this.tags.length-1];if(this.isSpeedy){var i=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(r);try{var o=105===t.charCodeAt(1)&&64===t.charCodeAt(0);i.insertRule(t,o?0:i.cssRules.length)}catch(e){"production"!==process.env.NODE_ENV&&console.warn('There was a problem inserting the following rule: "'+t+'"',e)}}else r.appendChild(document.createTextNode(t));this.ctr++},e.flush=function(){this.tags.forEach((function(t){return t.parentNode.removeChild(t)})),this.tags=[],this.ctr=0},t}();function Xr(t){function e(t,e,r){var i=e.trim().split(d);e=i;var o=i.length,s=t.length;switch(s){case 0:case 1:var a=0;for(t=0===s?"":t[0]+" ";a<o;++a)e[a]=n(t,e[a],r).trim();break;default:var u=a=0;for(e=[];a<o;++a)for(var c=0;c<s;++c)e[u++]=n(t[c]+" ",i[a],r).trim()}return e}function n(t,e,n){var r=e.charCodeAt(0);switch(33>r&&(r=(e=e.trim()).charCodeAt(0)),r){case 38:return e.replace(v,"$1"+t.trim());case 58:return t.trim()+e.replace(v,"$1"+t.trim());default:if(0<1*n&&0<e.indexOf("\f"))return e.replace(v,(58===t.charCodeAt(0)?"":"$1")+t.trim())}return t+e}function r(t,e,n,o){var s=t+";",a=2*e+3*n+4*o;if(944===a){t=s.indexOf(":",9)+1;var u=s.substring(t,s.length-1).trim();return u=s.substring(0,t).trim()+u+";",1===A||2===A&&i(u,1)?"-webkit-"+u+u:u}if(0===A||2===A&&!i(s,1))return s;switch(a){case 1015:return 97===s.charCodeAt(10)?"-webkit-"+s+s:s;case 951:return 116===s.charCodeAt(3)?"-webkit-"+s+s:s;case 963:return 110===s.charCodeAt(5)?"-webkit-"+s+s:s;case 1009:if(100!==s.charCodeAt(4))break;case 969:case 942:return"-webkit-"+s+s;case 978:return"-webkit-"+s+"-moz-"+s+s;case 1019:case 983:return"-webkit-"+s+"-moz-"+s+"-ms-"+s+s;case 883:if(45===s.charCodeAt(8))return"-webkit-"+s+s;if(0<s.indexOf("image-set(",11))return s.replace(T,"$1-webkit-$2")+s;break;case 932:if(45===s.charCodeAt(4))switch(s.charCodeAt(5)){case 103:return"-webkit-box-"+s.replace("-grow","")+"-webkit-"+s+"-ms-"+s.replace("grow","positive")+s;case 115:return"-webkit-"+s+"-ms-"+s.replace("shrink","negative")+s;case 98:return"-webkit-"+s+"-ms-"+s.replace("basis","preferred-size")+s}return"-webkit-"+s+"-ms-"+s+s;case 964:return"-webkit-"+s+"-ms-flex-"+s+s;case 1023:if(99!==s.charCodeAt(8))break;return"-webkit-box-pack"+(u=s.substring(s.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+s+"-ms-flex-pack"+u+s;case 1005:return f.test(s)?s.replace(h,":-webkit-")+s.replace(h,":-moz-")+s:s;case 1e3:switch(e=(u=s.substring(13).trim()).indexOf("-")+1,u.charCodeAt(0)+u.charCodeAt(e)){case 226:u=s.replace(b,"tb");break;case 232:u=s.replace(b,"tb-rl");break;case 220:u=s.replace(b,"lr");break;default:return s}return"-webkit-"+s+"-ms-"+u+s;case 1017:if(-1===s.indexOf("sticky",9))break;case 975:switch(e=(s=t).length-10,a=(u=(33===s.charCodeAt(e)?s.substring(0,e):s).substring(t.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|u.charCodeAt(7))){case 203:if(111>u.charCodeAt(8))break;case 115:s=s.replace(u,"-webkit-"+u)+";"+s;break;case 207:case 102:s=s.replace(u,"-webkit-"+(102<a?"inline-":"")+"box")+";"+s.replace(u,"-webkit-"+u)+";"+s.replace(u,"-ms-"+u+"box")+";"+s}return s+";";case 938:if(45===s.charCodeAt(5))switch(s.charCodeAt(6)){case 105:return u=s.replace("-items",""),"-webkit-"+s+"-webkit-box-"+u+"-ms-flex-"+u+s;case 115:return"-webkit-"+s+"-ms-flex-item-"+s.replace(E,"")+s;default:return"-webkit-"+s+"-ms-flex-line-pack"+s.replace("align-content","").replace(E,"")+s}break;case 973:case 989:if(45!==s.charCodeAt(3)||122===s.charCodeAt(4))break;case 931:case 953:if(!0===I.test(t))return 115===(u=t.substring(t.indexOf(":")+1)).charCodeAt(0)?r(t.replace("stretch","fill-available"),e,n,o).replace(":fill-available",":stretch"):s.replace(u,"-webkit-"+u)+s.replace(u,"-moz-"+u.replace("fill-",""))+s;break;case 962:if(s="-webkit-"+s+(102===s.charCodeAt(5)?"-ms-"+s:"")+s,211===n+o&&105===s.charCodeAt(13)&&0<s.indexOf("transform",10))return s.substring(0,s.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+s}return s}function i(t,e){var n=t.indexOf(1===e?":":"{"),r=t.substring(0,3!==e?n:10);return n=t.substring(n+1,t.length-1),D(2!==e?r:r.replace(C,"$1"),n,e)}function o(t,e){var n=r(e,e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2));return n!==e+";"?n.replace(_," or ($1)").substring(4):"("+e+")"}function s(t,e,n,r,i,o,s,a,c,l){for(var h,f=0,p=e;f<R;++f)switch(h=O[f].call(u,t,p,n,r,i,o,s,a,c,l)){case void 0:case!1:case!0:case null:break;default:p=h}if(p!==e)return p}function a(t){return void 0!==(t=t.prefix)&&(D=null,t?"function"!=typeof t?A=1:(A=2,D=t):A=0),a}function u(t,n){var a=t;if(33>a.charCodeAt(0)&&(a=a.trim()),a=[a],0<R){var u=s(-1,n,a,a,k,S,0,0,0,0);void 0!==u&&"string"==typeof u&&(n=u)}var h=function t(n,a,u,h,f){for(var p,d,v,b,_,E=0,C=0,I=0,T=0,O=0,D=0,M=v=p=0,L=0,F=0,j=0,V=0,U=u.length,B=U-1,H="",z="",q="",W="";L<U;){if(d=u.charCodeAt(L),L===B&&0!==C+T+I+E&&(0!==C&&(d=47===C?10:47),T=I=E=0,U++,B++),0===C+T+I+E){if(L===B&&(0<F&&(H=H.replace(l,"")),0<H.trim().length)){switch(d){case 32:case 9:case 59:case 13:case 10:break;default:H+=u.charAt(L)}d=59}switch(d){case 123:for(p=(H=H.trim()).charCodeAt(0),v=1,V=++L;L<U;){switch(d=u.charCodeAt(L)){case 123:v++;break;case 125:v--;break;case 47:switch(d=u.charCodeAt(L+1)){case 42:case 47:t:{for(M=L+1;M<B;++M)switch(u.charCodeAt(M)){case 47:if(42===d&&42===u.charCodeAt(M-1)&&L+2!==M){L=M+1;break t}break;case 10:if(47===d){L=M+1;break t}}L=M}}break;case 91:d++;case 40:d++;case 34:case 39:for(;L++<B&&u.charCodeAt(L)!==d;);}if(0===v)break;L++}switch(v=u.substring(V,L),0===p&&(p=(H=H.replace(c,"").trim()).charCodeAt(0)),p){case 64:switch(0<F&&(H=H.replace(l,"")),d=H.charCodeAt(1)){case 100:case 109:case 115:case 45:F=a;break;default:F=N}if(V=(v=t(a,F,v,d,f+1)).length,0<R&&(_=s(3,v,F=e(N,H,j),a,k,S,V,d,f,h),H=F.join(""),void 0!==_&&0===(V=(v=_.trim()).length)&&(d=0,v="")),0<V)switch(d){case 115:H=H.replace(w,o);case 100:case 109:case 45:v=H+"{"+v+"}";break;case 107:v=(H=H.replace(g,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&i("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=H+v,112===h&&(z+=v,v="")}else v="";break;default:v=t(a,e(a,H,j),v,h,f+1)}q+=v,v=j=F=M=p=0,H="",d=u.charCodeAt(++L);break;case 125:case 59:if(1<(V=(H=(0<F?H.replace(l,""):H).trim()).length))switch(0===M&&(p=H.charCodeAt(0),45===p||96<p&&123>p)&&(V=(H=H.replace(" ",":")).length),0<R&&void 0!==(_=s(1,H,a,n,k,S,z.length,h,f,h))&&0===(V=(H=_.trim()).length)&&(H="\0\0"),p=H.charCodeAt(0),d=H.charCodeAt(1),p){case 0:break;case 64:if(105===d||99===d){W+=H+u.charAt(L);break}default:58!==H.charCodeAt(V-1)&&(z+=r(H,p,d,H.charCodeAt(2)))}j=F=M=p=0,H="",d=u.charCodeAt(++L)}}switch(d){case 13:case 10:47===C?C=0:0===1+p&&107!==h&&0<H.length&&(F=1,H+="\0"),0<R*P&&s(0,H,a,n,k,S,z.length,h,f,h),S=1,k++;break;case 59:case 125:if(0===C+T+I+E){S++;break}default:switch(S++,b=u.charAt(L),d){case 9:case 32:if(0===T+E+C)switch(O){case 44:case 58:case 9:case 32:b="";break;default:32!==d&&(b=" ")}break;case 0:b="\\0";break;case 12:b="\\f";break;case 11:b="\\v";break;case 38:0===T+C+E&&(F=j=1,b="\f"+b);break;case 108:if(0===T+C+E+x&&0<M)switch(L-M){case 2:112===O&&58===u.charCodeAt(L-3)&&(x=O);case 8:111===D&&(x=D)}break;case 58:0===T+C+E&&(M=L);break;case 44:0===C+I+T+E&&(F=1,b+="\r");break;case 34:case 39:0===C&&(T=T===d?0:0===T?d:T);break;case 91:0===T+C+I&&E++;break;case 93:0===T+C+I&&E--;break;case 41:0===T+C+E&&I--;break;case 40:if(0===T+C+E){if(0===p)switch(2*O+3*D){case 533:break;default:p=1}I++}break;case 64:0===C+I+T+E+M+v&&(v=1);break;case 42:case 47:if(!(0<T+E+I))switch(C){case 0:switch(2*d+3*u.charCodeAt(L+1)){case 235:C=47;break;case 220:V=L,C=42}break;case 42:47===d&&42===O&&V+2!==L&&(33===u.charCodeAt(V+2)&&(z+=u.substring(V,L+1)),b="",C=0)}}0===C&&(H+=b)}D=O,O=d,L++}if(0<(V=z.length)){if(F=a,0<R&&(void 0!==(_=s(2,z,F,n,k,S,V,h,f,h))&&0===(z=_).length))return W+z+q;if(z=F.join(",")+"{"+z+"}",0!=A*x){switch(2!==A||i(z,2)||(x=0),x){case 111:z=z.replace(m,":-moz-$1")+z;break;case 112:z=z.replace(y,"::-webkit-input-$1")+z.replace(y,"::-moz-$1")+z.replace(y,":-ms-input-$1")+z}x=0}}return W+z+q}(N,a,n,0,0);return 0<R&&(void 0!==(u=s(-2,h,a,a,k,S,h.length,0,0,0))&&(h=u)),"",x=0,S=k=1,h}var c=/^\0+/g,l=/[\0\r\f]/g,h=/: */g,f=/zoo|gra/,p=/([,: ])(transform)/g,d=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,y=/::(place)/g,m=/:(read-only)/g,b=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,_=/([\s\S]*?);/g,E=/-self|flex-/g,C=/[^]*?(:[rp][el]a[\w-]+)[^]*/,I=/stretch|:\s*\w+\-(?:conte|avail)/,T=/([^-])(image-set\()/,S=1,k=1,x=0,A=1,N=[],O=[],R=0,D=null,P=0;return u.use=function t(e){switch(e){case void 0:case null:R=O.length=0;break;default:if("function"==typeof e)O[R++]=e;else if("object"==typeof e)for(var n=0,r=e.length;n<r;++n)t(e[n]);else P=0|!!e}return t},u.set=a,void 0!==t&&a(t),u}var Yr=function(t){var e=new WeakMap;return function(n){if(e.has(n))return e.get(n);var r=t(n);return e.set(n,r),r}};function Qr(t){t&&Zr.current.insert(t+"}")}var Zr={current:null},Jr=function(t,e,n,r,i,o,s,a,u,c){switch(t){case 1:switch(e.charCodeAt(0)){case 64:return Zr.current.insert(e+";"),"";case 108:if(98===e.charCodeAt(2))return""}break;case 2:if(0===a)return e+"/*|*/";break;case 3:switch(a){case 102:case 112:return Zr.current.insert(n[0]+e),"";default:return e+(0===c?"/*|*/":"")}case-2:e.split("/*|*/}").forEach(Qr)}},$r=function(t,e){if(1===t&&108===e.charCodeAt(0)&&98===e.charCodeAt(2))return""},ti="undefined"!=typeof document,ei={},ni=ti?void 0:Yr((function(){var t=Yr((function(){return{}})),e={},n={};return function(r){return void 0===r||!0===r?e:!1===r?n:t(r)}})),ri=function(t){void 0===t&&(t={});var e,n=t.key||"css";void 0!==t.prefix&&(e={prefix:t.prefix});var r=new Xr(e);if("production"!==process.env.NODE_ENV&&/[^a-z-]/.test(n))throw new Error('Emotion key must only contain lower case alphabetical characters and - but "'+n+'" was passed');var i,o,s={};if(ti){i=t.container||document.head;var a=document.querySelectorAll("style[data-emotion-"+n+"]");Array.prototype.forEach.call(a,(function(t){t.getAttribute("data-emotion-"+n).split(" ").forEach((function(t){s[t]=!0})),t.parentNode!==i&&i.appendChild(t)}))}if(ti)r.use(t.stylisPlugins)(Jr),o=function(t,e,n,i){var o=e.name;if(Zr.current=n,"production"!==process.env.NODE_ENV&&void 0!==e.map){var s=e.map;Zr.current={insert:function(t){n.insert(t+s)}}}r(t,e.styles),i&&(h.inserted[o]=!0)};else{r.use($r);var u=ei;(t.stylisPlugins||void 0!==t.prefix)&&(r.use(t.stylisPlugins),u=ni(t.stylisPlugins||ei)(t.prefix));o=function(t,e,n,i){var o=e.name,s=function(t,e){var n=e.name;return void 0===u[n]&&(u[n]=r(t,e.styles)),u[n]}(t,e);return void 0===h.compat?(i&&(h.inserted[o]=!0),"development"===process.env.NODE_ENV&&void 0!==e.map?s+e.map:s):i?void(h.inserted[o]=s):s}}if("production"!==process.env.NODE_ENV){var c=/\/\*/g,l=/\*\//g;r.use((function(t,e){switch(t){case-1:for(;c.test(e);){if(l.lastIndex=c.lastIndex,!l.test(e))throw new Error('Your styles have an unterminated comment ("/*" without corresponding "*/").');c.lastIndex=l.lastIndex}c.lastIndex=0}})),r.use((function(t,e,n){switch(t){case-1:var r=e.match(/(:first|:nth|:nth-last)-child/g);r&&!0!==h.compat&&r.forEach((function(t){var n=new RegExp(t+".*\\/\\* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason \\*\\/").test(e);t&&!n&&console.error('The pseudo class "'+t+'" is potentially unsafe when doing server-side rendering. Try changing it to "'+t.split("-child")[0]+'-of-type".')}))}}))}var h={key:n,sheet:new Gr({key:n,container:i,nonce:t.nonce,speedy:t.speedy}),nonce:t.nonce,inserted:s,registered:{},insert:o};return h},ii="undefined"!=typeof document;function oi(t,e,n){var r="";return n.split(" ").forEach((function(n){void 0!==t[n]?e.push(t[n]):r+=n+" "})),r}var si=function(t,e,n){var r=t.key+"-"+e.name;if((!1===n||!1===ii&&void 0!==t.compat)&&void 0===t.registered[r]&&(t.registered[r]=e.styles),void 0===t.inserted[e.name]){var i="",o=e;do{var s=t.insert("."+r,o,t.sheet,!0);ii||void 0===s||(i+=s),o=o.next}while(void 0!==o);if(!ii&&0!==i.length)return i}};var ai={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var ui="You have illegal escape sequence in your template literal, most likely inside content's property value.\nBecause you write your CSS inside a JavaScript string you actually have to do double escaping, so for example \"content: '\\00d7';\" should become \"content: '\\\\00d7';\".\nYou can read more about this here:\nhttps://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Template_literals#ES2018_revision_of_illegal_escape_sequences",ci=/[A-Z]|^ms/g,li=/_EMO_([^_]+?)_([^]*?)_EMO_/g,hi=function(t){return 45===t.charCodeAt(1)},fi=function(t){return null!=t&&"boolean"!=typeof t},pi=function(t){var e={};return function(n){return void 0===e[n]&&(e[n]=t(n)),e[n]}}((function(t){return hi(t)?t:t.replace(ci,"-$&").toLowerCase()})),di=function(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(li,(function(t,e,n){return Ii={name:e,styles:n,next:Ii},e}))}return 1===ai[t]||hi(t)||"number"!=typeof e||0===e?e:e+"px"};if("production"!==process.env.NODE_ENV){var vi=/(attr|calc|counters?|url)\(/,gi=["normal","none","counter","open-quote","close-quote","no-open-quote","no-close-quote","initial","inherit","unset"],yi=di,mi=/^-ms-/,bi=/-(.)/g,wi={};di=function(t,e){"content"===t&&("string"!=typeof e||-1===gi.indexOf(e)&&!vi.test(e)&&(e.charAt(0)!==e.charAt(e.length-1)||'"'!==e.charAt(0)&&"'"!==e.charAt(0)))&&console.error("You seem to be using a value for 'content' without quotes, try replacing it with `content: '\""+e+"\"'`");var n=yi(t,e);return""===n||hi(t)||-1===t.indexOf("-")||void 0!==wi[t]||(wi[t]=!0,console.error("Using kebab-case for css properties in objects is not supported. Did you mean "+t.replace(mi,"ms-").replace(bi,(function(t,e){return e.toUpperCase()}))+"?")),n}}var _i=!0;function Ei(t,e,n,r){if(null==n)return"";if(void 0!==n.__emotion_styles){if("production"!==process.env.NODE_ENV&&"NO_COMPONENT_SELECTOR"===n.toString())throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");return n}switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Ii={name:n.name,styles:n.styles,next:Ii},n.name;if(void 0!==n.styles){var i=n.next;if(void 0!==i)for(;void 0!==i;)Ii={name:i.name,styles:i.styles,next:Ii},i=i.next;var o=n.styles+";";return"production"!==process.env.NODE_ENV&&void 0!==n.map&&(o+=n.map),o}return function(t,e,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Ei(t,e,n[i],!1);else for(var o in n){var s=n[o];if("object"!=typeof s)null!=e&&void 0!==e[s]?r+=o+"{"+e[s]+"}":fi(s)&&(r+=pi(o)+":"+di(o,s)+";");else{if("NO_COMPONENT_SELECTOR"===o&&"production"!==process.env.NODE_ENV)throw new Error("Component selectors can only be used in conjunction with babel-plugin-emotion.");if(!Array.isArray(s)||"string"!=typeof s[0]||null!=e&&void 0!==e[s[0]]){var a=Ei(t,e,s,!1);switch(o){case"animation":case"animationName":r+=pi(o)+":"+a+";";break;default:"production"!==process.env.NODE_ENV&&"undefined"===o&&console.error("You have passed in falsy value as style object's key (can happen when in example you pass unexported component as computed key)."),r+=o+"{"+a+"}"}}else for(var u=0;u<s.length;u++)fi(s[u])&&(r+=pi(o)+":"+di(o,s[u])+";")}}return r}(t,e,n);case"function":if(void 0!==t){var s=Ii,a=n(t);return Ii=s,Ei(t,e,a,r)}"production"!==process.env.NODE_ENV&&console.error("Functions that are interpolated in css calls will be stringified.\nIf you want to have a css call based on props, create a function that returns a css call like this\nlet dynamicStyle = (props) => css`color: ${props.color}`\nIt can be called directly with props or interpolated in a styled call like this\nlet SomeComponent = styled('div')`${dynamicStyle}`");break;case"string":if("production"!==process.env.NODE_ENV){var u=[],c=n.replace(li,(function(t,e,n){var r="animation"+u.length;return u.push("const "+r+" = keyframes`"+n.replace(/^@keyframes animation-\w+/,"")+"`"),"${"+r+"}"}));u.length&&console.error("`keyframes` output got interpolated into plain string, please wrap it with `css`.\n\nInstead of doing this:\n\n"+[].concat(u,["`"+c+"`"]).join("\n")+"\n\nYou should wrap it with `css` like this:\n\ncss`"+c+"`")}}if(null==e)return n;var l=e[n];return"production"!==process.env.NODE_ENV&&r&&_i&&void 0!==l&&(console.error("Interpolating a className from css`` is not recommended and will cause problems with composition.\nInterpolating a className from css`` will be completely unsupported in a future major version of Emotion"),_i=!1),void 0===l||r?n:l}var Ci,Ii,Ti=/label:\s*([^\s;\n{]+)\s*;/g;"production"!==process.env.NODE_ENV&&(Ci=/\/\*#\ssourceMappingURL=data:application\/json;\S+\s+\*\//);var Si=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var r=!0,i="";Ii=void 0;var o,s=t[0];null==s||void 0===s.raw?(r=!1,i+=Ei(n,e,s,!1)):("production"!==process.env.NODE_ENV&&void 0===s[0]&&console.error(ui),i+=s[0]);for(var a=1;a<t.length;a++)i+=Ei(n,e,t[a],46===i.charCodeAt(i.length-1)),r&&("production"!==process.env.NODE_ENV&&void 0===s[a]&&console.error(ui),i+=s[a]);"production"!==process.env.NODE_ENV&&(i=i.replace(Ci,(function(t){return o=t,""}))),Ti.lastIndex=0;for(var u,c="";null!==(u=Ti.exec(i));)c+="-"+u[1];var l=function(t){for(var e,n=0,r=0,i=t.length;i>=4;++r,i-=4)e=1540483477*(65535&(e=255&t.charCodeAt(r)|(255&t.charCodeAt(++r))<<8|(255&t.charCodeAt(++r))<<16|(255&t.charCodeAt(++r))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&t.charCodeAt(r+2))<<16;case 2:n^=(255&t.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+c;return"production"!==process.env.NODE_ENV?{name:l,styles:i,map:o,next:Ii,toString:function(){return"You have tried to stringify object returned from `css` function. It isn't supposed to be used directly (e.g. as value of the `className` prop), but rather handed to emotion so it can handle it (e.g. as value of `css` prop)."}}:{name:l,styles:i,next:Ii}},ki="undefined"!=typeof document,xi=r("undefined"!=typeof HTMLElement?ri():null),Ai=r({}),Ni=(xi.Provider,function(t){return s((function(e,n){return i(xi.Consumer,null,(function(r){return t(e,r,n)}))}))});if(!ki){var Oi=function(t){function e(e,n,r){var i;return(i=t.call(this,e,n,r)||this).state={value:ri()},i}return Kr(e,t),e.prototype.render=function(){return i(xi.Provider,this.state,this.props.children(this.state.value))},e}(a);Ni=function(t){return function(e){return i(xi.Consumer,null,(function(n){return null===n?i(Oi,null,(function(n){return t(e,n)})):t(e,n)}))}}}var Ri=function(t){return t.replace(/\$/g,"-")},Di="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Pi="__EMOTION_LABEL_PLEASE_DO_NOT_USE__",Mi=Object.prototype.hasOwnProperty,Li=function(t,e,n,r){var s=null===n?e.css:e.css(n);"string"==typeof s&&void 0!==t.registered[s]&&(s=t.registered[s]);var a=e[Di],u=[s],c="";"string"==typeof e.className?c=oi(t.registered,u,e.className):null!=e.className&&(c=e.className+" ");var l=Si(u);if("production"!==process.env.NODE_ENV&&-1===l.name.indexOf("-")){var h=e[Pi];h&&(l=Si([l,"label:"+h+";"]))}var f=si(t,l,"string"==typeof a);c+=t.key+"-"+l.name;var p={};for(var d in e)!Mi.call(e,d)||"css"===d||d===Di||"production"!==process.env.NODE_ENV&&d===Pi||(p[d]=e[d]);p.ref=r,p.className=c;var v=i(a,p);if(!ki&&void 0!==f){for(var g,y=l.name,m=l.next;void 0!==m;)y+=" "+m.name,m=m.next;return i(o,null,i("style",((g={})["data-emotion-"+t.key]=y,g.dangerouslySetInnerHTML={__html:f},g.nonce=t.sheet.nonce,g)),v)}return v},Fi=Ni((function(t,e,n){return"function"==typeof t.css?i(Ai.Consumer,null,(function(r){return Li(e,t,r,n)})):Li(e,t,null,n)}));"production"!==process.env.NODE_ENV&&(Fi.displayName="EmotionCssPropInternal");var ji=function(t,e){var n=arguments;if(null==e||!Mi.call(e,"css"))return i.apply(void 0,n);if("production"!==process.env.NODE_ENV&&"string"==typeof e.css&&-1!==e.css.indexOf(":"))throw new Error("Strings are not allowed as css prop values, please wrap it in a css template literal from '@emotion/css' like this: css`"+e.css+"`");var r=n.length,o=new Array(r);o[0]=Fi;var s={};for(var a in e)Mi.call(e,a)&&(s[a]=e[a]);if(s[Di]=t,"production"!==process.env.NODE_ENV){var u=new Error;if(u.stack){var c=u.stack.match(/at (?:Object\.|)jsx.*\n\s+at ([A-Z][A-Za-z$]+) /);c||(c=u.stack.match(/.*\n([A-Z][A-Za-z$]+)@/)),c&&(s[Pi]=Ri(c[1]))}}o[1]=s;for(var l=2;l<r;l++)o[l]=n[l];return i.apply(null,o)},Vi=function t(e){for(var n=e.length,r=0,i="";r<n;r++){var o=e[r];if(null!=o){var s=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))s=t(o);else for(var a in s="",o)o[a]&&a&&(s&&(s+=" "),s+=a);break;default:s=o}s&&(i&&(i+=" "),i+=s)}}return i};function Ui(t,e,n){var r=[],i=oi(t,r,n);return r.length<2?n:i+e(r)}Ni((function(t,e){return i(Ai.Consumer,null,(function(n){var r,s="",a="",u=!1,c=function(){if(u&&"production"!==process.env.NODE_ENV)throw new Error("css can only be used during render");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=Si(n,e.registered);if(ki)si(e,i,!1);else{var o=si(e,i,!1);void 0!==o&&(s+=o)}return ki||(a+=" "+i.name),e.key+"-"+i.name},l={css:c,cx:function(){if(u&&"production"!==process.env.NODE_ENV)throw new Error("cx can only be used during render");for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Ui(e.registered,c,Vi(n))},theme:n},h=t.children(l);return u=!0,ki||0===s.length?h:i(o,null,i("style",((r={})["data-emotion-"+e.key]=a.substring(1),r.dangerouslySetInnerHTML={__html:s},r.nonce=e.sheet.nonce,r)),h)}))}));var Bi=function(t){return ji("svg",{css:t.style,width:"119",height:"110",viewBox:"0 0 119 110",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ji("mask",{id:"path-1-inside-1",fill:"white",display:"none"},ji("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 79.3333H88.6005C105.365 79.3333 119 65.8368 119 49.2511C119 34.0489 107.561 21.3605 92.587 19.4714C86.0767 7.57633 73.3238 0 59.5 0C41.9227 0 26.6808 12.2223 22.8232 28.9021C10.0158 30.2508 0 41.0153 0 54.0458C0 67.9887 11.4637 79.3333 25.5453 79.3333H35.9479C38.0007 79.3333 39.6667 77.6673 39.6667 75.6146C39.6667 73.5618 38.0007 71.8958 35.9479 71.8958H25.5453C15.5642 71.8958 7.4375 63.8881 7.4375 54.0458C7.4375 44.2035 15.5593 36.1958 25.9321 36.1958C27.7865 36.1958 29.3533 34.8323 29.6161 33.0027C31.6986 18.4301 44.5457 7.4375 59.5 7.4375C71.1917 7.4375 81.9265 14.166 86.8353 24.5735C87.4204 25.8081 88.6352 26.6263 89.9987 26.7006C102.092 27.3601 111.562 37.2668 111.562 49.2511C111.562 61.7362 101.264 71.8958 88.6005 71.8958H82.9727C80.92 71.8958 79.254 73.5618 79.254 75.6146C79.254 77.6673 80.92 79.3333 82.9727 79.3333ZM55.7812 90.4896C55.7812 92.5423 57.4473 94.2083 59.5 94.2083C61.5527 94.2083 63.2188 92.5423 63.2188 90.4896V62.2791L68.0286 67.0862C68.7525 67.8151 69.7045 68.1771 70.6565 68.1771C71.6085 68.1771 72.5605 67.8151 73.2845 67.0912C74.7373 65.6384 74.7373 63.2832 73.2845 61.8304L62.1282 50.6742C60.6754 49.2214 58.3202 49.2214 56.8674 50.6742L45.7112 61.8304C44.2584 63.2832 44.2584 65.6384 45.7112 67.0912C47.164 68.544 49.5192 68.544 50.972 67.0912L55.7812 62.2819V90.4896ZM43.3851 109.083H75.6143C80.3991 109.083 84.2914 105.191 84.2914 100.406V92.9687C84.2914 90.916 82.6254 89.25 80.5726 89.25C78.5198 89.25 76.8538 90.916 76.8538 92.9687V100.406C76.8538 101.09 76.2985 101.646 75.6143 101.646H43.3851C42.7008 101.646 42.1455 101.09 42.1455 100.406V92.9687C42.1455 90.916 40.4795 89.25 38.4268 89.25C36.374 89.25 34.708 90.916 34.708 92.9687V100.406C34.708 105.191 38.6003 109.083 43.3851 109.083Z"})),ji("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 79.3333H88.6005C105.365 79.3333 119 65.8368 119 49.2511C119 34.0489 107.561 21.3605 92.587 19.4714C86.0767 7.57633 73.3238 0 59.5 0C41.9227 0 26.6808 12.2223 22.8232 28.9021C10.0158 30.2508 0 41.0153 0 54.0458C0 67.9887 11.4637 79.3333 25.5453 79.3333H35.9479C38.0007 79.3333 39.6667 77.6673 39.6667 75.6146C39.6667 73.5618 38.0007 71.8958 35.9479 71.8958H25.5453C15.5642 71.8958 7.4375 63.8881 7.4375 54.0458C7.4375 44.2035 15.5593 36.1958 25.9321 36.1958C27.7865 36.1958 29.3533 34.8323 29.6161 33.0027C31.6986 18.4301 44.5457 7.4375 59.5 7.4375C71.1917 7.4375 81.9265 14.166 86.8353 24.5735C87.4204 25.8081 88.6352 26.6263 89.9987 26.7006C102.092 27.3601 111.562 37.2668 111.562 49.2511C111.562 61.7362 101.264 71.8958 88.6005 71.8958H82.9727C80.92 71.8958 79.254 73.5618 79.254 75.6146C79.254 77.6673 80.92 79.3333 82.9727 79.3333ZM55.7812 90.4896C55.7812 92.5423 57.4473 94.2083 59.5 94.2083C61.5527 94.2083 63.2188 92.5423 63.2188 90.4896V62.2791L68.0286 67.0862C68.7525 67.8151 69.7045 68.1771 70.6565 68.1771C71.6085 68.1771 72.5605 67.8151 73.2845 67.0912C74.7373 65.6384 74.7373 63.2832 73.2845 61.8304L62.1282 50.6742C60.6754 49.2214 58.3202 49.2214 56.8674 50.6742L45.7112 61.8304C44.2584 63.2832 44.2584 65.6384 45.7112 67.0912C47.164 68.544 49.5192 68.544 50.972 67.0912L55.7812 62.2819V90.4896ZM43.3851 109.083H75.6143C80.3991 109.083 84.2914 105.191 84.2914 100.406V92.9687C84.2914 90.916 82.6254 89.25 80.5726 89.25C78.5198 89.25 76.8538 90.916 76.8538 92.9687V100.406C76.8538 101.09 76.2985 101.646 75.6143 101.646H43.3851C42.7008 101.646 42.1455 101.09 42.1455 100.406V92.9687C42.1455 90.916 40.4795 89.25 38.4268 89.25C36.374 89.25 34.708 90.916 34.708 92.9687V100.406C34.708 105.191 38.6003 109.083 43.3851 109.083Z",fill:"#386FFE"}),ji("path",{d:"M92.587 19.4714L90.8325 20.4316L91.323 21.3278L92.3366 21.4556L92.587 19.4714ZM22.8232 28.9021L23.0327 30.8911L24.4505 30.7418L24.7718 29.3528L22.8232 28.9021ZM29.6161 33.0027L31.5958 33.287L31.596 33.2856L29.6161 33.0027ZM86.8353 24.5735L85.0264 25.4267L85.028 25.43L86.8353 24.5735ZM89.9987 26.7006L89.8898 28.6977H89.8898L89.9987 26.7006ZM63.2188 62.2791L64.6326 60.8645L61.2188 57.4527V62.2791H63.2188ZM68.0286 67.0862L69.4477 65.6768L69.4424 65.6716L68.0286 67.0862ZM73.2845 61.8304L74.6987 60.4162L73.2845 61.8304ZM62.1282 50.6742L60.714 52.0884L62.1282 50.6742ZM56.8674 50.6742L58.2816 52.0884L56.8674 50.6742ZM45.7112 61.8304L44.297 60.4162L45.7112 61.8304ZM45.7112 67.0912L47.1254 65.677L45.7112 67.0912ZM50.972 67.0912L49.5578 65.677H49.5578L50.972 67.0912ZM55.7812 62.2819H57.7812V57.4535L54.367 60.8677L55.7812 62.2819ZM88.6005 77.3333H82.9727V81.3333H88.6005V77.3333ZM117 49.2511C117 64.7126 104.28 77.3333 88.6005 77.3333V81.3333C106.449 81.3333 121 66.9609 121 49.2511H117ZM92.3366 21.4556C106.33 23.221 117 35.0756 117 49.2511H121C121 33.0222 108.792 19.5 92.8373 17.4871L92.3366 21.4556ZM59.5 2C72.599 2 84.676 9.18293 90.8325 20.4316L94.3414 18.5112C87.4773 5.96973 74.0487 -2 59.5 -2V2ZM24.7718 29.3528C28.4182 13.5861 42.8473 2 59.5 2V-2C40.9981 -2 24.9434 10.8585 20.8746 28.4515L24.7718 29.3528ZM2 54.0458C2 42.0668 11.215 32.1356 23.0327 30.8911L22.6138 26.9131C8.81664 28.366 -2 39.9638 -2 54.0458H2ZM25.5453 77.3333C12.5489 77.3333 2 66.8649 2 54.0458H-2C-2 69.1125 10.3784 81.3333 25.5453 81.3333V77.3333ZM35.9479 77.3333H25.5453V81.3333H35.9479V77.3333ZM37.6667 75.6146C37.6667 76.5628 36.8961 77.3333 35.9479 77.3333V81.3333C39.1052 81.3333 41.6667 78.7719 41.6667 75.6146H37.6667ZM35.9479 73.8958C36.8961 73.8958 37.6667 74.6664 37.6667 75.6146H41.6667C41.6667 72.4573 39.1052 69.8958 35.9479 69.8958V73.8958ZM25.5453 73.8958H35.9479V69.8958H25.5453V73.8958ZM5.4375 54.0458C5.4375 65.0199 14.487 73.8958 25.5453 73.8958V69.8958C16.6414 69.8958 9.4375 62.7564 9.4375 54.0458H5.4375ZM25.9321 34.1958C14.5096 34.1958 5.4375 43.0448 5.4375 54.0458H9.4375C9.4375 45.3622 16.6089 38.1958 25.9321 38.1958V34.1958ZM27.6364 32.7183C27.5147 33.5657 26.7894 34.1958 25.9321 34.1958V38.1958C28.7836 38.1958 31.1919 36.0989 31.5958 33.287L27.6364 32.7183ZM59.5 5.4375C43.5742 5.4375 29.8629 17.1385 27.6362 32.7197L31.596 33.2856C33.5344 19.7217 45.5171 9.4375 59.5 9.4375V5.4375ZM88.6442 23.7203C83.3984 12.5981 71.9496 5.4375 59.5 5.4375V9.4375C70.4339 9.4375 80.4547 15.7338 85.0264 25.4267L88.6442 23.7203ZM90.1076 24.7036C89.479 24.6693 88.9146 24.291 88.6426 23.717L85.028 25.43C85.9261 27.3252 87.7913 28.5832 89.8898 28.6977L90.1076 24.7036ZM113.562 49.2511C113.562 36.1869 103.244 25.4199 90.1076 24.7036L89.8898 28.6977C100.94 29.3002 109.562 38.3468 109.562 49.2511H113.562ZM88.6005 73.8958C102.342 73.8958 113.562 62.8667 113.562 49.2511H109.562C109.562 60.6057 100.186 69.8958 88.6005 69.8958V73.8958ZM82.9727 73.8958H88.6005V69.8958H82.9727V73.8958ZM81.254 75.6146C81.254 74.6664 82.0246 73.8958 82.9727 73.8958V69.8958C79.8154 69.8958 77.254 72.4573 77.254 75.6146H81.254ZM82.9727 77.3333C82.0246 77.3333 81.254 76.5628 81.254 75.6146H77.254C77.254 78.7719 79.8154 81.3333 82.9727 81.3333V77.3333ZM59.5 92.2083C58.5518 92.2083 57.7812 91.4378 57.7812 90.4896H53.7812C53.7812 93.6469 56.3427 96.2083 59.5 96.2083V92.2083ZM61.2188 90.4896C61.2188 91.4378 60.4482 92.2083 59.5 92.2083V96.2083C62.6573 96.2083 65.2188 93.6469 65.2188 90.4896H61.2188ZM61.2188 62.2791V90.4896H65.2188V62.2791H61.2188ZM69.4424 65.6716L64.6326 60.8645L61.8049 63.6938L66.6148 68.5009L69.4424 65.6716ZM70.6565 66.1771C70.2114 66.1771 69.7782 66.0097 69.4477 65.6768L66.6096 68.4956C67.7269 69.6205 69.1977 70.1771 70.6565 70.1771V66.1771ZM71.8702 65.677C71.5383 66.0089 71.1025 66.1771 70.6565 66.1771V70.1771C72.1146 70.1771 73.5828 69.6213 74.6987 68.5054L71.8702 65.677ZM71.8702 63.2446C72.542 63.9164 72.542 65.0052 71.8702 65.677L74.6987 68.5054C76.9325 66.2716 76.9325 62.65 74.6987 60.4162L71.8702 63.2446ZM60.714 52.0884L71.8702 63.2446L74.6987 60.4162L63.5424 49.2599L60.714 52.0884ZM58.2816 52.0884C58.9534 51.4166 60.0423 51.4166 60.714 52.0884L63.5424 49.2599C61.3086 47.0261 57.687 47.0261 55.4532 49.2599L58.2816 52.0884ZM47.1254 63.2446L58.2816 52.0884L55.4532 49.2599L44.297 60.4162L47.1254 63.2446ZM47.1254 65.677C46.4536 65.0052 46.4536 63.9164 47.1254 63.2446L44.297 60.4162C42.0631 62.65 42.0631 66.2716 44.297 68.5054L47.1254 65.677ZM49.5578 65.677C48.886 66.3487 47.7971 66.3487 47.1254 65.677L44.297 68.5054C46.5308 70.7392 50.1523 70.7392 52.3862 68.5054L49.5578 65.677ZM54.367 60.8677L49.5578 65.677L52.3862 68.5054L57.1955 63.6961L54.367 60.8677ZM57.7812 90.4896V62.2819H53.7812V90.4896H57.7812ZM75.6143 107.083H43.3851V111.083H75.6143V107.083ZM82.2914 100.406C82.2914 104.086 79.2945 107.083 75.6143 107.083V111.083C81.5036 111.083 86.2914 106.296 86.2914 100.406H82.2914ZM82.2914 92.9687V100.406H86.2914V92.9687H82.2914ZM80.5726 91.25C81.5208 91.25 82.2914 92.0205 82.2914 92.9687H86.2914C86.2914 89.8114 83.7299 87.25 80.5726 87.25V91.25ZM78.8538 92.9687C78.8538 92.0205 79.6244 91.25 80.5726 91.25V87.25C77.4153 87.25 74.8538 89.8114 74.8538 92.9687H78.8538ZM78.8538 100.406V92.9687H74.8538V100.406H78.8538ZM75.6143 103.646C77.4031 103.646 78.8538 102.195 78.8538 100.406H74.8538C74.8538 99.9859 75.1939 99.6458 75.6143 99.6458V103.646ZM43.3851 103.646H75.6143V99.6458H43.3851V103.646ZM40.1455 100.406C40.1455 102.195 41.5963 103.646 43.3851 103.646V99.6458C43.8054 99.6458 44.1455 99.9859 44.1455 100.406H40.1455ZM40.1455 92.9687V100.406H44.1455V92.9687H40.1455ZM38.4268 91.25C39.3749 91.25 40.1455 92.0205 40.1455 92.9687H44.1455C44.1455 89.8114 41.5841 87.25 38.4268 87.25V91.25ZM36.708 92.9687C36.708 92.0205 37.4786 91.25 38.4268 91.25V87.25C35.2694 87.25 32.708 89.8114 32.708 92.9687H36.708ZM36.708 100.406V92.9687H32.708V100.406H36.708ZM43.3851 107.083C39.7049 107.083 36.708 104.086 36.708 100.406H32.708C32.708 106.296 37.4957 111.083 43.3851 111.083V107.083Z",fill:t.background,mask:"url(#path-1-inside-1)"}))};Bi.displayName="DropZone svg";var Hi=function(t){return ji("svg",{css:t.style,width:"120",height:"120",viewBox:"0 0 120 120",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ji("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 84.3328H88.6005C105.365 84.3328 119 70.8363 119 54.2506C119 39.0484 107.561 26.36 92.587 24.4709C86.0767 12.5758 73.3238 4.99951 59.5 4.99951C41.9227 4.99951 26.6808 17.2218 22.8232 33.9016C10.0158 35.2503 0 46.0148 0 59.0453C0 72.9882 11.4637 84.3328 25.5453 84.3328H35.9479C38.0007 84.3328 39.6667 82.6668 39.6667 80.6141C39.6667 78.5613 38.0007 76.8953 35.9479 76.8953H25.5453C15.5642 76.8953 7.4375 68.8876 7.4375 59.0453C7.4375 49.2031 15.5593 41.1953 25.9321 41.1953C27.7865 41.1953 29.3533 39.8318 29.6161 38.0022C31.6986 23.4296 44.5457 12.437 59.5 12.437C71.1917 12.437 81.9265 19.1655 86.8353 29.573C87.4204 30.8076 88.6352 31.6258 89.9987 31.7001C102.092 32.3596 111.562 42.2663 111.562 54.2506C111.562 66.7357 101.264 76.8953 88.6005 76.8953H82.9727C80.92 76.8953 79.254 78.5613 79.254 80.6141C79.254 82.6668 80.92 84.3328 82.9727 84.3328ZM43.3851 114.083H75.6143C80.3991 114.083 84.2914 110.191 84.2914 105.406V97.9682C84.2914 95.9155 82.6254 94.2495 80.5726 94.2495C78.5198 94.2495 76.8538 95.9155 76.8538 97.9682V105.406C76.8538 106.09 76.2985 106.645 75.6143 106.645H43.3851C42.7008 106.645 42.1455 106.09 42.1455 105.406V97.9682C42.1455 95.9155 40.4795 94.2495 38.4268 94.2495C36.374 94.2495 34.708 95.9155 34.708 97.9682V105.406C34.708 110.191 38.6003 114.083 43.3851 114.083Z"}),ji("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M82.9727 84.3328H88.6005C105.365 84.3328 119 70.8363 119 54.2506C119 39.0484 107.561 26.36 92.587 24.4709C86.0767 12.5758 73.3238 4.99951 59.5 4.99951C41.9227 4.99951 26.6808 17.2218 22.8232 33.9016C10.0158 35.2503 0 46.0148 0 59.0453C0 72.9882 11.4637 84.3328 25.5453 84.3328H35.9479C38.0007 84.3328 39.6667 82.6668 39.6667 80.6141C39.6667 78.5613 38.0007 76.8953 35.9479 76.8953H25.5453C15.5642 76.8953 7.4375 68.8876 7.4375 59.0453C7.4375 49.2031 15.5593 41.1953 25.9321 41.1953C27.7865 41.1953 29.3533 39.8318 29.6161 38.0022C31.6986 23.4296 44.5457 12.437 59.5 12.437C71.1917 12.437 81.9265 19.1655 86.8353 29.573C87.4204 30.8076 88.6352 31.6258 89.9987 31.7001C102.092 32.3596 111.562 42.2663 111.562 54.2506C111.562 66.7357 101.264 76.8953 88.6005 76.8953H82.9727C80.92 76.8953 79.254 78.5613 79.254 80.6141C79.254 82.6668 80.92 84.3328 82.9727 84.3328ZM43.3851 114.083H75.6143C80.3991 114.083 84.2914 110.191 84.2914 105.406V97.9682C84.2914 95.9155 82.6254 94.2495 80.5726 94.2495C78.5198 94.2495 76.8538 95.9155 76.8538 97.9682V105.406C76.8538 106.09 76.2985 106.645 75.6143 106.645H43.3851C42.7008 106.645 42.1455 106.09 42.1455 105.406V97.9682C42.1455 95.9155 40.4795 94.2495 38.4268 94.2495C36.374 94.2495 34.708 95.9155 34.708 97.9682V105.406C34.708 110.191 38.6003 114.083 43.3851 114.083Z",fill:"#FC2D81"}),ji("path",{d:"M92.587 24.4709L90.8325 25.4311L91.323 26.3273L92.3366 26.4552L92.587 24.4709ZM22.8232 33.9016L23.0327 35.8906L24.4505 35.7413L24.7718 34.3523L22.8232 33.9016ZM29.6161 38.0022L31.5958 38.2865L31.596 38.2851L29.6161 38.0022ZM86.8353 29.573L85.0264 30.4262L85.028 30.4295L86.8353 29.573ZM89.9987 31.7001L89.8898 33.6972H89.8898L89.9987 31.7001ZM88.6005 82.3328H82.9727V86.3328H88.6005V82.3328ZM117 54.2506C117 69.7121 104.28 82.3328 88.6005 82.3328V86.3328C106.449 86.3328 121 71.9604 121 54.2506H117ZM92.3366 26.4552C106.33 28.2205 117 40.0751 117 54.2506H121C121 38.0217 108.792 24.4995 92.8373 22.4866L92.3366 26.4552ZM59.5 6.99951C72.599 6.99951 84.676 14.1824 90.8325 25.4311L94.3414 23.5107C87.4773 10.9692 74.0487 2.99951 59.5 2.99951V6.99951ZM24.7718 34.3523C28.4182 18.5856 42.8473 6.99951 59.5 6.99951V2.99951C40.9981 2.99951 24.9434 15.858 20.8746 33.451L24.7718 34.3523ZM2 59.0453C2 47.0663 11.215 37.1351 23.0327 35.8906L22.6138 31.9126C8.81664 33.3655 -2 44.9633 -2 59.0453H2ZM25.5453 82.3328C12.5489 82.3328 2 71.8644 2 59.0453H-2C-2 74.112 10.3784 86.3328 25.5453 86.3328V82.3328ZM35.9479 82.3328H25.5453V86.3328H35.9479V82.3328ZM37.6667 80.6141C37.6667 81.5623 36.8961 82.3328 35.9479 82.3328V86.3328C39.1052 86.3328 41.6667 83.7714 41.6667 80.6141H37.6667ZM35.9479 78.8953C36.8961 78.8953 37.6667 79.6659 37.6667 80.6141H41.6667C41.6667 77.4568 39.1052 74.8953 35.9479 74.8953V78.8953ZM25.5453 78.8953H35.9479V74.8953H25.5453V78.8953ZM5.4375 59.0453C5.4375 70.0194 14.487 78.8953 25.5453 78.8953V74.8953C16.6414 74.8953 9.4375 67.7559 9.4375 59.0453H5.4375ZM25.9321 39.1953C14.5096 39.1953 5.4375 48.0444 5.4375 59.0453H9.4375C9.4375 50.3617 16.6089 43.1953 25.9321 43.1953V39.1953ZM27.6364 37.7178C27.5147 38.5652 26.7894 39.1953 25.9321 39.1953V43.1953C28.7836 43.1953 31.1919 41.0984 31.5958 38.2865L27.6364 37.7178ZM59.5 10.437C43.5742 10.437 29.8629 22.138 27.6362 37.7192L31.596 38.2851C33.5344 24.7212 45.5171 14.437 59.5 14.437V10.437ZM88.6442 28.7198C83.3984 17.5976 71.9496 10.437 59.5 10.437V14.437C70.4339 14.437 80.4547 20.7333 85.0264 30.4262L88.6442 28.7198ZM90.1076 29.7031C89.479 29.6688 88.9146 29.2905 88.6426 28.7165L85.028 30.4295C85.9261 32.3247 87.7913 33.5827 89.8898 33.6972L90.1076 29.7031ZM113.562 54.2506C113.562 41.1864 103.244 30.4194 90.1076 29.7031L89.8898 33.6972C100.94 34.2998 109.562 43.3463 109.562 54.2506H113.562ZM88.6005 78.8953C102.342 78.8953 113.562 67.8662 113.562 54.2506H109.562C109.562 65.6052 100.186 74.8953 88.6005 74.8953V78.8953ZM82.9727 78.8953H88.6005V74.8953H82.9727V78.8953ZM81.254 80.6141C81.254 79.6659 82.0246 78.8953 82.9727 78.8953V74.8953C79.8154 74.8953 77.254 77.4568 77.254 80.6141H81.254ZM82.9727 82.3328C82.0246 82.3328 81.254 81.5623 81.254 80.6141H77.254C77.254 83.7714 79.8154 86.3328 82.9727 86.3328V82.3328ZM75.6143 112.083H43.3851V116.083H75.6143V112.083ZM82.2914 105.406C82.2914 109.086 79.2945 112.083 75.6143 112.083V116.083C81.5036 116.083 86.2914 111.295 86.2914 105.406H82.2914ZM82.2914 97.9682V105.406H86.2914V97.9682H82.2914ZM80.5726 96.2495C81.5208 96.2495 82.2914 97.0201 82.2914 97.9682H86.2914C86.2914 94.8109 83.7299 92.2495 80.5726 92.2495V96.2495ZM78.8538 97.9682C78.8538 97.0201 79.6244 96.2495 80.5726 96.2495V92.2495C77.4153 92.2495 74.8538 94.8109 74.8538 97.9682H78.8538ZM78.8538 105.406V97.9682H74.8538V105.406H78.8538ZM75.6143 108.645C77.4031 108.645 78.8538 107.195 78.8538 105.406H74.8538C74.8538 104.985 75.1939 104.645 75.6143 104.645V108.645ZM43.3851 108.645H75.6143V104.645H43.3851V108.645ZM40.1455 105.406C40.1455 107.195 41.5963 108.645 43.3851 108.645V104.645C43.8054 104.645 44.1455 104.985 44.1455 105.406H40.1455ZM40.1455 97.9682V105.406H44.1455V97.9682H40.1455ZM38.4268 96.2495C39.3749 96.2495 40.1455 97.0201 40.1455 97.9682H44.1455C44.1455 94.8109 41.5841 92.2495 38.4268 92.2495V96.2495ZM36.708 97.9682C36.708 97.0201 37.4786 96.2495 38.4268 96.2495V92.2495C35.2694 92.2495 32.708 94.8109 32.708 97.9682H36.708ZM36.708 105.406V97.9682H32.708V105.406H36.708ZM43.3851 112.083C39.7049 112.083 36.708 109.086 36.708 105.406H32.708C32.708 111.295 37.4957 116.083 43.3851 116.083V112.083Z",fill:t.background,mask:"url(#path-1-inside-1)"}),ji("path",{d:"M59.5 94.9995V58.4995M59.5 58.4995L48.5 69.4995M59.5 58.4995L70.5 69.4995M59.5 58.4995L48.5 47.4995M59.5 58.4995L70.5 47.4995",stroke:"#FC2D81","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}),ji("path",{d:"M59.5 94.9995V58.4995",stroke:"#FC2D81","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round"}))};Hi.displayName="DropZoneError svg";var zi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),n.createElement("path",{opacity:"0.8",d:"M15.666 32.46C15.666 31.2035 16.0029 30.235 16.6768 29.5547C17.2627 28.9622 18.0081 28.666 18.9131 28.666C20.124 28.666 21.0094 29.0632 21.5693 29.8574C21.8786 30.3034 22.0446 30.751 22.0674 31.2002H20.5635C20.4658 30.8551 20.3405 30.5947 20.1875 30.4189C19.9141 30.1064 19.5088 29.9502 18.9717 29.9502C18.4248 29.9502 17.9935 30.1715 17.6777 30.6143C17.362 31.0537 17.2041 31.6771 17.2041 32.4844C17.2041 33.2917 17.3701 33.8971 17.7021 34.3008C18.0374 34.7012 18.4622 34.9014 18.9766 34.9014C19.5039 34.9014 19.9059 34.7288 20.1826 34.3838C20.3356 34.1982 20.4626 33.9199 20.5635 33.5488H22.0527C21.9225 34.3333 21.5889 34.9714 21.0518 35.4629C20.5179 35.9544 19.8327 36.2002 18.9961 36.2002C17.9609 36.2002 17.1471 35.8682 16.5547 35.2041C15.9622 34.5368 15.666 33.6221 15.666 32.46ZM24.2939 33.7783C24.3395 34.1071 24.429 34.3529 24.5625 34.5156C24.8066 34.8118 25.2249 34.96 25.8174 34.96C26.1722 34.96 26.4603 34.9209 26.6816 34.8428C27.1016 34.693 27.3115 34.4147 27.3115 34.0078C27.3115 33.7702 27.2074 33.5863 26.999 33.4561C26.7907 33.3291 26.4635 33.2168 26.0176 33.1191L25.2559 32.9482C24.5072 32.779 23.9896 32.5951 23.7031 32.3965C23.2181 32.0645 22.9756 31.5452 22.9756 30.8389C22.9756 30.1943 23.21 29.6589 23.6787 29.2324C24.1475 28.806 24.8359 28.5928 25.7441 28.5928C26.5026 28.5928 27.1488 28.7946 27.6826 29.1982C28.2197 29.5986 28.5013 30.1813 28.5273 30.9463H27.082C27.056 30.5133 26.8672 30.2057 26.5156 30.0234C26.2812 29.903 25.9899 29.8428 25.6416 29.8428C25.2542 29.8428 24.945 29.9209 24.7139 30.0771C24.4827 30.2334 24.3672 30.4515 24.3672 30.7314C24.3672 30.9886 24.4811 31.1807 24.709 31.3076C24.8555 31.3923 25.168 31.4915 25.6465 31.6055L26.8867 31.9033C27.4303 32.0335 27.8405 32.2077 28.1172 32.4258C28.5469 32.7643 28.7617 33.2542 28.7617 33.8955C28.7617 34.5531 28.5094 35.0999 28.0049 35.5361C27.5036 35.9691 26.7939 36.1855 25.876 36.1855C24.9385 36.1855 24.2012 35.9723 23.6641 35.5459C23.127 35.1162 22.8584 34.527 22.8584 33.7783H24.2939ZM30.9639 33.7783C31.0094 34.1071 31.099 34.3529 31.2324 34.5156C31.4766 34.8118 31.8949 34.96 32.4873 34.96C32.8421 34.96 33.1302 34.9209 33.3516 34.8428C33.7715 34.693 33.9814 34.4147 33.9814 34.0078C33.9814 33.7702 33.8773 33.5863 33.6689 33.4561C33.4606 33.3291 33.1335 33.2168 32.6875 33.1191L31.9258 32.9482C31.1771 32.779 30.6595 32.5951 30.373 32.3965C29.888 32.0645 29.6455 31.5452 29.6455 30.8389C29.6455 30.1943 29.8799 29.6589 30.3486 29.2324C30.8174 28.806 31.5059 28.5928 32.4141 28.5928C33.1725 28.5928 33.8187 28.7946 34.3525 29.1982C34.8896 29.5986 35.1712 30.1813 35.1973 30.9463H33.752C33.7259 30.5133 33.5371 30.2057 33.1855 30.0234C32.9512 29.903 32.6598 29.8428 32.3115 29.8428C31.9242 29.8428 31.6149 29.9209 31.3838 30.0771C31.1527 30.2334 31.0371 30.4515 31.0371 30.7314C31.0371 30.9886 31.151 31.1807 31.3789 31.3076C31.5254 31.3923 31.8379 31.4915 32.3164 31.6055L33.5566 31.9033C34.1003 32.0335 34.5104 32.2077 34.7871 32.4258C35.2168 32.7643 35.4316 33.2542 35.4316 33.8955C35.4316 34.5531 35.1794 35.0999 34.6748 35.5361C34.1735 35.9691 33.4639 36.1855 32.5459 36.1855C31.6084 36.1855 30.8711 35.9723 30.334 35.5459C29.7969 35.1162 29.5283 34.527 29.5283 33.7783H30.9639Z",fill:"white"}))};zi.displayName="FileCSS svg";var qi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}))};qi.displayName="FileDefault svg";var Wi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#D65A34"}),n.createElement("path",{opacity:"0.8",d:"M19.8145 31.0928C19.8145 30.7184 19.7152 30.4515 19.5166 30.292C19.3213 30.1325 19.0462 30.0527 18.6914 30.0527H17.29V32.1719H18.6914C19.0462 32.1719 19.3213 32.0856 19.5166 31.9131C19.7152 31.7406 19.8145 31.4671 19.8145 31.0928ZM21.3037 31.083C21.3037 31.9326 21.0889 32.5332 20.6592 32.8848C20.2295 33.2363 19.6159 33.4121 18.8184 33.4121H17.29V36H15.7959V28.8027H18.9307C19.6533 28.8027 20.2295 28.9883 20.6592 29.3594C21.0889 29.7305 21.3037 30.305 21.3037 31.083ZM23.8916 30.0527V34.75H25.2783C25.988 34.75 26.4827 34.4001 26.7627 33.7002C26.9157 33.3161 26.9922 32.8587 26.9922 32.3281C26.9922 31.5957 26.8766 31.0342 26.6455 30.6436C26.4176 30.2497 25.9619 30.0527 25.2783 30.0527H23.8916ZM25.5322 28.8027C25.9782 28.8092 26.3493 28.8613 26.6455 28.959C27.1501 29.125 27.5586 29.4294 27.8711 29.8721C28.1217 30.2301 28.2926 30.6175 28.3838 31.0342C28.4749 31.4508 28.5205 31.848 28.5205 32.2256C28.5205 33.1826 28.3285 33.9932 27.9443 34.6572C27.4235 35.5524 26.6195 36 25.5322 36H22.4316V28.8027H25.5322ZM29.6582 28.8125H34.7607V30.0771H31.1523V31.7324H34.3115V32.9824H31.1523V36H29.6582V28.8125Z",fill:"white"}))};Wi.displayName="FilePDF svg";var Ki=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),n.createElement("path",{opacity:"0.8",d:"M20.0879 31.0928C20.0879 30.7184 19.9886 30.4515 19.79 30.292C19.5947 30.1325 19.3197 30.0527 18.9648 30.0527H17.5635V32.1719H18.9648C19.3197 32.1719 19.5947 32.0856 19.79 31.9131C19.9886 31.7406 20.0879 31.4671 20.0879 31.0928ZM21.5771 31.083C21.5771 31.9326 21.3623 32.5332 20.9326 32.8848C20.5029 33.2363 19.8893 33.4121 19.0918 33.4121H17.5635V36H16.0693V28.8027H19.2041C19.9268 28.8027 20.5029 28.9883 20.9326 29.3594C21.3623 29.7305 21.5771 30.305 21.5771 31.083ZM26.7578 31.0928C26.7578 30.7184 26.6585 30.4515 26.46 30.292C26.2646 30.1325 25.9896 30.0527 25.6348 30.0527H24.2334V32.1719H25.6348C25.9896 32.1719 26.2646 32.0856 26.46 31.9131C26.6585 31.7406 26.7578 31.4671 26.7578 31.0928ZM28.2471 31.083C28.2471 31.9326 28.0322 32.5332 27.6025 32.8848C27.1729 33.2363 26.5592 33.4121 25.7617 33.4121H24.2334V36H22.7393V28.8027H25.874C26.5967 28.8027 27.1729 28.9883 27.6025 29.3594C28.0322 29.7305 28.2471 30.305 28.2471 31.083ZM34.6045 28.8027V30.0771H32.4512V36H30.9375V30.0771H28.7744V28.8027H34.6045Z",fill:"white"}))};Ki.displayName="FilePPT svg";var Gi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),n.createElement("path",{opacity:"0.8",d:"M20.0312 31.0928C20.0312 30.7184 19.932 30.4515 19.7334 30.292C19.5381 30.1325 19.263 30.0527 18.9082 30.0527H17.5068V32.1719H18.9082C19.263 32.1719 19.5381 32.0856 19.7334 31.9131C19.932 31.7406 20.0312 31.4671 20.0312 31.0928ZM21.5205 31.083C21.5205 31.9326 21.3057 32.5332 20.876 32.8848C20.4463 33.2363 19.8327 33.4121 19.0352 33.4121H17.5068V36H16.0127V28.8027H19.1475C19.8701 28.8027 20.4463 28.9883 20.876 29.3594C21.3057 29.7305 21.5205 30.305 21.5205 31.083ZM23.7373 33.7783C23.7829 34.1071 23.8724 34.3529 24.0059 34.5156C24.25 34.8118 24.6683 34.96 25.2607 34.96C25.6156 34.96 25.9036 34.9209 26.125 34.8428C26.5449 34.693 26.7549 34.4147 26.7549 34.0078C26.7549 33.7702 26.6507 33.5863 26.4424 33.4561C26.234 33.3291 25.9069 33.2168 25.4609 33.1191L24.6992 32.9482C23.9505 32.779 23.4329 32.5951 23.1465 32.3965C22.6615 32.0645 22.4189 31.5452 22.4189 30.8389C22.4189 30.1943 22.6533 29.6589 23.1221 29.2324C23.5908 28.806 24.2793 28.5928 25.1875 28.5928C25.946 28.5928 26.5921 28.7946 27.126 29.1982C27.6631 29.5986 27.9447 30.1813 27.9707 30.9463H26.5254C26.4993 30.5133 26.3105 30.2057 25.959 30.0234C25.7246 29.903 25.4333 29.8428 25.085 29.8428C24.6976 29.8428 24.3883 29.9209 24.1572 30.0771C23.9261 30.2334 23.8105 30.4515 23.8105 30.7314C23.8105 30.9886 23.9245 31.1807 24.1523 31.3076C24.2988 31.3923 24.6113 31.4915 25.0898 31.6055L26.3301 31.9033C26.8737 32.0335 27.2839 32.2077 27.5605 32.4258C27.9902 32.7643 28.2051 33.2542 28.2051 33.8955C28.2051 34.5531 27.9528 35.0999 27.4482 35.5361C26.9469 35.9691 26.2373 36.1855 25.3193 36.1855C24.3818 36.1855 23.6445 35.9723 23.1074 35.5459C22.5703 35.1162 22.3018 34.527 22.3018 33.7783H23.7373ZM30.7783 30.0527V34.75H32.165C32.8747 34.75 33.3695 34.4001 33.6494 33.7002C33.8024 33.3161 33.8789 32.8587 33.8789 32.3281C33.8789 31.5957 33.7633 31.0342 33.5322 30.6436C33.3044 30.2497 32.8486 30.0527 32.165 30.0527H30.7783ZM32.4189 28.8027C32.8649 28.8092 33.236 28.8613 33.5322 28.959C34.0368 29.125 34.4453 29.4294 34.7578 29.8721C35.0085 30.2301 35.1794 30.6175 35.2705 31.0342C35.3617 31.4508 35.4072 31.848 35.4072 32.2256C35.4072 33.1826 35.2152 33.9932 34.8311 34.6572C34.3102 35.5524 33.5062 36 32.4189 36H29.3184V28.8027H32.4189Z",fill:"white"}))};Gi.displayName="FilePSD svg";var Xi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#8C8C8C"}),n.createElement("path",{opacity:"0.8",d:"M16.2891 33.7783C16.3346 34.1071 16.4242 34.3529 16.5576 34.5156C16.8018 34.8118 17.2201 34.96 17.8125 34.96C18.1673 34.96 18.4554 34.9209 18.6768 34.8428C19.0967 34.693 19.3066 34.4147 19.3066 34.0078C19.3066 33.7702 19.2025 33.5863 18.9941 33.4561C18.7858 33.3291 18.4587 33.2168 18.0127 33.1191L17.251 32.9482C16.5023 32.779 15.9847 32.5951 15.6982 32.3965C15.2132 32.0645 14.9707 31.5452 14.9707 30.8389C14.9707 30.1943 15.2051 29.6589 15.6738 29.2324C16.1426 28.806 16.8311 28.5928 17.7393 28.5928C18.4977 28.5928 19.1439 28.7946 19.6777 29.1982C20.2148 29.5986 20.4964 30.1813 20.5225 30.9463H19.0771C19.0511 30.5133 18.8623 30.2057 18.5107 30.0234C18.2764 29.903 17.985 29.8428 17.6367 29.8428C17.2493 29.8428 16.9401 29.9209 16.709 30.0771C16.4779 30.2334 16.3623 30.4515 16.3623 30.7314C16.3623 30.9886 16.4762 31.1807 16.7041 31.3076C16.8506 31.3923 17.1631 31.4915 17.6416 31.6055L18.8818 31.9033C19.4255 32.0335 19.8356 32.2077 20.1123 32.4258C20.542 32.7643 20.7568 33.2542 20.7568 33.8955C20.7568 34.5531 20.5046 35.0999 20 35.5361C19.4987 35.9691 18.7891 36.1855 17.8711 36.1855C16.9336 36.1855 16.1963 35.9723 15.6592 35.5459C15.1221 35.1162 14.8535 34.527 14.8535 33.7783H16.2891ZM26.084 28.8027H27.6465L25.1904 36H23.7695L21.3379 28.8027H22.9443L24.5068 34.2666L26.084 28.8027ZM33.3789 31.0488C33.265 30.5573 32.9867 30.2139 32.5439 30.0186C32.2965 29.9111 32.0215 29.8574 31.7188 29.8574C31.1393 29.8574 30.6624 30.0771 30.2881 30.5166C29.917 30.9528 29.7314 31.6104 29.7314 32.4893C29.7314 33.3747 29.9333 34.0013 30.3369 34.3691C30.7406 34.737 31.1995 34.9209 31.7139 34.9209C32.2184 34.9209 32.6318 34.776 32.9541 34.4863C33.2764 34.1934 33.4749 33.8109 33.5498 33.3389H31.8848V32.1377H34.8828V36H33.8867L33.7354 35.1016C33.4456 35.4434 33.1852 35.6842 32.9541 35.8242C32.557 36.0684 32.0687 36.1904 31.4893 36.1904C30.5355 36.1904 29.7542 35.86 29.1455 35.1992C28.5107 34.5352 28.1934 33.627 28.1934 32.4746C28.1934 31.3092 28.514 30.375 29.1553 29.6719C29.7965 28.9688 30.6445 28.6172 31.6992 28.6172C32.6139 28.6172 33.348 28.8499 33.9014 29.3154C34.458 29.7777 34.777 30.3555 34.8584 31.0488H33.3789Z",fill:"white"}))};Xi.displayName="FileSVG svg";var Yi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#44C4A1"}),n.createElement("path",{opacity:"0.8",d:"M17.1826 36H15.4346L17.749 32.333L15.5469 28.8027H17.3438L18.6279 31.1416L19.9463 28.8027H21.6846L19.4824 32.2744L21.8213 36H19.9951L18.6279 33.5488L17.1826 36ZM22.7051 28.8027H24.209V34.7061H27.7734V36H22.7051V28.8027ZM29.9072 33.7783C29.9528 34.1071 30.0423 34.3529 30.1758 34.5156C30.4199 34.8118 30.8382 34.96 31.4307 34.96C31.7855 34.96 32.0736 34.9209 32.2949 34.8428C32.7148 34.693 32.9248 34.4147 32.9248 34.0078C32.9248 33.7702 32.8206 33.5863 32.6123 33.4561C32.404 33.3291 32.0768 33.2168 31.6309 33.1191L30.8691 32.9482C30.1204 32.779 29.6029 32.5951 29.3164 32.3965C28.8314 32.0645 28.5889 31.5452 28.5889 30.8389C28.5889 30.1943 28.8232 29.6589 29.292 29.2324C29.7607 28.806 30.4492 28.5928 31.3574 28.5928C32.1159 28.5928 32.762 28.7946 33.2959 29.1982C33.833 29.5986 34.1146 30.1813 34.1406 30.9463H32.6953C32.6693 30.5133 32.4805 30.2057 32.1289 30.0234C31.8945 29.903 31.6032 29.8428 31.2549 29.8428C30.8675 29.8428 30.5583 29.9209 30.3271 30.0771C30.096 30.2334 29.9805 30.4515 29.9805 30.7314C29.9805 30.9886 30.0944 31.1807 30.3223 31.3076C30.4688 31.3923 30.7812 31.4915 31.2598 31.6055L32.5 31.9033C33.0436 32.0335 33.4538 32.2077 33.7305 32.4258C34.1602 32.7643 34.375 33.2542 34.375 33.8955C34.375 34.5531 34.1227 35.0999 33.6182 35.5361C33.1169 35.9691 32.4072 36.1855 31.4893 36.1855C30.5518 36.1855 29.8145 35.9723 29.2773 35.5459C28.7402 35.1162 28.4717 34.527 28.4717 33.7783H29.9072Z",fill:"white"}))};Yi.displayName="FileXLS svg";var Qi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#E3D12F"}),n.createElement("path",{opacity:"0.8",d:"M17.4707 34.7305L21.1865 30.0771H17.5635V28.8027H23.0615V30.0088L19.2969 34.7305H23.0713V36H17.4707V34.7305ZM25.4688 36H23.9746V28.8027H25.4688V36ZM30.9277 31.0928C30.9277 30.7184 30.8285 30.4515 30.6299 30.292C30.4346 30.1325 30.1595 30.0527 29.8047 30.0527H28.4033V32.1719H29.8047C30.1595 32.1719 30.4346 32.0856 30.6299 31.9131C30.8285 31.7406 30.9277 31.4671 30.9277 31.0928ZM32.417 31.083C32.417 31.9326 32.2021 32.5332 31.7725 32.8848C31.3428 33.2363 30.7292 33.4121 29.9316 33.4121H28.4033V36H26.9092V28.8027H30.0439C30.7666 28.8027 31.3428 28.9883 31.7725 29.3594C32.2021 29.7305 32.417 30.305 32.417 31.083Z",fill:"white"}),n.createElement("path",{d:"M25 0H22V3.57147H25V0Z",fill:"#64798A"}),n.createElement("path",{d:"M28 3.57147H25V7.14294H28V3.57147Z",fill:"#64798A"}),n.createElement("path",{d:"M25 7.14301H22V10.7145H25V7.14301Z",fill:"#64798A"}),n.createElement("path",{d:"M28 10.7145H25V14.2859H28V10.7145Z",fill:"#64798A"}),n.createElement("path",{d:"M25 14.2875H22V17.859H25V14.2875Z",fill:"#64798A"}),n.createElement("path",{d:"M25 21.4285H22V25H25V21.4285Z",fill:"#64798A"}),n.createElement("path",{d:"M28 17.8571H25V21.4285H28V17.8571Z",fill:"#64798A"}))};Qi.displayName="FileZIP svg";var Zi=function(){return n.createElement("svg",{width:"50",height:"50",viewBox:"0 0 50 50",fill:"none",xmlns:"http://www.w3.org/2000/svg"},n.createElement("path",{d:"M10 50H40C41.1046 50 42 49.1046 42 48V10.8284C42 10.298 41.7893 9.78929 41.4142 9.41421L32.5858 0.585786C32.2107 0.210713 31.702 0 31.1716 0H10C8.89543 0 8 0.895432 8 2V48C8 49.1046 8.89543 50 10 50Z",fill:"#E1E6E9"}),n.createElement("path",{d:"M32 10H42L32.0001 0L32 10Z",fill:"#EBF0F3"}),n.createElement("path",{d:"M34 10L42 14V10H34Z",fill:"#D5D6DB"}),n.createElement("path",{d:"M5 26C5 25.4477 5.44772 25 6 25H44C44.5523 25 45 25.4477 45 26V39C45 39.5523 44.5523 40 44 40H6C5.44771 40 5 39.5523 5 39V26Z",fill:"#27A2DB"}),n.createElement("path",{opacity:"0.8",d:"M16.6035 30.0527V34.75H17.9902C18.6999 34.75 19.1947 34.4001 19.4746 33.7002C19.6276 33.3161 19.7041 32.8587 19.7041 32.3281C19.7041 31.5957 19.5885 31.0342 19.3574 30.6436C19.1296 30.2497 18.6738 30.0527 17.9902 30.0527H16.6035ZM18.2441 28.8027C18.6901 28.8092 19.0612 28.8613 19.3574 28.959C19.862 29.125 20.2705 29.4294 20.583 29.8721C20.8337 30.2301 21.0046 30.6175 21.0957 31.0342C21.1868 31.4508 21.2324 31.848 21.2324 32.2256C21.2324 33.1826 21.0404 33.9932 20.6562 34.6572C20.1354 35.5524 19.3314 36 18.2441 36H15.1436V28.8027H18.2441ZM25.5537 34.9258C26.1494 34.9258 26.6214 34.7061 26.9697 34.2666C27.3213 33.8271 27.4971 33.2021 27.4971 32.3916C27.4971 31.5843 27.3213 30.9609 26.9697 30.5215C26.6214 30.0788 26.1494 29.8574 25.5537 29.8574C24.958 29.8574 24.4827 30.0771 24.1279 30.5166C23.7731 30.9561 23.5957 31.5811 23.5957 32.3916C23.5957 33.2021 23.7731 33.8271 24.1279 34.2666C24.4827 34.7061 24.958 34.9258 25.5537 34.9258ZM29.001 32.3916C29.001 33.6839 28.638 34.6735 27.9121 35.3604C27.3685 35.9202 26.5824 36.2002 25.5537 36.2002C24.5251 36.2002 23.7389 35.9202 23.1953 35.3604C22.4661 34.6735 22.1016 33.6839 22.1016 32.3916C22.1016 31.0732 22.4661 30.0837 23.1953 29.4229C23.7389 28.863 24.5251 28.583 25.5537 28.583C26.5824 28.583 27.3685 28.863 27.9121 29.4229C28.638 30.0837 29.001 31.0732 29.001 32.3916ZM29.8408 32.46C29.8408 31.2035 30.1777 30.235 30.8516 29.5547C31.4375 28.9622 32.1829 28.666 33.0879 28.666C34.2988 28.666 35.1842 29.0632 35.7441 29.8574C36.0534 30.3034 36.2194 30.751 36.2422 31.2002H34.7383C34.6406 30.8551 34.5153 30.5947 34.3623 30.4189C34.0889 30.1064 33.6836 29.9502 33.1465 29.9502C32.5996 29.9502 32.1683 30.1715 31.8525 30.6143C31.5368 31.0537 31.3789 31.6771 31.3789 32.4844C31.3789 33.2917 31.5449 33.8971 31.877 34.3008C32.2122 34.7012 32.637 34.9014 33.1514 34.9014C33.6787 34.9014 34.0807 34.7288 34.3574 34.3838C34.5104 34.1982 34.6374 33.9199 34.7383 33.5488H36.2275C36.0973 34.3333 35.7637 34.9714 35.2266 35.4629C34.6927 35.9544 34.0075 36.2002 33.1709 36.2002C32.1357 36.2002 31.3219 35.8682 30.7295 35.2041C30.137 34.5368 29.8408 33.6221 29.8408 32.46Z",fill:"white"}))};Zi.displayName="FileDOC svg";var Ji={media:{avatar:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAMAAAD04JH5AAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAMAUExURQAAALgfhZAVfD2No5Rvm7cfhEyetJsXfY9gnZ4Zf4qws4cSeWOhucMghYYSecUihn0Rd4gTemyvxsEhhmmlvchKk3YOdL8hhkOXre/En2amvsEghT+QprsghuzDpUCTqE+UqkmdslujupIXfbEfhrugu1SkupQWfcEiiIcSeW0KccWfybIghqYcg20KccQhhr6UxEeQpk+ovbgeg3MMc2wOc152o+/En8DL13YNdG0KccDQ7e/Foagbgu/FoaXG4LDM51xMj59EjLwfg+/FobZxiGeHsJ5TmZEWfe/FoTmHncXd9m0KceuwgbDM58MkiU+ovcIli4kTeoIReMUghcQjiHAMc8Qih4ARd0YIO34Qd+/EoO/DoHIMc+7Bn3UNdGcJcLsjie6+nsUiho0Ve2oKcW4LcsQihoUSeYYSecAkirkiiI8VfLIghu67nHYNdLUhh3oPdnsPdoQSeHkOda8fhb4kiosUe7chiHcOdaccg6MbgqsdhJMWfe65m58agO21mjyKoO2xmHgOdWwKce2uluyplGgJcJYXfv///+23muyslcPa8+uxhEies02lukGUqu20iO25jpkZf4Emfe68lEGMo5wZgK/K5qRkp+Kgm08PRL4jiO7AmZ3F3pO/2EoIQeSkgr1eiHMUddKek4lAk7jU7qI6fJEwe9N3lKScy8eRjoROY3kceMc4jIgTeuu7n+WuneLEsZ2GvdqVmH4uhqEog1gJVIW7069oiZZ3tOG0mdqpl+a5nHI7WtzP22YtVIgdeUiAoOuje6TJ44RWntaFlYEXeq9Jgaq42/TTv5ZEgHhHcfjz9cDG4M1/gFytw323zqqq06/F47C43LiEur2JgptMm1Vtnc5dk3GmwFibta0zhZoxjL19jrI/mLM0jszHyvHHtKBShJVicWWxx1WqwN2WgHK2zcRvgdmOgdm+149trMW8sF+PsqZzdefZ56F8k82qznBGj2ZalWE+iY9fpW11qPno3FkfS2IKYuzk7MVwr2UkfFcbRWwPb0HLKx8AAABJdFJOUwBMr/QHNkIiAxESPanH4vJZ0iCvav1uh3TET57XY/i68o66k7z4ynzv7+/+7dre3P396f+YxsxrNLTQ8TzzqVfe+n31k6uBNf24v3jZAAAPl0lEQVR42u1aeVgT1xYPFBVUKkrFqq11r0sXa/ftdXvvfU2YjCObAjFolAA1wSiNCyRitFqioLLvKggoyOYCuO/7bt33vbZqtfve995dZiYzk2QyQer7x9/36QfMPef3u+eee+fcuVcme4RHeIRHeIRHaC68/Pp0HDhlysCOngFt/g/0Ps8ODAqaAjBu3DidruOzD1uD3+NBDL8O4WPPdg+z+55BmH8cy282mx+ehDYdEX9d8MRpE6ZNHFmn05kRUh6ShDYo/BFhoxlET0hA/ACerR4Sf7B2NA/Rk3SQPyUz0/PvTkcfGP+o0Xb4fJoO8gP0+VsleIP8i9OOdohZOsifm5vbx+fvE9AnKCg2erQzfGrORUj+m6Lg3ebDKTT/504QASOQDNDSM6KNXx9PmH1BddpoUXyWgPiTk5Keb7Hl0cfP8/G4uro6tPiERbuCNi4X8kO0hAbvdp6xcXEs/zTQR5cIq8vFApISE/s+2Mrg7dcxFvPjxTdCKw1hCbmYH6D7A8yJdh0TID/sfl1CxKRpUVrpGGnG/Imm55sbBJ9XEhJQ92MjZo3ShrmNqIQUyG8yvevRzHcO6n5sxATXXKOcYEJQkgkqaNWsNR/yB3866sEQNQXEwPicT/P4E1j6KCeYtXzZnihxTEw2Go193U5/EP+4CBeuoyYsK1EqlcuiJjjHNIBMoMDdNAiA3Rc6EmLS10qE5dOcYhYCUPC8mxNgYGzCLDs/Amy7hfmVJRH0Xz51hiS93r0QPAv67wwTR24D2JOwV8li70QXiDDp/d0S8HjsJMeeti07ouQiLT0dhWCSC+j0ei93pkDcSIdutvHZlcrsSLm8OA3k4aQIF0g0eLiVgo58jCwV0Ker5RDFSuUtV/wROkMXd+qeYAcugoXdz4iUY2SDiWCT6QRuLQVvOvDD4U9LA1FPy5YziExT3gp2hdzn3MlBe3s6/ukZxTjukXIOMkAWiJEnAOimurEcD7T3sRwFvVjuECowEeoSXMDgxhtpoJ117G0QdCf0OASlseKIM3m4swwIAQKQrnLKL1fDV0KcOJKelsTdthf4r6Od9RFleqRcBBlQQZ0ocp+WPdlagoCcx1rLPIXG45RpKjF+OBHAijwlSAQpHz6lkCJgoULxjJ/QeJkyWy6ObJikt5aNoz9cOMCPFkWOFAHzFQrFYz8I/HydLneFDLxGHNnbqHNE37Ad+J0vQYAXZQEtFduzeOYl9ARQ16+sVztXUFICCxTl7b3mcQKcgU4VCyQIkA1diNpafuSY61AAVpZeQHuuxAulK+3o13S+kJiUlJybfAFWKSWNOi5+QJ1SLKQ6SRDQf4ECY3sD6yAzA1BUJucm4z1XYuIFIX+ByZSIBORmpjSCNUPJUbBtO+1xPuUtQUBvaiHdXnGGcbGsWK4uRdteer9zViig/goWkAwEpKSA18Zt88cA8NPNjxbanYUaKmUh6EUxIVAocu7mn4Z+9spVezMvlO5eU1BQsGZ3ZWWBg6VoTWUlfl5Z2mgGw9AIyS/m393OeptP9Zci4AmKDUHOYpIkqzLN5lJ5qYNhd74orNl7RFlqNqesBvY7X2K8UVQvKQI6UdQCOmiQnyS/SDF/vaZA7h52l9xOQfwkucjCBIDqJmkxHkpR85HFeRJjfcpueuqpT93YvHnzjRUOV+WN96s3b66+v4FZmDJP0/bn6ClAUW0lCWhP0YOwmHaQd3ENZqguDMfYWmZHv6mafha++RTSl5a8j7bfiTOQkpYCMlk3Cg9CTh7tgFwNx38DZliC/i9cIeTfyjyC+uDTjHzGnDwP1yDg9UmJu7KhWMF51sHxlXLVfdj7wqYmTFFYuIEvYPOSpt+X2BRWb5Bnf8Han0MJQElahvBEpGAanIO2+6qOg/+/gR0Ewf1vTb9+hVhANY//VPjvWX8cOogeNeEQ9UAJjIZhLebvLbUc6UQhBcfgHFxKNAAfV+Uw/lvvECet1u9QP38P38gVsPUgkW+19kOPCKjjPxuugsiVE9r1wMvihchja6kCvH9B7UEOHq8hCKIhjzwcuem38PCrWyAL6uYSYusNDn/Zb0OIrG8P0Y9OgranIoGAXcBaC0ZiEfLXX3JB5nFxAS1gNQEBOqFSlRWG/3FISxxEJOFNRP5WjoAb/bYQBJ0eTcT3m8PvqyIPk1XI+mcwDdwLgMwzeRctoBy5aCDJHmr1qfB+1tPE5zjRPiPu3OCkYbXV2kBEo/RbEl2zpbBarVIdRwEgiCxaQG/pJenzSUn3gMVaktwzchT0sY9cpdZoTm09tCWM+LxwyZKmz4jT1i2cmfid1XpHS0Q3FRY2RRODD1bXq9VyMm8pMA2LCMZDsKCTdAHvJiWVAxOQhHuCg6cBL6vJVRpN/PSy76zfh6FeEeWHrFbbYrRpi9VqHbwUPdGe/O5GfLwGCPgC/BYFdhT7yMXA27/d2BfBVy4YhK+QgOCJBHEXCIifO2PmzGu/fpsPeBqGWA/9up/z8tn/KxD0bX7D0qz8O/tnzpgbr9H0gAk0IRgJWEtRvzwtnd8HfV78hTqKBQR/SuwiV8VPB/yz582b3ePaqmv7r8nVKrjeRkaqVKrISHmkSq2+th/g2ozZs2fOnDE9HghYj/ofHJxHfkXda3Rja9oKf+C8R+0ks5CHKFrA7Hlz5syZNxv5VzO8GjX8UaXW4BYQUIFGk7d+FLLeQ5JHz180DZO+L2qHBTTeW0yW433hLlINRwDyzwH+YYixAEALxpsWAFvYJE4/sX4kMm4gFwF+Y+gAyR/OW5kwGs+RVXhvu+uwhhUwhyMA0E6fOx3+zAiwSSwYshqr/5k8dtFk0oeGvujjpgBT4wmcBMGrr6IAz+MNgQoKAKxz49VqvgDUojJ/Hxaw7/hpI0BoaKivxK9EXowAYz65Ho1i3irOCHNyAI18PBMBOkvoFmev5KEMKidPQn7j1BEjRvhLVGAyMqhCWbC+qgwsA3PBLJg9DyQ5GgE0CyJBDmrAzygHNPQ8mYdb1BpOwgHMyjuhx76KgILu0gQ8xwq4coJcX746r+ES6iAgAADe6RGAvBAwCekxwC1AAGZMNlw5UVX+c97xy3oaRSNiYqR9qOprNDJGV6pI8sTpsOtquBLOnQGB+JGA7B070tLT03bsoEMANaIWYFjWjDHoL4MX4Rcsv94QExMzVtJ69LSegyuX9cna5cg/kDB3+nSWH9So6TsAMlAssALQYi5soak0QFy+bOAiZuzYDlK+03jpeTAka5eqoX+oATpH/PzCGK6Iavwct+g83mCPqTEhIZImY1++XaJWu0IFh1uDoFbZ8eM1mWkA+DXDpzrCmJCQECmJ6MERDWCapM2qRwQo5VD/7XYGtAS6TUHReIcoAgqkDMJztGJsZTIT2uuIgEakGvDXryy7tO76gayapTVZ11cASZwGqt1jxjtV4CslDXlGRhMoS9bJIxmA7Fu3lC4MGCzfaHsOWnQe4wwxEkPAtdEbzaDQuMSL+ApYfmSVn87Pzy+vQZVXPT0ScHA2FTkVUCQtC3y5NlONxglAAX8zVAYUDLZifE8QBzZxt0nLP5nsFCNCOrj+TOE1pggDmYwxGpMJuxiU1RBh+Xf+OPTt9/lhxAHuR7xNWUGTRRAS4vrF7M83marXJ9gr2FjDZsAB7oerDVlE8iciGBbisjbxmDyZZzJZrzehpFvH35AewPRh61QCXYbhYghxtR57DRCajNfrdYjrOv8b3YoDNUuzrm8UZqd2mKiAGFcC+trbGAxGLZ5uG8Q/zlyCkYoQFxDqYgg8HNhMNhgScLxrykT46/Gg6IDFMBGIvw68+QNA24w3ZBLMiDv9bF6WhZskDROFixPELg6NPplq4q56Ds8M1jGr48ui/ANcLAMDHJuNMdjWXYdB2JjFPv/EKTkoTTu4eB+3cmJaNJ679JcJT29UGcvZh6NCReCyHujixHDYVK6AEmV6MY9eqTzAPowQ4Xf9HujuzNTIFQDPR9Ky6QO8Ynh8rFzHPtSNcIJQXwm7oy7OrBM5/DXs0XVGRjr98xH2abJjBwO6S9qc+TgToLPxv/AvpT1K2MemGAfwl3xq6AvZHHhg/b/lJ+vqQIAy4NVBUNybAb6g+hXA342ze68BLCfXhZmmH+Qnk7XNcMCf9joInw+c4/4C9pAO7t3i8XlxrD30NP8rcBa9Li9OV9rdJOjKplEIHx3cvtHmHyLEy/hV9Ba6JNi2B/wazpOQAV/I7zBLCd92bDNuMXl04PvAy/CgALyI/hNP/uKMNPoeQzZeGNkQ8K27yJqDLgM43Y9DqR9AJ9I7tpdvcXZ2drGtGnmd0c/l95U1E638PwIldMxH7z7+wgtvvRnA3tBEA+AYPd5g7qC8aOP3lrUgQAy8uorUA13b0q1kXh5d/H19fbu35EXn1s889pTM+x+iFVFXQP6k5aknvWQtDcAOD15a/8PFYRVQABu2sAaaHaCny+Oyrr2YY8qW0mBjh/hGwKexO058yda4BTTw2RWKhccER8a1wyv5lfo38y1cgwfSIGRXWOZTFDcE9Wdh2VrLO9S8SS1YKLBqpoa2AnbQ/QUU9eUi2zK0u5YunM/Ws3+8ehMeN1kElpZezVHgoPvUzYrAqzTVys62grF2N/3HVYGpa+HphCAICqnHNV7cw91edt2n1gYCrEI1eOVwXq3bGSdjKni+86hdEB7jHYyKDMgTiv62491Owu4fJSF/YCpKPruiFSbjVdzgmDAIr3FGtr/iCZFjYzDTbdHaLuh+aiDG1fqzgBEXarWDhzE1W23BKrpB4KIv+UF41ZbYPRWK9qICFDmswA943d8ZyKKWLXP/TE1N/ZMtn1LZFhVfcYOwfRAb4hyFqIDeiI9W4ENYbN3/qsLGHziEJux8GMQ7MPBw7Vj04hvMaRK4mBOEnwh6N/IE+r23CwGMgnbEGab7Xy4K5OEs5As9iQYc/jsJf+/Mb1NxkwmChSDacfjFBLSnL1ugyRBA/EV3/+ZOvu/Aw6Dmgd2nBQQGvt05JORtQaOKYxQOwhmCCEDpn4Pdt3cpQPESPGV8hSC2o1PvtSRZIXA+ZAATb2bc+/UTNEklyUVHURD+ArUsnFXMW0JEwHvnmLceqGNeJYifYPYtgifwqUL3dj8IUQHvXsBcBAEgwDTw7kn7PveecwFvkGstrEqwzdCep47hexQVznicCUjFdxdALv4E61k2upa15BsiNweABR4oS7c2sBL94AfmFkSqmwIqaLu7Zz6Djtp0s7A3g0ROkb3hrRusoKcf3olU0Y4q3BOQylyAoT8m+uEByIHjKVamvm9T8Bp9TM2EwD0BTABW0zuq12z87/MY/wddAcu/VargAgAAAABJRU5ErkJggg==",icons:{playMessageIcon:{icon:["fas","play"],className:"",props:{}},settingsIcon:{icon:["fas","cog"],className:"",props:{}},sendMessageIcon:{icon:["fas","arrow-up"],className:"",props:{}},rateIcon:{icon:["fas","thumbs-up"],className:"",props:{}},positiveRateIcon:{icon:["fas","thumbs-up"],className:"",props:{}},negativeRateIcon:{icon:["far","thumbs-down"],className:"",props:{}},resetIcon:{icon:["fas","redo-alt"],className:"",props:{}},addFileIcon:{icon:["fas","plus"],className:"",props:{}},chevronUpIcon:{icon:["fas","chevron-up"],className:"",props:{}},chevronDownIcon:{icon:["fas","chevron-down"],className:"",props:{}},shareIcon:{icon:["fas","share-alt"],className:"",props:{}},searchIcon:{icon:["fas","search"],className:"",props:{}},searchDeactivateIcon:{icon:["fas","arrow-left"],className:"",props:{}},addStickersIcon:{icon:["fas","sticky-note"],className:"",props:{}},voiceIcon:{icon:["fas","microphone"],className:"",props:{}},closeIcon:{icon:["fas","window-minimize"],className:"",props:{}},timesIcon:{icon:["fas","times"],className:"",props:{}},closeSettingsIcon:{icon:["fas","arrow-left"],className:"",props:{}}},svg:{dropZone:Bi,dropZoneError:Hi,cssFile:zi,defaultFile:qi,docFile:Zi,pdfFile:Wi,pptFile:Ki,psdFile:Gi,svgFile:Xi,xlsFile:Yi,zipFile:Qi},progressLoader:{radius:35,strokeWidth:6,color:"#1b243252"}}},$i=function(t,e,n){return n?n.dispatch("setUpComponent",{componentName:t,data:e}):Io.dispatch("setUpComponent",{componentName:t,data:e})},to=function(t,e){return e?e.get().modules.getIn(["stack",t,"config"]):Io.get().modules.getIn(["stack",t,"config"])},eo={initModule:function(t,e){return k(void 0,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return x(this,(function(l){switch(l.label){case 0:r=(n=e||Io).get().managment.get("common").sendInitOnOpen,i=n.get().clientConfig.get("info"),o=0,l.label=1;case 1:return o<t.length?(s=t[o],a=null===(c=to(s.name))||void 0===c?void 0:c.info,!n.get().messages.getIn(["history",s.name])&&n.dispatch("initModuleHistory",s.name),u=n.get().notifications.get("enabled"),n.dispatch("initModule",s),!r?[4,s.moduleDispatcher("chatInit",{moduleInfo:a,clientConfig:i})]:[3,3]):[3,7];case 2:l.sent(),l.label=3;case 3:return!r&&u?[4,s.moduleDispatcher("notificationRequest")]:[3,5];case 4:l.sent(),l.label=5;case 5:l.label=6;case 6:return o++,[3,1];case 7:return[2]}}))}))},switchModule:function(t,e){return e?e.dispatch("switchModule",t):Io.dispatch("switchModule",t)},updateModule:function(t,e){return e?e.dispatch("updateModuleConfig",t):Io.dispatch("updateModuleConfig",t)},getModuleConfig:to,sendChatInit:function(t,e){return k(void 0,void 0,void 0,(function(){var n,r,i,o,s;return x(this,(function(a){switch(a.label){case 0:return r=(n=e||Io).get().clientConfig.get("info"),i=n.get().modules.getIn(["stack",t]),o=null===(s=to(i.name))||void 0===s?void 0:s.info,[4,i.moduleDispatcher("chatInit",{moduleInfo:o,clientConfig:r})];case 1:return a.sent(),[2]}}))}))}},no={modules:function(t,e,n){eo[t](e,n)}},ro={setUpSender:function(t,e){return $i("Sender",t,e)},setUpChatIt:function(t,e){return $i("ChatIt",t,e)},setUpRate:function(t,e){return $i("Rate",t,e)},setUpHeader:function(t,e){return $i("Header",t,e)},setUpBadge:function(t,e){return $i("Badge",t,e)},setUpMessage:function(t,e){return $i("Message",t,e)},setUpDialog:function(t,e){return $i("Dialog",t,e)},blockSender:function(t,e){return e?e.dispatch("blockSender",t):Io.dispatch("blockSender",t)},dialogLoading:function(t,e){return e?e.dispatch("showMsgLoad",t):Io.dispatch("showMsgLoad",t)},showRate:function(t,e){return e?e.dispatch("showRate",t):Io.dispatch("showRate",t)},showNotification:function(t,e){return e?e.dispatch("showNotification",t):Io.dispatch("showNotification",t)},setUpCommon:function(t,e){return e?e.dispatch("setUpCommon",t):Io.dispatch("setUpCommon",t)},openChat:function(t,e){var n=e||Io,r=n.get().modules.get("active"),i=n.get().messages.get("history");console.log(i[r].size),t&&!i[r].size&&no.modules("sendChatInit",r,e),e?e.dispatch("openChat",t):Io.dispatch("openChat",t)},showSettings:function(t,e){return e?e.dispatch("showSettings"):Io.dispatch("showSettings")},toggleDisplayMessageTime:function(t){return t?t.dispatch("toggleDisplayMessageTime"):Io.dispatch("toggleDisplayMessageTime")},toggleSearchActiveStatus:function(t,e){return e?e.dispatch("toggleSearchActiveStatus",t):Io.dispatch("toggleSearchActiveStatus",t)},changeSearchValue:function(t,e){return e?e.dispatch("changeSearchValue",t):Io.dispatch("changeSearchValue",t)},changeFoundGroup:function(t,e){return e?e.dispatch("changeFoundGroup",t):Io.dispatch("changeFoundGroup",t)},scrollToFoundMessage:function(t,e){return e?e.dispatch("scrollToFoundMessage",t):Io.dispatch("scrollToFoundMessage",t)},reset:function(t){return k(void 0,void 0,void 0,(function(){var e,n,r,i,o;return x(this,(function(s){switch(s.label){case 0:return n=(e=t||Io).get().modules.get("active"),r=e.get().modules.getIn(["stack",n]),i=e.get().clientConfig.get("info"),o=e.get().notifications.get("enabled"),e.dispatch("resetMessages",n),[4,r.moduleDispatcher("reset",{clientConfig:i})];case 1:return s.sent(),o?[4,r.moduleDispatcher("notificationRequest")]:[3,3];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},showDropZone:function(t,e){return e?e.dispatch("showDropZone",t):Io.dispatch("showDropZone",t)}},io={uiManagment:function(t,e,n){ro[t](e,n)}},oo={recieveMessage:function(t,e){var n=t.text,r=t.sender,i=t.showRate,o=t.module,s=t.elements,a=e?e.get().modules.get("active"):Io.get().modules.get("active"),u={text:n,sender:r,date:new Date,showRate:i,module:a!==o&&o?o:a,file:t.file,type:t.type,elements:s};e?e.dispatch("addMessage",{message:u,moduleName:a!==o&&o?o:a}):Io.dispatch("addMessage",{message:u,moduleName:a!==o&&o?o:a}),io.uiManagment("dialogLoading",!1,e),io.uiManagment("blockSender",!1,e)}},so={name:"default",moduleDispatcher:function(t,e){return oo.recieveMessage({text:"no active Module",type:"text",sender:"request",showRate:!1})}},ao=Ue({active:so.name,stack:{default:so}}),uo=Ue({history:{default:ln([])},announcements:ln([]),lastResponseMessage:Ue({}),lastUserMessage:Ue({})}),co=Ue(Wr),lo=Ue(qr),ho=Ue(Ji),fo=Ue({active:"en",stack:{en:S({},{Sender:{placeholder:"Write message",sendButtonTitle:"Send",fileButtonTitle:"File",stickerButtonTitle:"Sticker",shareButtonTitle:"Share",voiceButtonTitle:"Voice"},Message:{rateButtonTitle:"Rate",audioMessageButtonTitle:"AudioMessage"},Dialog:{searchButtonTitle:"Search",rateButtonTitle:"Rate",loading:"typing..."},Header:{settingsButtonTitle:"Settings",resetButtonTitle:"Reset",title:"SOVA Chat Kit",searchButtonTitle:"Search",closeButtonTitle:"Close"},Badge:{title:"Chat It"},Rate:{title:"Is it helpfull?",positive:"Yes",negative:"No",ratingList:[{rating:3,text:"I had other question"},{rating:2,text:"Not understand the answer"},{rating:1,text:"Not resolve my problem"}]},CKDropAndDown:{title:"Drag and drop the file",comment:"Pdf, txt, xls, doc no more than 25Mb",errorComment:"Message that the allowed file size and format were exceeded, as well as the number of files",divider:"or",chooseFileButtonTitle:"Choose file"},Search:{placeholder:"Search",divider:"of",status:"No results"},Settings:{headingLanguage:"Language",headingTheme:"Appearance",headingTime:"Time",title:"Settings",search:{placeholder:"Search"}}}),ru:S({},{Sender:{placeholder:"Напиши сообщение",sendButtonTitle:"Отправить",fileButtonTitle:"Файл",stickerButtonTitle:"Стикер",shareButtonTitle:"Поделлиться",voiceButtonTitle:"Голос"},CKDropAndDown:{title:"Перетащите файл",comment:"Pdf, txt, xls, doc не более 25Мб",errorComment:"Сообщение о том, что были превышены допустимые размер и формат файла, а так же количество файлов",divider:"или",chooseFileButtonTitle:"Выберите файл"},Message:{rateButtonTitle:"Оценить",audioMessageButtonTitle:"Воспроизвести"},Dialog:{searchButtonTitle:"Найти",rateButtonTitle:"Оценить",loading:"Пишет..."},Header:{settingsButtonTitle:"Настройки",resetButtonTitle:"Обновить",searchButtonTitle:"Найти",closeButtonTitle:"Закрыть",title:"Чат-Кит"},Badge:{title:"Чат ИТ"},Rate:{title:"Это Вам помогло?",positive:"Да",negative:"Нет",ratingList:[{rating:3,text:"Я спрашивал(а) про другое"},{rating:2,text:"Я не понял(а) ответ"},{rating:1,text:"Ответ не решил проблему"}]},Search:{placeholder:"Найти",divider:"из",status:"Нет результатов"},Settings:{headingLanguage:"Язык",headingTheme:"Оформление",headingTime:"Время",title:"Настройки"}})}}),po=Ue({active:Fr.themeName,stack:{sovaDark:Ur.data,sovaLight:Fr.data,sovaGray:zr.data}}),vo=Ue({info:{env_sitelang:"ru"}}),go=function(t){t.on("@init",(function(){return{messages:uo}})),t.on("addMessage",(function(t,e){var n=t.messages,r=e.message,i=e.moduleName;return{messages:n.updateIn(["history",i],(function(t){return ln.isList(t)&&t.push(r)})).update("user"===r.sender?"lastUserMessage":"lastResponseMessage",(function(){return Ue(S({},r))}))}})),t.on("resetMessages",(function(t,e){return{messages:t.messages.updateIn(["history",e],(function(){return ln([])}))}})),t.on("initModuleHistory",(function(t,e){return{messages:t.messages.update("history",(function(t){var n;return S(S({},t),((n={})[e]=ln([]),n))}))}}))},yo=function(t){t.on("@init",(function(){return{modules:ao}})),t.on("initModule",(function(t,e){return{modules:t.modules.updateIn(["stack",e.name],(function(){return{name:e.name,config:{info:e.info,api:e.api},moduleDispatcher:e.moduleDispatcher}})).update("active",(function(){return e.name}))}})),t.on("switchModule",(function(t,e){return{modules:t.modules.update("active",(function(){return e}))}})),t.on("updateModuleConfig",(function(t,e){var n=t.modules,r=e.moduleName,i=e.config;return{modules:n.updateIn(["stack",r,"config"],(function(){return i}))}}))},mo=function(t){t.on("@init",(function(){return{settings:ho}})),t.on("changeIcon",(function(t,e){var n=t.settings,r=e.iconName,i=e.iconData;return{settings:n.updateIn(["media","icons",r],(function(t){return S(S({},t),i)}))}})),t.on("changeAvatar",(function(t,e){return{settings:t.settings.updateIn(["media","avatar"],(function(){return e}))}}))},bo=function(t){t.on("@init",(function(){return{styles:po}})),t.on("switchTheme",(function(t,e){return{styles:t.styles.update("active",(function(){return e}))}})),t.on("initTheme",(function(t,e){var n=t.styles,r=e.themeName,i=e.data;return{styles:n.update("stack",(function(t){var e;return S(S({},t),((e={})[r]=i,e))}))}})),t.on("changeStyles",(function(t,e){var n=t.styles,r=e.themeName,i=e.data;return{styles:n.updateIn(["stack",r],(function(t){return S(S({},t),i)}))}})),t.on("changeComponentsStyles",(function(t,e){var n=t.styles,r=e.themeName,i=e.componentName,o=e.data;return{styles:n.updateIn(["stack",r,i],(function(t){return S(S({},t),o)}))}}))},wo=function(t){t.on("@init",(function(){return{notifications:co}})),t.on("isEnabled",(function(t,e){return{notifications:t.notifications.update("enabled",(function(){return e}))}})),t.on("clicked",(function(t){return{notifications:t.notifications.update("clicked",(function(t){return++t}))}})),t.on("shown",(function(t){return{notifications:t.notifications.update("shown",(function(t){return++t}))}})),t.on("addMessages",(function(t,e){return{notifications:t.notifications.update("messages",(function(){return ln(e)}))}})),t.on("addSettings",(function(t,e){return{notifications:t.notifications.update("settings",(function(){return e}))}}))},_o=function(t){t.on("@init",(function(){return{managment:lo}})),t.on("openChat",(function(t,e){return{managment:t.managment.updateIn(["common","chatIsOpen"],(function(){return e}))}})),t.on("showMsgLoad",(function(t,e){return{managment:t.managment.updateIn(["common","showMsgLoad"],(function(){return e}))}})),t.on("showNotification",(function(t,e){return{managment:t.managment.updateIn(["common","showNotification"],(function(){return e}))}})),t.on("setUpCommon",(function(t,e){return{managment:t.managment.update("common",(function(t){return S(S({},t),{data:e})}))}})),t.on("showRate",(function(t,e){return{managment:t.managment.updateIn(["common","showRate"],(function(){return e}))}})),t.on("blockSender",(function(t,e){return{managment:t.managment.updateIn(["components","Sender","blockInput"],(function(){return e}))}})),t.on("setUpComponent",(function(t,e){var n=t.managment,r=e.componentName,i=e.data;return{managment:n.updateIn(["components",r],(function(t){return S(S({},t),i)}))}})),t.on("changeSenderFocusInf",(function(t){return{managment:t.managment.updateIn(["components","Sender","inFocus"],(function(t){return!t}))}})),t.on("showSettings",(function(t){return{managment:t.managment.updateIn(["common","showSettings"],(function(t){return!t}))}})),t.on("toggleDisplayMessageTime",(function(t){return{managment:t.managment.updateIn(["components","Message","showDate"],(function(t){return!t}))}})),t.on("toggleSearchActiveStatus",(function(t,e){return{managment:t.managment.updateIn(["components","Header","search","active"],(function(t){return e||!t}))}})),t.on("changeSearchValue",(function(t,e){return{managment:t.managment.updateIn(["components","Header","search","searchValue"],(function(){return e}))}})),t.on("changeFoundGroup",(function(t,e){var n=t.managment,r=e.messageId,i=e.action;return{managment:n.updateIn(["components","Header","search","found"],(function(t){return"clear"===i?t.clear():t[i](r)}))}})),t.on("scrollToFoundMessage",(function(t,e){return{managment:t.managment.updateIn(["components","Header","search","foundMessage"],(function(){return e}))}})),t.on("showDropZone",(function(t,e){return{managment:t.managment.updateIn(["components","Sender","showDropZone"],(function(){return e}))}}))},Eo=function(t){t.on("@init",(function(){return{languages:fo}})),t.on("initLanguage",(function(t,e){return{languages:t.languages.update("stack",(function(t){return S(S({},t),e)}))}})),t.on("changeLanguage",(function(t,e){return{languages:t.languages.update("active",(function(){return e}))}})),t.on("changeLanguagePacket",(function(t,e){var n=t.languages,r=e.language,i=e.packet;return{languages:n.updateIn(["stack",r],(function(t){return S(S({},t),i)}))}})),t.on("changeComponentsTitles",(function(t,e){var n=t.languages,r=e.language,i=e.componentName,o=e.data;return{languages:n.updateIn(["stack",r,i],(function(t){return S(S({},t),o)}))}}))},Co=function(t){t.on("@init",(function(){return{clientConfig:vo}})),t.on("changeClientConfig",(function(t,e){return{clientConfig:t.clientConfig.update("info",(function(t){return S(S({},t),e)}))}}))},Io=t([go,yo,mo,bo,wo,_o,Eo,Co,"production"!==process.env.NODE_ENV&&e]),To={sendMessage:function(t,e){return k(void 0,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){return io.uiManagment("blockSender",!0,e),n=(e?e.get():Io.get()).modules,r={text:t},i=n.get("active"),n.getIn(["stack",i]).moduleDispatcher("chatRequest",r),io.uiManagment("dialogLoading",!0,e),[2]}))}))},sendRate:function(t,e){return k(void 0,void 0,void 0,(function(){var n,r,i,o;return x(this,(function(s){return io.uiManagment("blockSender",!0,e),n=(e?e.get():Io.get()).modules,r={rating:t},i=n.get("active"),(o=n.getIn(["stack",i,"moduleDispatcher"]))?o("chatRate",r):oo.recieveMessage({text:"no active module",type:"text",sender:"request",showRate:!1},e),io.uiManagment("dialogLoading",!0,e),io.uiManagment("showRate",!1,e),[2]}))}))},sendEvent:function(t,e){return k(void 0,void 0,void 0,(function(){var n,r,i,o;return x(this,(function(s){return io.uiManagment("blockSender",!0,e),n=(e?e.get():Io.get()).modules,r={eventName:t},i=n.get("active"),(o=n.getIn(["stack",i,"moduleDispatcher"]))?o("chatEvent",r):oo.recieveMessage({text:"no active module",type:"text",sender:"request",showRate:!1},e),io.uiManagment("dialogLoading",!0,e),io.uiManagment("showRate",!1,e),[2]}))}))}},So={changeIcon:function(t,e){return e?e.dispatch("changeIcon",t):Io.dispatch("changeIcon",t)},changeAvatar:function(t,e){return e?e.dispatch("changeAvatar",t):Io.dispatch("changeAvatar",t)}},ko={settings:function(t,e,n){So[t](e,n)}},xo=function(t,e){var n,r=((n={})[t.language]=t.packet,n);e?e.dispatch("initLanguage",r):Io.dispatch("initLanguage",r)},Ao=function(t,e,n){return n?n.dispatch("changeComponentsTitles",S({componentName:t},e)):Io.dispatch("changeComponentsTitles",S({componentName:t},e))},No={initLanguage:function(t,e){return xo(t,e)},changeLanguage:function(t,e){return e?e.dispatch("changeLanguage",t):Io.dispatch("changeLanguage",t)},changeLanguagePacket:function(t,e){return e?e.dispatch("changeLanguagePacket",t):Io.dispatch("changeLanguagePacket",t)},changeChatIt:function(t,e){return Ao("ChatIT",t,e)},changeHeader:function(t,e){return Ao("Header",t,e)},changeDialog:function(t,e){return Ao("Dialog",t,e)},changeRate:function(t,e){return Ao("Rate",t,e)},changeMessage:function(t,e){return Ao("Message",t,e)},changeSender:function(t,e){return Ao("Sender",t,e)},changeBadge:function(t,e){return Ao("Badge",t,e)}},Oo={languages:function(t,e,n){No[t](e,n)}},Ro={addMessages:function(t,e){return e?e.dispatch("addMessages",t):Io.dispatch("addMessages",t)},addSettings:function(t,e){return e?e.dispatch("addSettings",t):Io.dispatch("addSettings",t)},enabled:function(t,e){return e?e.dispatch("isEnabled",t):Io.dispatch("isEnabled",t)},clicked:function(t){return t?t.dispatch("clicked"):Io.dispatch("clicked")},shown:function(t){return t?t.dispatch("shown"):Io.dispatch("shown")}},Do={notifications:function(t,e,n){Ro[t](e,n)}},Po=function(t,e,n){return n?n.dispatch("changeComponentsStyles",S({componentName:t},e)):Io.dispatch("changeComponentsStyles",S({componentName:t},e))},Mo={switchTheme:function(t,e){return e?e.dispatch("switchTheme",t):Io.dispatch("switchTheme",t)},initTheme:function(t,e){return e?e.dispatch("initTheme",t):Io.dispatch("initTheme",t)},changeStyles:function(t,e){return e?e.dispatch("changeStyles",t):Io.dispatch("changeStyles",t)},changeChatIt:function(t,e){return Po("ChatIt",t,e)},changeHeader:function(t,e){return Po("Header",t,e)},changeDialog:function(t,e){return Po("Dialog",t,e)},changeRate:function(t,e){return Po("Rate",t,e)},changeUserMessage:function(t,e){return Po("UserMessage",t,e)},changeResponseMessage:function(t,e){return Po("ResponseMessage",t,e)},changeSender:function(t,e){return Po("Sender",t,e)},changeBadge:function(t,e){return Po("Badge",t,e)}},Lo={styles:function(t,e,n){return Mo[t](e,n)}},Fo=S(S(S(S(S(S(S(S({},To),oo),io),ko),Oo),Do),no),Lo),jo=function(t){return function(e){var r=e.ckStore,i=e.children,o=e.store;return r?n.createElement(w.Provider,{value:Io},n.createElement(t,{store:o},i)):n.createElement(t,{store:o},i)}},Vo=_("settings",function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.render=function(){var t=this.props.settings.get("media").avatar,e=this.props.styles,n=e.image,r=e.avatarContainer,i=this.props.className;return ji("div",{className:i+"-avatar-container",css:r},ji("img",{className:i+"-image",alt:"avatar",css:n,src:t||"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9Ii0xMS41IC0xMC4yMzE3NCAyMyAyMC40NjM0OCI+CiAgPHRpdGxlPlJlYWN0IExvZ288L3RpdGxlPgogIDxjaXJjbGUgY3g9IjAiIGN5PSIwIiByPSIyLjA1IiBmaWxsPSIjNjFkYWZiIi8+CiAgPGcgc3Ryb2tlPSIjNjFkYWZiIiBzdHJva2Utd2lkdGg9IjEiIGZpbGw9Im5vbmUiPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIi8+CiAgICA8ZWxsaXBzZSByeD0iMTEiIHJ5PSI0LjIiIHRyYW5zZm9ybT0icm90YXRlKDYwKSIvPgogICAgPGVsbGlwc2Ugcng9IjExIiByeT0iNC4yIiB0cmFuc2Zvcm09InJvdGF0ZSgxMjApIi8+CiAgPC9nPgo8L3N2Zz4K"}))},e}(n.PureComponent));function Uo(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function Bo(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ho(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable})))),r.forEach((function(e){Bo(t,e,n[e])}))}return t}function zo(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var qo=function(){},Wo={},Ko={},Go={mark:qo,measure:qo};try{"undefined"!=typeof window&&(Wo=window),"undefined"!=typeof document&&(Ko=document),"undefined"!=typeof MutationObserver&&MutationObserver,"undefined"!=typeof performance&&(Go=performance)}catch(qs){}var Xo=(Wo.navigator||{}).userAgent,Yo=void 0===Xo?"":Xo,Qo=Wo,Zo=Ko,Jo=Go,$o=(Qo.document,!!Zo.documentElement&&!!Zo.head&&"function"==typeof Zo.addEventListener&&"function"==typeof Zo.createElement),ts=(~Yo.indexOf("MSIE")||Yo.indexOf("Trident/"),function(){try{process.env.NODE_ENV}catch(t){return!1}}(),"group"),es="primary",ns="secondary",rs=Qo.FontAwesomeConfig||{};if(Zo&&"function"==typeof Zo.querySelector){[["data-family-prefix","familyPrefix"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach((function(t){var e=zo(t,2),n=e[0],r=e[1],i=function(t){return""===t||"false"!==t&&("true"===t||t)}(function(t){var e=Zo.querySelector("script["+t+"]");if(e)return e.getAttribute(t)}(n));null!=i&&(rs[r]=i)}))}var is=Ho({},{familyPrefix:"fa",replacementClass:"svg-inline--fa",autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0},rs);is.autoReplaceSvg||(is.observeMutations=!1);var os=Ho({},is);Qo.FontAwesomeConfig=os;var ss=Qo||{};ss.___FONT_AWESOME___||(ss.___FONT_AWESOME___={}),ss.___FONT_AWESOME___.styles||(ss.___FONT_AWESOME___.styles={}),ss.___FONT_AWESOME___.hooks||(ss.___FONT_AWESOME___.hooks={}),ss.___FONT_AWESOME___.shims||(ss.___FONT_AWESOME___.shims=[]);var as=ss.___FONT_AWESOME___,us=[];$o&&((Zo.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Zo.readyState)||Zo.addEventListener("DOMContentLoaded",(function t(){Zo.removeEventListener("DOMContentLoaded",t),1,us.map((function(t){return t()}))})));"undefined"!=typeof global&&void 0!==global.process&&global.process.emit,"undefined"==typeof setImmediate?setTimeout:setImmediate;var cs={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1};function ls(){for(var t=12,e="";t-- >0;)e+="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ"[62*Math.random()|0];return e}function hs(t){return"".concat(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fs(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,": ").concat(t[n],";")}),"")}function ps(t){return t.size!==cs.size||t.x!==cs.x||t.y!==cs.y||t.rotate!==cs.rotate||t.flipX||t.flipY}function ds(t){var e=t.transform,n=t.containerWidth,r=t.iconWidth,i={transform:"translate(".concat(n/2," 256)")},o="translate(".concat(32*e.x,", ").concat(32*e.y,") "),s="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(o," ").concat(s," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}var vs={x:0,y:0,width:"100%",height:"100%"};function gs(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return t.attributes&&(t.attributes.fill||e)&&(t.attributes.fill="black"),t}function ys(t){var e=t.icons,n=e.main,r=e.mask,i=t.prefix,o=t.iconName,s=t.transform,a=t.symbol,u=t.title,c=t.maskId,l=t.titleId,h=t.extra,f=t.watchable,p=void 0!==f&&f,d=r.found?r:n,v=d.width,g=d.height,y="fa-w-".concat(Math.ceil(v/g*16)),m=[os.replacementClass,o?"".concat(os.familyPrefix,"-").concat(o):"",y].filter((function(t){return-1===h.classes.indexOf(t)})).concat(h.classes).join(" "),b={children:[],attributes:Ho({},h.attributes,{"data-prefix":i,"data-icon":o,class:m,role:h.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(v," ").concat(g)})};p&&(b.attributes["data-fa-i2svg"]=""),u&&b.children.push({tag:"title",attributes:{id:b.attributes["aria-labelledby"]||"title-".concat(l||ls())},children:[u]});var w=Ho({},b,{prefix:i,iconName:o,main:n,mask:r,maskId:c,transform:s,symbol:a,styles:h.styles}),_=r.found&&n.found?function(t){var e,n=t.children,r=t.attributes,i=t.main,o=t.mask,s=t.maskId,a=t.transform,u=i.width,c=i.icon,l=o.width,h=o.icon,f=ds({transform:a,containerWidth:l,iconWidth:u}),p={tag:"rect",attributes:Ho({},vs,{fill:"white"})},d=c.children?{children:c.children.map(gs)}:{},v={tag:"g",attributes:Ho({},f.inner),children:[gs(Ho({tag:c.tag,attributes:Ho({},c.attributes,f.path)},d))]},g={tag:"g",attributes:Ho({},f.outer),children:[v]},y="mask-".concat(s||ls()),m="clip-".concat(s||ls()),b={tag:"mask",attributes:Ho({},vs,{id:y,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[p,g]},w={tag:"defs",children:[{tag:"clipPath",attributes:{id:m},children:(e=h,"g"===e.tag?e.children:[e])},b]};return n.push(w,{tag:"rect",attributes:Ho({fill:"currentColor","clip-path":"url(#".concat(m,")"),mask:"url(#".concat(y,")")},vs)}),{children:n,attributes:r}}(w):function(t){var e=t.children,n=t.attributes,r=t.main,i=t.transform,o=fs(t.styles);if(o.length>0&&(n.style=o),ps(i)){var s=ds({transform:i,containerWidth:r.width,iconWidth:r.width});e.push({tag:"g",attributes:Ho({},s.outer),children:[{tag:"g",attributes:Ho({},s.inner),children:[{tag:r.icon.tag,children:r.icon.children,attributes:Ho({},r.icon.attributes,s.path)}]}]})}else e.push(r.icon);return{children:e,attributes:n}}(w),E=_.children,C=_.attributes;return w.children=E,w.attributes=C,a?function(t){var e=t.prefix,n=t.iconName,r=t.children,i=t.attributes,o=t.symbol;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:Ho({},i,{id:!0===o?"".concat(e,"-").concat(os.familyPrefix,"-").concat(n):o}),children:r}]}]}(w):function(t){var e=t.children,n=t.main,r=t.mask,i=t.attributes,o=t.styles,s=t.transform;if(ps(s)&&n.found&&!r.found){var a={x:n.width/n.height/2,y:.5};i.style=fs(Ho({},o,{"transform-origin":"".concat(a.x+s.x/16,"em ").concat(a.y+s.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(w)}var ms=function(){},bs=(os.measurePerformance&&Jo&&Jo.mark&&Jo.measure,function(t,e,n,r){var i,o,s,a=Object.keys(t),u=a.length,c=void 0!==r?function(t,e){return function(n,r,i,o){return t.call(e,n,r,i,o)}}(e,r):e;for(void 0===n?(i=1,s=t[a[0]]):(i=0,s=n);i<u;i++)s=c(s,t[o=a[i]],o,t);return s});function ws(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.skipHooks,i=void 0!==r&&r,o=Object.keys(e).reduce((function(t,n){var r=e[n];return!!r.icon?t[r.iconName]=r.icon:t[n]=r,t}),{});"function"!=typeof as.hooks.addPack||i?as.styles[t]=Ho({},as.styles[t]||{},o):as.hooks.addPack(t,o),"fas"===t&&ws("fa",e)}var _s=as.styles,Es=as.shims,Cs=function(){var t=function(t){return bs(_s,(function(e,n,r){return e[r]=bs(n,t,{}),e}),{})};t((function(t,e,n){return e[3]&&(t[e[3]]=n),t})),t((function(t,e,n){var r=e[2];return t[n]=n,r.forEach((function(e){t[e]=n})),t}));var e="far"in _s;bs(Es,(function(t,n){var r=n[0],i=n[1],o=n[2];return"far"!==i||e||(i="fas"),t[r]={prefix:i,iconName:o},t}),{})};Cs();as.styles;function Is(t,e,n){if(t&&t[e]&&t[e][n])return{prefix:e,iconName:n,icon:t[e][n]}}function Ts(t){var e=t.tag,n=t.attributes,r=void 0===n?{}:n,i=t.children,o=void 0===i?[]:i;return"string"==typeof t?hs(t):"<".concat(e," ").concat(function(t){return Object.keys(t||{}).reduce((function(e,n){return e+"".concat(n,'="').concat(hs(t[n]),'" ')}),"").trim()}(r),">").concat(o.map(Ts).join(""),"</").concat(e,">")}function Ss(t){this.name="MissingIcon",this.message=t||"Icon unavailable",this.stack=(new Error).stack}Ss.prototype=Object.create(Error.prototype),Ss.prototype.constructor=Ss;var ks={fill:"currentColor"},xs={attributeType:"XML",repeatCount:"indefinite",dur:"2s"},As=(Ho({},ks,{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"}),Ho({},xs,{attributeName:"opacity"}));Ho({},ks,{cx:"256",cy:"364",r:"28"}),Ho({},xs,{attributeName:"r",values:"28;14;28;28;14;28;"}),Ho({},As,{values:"1;0;1;1;0;1;"}),Ho({},ks,{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),Ho({},As,{values:"1;0;0;0;0;1;"}),Ho({},ks,{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),Ho({},As,{values:"0;0;1;1;0;0;"}),as.styles;function Ns(t){var e=t[0],n=t[1],r=zo(t.slice(4),1)[0];return{found:!0,width:e,height:n,icon:Array.isArray(r)?{tag:"g",attributes:{class:"".concat(os.familyPrefix,"-").concat(ts)},children:[{tag:"path",attributes:{class:"".concat(os.familyPrefix,"-").concat(ns),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(os.familyPrefix,"-").concat(es),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}}}}as.styles;function Os(){os.autoAddCss&&!Ls&&(!function(t){if(t&&$o){var e=Zo.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=t;for(var n=Zo.head.childNodes,r=null,i=n.length-1;i>-1;i--){var o=n[i],s=(o.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(s)>-1&&(r=o)}Zo.head.insertBefore(e,r)}}(function(){var t="svg-inline--fa",e=os.familyPrefix,n=os.replacementClass,r='svg:not(:root).svg-inline--fa {\n  overflow: visible;\n}\n\n.svg-inline--fa {\n  display: inline-block;\n  font-size: inherit;\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.225em;\n}\n.svg-inline--fa.fa-w-1 {\n  width: 0.0625em;\n}\n.svg-inline--fa.fa-w-2 {\n  width: 0.125em;\n}\n.svg-inline--fa.fa-w-3 {\n  width: 0.1875em;\n}\n.svg-inline--fa.fa-w-4 {\n  width: 0.25em;\n}\n.svg-inline--fa.fa-w-5 {\n  width: 0.3125em;\n}\n.svg-inline--fa.fa-w-6 {\n  width: 0.375em;\n}\n.svg-inline--fa.fa-w-7 {\n  width: 0.4375em;\n}\n.svg-inline--fa.fa-w-8 {\n  width: 0.5em;\n}\n.svg-inline--fa.fa-w-9 {\n  width: 0.5625em;\n}\n.svg-inline--fa.fa-w-10 {\n  width: 0.625em;\n}\n.svg-inline--fa.fa-w-11 {\n  width: 0.6875em;\n}\n.svg-inline--fa.fa-w-12 {\n  width: 0.75em;\n}\n.svg-inline--fa.fa-w-13 {\n  width: 0.8125em;\n}\n.svg-inline--fa.fa-w-14 {\n  width: 0.875em;\n}\n.svg-inline--fa.fa-w-15 {\n  width: 0.9375em;\n}\n.svg-inline--fa.fa-w-16 {\n  width: 1em;\n}\n.svg-inline--fa.fa-w-17 {\n  width: 1.0625em;\n}\n.svg-inline--fa.fa-w-18 {\n  width: 1.125em;\n}\n.svg-inline--fa.fa-w-19 {\n  width: 1.1875em;\n}\n.svg-inline--fa.fa-w-20 {\n  width: 1.25em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: 0.3em;\n  width: auto;\n}\n.svg-inline--fa.fa-border {\n  height: 1.5em;\n}\n.svg-inline--fa.fa-li {\n  width: 2em;\n}\n.svg-inline--fa.fa-fw {\n  width: 1.25em;\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  -webkit-transform: translate(-50%, -50%);\n          transform: translate(-50%, -50%);\n  -webkit-transform-origin: center center;\n          transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: #ff253a;\n  border-radius: 1em;\n  -webkit-box-sizing: border-box;\n          box-sizing: border-box;\n  color: #fff;\n  height: 1.5em;\n  line-height: 1;\n  max-width: 5em;\n  min-width: 1.5em;\n  overflow: hidden;\n  padding: 0.25em;\n  right: 0;\n  text-overflow: ellipsis;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: 0;\n  right: 0;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom right;\n          transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: 0;\n  left: 0;\n  right: auto;\n  top: auto;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: bottom left;\n          transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  right: 0;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top right;\n          transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: 0;\n  right: auto;\n  top: 0;\n  -webkit-transform: scale(0.25);\n          transform: scale(0.25);\n  -webkit-transform-origin: top left;\n          transform-origin: top left;\n}\n\n.fa-lg {\n  font-size: 1.3333333333em;\n  line-height: 0.75em;\n  vertical-align: -0.0667em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: 2.5em;\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: -2em;\n  position: absolute;\n  text-align: center;\n  width: 2em;\n  line-height: inherit;\n}\n\n.fa-border {\n  border: solid 0.08em #eee;\n  border-radius: 0.1em;\n  padding: 0.2em 0.25em 0.15em;\n}\n\n.fa-pull-left {\n  float: left;\n}\n\n.fa-pull-right {\n  float: right;\n}\n\n.fa.fa-pull-left,\n.fas.fa-pull-left,\n.far.fa-pull-left,\n.fal.fa-pull-left,\n.fab.fa-pull-left {\n  margin-right: 0.3em;\n}\n.fa.fa-pull-right,\n.fas.fa-pull-right,\n.far.fa-pull-right,\n.fal.fa-pull-right,\n.fab.fa-pull-right {\n  margin-left: 0.3em;\n}\n\n.fa-spin {\n  -webkit-animation: fa-spin 2s infinite linear;\n          animation: fa-spin 2s infinite linear;\n}\n\n.fa-pulse {\n  -webkit-animation: fa-spin 1s infinite steps(8);\n          animation: fa-spin 1s infinite steps(8);\n}\n\n@-webkit-keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n\n@keyframes fa-spin {\n  0% {\n    -webkit-transform: rotate(0deg);\n            transform: rotate(0deg);\n  }\n  100% {\n    -webkit-transform: rotate(360deg);\n            transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=1)";\n  -webkit-transform: rotate(90deg);\n          transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2)";\n  -webkit-transform: rotate(180deg);\n          transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=3)";\n  -webkit-transform: rotate(270deg);\n          transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=0, mirror=1)";\n  -webkit-transform: scale(-1, 1);\n          transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(1, -1);\n          transform: scale(1, -1);\n}\n\n.fa-flip-both, .fa-flip-horizontal.fa-flip-vertical {\n  -ms-filter: "progid:DXImageTransform.Microsoft.BasicImage(rotation=2, mirror=1)";\n  -webkit-transform: scale(-1, -1);\n          transform: scale(-1, -1);\n}\n\n:root .fa-rotate-90,\n:root .fa-rotate-180,\n:root .fa-rotate-270,\n:root .fa-flip-horizontal,\n:root .fa-flip-vertical,\n:root .fa-flip-both {\n  -webkit-filter: none;\n          filter: none;\n}\n\n.fa-stack {\n  display: inline-block;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: #fff;\n}\n\n.sr-only {\n  border: 0;\n  clip: rect(0, 0, 0, 0);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n.sr-only-focusable:active, .sr-only-focusable:focus {\n  clip: auto;\n  height: auto;\n  margin: 0;\n  overflow: visible;\n  position: static;\n  width: auto;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: 0.4;\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: 1;\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}\n\n.fad.fa-inverse {\n  color: #fff;\n}';if("fa"!==e||n!==t){var i=new RegExp("\\.".concat("fa","\\-"),"g"),o=new RegExp("\\--".concat("fa","\\-"),"g"),s=new RegExp("\\.".concat(t),"g");r=r.replace(i,".".concat(e,"-")).replace(o,"--".concat(e,"-")).replace(s,".".concat(n))}return r}()),Ls=!0)}function Rs(t,e){return Object.defineProperty(t,"abstract",{get:e}),Object.defineProperty(t,"html",{get:function(){return t.abstract.map((function(t){return Ts(t)}))}}),Object.defineProperty(t,"node",{get:function(){if($o){var e=Zo.createElement("div");return e.innerHTML=t.html,e.children}}}),t}function Ds(t){var e=t.prefix,n=void 0===e?"fa":e,r=t.iconName;if(r)return Is(Ms.definitions,n,r)||Is(as.styles,n,r)}var Ps,Ms=new(function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.definitions={}}var e,n,r;return e=t,(n=[{key:"add",value:function(){for(var t=this,e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n.reduce(this._pullDefinitions,{});Object.keys(i).forEach((function(e){t.definitions[e]=Ho({},t.definitions[e]||{},i[e]),ws(e,i[e]),Cs()}))}},{key:"reset",value:function(){this.definitions={}}},{key:"_pullDefinitions",value:function(t,e){var n=e.prefix&&e.iconName&&e.icon?{0:e}:e;return Object.keys(n).map((function(e){var r=n[e],i=r.prefix,o=r.iconName,s=r.icon;t[i]||(t[i]={}),t[i][o]=s})),t}}])&&Uo(e.prototype,n),r&&Uo(e,r),t}()),Ls=!1,Fs=function(t){return function(t){var e={size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0};return t?t.toLowerCase().split(" ").reduce((function(t,e){var n=e.toLowerCase().split("-"),r=n[0],i=n.slice(1).join("-");if(r&&"h"===i)return t.flipX=!0,t;if(r&&"v"===i)return t.flipY=!0,t;if(i=parseFloat(i),isNaN(i))return t;switch(r){case"grow":t.size=t.size+i;break;case"shrink":t.size=t.size-i;break;case"left":t.x=t.x-i;break;case"right":t.x=t.x+i;break;case"up":t.y=t.y-i;break;case"down":t.y=t.y+i;break;case"rotate":t.rotate=t.rotate+i}return t}),e):e}(t)},js=(Ps=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.transform,r=void 0===n?cs:n,i=e.symbol,o=void 0!==i&&i,s=e.mask,a=void 0===s?null:s,u=e.maskId,c=void 0===u?null:u,l=e.title,h=void 0===l?null:l,f=e.titleId,p=void 0===f?null:f,d=e.classes,v=void 0===d?[]:d,g=e.attributes,y=void 0===g?{}:g,m=e.styles,b=void 0===m?{}:m;if(t){var w=t.prefix,_=t.iconName,E=t.icon;return Rs(Ho({type:"icon"},t),(function(){return Os(),os.autoA11y&&(h?y["aria-labelledby"]="".concat(os.replacementClass,"-title-").concat(p||ls()):(y["aria-hidden"]="true",y.focusable="false")),ys({icons:{main:Ns(E),mask:a?Ns(a.icon):{found:!1,width:null,height:null,icon:{}}},prefix:w,iconName:_,transform:Ho({},cs,r),symbol:o,title:h,maskId:c,titleId:p,extra:{attributes:y,styles:b,classes:v}})}))}},function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t||{}).icon?t:Ds(t||{}),r=e.mask;return r&&(r=(r||{}).icon?r:Ds(r||{})),Ps(n,Ho({},e,{mask:r}))});function Vs(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Us(t,e,n){return t(n={path:e,exports:{},require:function(t,e){return function(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(null==e&&n.path)}},n.exports),n.exports}var Bs="function"==typeof Symbol&&Symbol.for,Hs=Bs?Symbol.for("react.element"):60103,zs=Bs?Symbol.for("react.portal"):60106,qs=Bs?Symbol.for("react.fragment"):60107,Ws=Bs?Symbol.for("react.strict_mode"):60108,Ks=Bs?Symbol.for("react.profiler"):60114,Gs=Bs?Symbol.for("react.provider"):60109,Xs=Bs?Symbol.for("react.context"):60110,Ys=Bs?Symbol.for("react.async_mode"):60111,Qs=Bs?Symbol.for("react.concurrent_mode"):60111,Zs=Bs?Symbol.for("react.forward_ref"):60112,Js=Bs?Symbol.for("react.suspense"):60113,$s=Bs?Symbol.for("react.suspense_list"):60120,ta=Bs?Symbol.for("react.memo"):60115,ea=Bs?Symbol.for("react.lazy"):60116,na=Bs?Symbol.for("react.block"):60121,ra=Bs?Symbol.for("react.fundamental"):60117,ia=Bs?Symbol.for("react.responder"):60118,oa=Bs?Symbol.for("react.scope"):60119;function sa(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case Hs:switch(t=t.type){case Ys:case Qs:case qs:case Ks:case Ws:case Js:return t;default:switch(t=t&&t.$$typeof){case Xs:case Zs:case ea:case ta:case Gs:return t;default:return e}}case zs:return e}}}function aa(t){return sa(t)===Qs}var ua={AsyncMode:Ys,ConcurrentMode:Qs,ContextConsumer:Xs,ContextProvider:Gs,Element:Hs,ForwardRef:Zs,Fragment:qs,Lazy:ea,Memo:ta,Portal:zs,Profiler:Ks,StrictMode:Ws,Suspense:Js,isAsyncMode:function(t){return aa(t)||sa(t)===Ys},isConcurrentMode:aa,isContextConsumer:function(t){return sa(t)===Xs},isContextProvider:function(t){return sa(t)===Gs},isElement:function(t){return"object"==typeof t&&null!==t&&t.$$typeof===Hs},isForwardRef:function(t){return sa(t)===Zs},isFragment:function(t){return sa(t)===qs},isLazy:function(t){return sa(t)===ea},isMemo:function(t){return sa(t)===ta},isPortal:function(t){return sa(t)===zs},isProfiler:function(t){return sa(t)===Ks},isStrictMode:function(t){return sa(t)===Ws},isSuspense:function(t){return sa(t)===Js},isValidElementType:function(t){return"string"==typeof t||"function"==typeof t||t===qs||t===Qs||t===Ks||t===Ws||t===Js||t===$s||"object"==typeof t&&null!==t&&(t.$$typeof===ea||t.$$typeof===ta||t.$$typeof===Gs||t.$$typeof===Xs||t.$$typeof===Zs||t.$$typeof===ra||t.$$typeof===ia||t.$$typeof===oa||t.$$typeof===na)},typeOf:sa},ca=Us((function(t,e){"production"!==process.env.NODE_ENV&&function(){var t="function"==typeof Symbol&&Symbol.for,n=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,i=t?Symbol.for("react.fragment"):60107,o=t?Symbol.for("react.strict_mode"):60108,s=t?Symbol.for("react.profiler"):60114,a=t?Symbol.for("react.provider"):60109,u=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,l=t?Symbol.for("react.concurrent_mode"):60111,h=t?Symbol.for("react.forward_ref"):60112,f=t?Symbol.for("react.suspense"):60113,p=t?Symbol.for("react.suspense_list"):60120,d=t?Symbol.for("react.memo"):60115,v=t?Symbol.for("react.lazy"):60116,g=t?Symbol.for("react.block"):60121,y=t?Symbol.for("react.fundamental"):60117,m=t?Symbol.for("react.responder"):60118,b=t?Symbol.for("react.scope"):60119;function w(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case n:var p=t.type;switch(p){case c:case l:case i:case s:case o:case f:return p;default:var g=p&&p.$$typeof;switch(g){case u:case h:case v:case d:case a:return g;default:return e}}case r:return e}}}var _=c,E=l,C=u,I=a,T=n,S=h,k=i,x=v,A=d,N=r,O=s,R=o,D=f,P=!1;function M(t){return w(t)===l}e.AsyncMode=_,e.ConcurrentMode=E,e.ContextConsumer=C,e.ContextProvider=I,e.Element=T,e.ForwardRef=S,e.Fragment=k,e.Lazy=x,e.Memo=A,e.Portal=N,e.Profiler=O,e.StrictMode=R,e.Suspense=D,e.isAsyncMode=function(t){return P||(P=!0,console.warn("The ReactIs.isAsyncMode() alias has been deprecated, and will be removed in React 17+. Update your code to use ReactIs.isConcurrentMode() instead. It has the exact same API.")),M(t)||w(t)===c},e.isConcurrentMode=M,e.isContextConsumer=function(t){return w(t)===u},e.isContextProvider=function(t){return w(t)===a},e.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===n},e.isForwardRef=function(t){return w(t)===h},e.isFragment=function(t){return w(t)===i},e.isLazy=function(t){return w(t)===v},e.isMemo=function(t){return w(t)===d},e.isPortal=function(t){return w(t)===r},e.isProfiler=function(t){return w(t)===s},e.isStrictMode=function(t){return w(t)===o},e.isSuspense=function(t){return w(t)===f},e.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===i||t===l||t===s||t===o||t===f||t===p||"object"==typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===d||t.$$typeof===a||t.$$typeof===u||t.$$typeof===h||t.$$typeof===y||t.$$typeof===m||t.$$typeof===b||t.$$typeof===g)},e.typeOf=w}()})),la=(ca.AsyncMode,ca.ConcurrentMode,ca.ContextConsumer,ca.ContextProvider,ca.Element,ca.ForwardRef,ca.Fragment,ca.Lazy,ca.Memo,ca.Portal,ca.Profiler,ca.StrictMode,ca.Suspense,ca.isAsyncMode,ca.isConcurrentMode,ca.isContextConsumer,ca.isContextProvider,ca.isElement,ca.isForwardRef,ca.isFragment,ca.isLazy,ca.isMemo,ca.isPortal,ca.isProfiler,ca.isStrictMode,ca.isSuspense,ca.isValidElementType,ca.typeOf,Us((function(t){"production"===process.env.NODE_ENV?t.exports=ua:t.exports=ca}))),ha=Object.getOwnPropertySymbols,fa=Object.prototype.hasOwnProperty,pa=Object.prototype.propertyIsEnumerable;function da(t){if(null==t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var va=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,r,i=da(t),o=1;o<arguments.length;o++){for(var s in n=Object(arguments[o]))fa.call(n,s)&&(i[s]=n[s]);if(ha){r=ha(n);for(var a=0;a<r.length;a++)pa.call(n,r[a])&&(i[r[a]]=n[r[a]])}}return i},ga="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ya=function(){};if("production"!==process.env.NODE_ENV){var ma=ga,ba={},wa=Function.call.bind(Object.prototype.hasOwnProperty);ya=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}}}function _a(t,e,n,r,i){if("production"!==process.env.NODE_ENV)for(var o in t)if(wa(t,o)){var s;try{if("function"!=typeof t[o]){var a=Error((r||"React class")+": "+n+" type `"+o+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof t[o]+"`.");throw a.name="Invariant Violation",a}s=t[o](e,o,r,n,null,ma)}catch(t){s=t}if(!s||s instanceof Error||ya((r||"React class")+": type specification of "+n+" `"+o+"` is invalid; the type checker function must return `null` or an `Error` but returned a "+typeof s+". You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument)."),s instanceof Error&&!(s.message in ba)){ba[s.message]=!0;var u=i?i():"";ya("Failed "+n+" type: "+s.message+(null!=u?u:""))}}}_a.resetWarningCache=function(){"production"!==process.env.NODE_ENV&&(ba={})};var Ea=_a,Ca=Function.call.bind(Object.prototype.hasOwnProperty),Ia=function(){};function Ta(){return null}"production"!==process.env.NODE_ENV&&(Ia=function(t){var e="Warning: "+t;"undefined"!=typeof console&&console.error(e);try{throw new Error(e)}catch(t){}});var Sa=function(t,e){var n="function"==typeof Symbol&&Symbol.iterator;var r={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(Ta),arrayOf:function(t){return s((function(e,n,r,i,s){if("function"!=typeof t)return new o("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var a=e[n];if(!Array.isArray(a))return new o("Invalid "+i+" `"+s+"` of type `"+c(a)+"` supplied to `"+r+"`, expected an array.");for(var u=0;u<a.length;u++){var l=t(a,u,r,i,s+"["+u+"]",ga);if(l instanceof Error)return l}return null}))},element:s((function(e,n,r,i,s){var a=e[n];return t(a)?null:new o("Invalid "+i+" `"+s+"` of type `"+c(a)+"` supplied to `"+r+"`, expected a single ReactElement.")})),elementType:s((function(t,e,n,r,i){var s=t[e];return la.isValidElementType(s)?null:new o("Invalid "+r+" `"+i+"` of type `"+c(s)+"` supplied to `"+n+"`, expected a single ReactElement type.")})),instanceOf:function(t){return s((function(e,n,r,i,s){if(!(e[n]instanceof t)){var a=t.name||"<<anonymous>>";return new o("Invalid "+i+" `"+s+"` of type `"+function(t){if(!t.constructor||!t.constructor.name)return"<<anonymous>>";return t.constructor.name}(e[n])+"` supplied to `"+r+"`, expected instance of `"+a+"`.")}return null}))},node:s((function(t,e,n,r,i){return u(t[e])?null:new o("Invalid "+r+" `"+i+"` supplied to `"+n+"`, expected a ReactNode.")})),objectOf:function(t){return s((function(e,n,r,i,s){if("function"!=typeof t)return new o("Property `"+s+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var a=e[n],u=c(a);if("object"!==u)return new o("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected an object.");for(var l in a)if(Ca(a,l)){var h=t(a,l,r,i,s+"."+l,ga);if(h instanceof Error)return h}return null}))},oneOf:function(t){if(!Array.isArray(t))return"production"!==process.env.NODE_ENV&&Ia(arguments.length>1?"Invalid arguments supplied to oneOf, expected an array, got "+arguments.length+" arguments. A common mistake is to write oneOf(x, y, z) instead of oneOf([x, y, z]).":"Invalid argument supplied to oneOf, expected an array."),Ta;function e(e,n,r,s,a){for(var u=e[n],c=0;c<t.length;c++)if(i(u,t[c]))return null;var h=JSON.stringify(t,(function(t,e){return"symbol"===l(e)?String(e):e}));return new o("Invalid "+s+" `"+a+"` of value `"+String(u)+"` supplied to `"+r+"`, expected one of "+h+".")}return s(e)},oneOfType:function(t){if(!Array.isArray(t))return"production"!==process.env.NODE_ENV&&Ia("Invalid argument supplied to oneOfType, expected an instance of array."),Ta;for(var e=0;e<t.length;e++){var n=t[e];if("function"!=typeof n)return Ia("Invalid argument supplied to oneOfType. Expected an array of check functions, but received "+h(n)+" at index "+e+"."),Ta}return s((function(e,n,r,i,s){for(var a=0;a<t.length;a++){if(null==(0,t[a])(e,n,r,i,s,ga))return null}return new o("Invalid "+i+" `"+s+"` supplied to `"+r+"`.")}))},shape:function(t){return s((function(e,n,r,i,s){var a=e[n],u=c(a);if("object"!==u)return new o("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");for(var l in t){var h=t[l];if(h){var f=h(a,l,r,i,s+"."+l,ga);if(f)return f}}return null}))},exact:function(t){return s((function(e,n,r,i,s){var a=e[n],u=c(a);if("object"!==u)return new o("Invalid "+i+" `"+s+"` of type `"+u+"` supplied to `"+r+"`, expected `object`.");var l=va({},e[n],t);for(var h in l){var f=t[h];if(!f)return new o("Invalid "+i+" `"+s+"` key `"+h+"` supplied to `"+r+"`.\nBad object: "+JSON.stringify(e[n],null,"  ")+"\nValid keys: "+JSON.stringify(Object.keys(t),null,"  "));var p=f(a,h,r,i,s+"."+h,ga);if(p)return p}return null}))}};function i(t,e){return t===e?0!==t||1/t==1/e:t!=t&&e!=e}function o(t){this.message=t,this.stack=""}function s(t){if("production"!==process.env.NODE_ENV)var n={},r=0;function i(i,s,a,u,c,l,h){if(u=u||"<<anonymous>>",l=l||a,h!==ga){if(e){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}if("production"!==process.env.NODE_ENV&&"undefined"!=typeof console){var p=u+":"+a;!n[p]&&r<3&&(Ia("You are manually calling a React.PropTypes validation function for the `"+l+"` prop on `"+u+"`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details."),n[p]=!0,r++)}}return null==s[a]?i?null===s[a]?new o("The "+c+" `"+l+"` is marked as required in `"+u+"`, but its value is `null`."):new o("The "+c+" `"+l+"` is marked as required in `"+u+"`, but its value is `undefined`."):null:t(s,a,u,c,l)}var s=i.bind(null,!1);return s.isRequired=i.bind(null,!0),s}function a(t){return s((function(e,n,r,i,s,a){var u=e[n];return c(u)!==t?new o("Invalid "+i+" `"+s+"` of type `"+l(u)+"` supplied to `"+r+"`, expected `"+t+"`."):null}))}function u(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(u);if(null===e||t(e))return!0;var r=function(t){var e=t&&(n&&t[n]||t["@@iterator"]);if("function"==typeof e)return e}(e);if(!r)return!1;var i,o=r.call(e);if(r!==e.entries){for(;!(i=o.next()).done;)if(!u(i.value))return!1}else for(;!(i=o.next()).done;){var s=i.value;if(s&&!u(s[1]))return!1}return!0;default:return!1}}function c(t){var e=typeof t;return Array.isArray(t)?"array":t instanceof RegExp?"object":function(t,e){return"symbol"===t||!!e&&("Symbol"===e["@@toStringTag"]||"function"==typeof Symbol&&e instanceof Symbol)}(e,t)?"symbol":e}function l(t){if(null==t)return""+t;var e=c(t);if("object"===e){if(t instanceof Date)return"date";if(t instanceof RegExp)return"regexp"}return e}function h(t){var e=l(t);switch(e){case"array":case"object":return"an "+e;case"boolean":case"date":case"regexp":return"a "+e;default:return e}}return o.prototype=Error.prototype,r.checkPropTypes=Ea,r.resetWarningCache=Ea.resetWarningCache,r.PropTypes=r,r};function ka(){}function xa(){}xa.resetWarningCache=ka;var Aa=Us((function(t){if("production"!==process.env.NODE_ENV){var e=la;t.exports=Sa(e.isElement,!0)}else t.exports=function(){function t(t,e,n,r,i,o){if(o!==ga){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:xa,resetWarningCache:ka};return n.PropTypes=n,n}()}));function Na(t){return(Na="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Oa(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Ra(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Da(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ra(Object(n),!0).forEach((function(e){Oa(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ra(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Pa(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function Ma(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function La(t){return e=t,(e-=0)==e?t:(t=t.replace(/[\-_\s]+(.)?/g,(function(t,e){return e?e.toUpperCase():""}))).substr(0,1).toLowerCase()+t.substr(1);var e}function Fa(t){return t.split(";").map((function(t){return t.trim()})).filter((function(t){return t})).reduce((function(t,e){var n,r=e.indexOf(":"),i=La(e.slice(0,r)),o=e.slice(r+1).trim();return i.startsWith("webkit")?t[(n=i,n.charAt(0).toUpperCase()+n.slice(1))]=o:t[i]=o,t}),{})}var ja=!1;try{ja="production"===process.env.NODE_ENV}catch(qs){}function Va(t){return null===t?null:"object"===Na(t)&&t.prefix&&t.iconName?t:Array.isArray(t)&&2===t.length?{prefix:t[0],iconName:t[1]}:"string"==typeof t?{prefix:"fas",iconName:t}:void 0}function Ua(t,e){return Array.isArray(e)&&e.length>0||!Array.isArray(e)&&e?Oa({},t,e):{}}function Ba(t){var e=t.forwardedRef,n=Pa(t,["forwardedRef"]),r=n.icon,i=n.mask,o=n.symbol,s=n.className,a=n.title,u=Va(r),c=Ua("classes",[].concat(Ma(function(t){var e,n=t.spin,r=t.pulse,i=t.fixedWidth,o=t.inverse,s=t.border,a=t.listItem,u=t.flip,c=t.size,l=t.rotation,h=t.pull,f=(Oa(e={"fa-spin":n,"fa-pulse":r,"fa-fw":i,"fa-inverse":o,"fa-border":s,"fa-li":a,"fa-flip-horizontal":"horizontal"===u||"both"===u,"fa-flip-vertical":"vertical"===u||"both"===u},"fa-".concat(c),null!=c),Oa(e,"fa-rotate-".concat(l),null!=l&&0!==l),Oa(e,"fa-pull-".concat(h),null!=h),Oa(e,"fa-swap-opacity",t.swapOpacity),e);return Object.keys(f).map((function(t){return f[t]?t:null})).filter((function(t){return t}))}(n)),Ma(s.split(" ")))),l=Ua("transform","string"==typeof n.transform?Fs(n.transform):n.transform),h=Ua("mask",Va(i)),f=js(u,Da({},c,{},l,{},h,{symbol:o,title:a}));if(!f)return function(){var t;!ja&&console&&"function"==typeof console.error&&(t=console).error.apply(t,arguments)}("Could not find icon",u),null;var p=f.abstract,d={ref:e};return Object.keys(n).forEach((function(t){Ba.defaultProps.hasOwnProperty(t)||(d[t]=n[t])})),Ha(p[0],d)}Ba.displayName="FontAwesomeIcon",Ba.propTypes={border:Aa.bool,className:Aa.string,mask:Aa.oneOfType([Aa.object,Aa.array,Aa.string]),fixedWidth:Aa.bool,inverse:Aa.bool,flip:Aa.oneOf(["horizontal","vertical","both"]),icon:Aa.oneOfType([Aa.object,Aa.array,Aa.string]),listItem:Aa.bool,pull:Aa.oneOf(["right","left"]),pulse:Aa.bool,rotation:Aa.oneOf([0,90,180,270]),size:Aa.oneOf(["lg","xs","sm","1x","2x","3x","4x","5x","6x","7x","8x","9x","10x"]),spin:Aa.bool,symbol:Aa.oneOfType([Aa.bool,Aa.string]),title:Aa.string,transform:Aa.oneOfType([Aa.string,Aa.object]),swapOpacity:Aa.bool},Ba.defaultProps={border:!1,className:"",mask:null,fixedWidth:!1,inverse:!1,flip:null,icon:null,listItem:!1,pull:null,pulse:!1,rotation:null,size:null,spin:!1,symbol:!1,title:"",transform:null,swapOpacity:!1};var Ha=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("string"==typeof n)return n;var i=(n.children||[]).map((function(n){return t(e,n)})),o=Object.keys(n.attributes||{}).reduce((function(t,e){var r=n.attributes[e];switch(e){case"class":t.attrs.className=r,delete n.attributes.class;break;case"style":t.attrs.style=Fa(r);break;default:0===e.indexOf("aria-")||0===e.indexOf("data-")?t.attrs[e.toLowerCase()]=r:t.attrs[La(e)]=r}return t}),{attrs:{}}),s=r.style,a=void 0===s?{}:s,u=Pa(r,["style"]);return o.attrs.style=Da({},o.attrs.style,{},a),e.apply(void 0,[n.tag,Da({},o.attrs,{},u)].concat(Ma(i)))}.bind(null,n.createElement);Ms.add({prefix:"fas",iconName:"play",icon:[448,512,[],"f04b","M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"]},{prefix:"fas",iconName:"search",icon:[512,512,[],"f002","M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"]},{prefix:"fas",iconName:"microphone",icon:[352,512,[],"f130","M176 352c53.02 0 96-42.98 96-96V96c0-53.02-42.98-96-96-96S80 42.98 80 96v160c0 53.02 42.98 96 96 96zm160-160h-16c-8.84 0-16 7.16-16 16v48c0 74.8-64.49 134.82-140.79 127.38C96.71 376.89 48 317.11 48 250.3V208c0-8.84-7.16-16-16-16H16c-8.84 0-16 7.16-16 16v40.16c0 89.64 63.97 169.55 152 181.69V464H96c-8.84 0-16 7.16-16 16v16c0 8.84 7.16 16 16 16h160c8.84 0 16-7.16 16-16v-16c0-8.84-7.16-16-16-16h-56v-33.77C285.71 418.47 352 344.9 352 256v-48c0-8.84-7.16-16-16-16z"]},{prefix:"fas",iconName:"thumbs-up",icon:[512,512,[],"f164","M104 224H24c-13.255 0-24 10.745-24 24v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V248c0-13.255-10.745-24-24-24zM64 472c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zM384 81.452c0 42.416-25.97 66.208-33.277 94.548h101.723c33.397 0 59.397 27.746 59.553 58.098.084 17.938-7.546 37.249-19.439 49.197l-.11.11c9.836 23.337 8.237 56.037-9.308 79.469 8.681 25.895-.069 57.704-16.382 74.757 4.298 17.598 2.244 32.575-6.148 44.632C440.202 511.587 389.616 512 346.839 512l-2.845-.001c-48.287-.017-87.806-17.598-119.56-31.725-15.957-7.099-36.821-15.887-52.651-16.178-6.54-.12-11.783-5.457-11.783-11.998v-213.77c0-3.2 1.282-6.271 3.558-8.521 39.614-39.144 56.648-80.587 89.117-113.111 14.804-14.832 20.188-37.236 25.393-58.902C282.515 39.293 291.817 0 312 0c24 0 72 8 72 81.452z"]},{prefix:"fas",iconName:"thumbs-down",icon:[512,512,[],"f165","M0 56v240c0 13.255 10.745 24 24 24h80c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24H24C10.745 32 0 42.745 0 56zm40 200c0-13.255 10.745-24 24-24s24 10.745 24 24-10.745 24-24 24-24-10.745-24-24zm272 256c-20.183 0-29.485-39.293-33.931-57.795-5.206-21.666-10.589-44.07-25.393-58.902-32.469-32.524-49.503-73.967-89.117-113.111a11.98 11.98 0 0 1-3.558-8.521V59.901c0-6.541 5.243-11.878 11.783-11.998 15.831-.29 36.694-9.079 52.651-16.178C256.189 17.598 295.709.017 343.995 0h2.844c42.777 0 93.363.413 113.774 29.737 8.392 12.057 10.446 27.034 6.148 44.632 16.312 17.053 25.063 48.863 16.382 74.757 17.544 23.432 19.143 56.132 9.308 79.469l.11.11c11.893 11.949 19.523 31.259 19.439 49.197-.156 30.352-26.157 58.098-59.553 58.098H350.723C358.03 364.34 384 388.132 384 430.548 384 504 336 512 312 512z"]},{prefix:"fas",iconName:"plus",icon:[448,512,[],"f067","M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"]},{prefix:"far",iconName:"thumbs-down",icon:[512,512,[],"f165","M466.27 225.31c4.674-22.647.864-44.538-8.99-62.99 2.958-23.868-4.021-48.565-17.34-66.99C438.986 39.423 404.117 0 327 0c-7 0-15 .01-22.22.01C201.195.01 168.997 40 128 40h-10.845c-5.64-4.975-13.042-8-21.155-8H32C14.327 32 0 46.327 0 64v240c0 17.673 14.327 32 32 32h64c11.842 0 22.175-6.438 27.708-16h7.052c19.146 16.953 46.013 60.653 68.76 83.4 13.667 13.667 10.153 108.6 71.76 108.6 57.58 0 95.27-31.936 95.27-104.73 0-18.41-3.93-33.73-8.85-46.54h36.48c48.602 0 85.82-41.565 85.82-85.58 0-19.15-4.96-34.99-13.73-49.84zM64 296c-13.255 0-24-10.745-24-24s10.745-24 24-24 24 10.745 24 24-10.745 24-24 24zm330.18 16.73H290.19c0 37.82 28.36 55.37 28.36 94.54 0 23.75 0 56.73-47.27 56.73-18.91-18.91-9.46-66.18-37.82-94.54C206.9 342.89 167.28 272 138.92 272H128V85.83c53.611 0 100.001-37.82 171.64-37.82h37.82c35.512 0 60.82 17.12 53.12 65.9 15.2 8.16 26.5 36.44 13.94 57.57 21.581 20.384 18.699 51.065 5.21 65.62 9.45 0 22.36 18.91 22.27 37.81-.09 18.91-16.71 37.82-37.82 37.82z"]},{prefix:"fas",iconName:"cog",icon:[512,512,[],"f013","M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"]},{prefix:"fas",iconName:"arrow-up",icon:[448,512,[],"f062","M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"]},{prefix:"fas",iconName:"share-alt",icon:[448,512,[],"f1e0","M352 320c-22.608 0-43.387 7.819-59.79 20.895l-102.486-64.054a96.551 96.551 0 0 0 0-41.683l102.486-64.054C308.613 184.181 329.392 192 352 192c53.019 0 96-42.981 96-96S405.019 0 352 0s-96 42.981-96 96c0 7.158.79 14.13 2.276 20.841L155.79 180.895C139.387 167.819 118.608 160 96 160c-53.019 0-96 42.981-96 96s42.981 96 96 96c22.608 0 43.387-7.819 59.79-20.895l102.486 64.054A96.301 96.301 0 0 0 256 416c0 53.019 42.981 96 96 96s96-42.981 96-96-42.981-96-96-96z"]},{prefix:"fas",iconName:"paper-plane",icon:[512,512,[],"f1d8","M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"]},{prefix:"fas",iconName:"redo-alt",icon:[512,512,[],"f2f9","M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z"]},{prefix:"fas",iconName:"sticky-note",icon:[448,512,[],"f249","M312 320h136V56c0-13.3-10.7-24-24-24H24C10.7 32 0 42.7 0 56v400c0 13.3 10.7 24 24 24h264V344c0-13.2 10.8-24 24-24zm129 55l-98 98c-4.5 4.5-10.6 7-17 7h-6V352h128v6.1c0 6.3-2.5 12.4-7 16.9z"]},{prefix:"fas",iconName:"times",icon:[352,512,[],"f00d","M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"]},{prefix:"fas",iconName:"ellipsis-v",icon:[192,512,[],"f142","M96 184c39.8 0 72 32.2 72 72s-32.2 72-72 72-72-32.2-72-72 32.2-72 72-72zM24 80c0 39.8 32.2 72 72 72s72-32.2 72-72S135.8 8 96 8 24 40.2 24 80zm0 352c0 39.8 32.2 72 72 72s72-32.2 72-72-32.2-72-72-72-72 32.2-72 72z"]},{prefix:"far",iconName:"times-circle",icon:[512,512,[],"f057","M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm0 448c-110.5 0-200-89.5-200-200S145.5 56 256 56s200 89.5 200 200-89.5 200-200 200zm101.8-262.2L295.6 256l62.2 62.2c4.7 4.7 4.7 12.3 0 17l-22.6 22.6c-4.7 4.7-12.3 4.7-17 0L256 295.6l-62.2 62.2c-4.7 4.7-12.3 4.7-17 0l-22.6-22.6c-4.7-4.7-4.7-12.3 0-17l62.2-62.2-62.2-62.2c-4.7-4.7-4.7-12.3 0-17l22.6-22.6c4.7-4.7 12.3-4.7 17 0l62.2 62.2 62.2-62.2c4.7-4.7 12.3-4.7 17 0l22.6 22.6c4.7 4.7 4.7 12.3 0 17z"]},{prefix:"fas",iconName:"arrow-down",icon:[448,512,[],"f063","M413.1 222.5l22.2 22.2c9.4 9.4 9.4 24.6 0 33.9L241 473c-9.4 9.4-24.6 9.4-33.9 0L12.7 278.6c-9.4-9.4-9.4-24.6 0-33.9l22.2-22.2c9.5-9.5 25-9.3 34.3.4L184 343.4V56c0-13.3 10.7-24 24-24h32c13.3 0 24 10.7 24 24v287.4l114.8-120.5c9.3-9.8 24.8-10 34.3-.4z"]},{prefix:"fas",iconName:"arrow-left",icon:[448,512,[],"f060","M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"]},{prefix:"fas",iconName:"window-minimize",icon:[512,512,[],"f2d1","M464 352H48c-26.5 0-48 21.5-48 48v32c0 26.5 21.5 48 48 48h416c26.5 0 48-21.5 48-48v-32c0-26.5-21.5-48-48-48z"]},{prefix:"fas",iconName:"chevron-down",icon:[448,512,[],"f078","M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"]},{prefix:"fas",iconName:"chevron-up",icon:[448,512,[],"f077","M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"]});var za=n.memo((function(t){return n.createElement(Ba,S({className:t.className,icon:t.icon},t.props))}));za.displayName="Icon";var qa=n.memo((function(t){var e=t.block,n=t.type,r=t.title,i=t.withTitle,o=t.withIcon,s=t.icon,a=t.onClick,u=t.style,c=t.className;return ji("button",{className:c,css:u,onClick:a,disabled:e,type:n},o&&s&&ji(za,S({},s)),i&&r)}));qa.displayName="Button";var Wa=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ref=n.createRef(),e.handleClick=function(t){if(e.ref.current){e.ref.current.contains(t.target)||e.props.onClick()}},e.escFunction=function(t){"Escape"===t.key&&e.props.onClick()},e}return T(e,t),e.prototype.componentDidMount=function(){this.props.outboundClickEnabled&&document.addEventListener("keydown",this.escFunction),this.props.outboundClickEnabled&&document.addEventListener("click",this.handleClick)},e.prototype.componentWillUnmount=function(){document.removeEventListener("keydown",this.escFunction,!1),document.removeEventListener("click",this.handleClick,!1)},e.prototype.render=function(){return this.props.outboundClickEnabled?n.createElement("div",{className:this.props.className,ref:this.ref},this.props.children):n.createElement(n.Fragment,null,this.props.children)},e.defaultProps={exceptions:[],outboundClickEnabled:!0},e}(u),Ka=_("settings","managment","languages","styles",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={showRatingList:!1,transform:""},e.rateContainer=c(),e.componentDidMount=function(){e.setState((function(){return{transform:"translateY(-100%)"}})),e.props.scrollbar&&(e.props.scrollbar.scrollTop=e.props.scrollbar.scrollHeight)},e.componentDidUpdate=function(t,n){n.showRatingList!==e.state.showRatingList&&e.props.scrollbar&&e.state.showRatingList&&(e.props.scrollbar.scrollTop=e.props.scrollbar.scrollHeight)},e.hideRate=function(){return e.setState((function(){return{transform:"translateY(100%)"}}))},e.removeRate=function(){return"translateY(100%)"===e.state.transform&&To.sendRate(4,e.props.store)&&io.uiManagment("showRate",!1,e.props.store)},e}return T(e,t),e.prototype.render=function(){var t=this,e=this.state.showRatingList,n=this.props.managment.getIn(["components","Rate"]),r=n.positiveRate,i=n.negativeRate,o=this.props.languages.get("active"),s=this.props.languages.getIn(["stack",o,"Rate"]),a=s.title,u=s.positive,c=s.negative,l=s.ratingList,h=this.props.settings.getIn(["media","icons"]),f=h.positiveRateIcon,p=h.negativeRateIcon,d=this.props.styles.get("active"),v=this.props.styles.getIn(["stack",d,"Rate"]),g=v.mainContainer,y=v.titleContainer,m=v.positiveRateButton,b=v.negativeRateButton,w=v.ratingListContainer,_=v.ratingElement;return ji(Wa,{onClick:this.hideRate},ji("div",{onTransitionEnd:this.removeRate,ref:this.rateContainer,className:"rate-main-container",css:S({},g)},ji("span",{className:"rate-title-container",css:y},a),r.enabled&&ji(qa,{type:"button",block:!1,withIcon:r.withIcon,withTitle:r.withTitle,title:u,icon:f,onClick:function(){return To.sendRate(5,t.props.store)},style:m,className:"rate-positiveRateButton"}),i.enabled&&ji(qa,{type:"button",block:!1,withIcon:i.withIcon,withTitle:i.withTitle,title:c,icon:p,style:b,className:"rate-positiveRateButton",onClick:function(){return t.setState((function(){return{showRatingList:!0}}))}}),e&&ji("div",{className:"rate-ratingListContainer",css:w},l.map((function(e,n){return ji("li",{className:"rate-ratingElement",css:_,key:n,onClick:function(){return To.sendRate(e.rating,t.props.store)}},e.text)})))))},e}(n.PureComponent)),Ga=function(t){return ji(n.Fragment,null,t.sholdBeDownload?ji("a",{css:t.style,download:!0,href:t.imageSrc},ji("img",{src:t.imageSrc,css:t.style})):ji("img",{src:t.imageSrc,css:t.style}))};Ga.displayName="ImageFile";var Xa=function(t){var e,n=t.file,r=t.styles,i=t.sender,o=n.name,s=n.url,a=n.size,u=n.type,c="jpeg"===u||"png"===u||"jpg"===u,l=(e=o).length<=20?e:e.substring(0,20)+"...",h=r.imageFile,f=r.fileContainer,p=r.svgContainer,d=r.sizeTittle,v=r.fileNameTittle,g=r.metaContainer,y=E("settings").settings.get("media").svg,m=y[u+"File"]?y[u+"File"]:y.defaultFile;return c?ji(Ga,{sholdBeDownload:!0,imageSrc:s,style:h}):ji("div",{css:f,className:i+"Message-fileContainer"},ji("div",{css:p,className:i+"Message-svgContainer"},ji(m,null)),ji("div",{css:g,className:i+"Message-metaContainer"},ji("a",{download:!0,href:s,css:v,className:i+"Message-fileNameTittle"},l),ji("span",{css:d,className:i+"Message-sizeTittle"},a)))};Xa.displayName="FileMessage";var Ya=function(t){var e=t.prevSenderType,r=t.nextSenderType,i=t.message,o=t.id,s=t.scrollbar,a=t.store,u=E("settings","managment","languages","styles"),c=u.settings,p=u.managment,d=u.languages,v=u.styles,g=i.text,y=i.date,m=i.sender,b=i.showRate,w=i.file,_=i.type,C=v.get("active"),I=v.getIn(["stack",C,("user"===m?"User":"Response")+"Message"]),T=I.mainContainer,k=I.avatarContainer,x=I.image,A=I.textContainer,N=I.positiveRateMessageButton,O=I.negativeRateMessageButton,R=I.audioMessageButton,D=I.dataContainer,P=I.bubbleContainer,M=I.groupTypeMessagesNext,L=I.groupTypeMessagesPrev,F=I.groupTypeMessagesInter,j=I.imageFile,V=I.fileContainer,U=I.svgContainer,B=I.sizeTittle,H=I.fileNameTittle,z=I.metaContainer,q=p.getIn(["components","Message"]),W=q.positiveRateMessage,K=q.negativeRateMessage,G=q.showAvatar,X=q.showDate,Y=q.audioMessage,Q=q.RateEnabled,Z=p.getIn(["components","Header"]).search,J=p.getIn(["common","showRate"]),$=d.get("active"),tt=d.getIn(["stack",$,"Message"]),et=tt.rateButtonTitle,nt=tt.audioMessageButtonTitle,rt=c.getIn(["media","icons"]),it=rt.playMessageIcon,ot=rt.rateIcon,st=rt.negativeRateIcon,at=("user"===m?"user":"response")+"Message",ut="jpeg"===(null==w?void 0:w.type)||"png"===(null==w?void 0:w.type)||"jpg"===(null==w?void 0:w.type),ct=r===m?M:{},lt=e===m?L:{},ht=ut?{padding:"0px",width:"min-content",boxSizing:"border-box"}:{},ft=ut?{padding:"16px"}:{},pt=ut&&g?{borderRadius:"17px 0 0px 0px"}:{},dt=e===r&&r===m?F:{},vt=Z.found.toList(),gt=function(t){var e=t.target;"request-userlink"===e.className&&(oo.recieveMessage({text:e.innerText,type:"text",sender:"user",showRate:!1},a),To.sendMessage(e.innerText,a))},yt=function(){return console.log("RateMessage")},mt=l(null),bt=h(g),wt=bt[0],_t=bt[1];return f((function(){_t(function(){var t=Z.searchValue;if(!Z.active)return g;if(t.length<3)return io.uiManagment("changeFoundGroup",{messageId:o,action:"clear"},a),g;var e=new RegExp(Z.searchValue,"gi");return e.test(g)?g.replace(e,(function(t){return io.uiManagment("changeFoundGroup",{messageId:o,action:"add"},a),o===vt.get(Z.foundMessage)?"<mark>"+t+"</mark>":t})):(io.uiManagment("changeFoundGroup",{messageId:o,action:"delete"},a),g)}())}),[g,Z]),f((function(){var t;o===vt.get(Z.foundMessage)&&(null===(t=mt.current)||void 0===t||t.scrollIntoView({block:"nearest"}))}),[Z,mt]),f((function(){s&&(s.scrollTop=s.scrollHeight)}),[]),ji("div",{className:at+"-main-container",css:S(S(S(S({},T),lt),ct),dt),ref:mt},G&&ji(Vo,{styles:{avatarContainer:k,image:x},className:""+at}),ji("div",{className:at+"-bubble-container",css:S(S({},P),ht)},"text/file"===_&&ji(n.Fragment,null,ji(Xa,{file:w,styles:{imageFile:S(S(S(S({},j),lt),dt),pt),fileContainer:V,svgContainer:U,sizeTittle:B,fileNameTittle:H,metaContainer:z},sender:m}),ji("div",{className:at+"-text-container",css:S(S(S({},A),{width:"100%"}),ft),onClick:gt,dangerouslySetInnerHTML:{__html:wt}})),("text"===_||!_)&&ji("div",{className:at+"-text-container",css:A,onClick:gt,dangerouslySetInnerHTML:{__html:wt}}),"file"===_&&ji(Xa,{file:w,styles:{imageFile:S(S(S({},j),lt),dt),fileContainer:S(S({},V),{margin:0}),svgContainer:U,sizeTittle:B,fileNameTittle:H,metaContainer:z},sender:m}),J&&Q&&b&&ji(Ka,{store:a,scrollbar:s}),W.enabled&&b&&ji(qa,{block:!1,type:"button",withIcon:W.withIcon,withTitle:W.withTitle,title:et,onClick:yt,icon:ot,style:N,className:at+"-positiveRateMessageButton"}),K.enabled&&b&&ji(qa,{block:!1,type:"button",withIcon:K.withIcon,withTitle:K.withTitle,title:et,onClick:yt,icon:st,style:O,className:at+"-negativeRateMessageButton"}),Y.enabled&&ji(qa,{block:!1,type:"button",withIcon:Y.withIcon,withTitle:Y.withTitle,title:nt,onClick:function(){return console.log("AudioMessage")},icon:it,style:R,className:at+"-audioMessageButton"}),X&&ji("div",{className:at+"-dataContainer",css:D},y.toLocaleString("ru",{hour:"numeric",minute:"numeric"}))))};Ya.displayName="Message";
/*!
 * perfect-scrollbar v1.5.0
 * Copyright 2020 Hyunje Jun, MDBootstrap and Contributors
 * Licensed under MIT
 */
function Qa(t){return getComputedStyle(t)}function Za(t,e){for(var n in e){var r=e[n];"number"==typeof r&&(r+="px"),t.style[n]=r}return t}function Ja(t){var e=document.createElement("div");return e.className=t,e}!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&"undefined"!=typeof document){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css","top"===n&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=t:i.appendChild(document.createTextNode(t))}}("/*\n * Container style\n */\n.ps {\n  overflow: hidden !important;\n  overflow-anchor: none;\n  -ms-overflow-style: none;\n  touch-action: auto;\n  -ms-touch-action: auto;\n}\n\n/*\n * Scrollbar rail styles\n */\n.ps__rail-x {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  height: 15px;\n  /* there must be 'bottom' or 'top' for ps__rail-x */\n  bottom: 0px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-y {\n  display: none;\n  opacity: 0;\n  transition: background-color .2s linear, opacity .2s linear;\n  -webkit-transition: background-color .2s linear, opacity .2s linear;\n  width: 15px;\n  /* there must be 'right' or 'left' for ps__rail-y */\n  right: 0;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps--active-x > .ps__rail-x,\n.ps--active-y > .ps__rail-y {\n  display: block;\n  background-color: transparent;\n}\n\n.ps:hover > .ps__rail-x,\n.ps:hover > .ps__rail-y,\n.ps--focus > .ps__rail-x,\n.ps--focus > .ps__rail-y,\n.ps--scrolling-x > .ps__rail-x,\n.ps--scrolling-y > .ps__rail-y {\n  opacity: 0.6;\n}\n\n.ps .ps__rail-x:hover,\n.ps .ps__rail-y:hover,\n.ps .ps__rail-x:focus,\n.ps .ps__rail-y:focus,\n.ps .ps__rail-x.ps--clicking,\n.ps .ps__rail-y.ps--clicking {\n  background-color: #eee;\n  opacity: 0.9;\n}\n\n/*\n * Scrollbar thumb styles\n */\n.ps__thumb-x {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, height .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, height .2s ease-in-out;\n  height: 6px;\n  /* there must be 'bottom' for ps__thumb-x */\n  bottom: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__thumb-y {\n  background-color: #aaa;\n  border-radius: 6px;\n  transition: background-color .2s linear, width .2s ease-in-out;\n  -webkit-transition: background-color .2s linear, width .2s ease-in-out;\n  width: 6px;\n  /* there must be 'right' for ps__thumb-y */\n  right: 2px;\n  /* please don't change 'position' */\n  position: absolute;\n}\n\n.ps__rail-x:hover > .ps__thumb-x,\n.ps__rail-x:focus > .ps__thumb-x,\n.ps__rail-x.ps--clicking .ps__thumb-x {\n  background-color: #999;\n  height: 11px;\n}\n\n.ps__rail-y:hover > .ps__thumb-y,\n.ps__rail-y:focus > .ps__thumb-y,\n.ps__rail-y.ps--clicking .ps__thumb-y {\n  background-color: #999;\n  width: 11px;\n}\n\n/* MS supports */\n@supports (-ms-overflow-style: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n\n@media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\n  .ps {\n    overflow: auto !important;\n  }\n}\n.scrollbar-container {\n  position: relative;\n  height: 100%; }");var $a="undefined"!=typeof Element&&(Element.prototype.matches||Element.prototype.webkitMatchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector);function tu(t,e){if(!$a)throw new Error("No element matching method supported");return $a.call(t,e)}function eu(t){t.remove?t.remove():t.parentNode&&t.parentNode.removeChild(t)}function nu(t,e){return Array.prototype.filter.call(t.children,(function(t){return tu(t,e)}))}var ru="ps",iu="ps__rtl",ou={thumb:function(t){return"ps__thumb-"+t},rail:function(t){return"ps__rail-"+t},consuming:"ps__child--consume"},su={focus:"ps--focus",clicking:"ps--clicking",active:function(t){return"ps--active-"+t},scrolling:function(t){return"ps--scrolling-"+t}},au={x:null,y:null};function uu(t,e){var n=t.element.classList,r=su.scrolling(e);n.contains(r)?clearTimeout(au[e]):n.add(r)}function cu(t,e){au[e]=setTimeout((function(){return t.isAlive&&t.element.classList.remove(su.scrolling(e))}),t.settings.scrollingThreshold)}var lu=function(t){this.element=t,this.handlers={}},hu={isEmpty:{configurable:!0}};lu.prototype.bind=function(t,e){void 0===this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this.element.addEventListener(t,e,!1)},lu.prototype.unbind=function(t,e){var n=this;this.handlers[t]=this.handlers[t].filter((function(r){return!(!e||r===e)||(n.element.removeEventListener(t,r,!1),!1)}))},lu.prototype.unbindAll=function(){for(var t in this.handlers)this.unbind(t)},hu.isEmpty.get=function(){var t=this;return Object.keys(this.handlers).every((function(e){return 0===t.handlers[e].length}))},Object.defineProperties(lu.prototype,hu);var fu=function(){this.eventElements=[]};function pu(t){if("function"==typeof window.CustomEvent)return new CustomEvent(t);var e=document.createEvent("CustomEvent");return e.initCustomEvent(t,!1,!1,void 0),e}function du(t,e,n,r,i){var o;if(void 0===r&&(r=!0),void 0===i&&(i=!1),"top"===e)o=["contentHeight","containerHeight","scrollTop","y","up","down"];else{if("left"!==e)throw new Error("A proper axis should be provided");o=["contentWidth","containerWidth","scrollLeft","x","left","right"]}!function(t,e,n,r,i){var o=n[0],s=n[1],a=n[2],u=n[3],c=n[4],l=n[5];void 0===r&&(r=!0);void 0===i&&(i=!1);var h=t.element;t.reach[u]=null,h[a]<1&&(t.reach[u]="start");h[a]>t[o]-t[s]-1&&(t.reach[u]="end");e&&(h.dispatchEvent(pu("ps-scroll-"+u)),e<0?h.dispatchEvent(pu("ps-scroll-"+c)):e>0&&h.dispatchEvent(pu("ps-scroll-"+l)),r&&function(t,e){uu(t,e),cu(t,e)}(t,u));t.reach[u]&&(e||i)&&h.dispatchEvent(pu("ps-"+u+"-reach-"+t.reach[u]))}(t,n,o,r,i)}function vu(t){return parseInt(t,10)||0}fu.prototype.eventElement=function(t){var e=this.eventElements.filter((function(e){return e.element===t}))[0];return e||(e=new lu(t),this.eventElements.push(e)),e},fu.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)},fu.prototype.unbind=function(t,e,n){var r=this.eventElement(t);r.unbind(e,n),r.isEmpty&&this.eventElements.splice(this.eventElements.indexOf(r),1)},fu.prototype.unbindAll=function(){this.eventElements.forEach((function(t){return t.unbindAll()})),this.eventElements=[]},fu.prototype.once=function(t,e,n){var r=this.eventElement(t),i=function(t){r.unbind(e,i),n(t)};r.bind(e,i)};var gu={isWebKit:"undefined"!=typeof document&&"WebkitAppearance"in document.documentElement.style,supportsTouch:"undefined"!=typeof window&&("ontouchstart"in window||"maxTouchPoints"in window.navigator&&window.navigator.maxTouchPoints>0||window.DocumentTouch&&document instanceof window.DocumentTouch),supportsIePointer:"undefined"!=typeof navigator&&navigator.msMaxTouchPoints,isChrome:"undefined"!=typeof navigator&&/Chrome/i.test(navigator&&navigator.userAgent)};function yu(t){var e=t.element,n=Math.floor(e.scrollTop),r=e.getBoundingClientRect();t.containerWidth=Math.ceil(r.width),t.containerHeight=Math.ceil(r.height),t.contentWidth=e.scrollWidth,t.contentHeight=e.scrollHeight,e.contains(t.scrollbarXRail)||(nu(e,ou.rail("x")).forEach((function(t){return eu(t)})),e.appendChild(t.scrollbarXRail)),e.contains(t.scrollbarYRail)||(nu(e,ou.rail("y")).forEach((function(t){return eu(t)})),e.appendChild(t.scrollbarYRail)),!t.settings.suppressScrollX&&t.containerWidth+t.settings.scrollXMarginOffset<t.contentWidth?(t.scrollbarXActive=!0,t.railXWidth=t.containerWidth-t.railXMarginWidth,t.railXRatio=t.containerWidth/t.railXWidth,t.scrollbarXWidth=mu(t,vu(t.railXWidth*t.containerWidth/t.contentWidth)),t.scrollbarXLeft=vu((t.negativeScrollAdjustment+e.scrollLeft)*(t.railXWidth-t.scrollbarXWidth)/(t.contentWidth-t.containerWidth))):t.scrollbarXActive=!1,!t.settings.suppressScrollY&&t.containerHeight+t.settings.scrollYMarginOffset<t.contentHeight?(t.scrollbarYActive=!0,t.railYHeight=t.containerHeight-t.railYMarginHeight,t.railYRatio=t.containerHeight/t.railYHeight,t.scrollbarYHeight=mu(t,vu(t.railYHeight*t.containerHeight/t.contentHeight)),t.scrollbarYTop=vu(n*(t.railYHeight-t.scrollbarYHeight)/(t.contentHeight-t.containerHeight))):t.scrollbarYActive=!1,t.scrollbarXLeft>=t.railXWidth-t.scrollbarXWidth&&(t.scrollbarXLeft=t.railXWidth-t.scrollbarXWidth),t.scrollbarYTop>=t.railYHeight-t.scrollbarYHeight&&(t.scrollbarYTop=t.railYHeight-t.scrollbarYHeight),function(t,e){var n={width:e.railXWidth},r=Math.floor(t.scrollTop);e.isRtl?n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth:n.left=t.scrollLeft;e.isScrollbarXUsingBottom?n.bottom=e.scrollbarXBottom-r:n.top=e.scrollbarXTop+r;Za(e.scrollbarXRail,n);var i={top:r,height:e.railYHeight};e.isScrollbarYUsingRight?e.isRtl?i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth-9:i.right=e.scrollbarYRight-t.scrollLeft:e.isRtl?i.left=e.negativeScrollAdjustment+t.scrollLeft+2*e.containerWidth-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth:i.left=e.scrollbarYLeft+t.scrollLeft;Za(e.scrollbarYRail,i),Za(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth}),Za(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}(e,t),t.scrollbarXActive?e.classList.add(su.active("x")):(e.classList.remove(su.active("x")),t.scrollbarXWidth=0,t.scrollbarXLeft=0,e.scrollLeft=!0===t.isRtl?t.contentWidth:0),t.scrollbarYActive?e.classList.add(su.active("y")):(e.classList.remove(su.active("y")),t.scrollbarYHeight=0,t.scrollbarYTop=0,e.scrollTop=0)}function mu(t,e){return t.settings.minScrollbarLength&&(e=Math.max(e,t.settings.minScrollbarLength)),t.settings.maxScrollbarLength&&(e=Math.min(e,t.settings.maxScrollbarLength)),e}function bu(t,e){var n=e[0],r=e[1],i=e[2],o=e[3],s=e[4],a=e[5],u=e[6],c=e[7],l=e[8],h=t.element,f=null,p=null,d=null;function v(e){e.touches&&e.touches[0]&&(e[i]=e.touches[0].pageY),h[u]=f+d*(e[i]-p),uu(t,c),yu(t),e.stopPropagation(),e.preventDefault()}function g(){cu(t,c),t[l].classList.remove(su.clicking),t.event.unbind(t.ownerDocument,"mousemove",v)}function y(e,s){f=h[u],s&&e.touches&&(e[i]=e.touches[0].pageY),p=e[i],d=(t[r]-t[n])/(t[o]-t[a]),s?t.event.bind(t.ownerDocument,"touchmove",v):(t.event.bind(t.ownerDocument,"mousemove",v),t.event.once(t.ownerDocument,"mouseup",g),e.preventDefault()),t[l].classList.add(su.clicking),e.stopPropagation()}t.event.bind(t[s],"mousedown",(function(t){y(t)})),t.event.bind(t[s],"touchstart",(function(t){y(t,!0)}))}var wu={"click-rail":function(t){t.element,t.event.bind(t.scrollbarY,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarYRail,"mousedown",(function(e){var n=e.pageY-window.pageYOffset-t.scrollbarYRail.getBoundingClientRect().top>t.scrollbarYTop?1:-1;t.element.scrollTop+=n*t.containerHeight,yu(t),e.stopPropagation()})),t.event.bind(t.scrollbarX,"mousedown",(function(t){return t.stopPropagation()})),t.event.bind(t.scrollbarXRail,"mousedown",(function(e){var n=e.pageX-window.pageXOffset-t.scrollbarXRail.getBoundingClientRect().left>t.scrollbarXLeft?1:-1;t.element.scrollLeft+=n*t.containerWidth,yu(t),e.stopPropagation()}))},"drag-thumb":function(t){bu(t,["containerWidth","contentWidth","pageX","railXWidth","scrollbarX","scrollbarXWidth","scrollLeft","x","scrollbarXRail"]),bu(t,["containerHeight","contentHeight","pageY","railYHeight","scrollbarY","scrollbarYHeight","scrollTop","y","scrollbarYRail"])},keyboard:function(t){var e=t.element;t.event.bind(t.ownerDocument,"keydown",(function(n){if(!(n.isDefaultPrevented&&n.isDefaultPrevented()||n.defaultPrevented)&&(tu(e,":hover")||tu(t.scrollbarX,":focus")||tu(t.scrollbarY,":focus"))){var r,i=document.activeElement?document.activeElement:t.ownerDocument.activeElement;if(i){if("IFRAME"===i.tagName)i=i.contentDocument.activeElement;else for(;i.shadowRoot;)i=i.shadowRoot.activeElement;if(tu(r=i,"input,[contenteditable]")||tu(r,"select,[contenteditable]")||tu(r,"textarea,[contenteditable]")||tu(r,"button,[contenteditable]"))return}var o=0,s=0;switch(n.which){case 37:o=n.metaKey?-t.contentWidth:n.altKey?-t.containerWidth:-30;break;case 38:s=n.metaKey?t.contentHeight:n.altKey?t.containerHeight:30;break;case 39:o=n.metaKey?t.contentWidth:n.altKey?t.containerWidth:30;break;case 40:s=n.metaKey?-t.contentHeight:n.altKey?-t.containerHeight:-30;break;case 32:s=n.shiftKey?t.containerHeight:-t.containerHeight;break;case 33:s=t.containerHeight;break;case 34:s=-t.containerHeight;break;case 36:s=t.contentHeight;break;case 35:s=-t.contentHeight;break;default:return}t.settings.suppressScrollX&&0!==o||t.settings.suppressScrollY&&0!==s||(e.scrollTop-=s,e.scrollLeft+=o,yu(t),function(n,r){var i=Math.floor(e.scrollTop);if(0===n){if(!t.scrollbarYActive)return!1;if(0===i&&r>0||i>=t.contentHeight-t.containerHeight&&r<0)return!t.settings.wheelPropagation}var o=e.scrollLeft;if(0===r){if(!t.scrollbarXActive)return!1;if(0===o&&n<0||o>=t.contentWidth-t.containerWidth&&n>0)return!t.settings.wheelPropagation}return!0}(o,s)&&n.preventDefault())}}))},wheel:function(t){var e=t.element;function n(n){var r=function(t){var e=t.deltaX,n=-1*t.deltaY;return void 0!==e&&void 0!==n||(e=-1*t.wheelDeltaX/6,n=t.wheelDeltaY/6),t.deltaMode&&1===t.deltaMode&&(e*=10,n*=10),e!=e&&n!=n&&(e=0,n=t.wheelDelta),t.shiftKey?[-n,-e]:[e,n]}(n),i=r[0],o=r[1];if(!function(t,n,r){if(!gu.isWebKit&&e.querySelector("select:focus"))return!0;if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(ou.consuming))return!0;var o=Qa(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(n.target,i,o)){var s=!1;t.settings.useBothWheelAxes?t.scrollbarYActive&&!t.scrollbarXActive?(o?e.scrollTop-=o*t.settings.wheelSpeed:e.scrollTop+=i*t.settings.wheelSpeed,s=!0):t.scrollbarXActive&&!t.scrollbarYActive&&(i?e.scrollLeft+=i*t.settings.wheelSpeed:e.scrollLeft-=o*t.settings.wheelSpeed,s=!0):(e.scrollTop-=o*t.settings.wheelSpeed,e.scrollLeft+=i*t.settings.wheelSpeed),yu(t),(s=s||function(n,r){var i=Math.floor(e.scrollTop),o=0===e.scrollTop,s=i+e.offsetHeight===e.scrollHeight,a=0===e.scrollLeft,u=e.scrollLeft+e.offsetWidth===e.scrollWidth;return!(Math.abs(r)>Math.abs(n)?o||s:a||u)||!t.settings.wheelPropagation}(i,o))&&!n.ctrlKey&&(n.stopPropagation(),n.preventDefault())}}void 0!==window.onwheel?t.event.bind(e,"wheel",n):void 0!==window.onmousewheel&&t.event.bind(e,"mousewheel",n)},touch:function(t){if(gu.supportsTouch||gu.supportsIePointer){var e=t.element,n={},r=0,i={},o=null;gu.supportsTouch?(t.event.bind(e,"touchstart",c),t.event.bind(e,"touchmove",l),t.event.bind(e,"touchend",h)):gu.supportsIePointer&&(window.PointerEvent?(t.event.bind(e,"pointerdown",c),t.event.bind(e,"pointermove",l),t.event.bind(e,"pointerup",h)):window.MSPointerEvent&&(t.event.bind(e,"MSPointerDown",c),t.event.bind(e,"MSPointerMove",l),t.event.bind(e,"MSPointerUp",h)))}function s(n,r){e.scrollTop-=r,e.scrollLeft-=n,yu(t)}function a(t){return t.targetTouches?t.targetTouches[0]:t}function u(t){return(!t.pointerType||"pen"!==t.pointerType||0!==t.buttons)&&(!(!t.targetTouches||1!==t.targetTouches.length)||!(!t.pointerType||"mouse"===t.pointerType||t.pointerType===t.MSPOINTER_TYPE_MOUSE))}function c(t){if(u(t)){var e=a(t);n.pageX=e.pageX,n.pageY=e.pageY,r=(new Date).getTime(),null!==o&&clearInterval(o)}}function l(o){if(u(o)){var c=a(o),l={pageX:c.pageX,pageY:c.pageY},h=l.pageX-n.pageX,f=l.pageY-n.pageY;if(function(t,n,r){if(!e.contains(t))return!1;for(var i=t;i&&i!==e;){if(i.classList.contains(ou.consuming))return!0;var o=Qa(i);if(r&&o.overflowY.match(/(scroll|auto)/)){var s=i.scrollHeight-i.clientHeight;if(s>0&&(i.scrollTop>0&&r<0||i.scrollTop<s&&r>0))return!0}if(n&&o.overflowX.match(/(scroll|auto)/)){var a=i.scrollWidth-i.clientWidth;if(a>0&&(i.scrollLeft>0&&n<0||i.scrollLeft<a&&n>0))return!0}i=i.parentNode}return!1}(o.target,h,f))return;s(h,f),n=l;var p=(new Date).getTime(),d=p-r;d>0&&(i.x=h/d,i.y=f/d,r=p),function(n,r){var i=Math.floor(e.scrollTop),o=e.scrollLeft,s=Math.abs(n),a=Math.abs(r);if(a>s){if(r<0&&i===t.contentHeight-t.containerHeight||r>0&&0===i)return 0===window.scrollY&&r>0&&gu.isChrome}else if(s>a&&(n<0&&o===t.contentWidth-t.containerWidth||n>0&&0===o))return!0;return!0}(h,f)&&o.preventDefault()}}function h(){t.settings.swipeEasing&&(clearInterval(o),o=setInterval((function(){t.isInitialized?clearInterval(o):i.x||i.y?Math.abs(i.x)<.01&&Math.abs(i.y)<.01?clearInterval(o):(s(30*i.x,30*i.y),i.x*=.8,i.y*=.8):clearInterval(o)}),10))}}},_u=function(t,e){var n=this;if(void 0===e&&(e={}),"string"==typeof t&&(t=document.querySelector(t)),!t||!t.nodeName)throw new Error("no element is specified to initialize PerfectScrollbar");for(var r in this.element=t,t.classList.add(ru),this.settings={handlers:["click-rail","drag-thumb","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollingThreshold:1e3,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:!1,suppressScrollY:!1,swipeEasing:!0,useBothWheelAxes:!1,wheelPropagation:!0,wheelSpeed:1},e)this.settings[r]=e[r];this.containerWidth=null,this.containerHeight=null,this.contentWidth=null,this.contentHeight=null;var i,o,s=function(){return t.classList.add(su.focus)},a=function(){return t.classList.remove(su.focus)};this.isRtl="rtl"===Qa(t).direction,!0===this.isRtl&&t.classList.add(iu),this.isNegativeScroll=(o=t.scrollLeft,t.scrollLeft=-1,i=t.scrollLeft<0,t.scrollLeft=o,i),this.negativeScrollAdjustment=this.isNegativeScroll?t.scrollWidth-t.clientWidth:0,this.event=new fu,this.ownerDocument=t.ownerDocument||document,this.scrollbarXRail=Ja(ou.rail("x")),t.appendChild(this.scrollbarXRail),this.scrollbarX=Ja(ou.thumb("x")),this.scrollbarXRail.appendChild(this.scrollbarX),this.scrollbarX.setAttribute("tabindex",0),this.event.bind(this.scrollbarX,"focus",s),this.event.bind(this.scrollbarX,"blur",a),this.scrollbarXActive=null,this.scrollbarXWidth=null,this.scrollbarXLeft=null;var u=Qa(this.scrollbarXRail);this.scrollbarXBottom=parseInt(u.bottom,10),isNaN(this.scrollbarXBottom)?(this.isScrollbarXUsingBottom=!1,this.scrollbarXTop=vu(u.top)):this.isScrollbarXUsingBottom=!0,this.railBorderXWidth=vu(u.borderLeftWidth)+vu(u.borderRightWidth),Za(this.scrollbarXRail,{display:"block"}),this.railXMarginWidth=vu(u.marginLeft)+vu(u.marginRight),Za(this.scrollbarXRail,{display:""}),this.railXWidth=null,this.railXRatio=null,this.scrollbarYRail=Ja(ou.rail("y")),t.appendChild(this.scrollbarYRail),this.scrollbarY=Ja(ou.thumb("y")),this.scrollbarYRail.appendChild(this.scrollbarY),this.scrollbarY.setAttribute("tabindex",0),this.event.bind(this.scrollbarY,"focus",s),this.event.bind(this.scrollbarY,"blur",a),this.scrollbarYActive=null,this.scrollbarYHeight=null,this.scrollbarYTop=null;var c=Qa(this.scrollbarYRail);this.scrollbarYRight=parseInt(c.right,10),isNaN(this.scrollbarYRight)?(this.isScrollbarYUsingRight=!1,this.scrollbarYLeft=vu(c.left)):this.isScrollbarYUsingRight=!0,this.scrollbarYOuterWidth=this.isRtl?function(t){var e=Qa(t);return vu(e.width)+vu(e.paddingLeft)+vu(e.paddingRight)+vu(e.borderLeftWidth)+vu(e.borderRightWidth)}(this.scrollbarY):null,this.railBorderYWidth=vu(c.borderTopWidth)+vu(c.borderBottomWidth),Za(this.scrollbarYRail,{display:"block"}),this.railYMarginHeight=vu(c.marginTop)+vu(c.marginBottom),Za(this.scrollbarYRail,{display:""}),this.railYHeight=null,this.railYRatio=null,this.reach={x:t.scrollLeft<=0?"start":t.scrollLeft>=this.contentWidth-this.containerWidth?"end":null,y:t.scrollTop<=0?"start":t.scrollTop>=this.contentHeight-this.containerHeight?"end":null},this.isAlive=!0,this.settings.handlers.forEach((function(t){return wu[t](n)})),this.lastScrollTop=Math.floor(t.scrollTop),this.lastScrollLeft=t.scrollLeft,this.event.bind(this.element,"scroll",(function(t){return n.onScroll(t)})),yu(this)};_u.prototype.update=function(){this.isAlive&&(this.negativeScrollAdjustment=this.isNegativeScroll?this.element.scrollWidth-this.element.clientWidth:0,Za(this.scrollbarXRail,{display:"block"}),Za(this.scrollbarYRail,{display:"block"}),this.railXMarginWidth=vu(Qa(this.scrollbarXRail).marginLeft)+vu(Qa(this.scrollbarXRail).marginRight),this.railYMarginHeight=vu(Qa(this.scrollbarYRail).marginTop)+vu(Qa(this.scrollbarYRail).marginBottom),Za(this.scrollbarXRail,{display:"none"}),Za(this.scrollbarYRail,{display:"none"}),yu(this),du(this,"top",0,!1,!0),du(this,"left",0,!1,!0),Za(this.scrollbarXRail,{display:""}),Za(this.scrollbarYRail,{display:""}))},_u.prototype.onScroll=function(t){this.isAlive&&(yu(this),du(this,"top",this.element.scrollTop-this.lastScrollTop),du(this,"left",this.element.scrollLeft-this.lastScrollLeft),this.lastScrollTop=Math.floor(this.element.scrollTop),this.lastScrollLeft=this.element.scrollLeft)},_u.prototype.destroy=function(){this.isAlive&&(this.event.unbindAll(),eu(this.scrollbarX),eu(this.scrollbarY),eu(this.scrollbarXRail),eu(this.scrollbarYRail),this.removePsClasses(),this.element=null,this.scrollbarX=null,this.scrollbarY=null,this.scrollbarXRail=null,this.scrollbarYRail=null,this.isAlive=!1)},_u.prototype.removePsClasses=function(){this.element.className=this.element.className.split(" ").filter((function(t){return!t.match(/^ps([-_].+|)$/)})).join(" ")};var Eu=Us((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),o=a(n),s=a(_u);function a(t){return t&&t.__esModule?t:{default:t}}var u={"ps-scroll-y":"onScrollY","ps-scroll-x":"onScrollX","ps-scroll-up":"onScrollUp","ps-scroll-down":"onScrollDown","ps-scroll-left":"onScrollLeft","ps-scroll-right":"onScrollRight","ps-y-reach-start":"onYReachStart","ps-y-reach-end":"onYReachEnd","ps-x-reach-start":"onXReachStart","ps-x-reach-end":"onXReachEnd"};Object.freeze(u);var c=function(t){function e(t){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.handleRef=n.handleRef.bind(n),n._handlerByEvent={},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,n.Component),i(e,[{key:"componentDidMount",value:function(){this.props.option&&console.warn('react-perfect-scrollbar: the "option" prop has been deprecated in favor of "options"'),this._ps=new s.default(this._container,this.props.options||this.props.option),this._updateEventHook(),this._updateClassName()}},{key:"componentDidUpdate",value:function(t){this._updateEventHook(t),this.updateScroll(),t.className!==this.props.className&&this._updateClassName()}},{key:"componentWillUnmount",value:function(){var t=this;Object.keys(this._handlerByEvent).forEach((function(e){var n=t._handlerByEvent[e];n&&t._container.removeEventListener(e,n,!1)})),this._handlerByEvent={},this._ps.destroy(),this._ps=null}},{key:"_updateEventHook",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object.keys(u).forEach((function(n){var r=t.props[u[n]],i=e[u[n]];if(r!==i){if(i){var o=t._handlerByEvent[n];t._container.removeEventListener(n,o,!1),t._handlerByEvent[n]=null}if(r){var s=function(){return r(t._container)};t._container.addEventListener(n,s,!1),t._handlerByEvent[n]=s}}}))}},{key:"_updateClassName",value:function(){var t=this.props.className,e=this._container.className.split(" ").filter((function(t){return t.match(/^ps([-_].+|)$/)})).join(" ");this._container&&(this._container.className="scrollbar-container"+(t?" "+t:"")+(e?" "+e:""))}},{key:"updateScroll",value:function(){this.props.onSync(this._ps)}},{key:"handleRef",value:function(t){this._container=t,this.props.containerRef(t)}},{key:"render",value:function(){var t=this.props,e=(t.className,t.style),n=(t.option,t.options,t.containerRef,t.onScrollY,t.onScrollX,t.onScrollUp,t.onScrollDown,t.onScrollLeft,t.onScrollRight,t.onYReachStart,t.onYReachEnd,t.onXReachStart,t.onXReachEnd,t.component),i=(t.onSync,t.children),s=function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["className","style","option","options","containerRef","onScrollY","onScrollX","onScrollUp","onScrollDown","onScrollLeft","onScrollRight","onYReachStart","onYReachEnd","onXReachStart","onXReachEnd","component","onSync","children"]),a=n;return o.default.createElement(a,r({style:e,ref:this.handleRef},s),i)}}]),e}();e.default=c,c.defaultProps={className:"",style:void 0,option:void 0,options:void 0,containerRef:function(){},onScrollY:void 0,onScrollX:void 0,onScrollUp:void 0,onScrollDown:void 0,onScrollLeft:void 0,onScrollRight:void 0,onYReachStart:void 0,onYReachEnd:void 0,onXReachStart:void 0,onXReachEnd:void 0,onSync:function(t){return t.update()},component:"div"},c.propTypes={children:Aa.PropTypes.node.isRequired,className:Aa.PropTypes.string,style:Aa.PropTypes.object,option:Aa.PropTypes.object,options:Aa.PropTypes.object,containerRef:Aa.PropTypes.func,onScrollY:Aa.PropTypes.func,onScrollX:Aa.PropTypes.func,onScrollUp:Aa.PropTypes.func,onScrollDown:Aa.PropTypes.func,onScrollLeft:Aa.PropTypes.func,onScrollRight:Aa.PropTypes.func,onYReachStart:Aa.PropTypes.func,onYReachEnd:Aa.PropTypes.func,onXReachStart:Aa.PropTypes.func,onXReachEnd:Aa.PropTypes.func,onSync:Aa.PropTypes.func,component:Aa.PropTypes.string},t.exports=e.default}));Vs(Eu);var Cu=Vs(Us((function(t,e){Object.defineProperty(e,"__esModule",{value:!0});var n,r=(n=Eu)&&n.__esModule?n:{default:n};e.default=r.default,t.exports=e.default}))),Iu=function(t){var e=t.css,r=t.scrollbar,i=l();return f((function(){var t,e;0===(null===(t=i.current)||void 0===t?void 0:t.scrollTop)&&(i.current.scrollTop=null===(e=i.current)||void 0===e?void 0:e.scrollHeight)}),[i.current]),ji(n.Fragment,null,ji(Cu,{style:e,containerRef:function(t){r&&r(t),i.current=t},options:{suppressScrollX:!1}},t.children))},Tu=_("styles",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={show:!1},e.timeoutID=0,e}return T(e,t),e.prototype.componentDidMount=function(){var t=this;this.timeoutID=setTimeout((function(){return t.setState((function(){return{show:!0}}))}),1500)},e.prototype.componentWillUnmount=function(){clearTimeout(this.timeoutID)},e.prototype.render=function(){var t=this.props.styles.get("active"),e=this.props.styles.getIn(["stack",t,"MessageLoader"]),r=e.mainContainer,i=e.elementOne,o=e.elementTwo,s=e.elementThree,a=this.props,u=a.loaderTitle,c=a.showAnimation,l=a.showTitle,h=this.state.show;return ji(n.Fragment,null,h&&ji("div",{css:r},l&&u,c&&ji(n.Fragment,null,ji("div",{className:"msgLoader-elementOne",css:i},"."),ji("div",{className:"msgLoader-elementTwo",css:o},"."),ji("div",{className:"msgLoader-elementThree",css:s},"."))))},e}(n.PureComponent)),Su=function(t){var e=E("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]),i=r.textContainer,o=r.title,s=r.subTitle;return ji("div",{css:i},ji("div",{css:o},t.title),ji("div",{css:s},t.subTitle))},ku=function(t){var e=E("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]).image;return ji("img",{css:r,src:t.url})},xu=function(t){var e=E("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]),i=r.buttonsContainer,o=r.webUrlButton,s=r.postbackButton,a=t.buttons;return ji("div",{css:i},a.map((function(t,e){var n=t.type;return"web_url"===n?ji("a",{target:"_blank",css:o,key:e,href:t.url},t.title):"postback"===n?ji("button",{css:s,key:e,onClick:function(){return function(t){var e=t.title,n=t.payload;oo.recieveMessage({text:e,sender:"user",showRate:!1,type:"text"}),To.sendEvent(n)}(t)}},t.title):void 0})))},Au=function(t){var e=E("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]).elementContainer,i=t.element,o=i.title,s=i.subtitle,a=i.image_url,u=i.buttons;return ji("div",{css:r},ji(ku,{url:a}),ji(Su,{title:o,subTitle:s}),ji(xu,{buttons:u}))},Nu=function(t){var e=E("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"CKContents"]),i=r.mainContainer,o=r.scrollbar,s=t.elements;return ji("div",{css:o},ji(Iu,null,ji("div",{css:i},s.map((function(t,e){return ji(Au,{key:e,element:t})})))))},Ou=_("messages","settings","managment","languages","styles","modules",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={scrollbar:null},e.scrollbar=function(t){return e.setState((function(){return{scrollbar:t}}))},e.rateClick=function(){return io.uiManagment("showRate",!0,e.props.store)},e.searchClick=function(){return console.log("DialogSearch")},e}return T(e,t),e.prototype.render=function(){var t=this,e=this.props,n=e.messages,r=e.managment,i=e.settings,s=e.languages,a=e.styles,u=e.modules,c=e.height,l=u.get("active"),h=n.getIn(["history",l]),f=r.getIn(["components","Dialog"]),p=f.search,d=f.loader,v=f.dividerEnabled,g=r.get("common"),y=g.showRate,m=g.showMsgLoad,b=r.getIn(["components","ChatIt"]).RateEnabled,w=i.getIn(["media","icons"]).searchIcon,_=s.get("active"),E=s.getIn(["stack",_,"Dialog"]),C=E.searchButtonTitle,I=E.loaderTitle,T=a.get("active"),k=a.getIn(["stack",T,"Dialog"]),x=k.mainContainer,A=k.panel,N=k.searchButton,O=k.messagesContainer,R=k.ckScrollBar,D=a.getIn(["stack",T,"Divider"]).dividerMainContainer;return ji(o,null,ji("div",{className:"dialog-main-container",css:S(S({},x),{minHeight:c,height:c})},ji("div",{className:"dialog-panel",css:A},p.enabled&&ji(qa,{block:!1,type:"button",withIcon:p.withIcon,withTitle:p.withTitle,title:C,onClick:this.searchClick,icon:w,style:N,className:"dialog-searchButton"})),ji("div",{className:"dialog-messages-container",css:O},ji(Iu,{scrollbar:this.scrollbar,css:R},null==h?void 0:h.map((function(e,n){var r=h.getIn([n+1,"sender"]),i=h.getIn([n-1,"sender"]),s=h.getIn([n-1,"date"]).toDateString(),a=e.type,u=new Date(e.date),c=u.toDateString(),l=0===n||c!==s;if(!l||!v)return"content"===a?ji(Nu,{key:n,elements:e.elements}):ji(Ya,{id:n,scrollbar:t.state.scrollbar,prevSenderType:i,nextSenderType:r,key:n,store:t.props.store,message:e});var f=new Date,p=new Date,d=new Date(p.setDate(p.getDate()-1)).toDateString(),g=f.toDateString()===c?"Сегодня":d===c?"Вчера":u.toLocaleDateString("ru-RU");return ji(o,{key:n},l&&ji("div",{className:"dialog-messages-divider",css:D},g),"content"===a?ji(Nu,{key:n,elements:e.elements}):ji(Ya,{id:n,store:t.props.store,scrollbar:t.state.scrollbar,prevSenderType:i,nextSenderType:r,message:e}))})),m&&d.enabled&&ji(Tu,{loaderTitle:I,store:this.props.store,showAnimation:d.showAnimation,showTitle:d.showTitle})))),b&&y&&ji(Ka,{store:this.props.store}))},e}(n.PureComponent)),Ru=_("styles",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.state={text:"",textAreaCSS:{height:"auto"},height:0},e.textArea=n.createRef(),e.onChange=function(t){t.preventDefault();var n=t.currentTarget.value;e.setState((function(){return{text:n,textAreaCSS:{padding:"0",height:"auto"}}}))},e.onSubmit=function(){var t=e.state.text,n=e.props.filesCount;(0!==t.length&&!e.props.blockSubmit||n)&&(e.setState((function(){return{text:"",textAreaCSS:{padding:"0",height:"auto"}}})),e.props.sendMessage(t))},e.onEnterPress=function(t){return k(e,void 0,void 0,(function(){return x(this,(function(e){return"Enter"===t.key&&(t.preventDefault(),this.onSubmit()),[2]}))}))},e}return T(e,t),e.prototype.componentDidUpdate=function(t,e){var n;if(e.text!==this.state.text){var r=null===(n=this.textArea.current)||void 0===n?void 0:n.scrollHeight;this.setState((function(){return{textAreaCSS:{height:r+"px"}}}))}},e.prototype.componentDidMount=function(){var t=Number(this.props.style.textArea.minHeight.split("p")[0]);this.setState((function(){return{height:t}}))},e.prototype.render=function(){var t=this.props,e=t.sendButton,r=t.focusInf,i=t.blockSubmit,o=t.inputPlaceHolder,s=t.filesCount,a=this.props.style,u=a.sendMessageButton,c=a.textArea,l=this.state,h=l.text,f=l.textAreaCSS,p=this.props.styles.get("active"),d=this.props.styles.getIn(["stack",p,"Dialog"]).ckScrollBar;return ji(n.Fragment,null,ji(Iu,{css:d},ji("div",{style:{maxHeight:80}},ji("textarea",{className:"sender-textArea",ref:this.textArea,onChange:this.onChange,css:S(S({},c),f),value:h,autoFocus:!0,onBlur:r,onFocus:r,onKeyDown:this.onEnterPress,placeholder:o,rows:1}))),(s||h)&&ji(qa,{type:"submit",withTitle:e.withTitle,withIcon:e.withIcon,title:e.title,block:i,icon:e.icon,style:u,onClick:this.onSubmit,className:"sender-sendMessageButton"}))},e}(n.PureComponent)),Du=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function Pu(t,e){var n=function(t){var e=t.name;if(e&&-1!==e.lastIndexOf(".")&&!t.type){var n=e.split(".").pop().toLowerCase(),r=Du.get(n);r&&Object.defineProperty(t,"type",{value:r,writable:!1,configurable:!1,enumerable:!0})}return t}(t);if("string"!=typeof n.path){var r=t.webkitRelativePath;Object.defineProperty(n,"path",{value:"string"==typeof e?e:"string"==typeof r&&r.length>0?r:t.name,writable:!1,configurable:!1,enumerable:!0})}return n}var Mu=[".DS_Store","Thumbs.db"];function Lu(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return[2,(n=t,n.dataTransfer&&t.dataTransfer?ju(t.dataTransfer,t.type):Fu(t))];var n}))}))}function Fu(t){return(null!==t.target&&t.target.files?Uu(t.target.files):[]).map((function(t){return Pu(t)}))}function ju(t,e){return k(this,void 0,void 0,(function(){var n;return x(this,(function(r){switch(r.label){case 0:return t.items?(n=Uu(t.items).filter((function(t){return"file"===t.kind})),"drop"!==e?[2,n]:[4,Promise.all(n.map(Bu))]):[3,2];case 1:return[2,Vu(Hu(r.sent()))];case 2:return[2,Vu(Uu(t.files).map((function(t){return Pu(t)})))]}}))}))}function Vu(t){return t.filter((function(t){return-1===Mu.indexOf(t.name)}))}function Uu(t){for(var e=[],n=0;n<t.length;n++){var r=t[n];e.push(r)}return e}function Bu(t){if("function"!=typeof t.webkitGetAsEntry)return zu(t);var e=t.webkitGetAsEntry();return e&&e.isDirectory?Wu(e):zu(t)}function Hu(t){return t.reduce((function(t,e){return O(t,Array.isArray(e)?Hu(e):[e])}),[])}function zu(t){var e=t.getAsFile();if(!e)return Promise.reject(t+" is not a File");var n=Pu(e);return Promise.resolve(n)}function qu(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return[2,t.isDirectory?Wu(t):Ku(t)]}))}))}function Wu(t){var e=t.createReader();return new Promise((function(t,n){var r=[];!function i(){var o=this;e.readEntries((function(e){return k(o,void 0,void 0,(function(){var o,s,a;return x(this,(function(u){switch(u.label){case 0:if(e.length)return[3,5];u.label=1;case 1:return u.trys.push([1,3,,4]),[4,Promise.all(r)];case 2:return o=u.sent(),t(o),[3,4];case 3:return s=u.sent(),n(s),[3,4];case 4:return[3,6];case 5:a=Promise.all(e.map(qu)),r.push(a),i(),u.label=6;case 6:return[2]}}))}))}),(function(t){n(t)}))}()}))}function Ku(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return[2,new Promise((function(e,n){t.file((function(n){var r=Pu(n,t.fullPath);e(r)}),(function(t){n(t)}))}))]}))}))}function Gu(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var Xu=function(t){t=Array.isArray(t)&&1===t.length?t[0]:t;var e=Array.isArray(t)?"one of ".concat(t.join(", ")):t;return{code:"file-invalid-type",message:"File type must be ".concat(e)}},Yu=function(t){return{code:"file-too-large",message:"File is larger than ".concat(t," bytes")}},Qu=function(t){return{code:"file-too-small",message:"File is smaller than ".concat(t," bytes")}},Zu={code:"too-many-files",message:"Too many files"};function Ju(t,e){var n="application/x-moz-file"===t.type||function(t,e){if(t&&e){const n=Array.isArray(e)?e:e.split(","),r=t.name||"",i=t.type||"",o=i.replace(/\/.*$/,"");return n.some(t=>{const e=t.trim();return"."===e.charAt(0)?r.toLowerCase().endsWith(e.toLowerCase()):e.endsWith("/*")?o===e.replace(/\/.*$/,""):i===e})}return!0}(t,e);return[n,n?null:Xu(e)]}function $u(t,e,n){if(tc(t.size))if(tc(e)&&tc(n)){if(t.size>n)return[!1,Yu(n)];if(t.size<e)return[!1,Qu(e)]}else{if(tc(e)&&t.size<e)return[!1,Qu(e)];if(tc(n)&&t.size>n)return[!1,Yu(n)]}return[!0,null]}function tc(t){return null!=t}function ec(t){var e=t.files,n=t.accept,r=t.minSize,i=t.maxSize;return!(!t.multiple&&e.length>1)&&e.every((function(t){var e=Gu(Ju(t,n),1)[0],o=Gu($u(t,r,i),1)[0];return e&&o}))}function nc(t){return"function"==typeof t.isPropagationStopped?t.isPropagationStopped():void 0!==t.cancelBubble&&t.cancelBubble}function rc(t){return t.dataTransfer?Array.prototype.some.call(t.dataTransfer.types,(function(t){return"Files"===t||"application/x-moz-file"===t})):!!t.target&&!!t.target.files}function ic(t){t.preventDefault()}function oc(t){return-1!==t.indexOf("MSIE")||-1!==t.indexOf("Trident/")}function sc(t){return-1!==t.indexOf("Edge/")}function ac(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window.navigator.userAgent;return oc(t)||sc(t)}function uc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return e.some((function(e){return!nc(t)&&e&&e.apply(void 0,[t].concat(r)),nc(t)}))}}function cc(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function lc(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){if(!(Symbol.iterator in Object(t))&&"[object Arguments]"!==Object.prototype.toString.call(t))return;var n=[],r=!0,i=!1,o=void 0;try{for(var s,a=t[Symbol.iterator]();!(r=(s=a.next()).done)&&(n.push(s.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==a.return||a.return()}finally{if(i)throw o}}return n}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function hc(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function fc(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?hc(n,!0).forEach((function(e){pc(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):hc(n).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function pc(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function dc(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}var vc=s((function(t,e){var r=t.children,i=yc(dc(t,["children"])),s=i.open,a=dc(i,["open"]);return p(e,(function(){return{open:s}}),[s]),n.createElement(o,null,r(fc({},a,{open:s})))}));vc.displayName="Dropzone",vc.propTypes={children:Aa.func,accept:Aa.oneOfType([Aa.string,Aa.arrayOf(Aa.string)]),multiple:Aa.bool,preventDropOnDocument:Aa.bool,noClick:Aa.bool,noKeyboard:Aa.bool,noDrag:Aa.bool,noDragEventsBubbling:Aa.bool,minSize:Aa.number,maxSize:Aa.number,disabled:Aa.bool,getFilesFromEvent:Aa.func,onFileDialogCancel:Aa.func,onDragEnter:Aa.func,onDragLeave:Aa.func,onDragOver:Aa.func,onDrop:Aa.func,onDropAccepted:Aa.func,onDropRejected:Aa.func};var gc={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]};function yc(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.accept,n=t.disabled,r=void 0!==n&&n,i=t.getFilesFromEvent,o=void 0===i?Lu:i,s=t.maxSize,a=void 0===s?1/0:s,u=t.minSize,c=void 0===u?0:u,h=t.multiple,p=void 0===h||h,y=t.onDragEnter,m=t.onDragLeave,b=t.onDragOver,w=t.onDrop,_=t.onDropAccepted,E=t.onDropRejected,C=t.onFileDialogCancel,I=t.preventDropOnDocument,T=void 0===I||I,S=t.noClick,k=void 0!==S&&S,x=t.noKeyboard,A=void 0!==x&&x,N=t.noDrag,O=void 0!==N&&N,R=t.noDragEventsBubbling,D=void 0!==R&&R,P=l(null),M=l(null),L=d(mc,gc),F=lc(L,2),j=F[0],V=F[1],U=j.isFocused,B=j.isFileDialogActive,H=j.draggedFiles,z=v((function(){M.current&&(V({type:"openDialog"}),M.current.value=null,M.current.click())}),[V]),q=function(){B&&setTimeout((function(){M.current&&(M.current.files.length||(V({type:"closeDialog"}),"function"==typeof C&&C()))}),300)};f((function(){return window.addEventListener("focus",q,!1),function(){window.removeEventListener("focus",q,!1)}}),[M,B,C]);var W=v((function(t){P.current&&P.current.isEqualNode(t.target)&&(32!==t.keyCode&&13!==t.keyCode||(t.preventDefault(),z()))}),[P,M]),K=v((function(){V({type:"focus"})}),[]),G=v((function(){V({type:"blur"})}),[]),X=v((function(){k||(ac()?setTimeout(z,0):z())}),[M,k]),Y=l([]),Q=function(t){P.current&&P.current.contains(t.target)||(t.preventDefault(),Y.current=[])};f((function(){return T&&(document.addEventListener("dragover",ic,!1),document.addEventListener("drop",Q,!1)),function(){T&&(document.removeEventListener("dragover",ic),document.removeEventListener("drop",Q))}}),[P,T]);var Z=v((function(t){t.preventDefault(),t.persist(),it(t),Y.current=[].concat(cc(Y.current),[t.target]),rc(t)&&Promise.resolve(o(t)).then((function(e){nc(t)&&!D||(V({draggedFiles:e,isDragActive:!0,type:"setDraggedFiles"}),y&&y(t))}))}),[o,y,D]),J=v((function(t){if(t.preventDefault(),t.persist(),it(t),t.dataTransfer)try{t.dataTransfer.dropEffect="copy"}catch(t){}return rc(t)&&b&&b(t),!1}),[b,D]),$=v((function(t){t.preventDefault(),t.persist(),it(t);var e=Y.current.filter((function(t){return P.current&&P.current.contains(t)})),n=e.indexOf(t.target);-1!==n&&e.splice(n,1),Y.current=e,e.length>0||(V({isDragActive:!1,type:"setDraggedFiles",draggedFiles:[]}),rc(t)&&m&&m(t))}),[P,m,D]),tt=v((function(t){t.preventDefault(),t.persist(),it(t),Y.current=[],rc(t)&&Promise.resolve(o(t)).then((function(n){if(!nc(t)||D){var r=[],i=[];n.forEach((function(t){var n=lc(Ju(t,e),2),o=n[0],s=n[1],u=lc($u(t,c,a),2),l=u[0],h=u[1];if(o&&l)r.push(t);else{var f=[s,h].filter((function(t){return t}));i.push({file:t,errors:f})}})),!p&&r.length>1&&(r.forEach((function(t){i.push({file:t,errors:[Zu]})})),r.splice(0)),V({acceptedFiles:r,fileRejections:i,type:"setFiles"}),w&&w(r,i,t),i.length>0&&E&&E(i,t),r.length>0&&_&&_(r,t)}})),V({type:"reset"})}),[p,e,c,a,o,w,_,E,D]),et=function(t){return r?null:t},nt=function(t){return A?null:et(t)},rt=function(t){return O?null:et(t)},it=function(t){D&&t.stopPropagation()},ot=g((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.refKey,n=void 0===e?"ref":e,i=t.onKeyDown,o=t.onFocus,s=t.onBlur,a=t.onClick,u=t.onDragEnter,c=t.onDragOver,l=t.onDragLeave,h=t.onDrop,f=dc(t,["refKey","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"]);return fc(pc({onKeyDown:nt(uc(i,W)),onFocus:nt(uc(o,K)),onBlur:nt(uc(s,G)),onClick:et(uc(a,X)),onDragEnter:rt(uc(u,Z)),onDragOver:rt(uc(c,J)),onDragLeave:rt(uc(l,$)),onDrop:rt(uc(h,tt))},n,P),r||A?{}:{tabIndex:0},{},f)}}),[P,W,K,G,X,Z,J,$,tt,A,O,r]),st=v((function(t){t.stopPropagation()}),[]),at=g((function(){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.refKey,r=void 0===n?"ref":n,i=t.onChange,o=t.onClick,s=dc(t,["refKey","onChange","onClick"]),a=pc({accept:e,multiple:p,type:"file",style:{display:"none"},onChange:et(uc(i,tt)),onClick:et(uc(o,st)),autoComplete:"off",tabIndex:-1},r,M);return fc({},a,{},s)}}),[M,e,p,tt,r]),ut=H.length,ct=ut>0&&ec({files:H,accept:e,minSize:c,maxSize:a,multiple:p}),lt=ut>0&&!ct;return fc({},j,{isDragAccept:ct,isDragReject:lt,isFocused:U&&!r,getRootProps:ot,getInputProps:at,rootRef:P,inputRef:M,open:et(z)})}function mc(t,e){switch(e.type){case"focus":return fc({},t,{isFocused:!0});case"blur":return fc({},t,{isFocused:!1});case"openDialog":return fc({},t,{isFileDialogActive:!0});case"closeDialog":return fc({},t,{isFileDialogActive:!1});case"setDraggedFiles":var n=e.isDragActive;return fc({},t,{draggedFiles:e.draggedFiles,isDragActive:n});case"setFiles":return fc({},t,{acceptedFiles:e.acceptedFiles,fileRejections:e.fileRejections});case"reset":return fc({},t,{isFileDialogActive:!1,isDragActive:!1,draggedFiles:[],acceptedFiles:[],fileRejections:[]});default:return t}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var bc=!1,wc="${JSCORE_VERSION}",_c=function(t,e){if(!t)throw Ec(e)},Ec=function(t){return new Error("Firebase Database ("+wc+") INTERNAL ASSERT FAILED: "+t)},Cc=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},Ic={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,l=o>>2,h=(3&o)<<4|a>>4,f=(15&a)<<2|c>>6,p=63&c;u||(p=64,s||(f=64)),r.push(n[l],n[h],n[f],n[p])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Cc(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var s=((7&i)<<18|(63&(o=t[n++]))<<12|(63&(a=t[n++]))<<6|63&t[n++])-65536;e[r++]=String.fromCharCode(55296+(s>>10)),e[r++]=String.fromCharCode(56320+(1023&s))}else{o=t[n++];var a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")}(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],s=i<t.length?n[t.charAt(i)]:0,a=++i<t.length?n[t.charAt(i)]:64,u=++i<t.length?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==a||null==u)throw Error();var c=o<<2|s>>4;if(r.push(c),64!==a){var l=s<<4&240|a>>2;if(r.push(l),64!==u){var h=a<<6&192|u;r.push(h)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Tc=function(t){try{return Ic.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Sc(t){return kc(void 0,t)}function kc(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:return new Date(e.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var n in e)e.hasOwnProperty(n)&&(t[n]=kc(t[n],e[n]));return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc=function(){function t(){var t=this;this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"==typeof t&&(e.promise.catch((function(){})),1===t.length?t(n):t(n,r))}},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ac(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Nc(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ac())}function Oc(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(t){return!1}}function Rc(){var t="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof t&&void 0!==t.id}function Dc(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Pc(){return!0===bc}function Mc(){return"indexedDB"in self&&null!==indexedDB}function Lc(){return new Promise((function(t,e){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=window.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||window.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var t;e((null===(t=i.error)||void 0===t?void 0:t.message)||"")}}catch(t){e(t)}}))}function Fc(){return!(!navigator||!navigator.cookieEnabled)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jc=function(t){function e(n,r){var i=t.call(this,r)||this;return i.code=n,i.name="FirebaseError",Object.setPrototypeOf(i,e.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,Vc.prototype.create),i}return T(e,t),e}(Error),Vc=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n}return t.prototype.create=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];for(var r=e[0]||{},i=this.service+"/"+t,o=this.errors[t],s=o?Uc(o,r):"Error",a=this.serviceName+": "+s+" ("+i+").",u=new jc(i,a),c=0,l=Object.keys(r);c<l.length;c++){var h=l[c];"_"!==h.slice(-1)&&(h in u&&console.warn('Overwriting FirebaseError base field "'+h+'" can cause unexpected behavior.'),u[h]=r[h])}return u},t}();function Uc(t,e){return t.replace(Bc,(function(t,n){var r=e[n];return null!=r?String(r):"<"+n+"?>"}))}var Bc=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(t){return JSON.parse(t)}function zc(t){return JSON.stringify(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qc=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=Hc(Tc(o[0])||""),n=Hc(Tc(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Wc(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Kc(t,e){return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0}function Gc(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xc(t,e,n){var r={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Yc=function(){function t(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(var t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}return t.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},t.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"==typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}var o,s,a=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(r=0;r<80;r++){r<40?r<20?(o=l^u&(c^l),s=1518500249):(o=u^c^l,s=1859775393):r<60?(o=u&c|l&(u|c),s=2400959708):(o=u^c^l,s=3395469782);i=(a<<5|a>>>27)+o+h+s+n[r]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=a,a=i}this.chain_[0]=this.chain_[0]+a&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},t.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0===o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"==typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++r,++o===this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++r,++o===this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},t.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var r=0;for(n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},t}();function Qc(t,e){var n=new Zc(t,e);return n.subscribe.bind(n)}var Zc=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then((function(){t(n)})).catch((function(t){n.error(t)}))}return t.prototype.next=function(t){this.forEachObserver((function(e){e.next(t)}))},t.prototype.error=function(t){this.forEachObserver((function(e){e.error(t)})),this.close(t)},t.prototype.complete=function(){this.forEachObserver((function(t){t.complete()})),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"==typeof t[i])return!0}return!1}(t,["next","error","complete"])?t:{next:t,error:e,complete:n}).next&&(r.next=Jc),void 0===r.error&&(r.error=Jc),void 0===r.complete&&(r.complete=Jc);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}})),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!=typeof console&&console.error&&console.error(t)}}))},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then((function(){e.observers=void 0,e.onNoObservers=void 0})))},t}();function Jc(){}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $c=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i)throw new Error(t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".")};function tl(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function el(t,e,n,r){if((!r||n)&&"function"!=typeof n)throw new Error(tl(t,e,r)+"must be a valid function.")}function nl(t,e,n,r){if((!r||n)&&("object"!=typeof n||null===n))throw new Error(tl(t,e,r)+"must be a valid context object.")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rl=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e},il=function(){function t(t,e,n){this.name=t,this.instanceFactory=e,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY"}return t.prototype.setInstantiationMode=function(t){return this.instantiationMode=t,this},t.prototype.setMultipleInstances=function(t){return this.multipleInstances=t,this},t.prototype.setServiceProps=function(t){return this.serviceProps=t,this},t}(),ol=function(){function t(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map}return t.prototype.get=function(t){void 0===t&&(t="[DEFAULT]");var e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){var n=new xc;this.instancesDeferred.set(e,n);try{var r=this.getOrInitializeService(e);r&&n.resolve(r)}catch(t){}}return this.instancesDeferred.get(e).promise},t.prototype.getImmediate=function(t){var e=S({identifier:"[DEFAULT]",optional:!1},t),n=e.identifier,r=e.optional,i=this.normalizeInstanceIdentifier(n);try{var o=this.getOrInitializeService(i);if(!o){if(r)return null;throw Error("Service "+this.name+" is not available")}return o}catch(t){if(r)return null;throw t}},t.prototype.getComponent=function(){return this.component},t.prototype.setComponent=function(t){var e,n;if(t.name!==this.name)throw Error("Mismatching Component "+t.name+" for Provider "+this.name+".");if(this.component)throw Error("Component for "+this.name+" has already been provided");if(this.component=t,function(t){return"EAGER"===t.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t))try{this.getOrInitializeService("[DEFAULT]")}catch(t){}try{for(var r=A(this.instancesDeferred.entries()),i=r.next();!i.done;i=r.next()){var o=N(i.value,2),s=o[0],a=o[1],u=this.normalizeInstanceIdentifier(s);try{var c=this.getOrInitializeService(u);a.resolve(c)}catch(t){}}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.clearInstance=function(t){void 0===t&&(t="[DEFAULT]"),this.instancesDeferred.delete(t),this.instances.delete(t)},t.prototype.delete=function(){return k(this,void 0,void 0,(function(){var t;return x(this,(function(e){switch(e.label){case 0:return t=Array.from(this.instances.values()),[4,Promise.all(t.filter((function(t){return"INTERNAL"in t})).map((function(t){return t.INTERNAL.delete()})))];case 1:return e.sent(),[2]}}))}))},t.prototype.isComponentSet=function(){return null!=this.component},t.prototype.getOrInitializeService=function(t){var e=this.instances.get(t);return!e&&this.component&&(e=this.component.instanceFactory(this.container,function(t){return"[DEFAULT]"===t?void 0:t}(t)),this.instances.set(t,e)),e||null},t.prototype.normalizeInstanceIdentifier=function(t){return this.component?this.component.multipleInstances?t:"[DEFAULT]":t},t}();var sl,al=function(){function t(t){this.name=t,this.providers=new Map}return t.prototype.addComponent=function(t){var e=this.getProvider(t.name);if(e.isComponentSet())throw new Error("Component "+t.name+" has already been registered with "+this.name);e.setComponent(t)},t.prototype.addOrOverwriteComponent=function(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)},t.prototype.getProvider=function(t){if(this.providers.has(t))return this.providers.get(t);var e=new ol(t,this);return this.providers.set(t,e),e},t.prototype.getProviders=function(){return Array.from(this.providers.values())},t}();
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */function ul(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],s=0,a=o.length;s<a;s++,i++)r[i]=o[s];return r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var cl,ll=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(cl||(cl={}));var hl,fl={debug:cl.DEBUG,verbose:cl.VERBOSE,info:cl.INFO,warn:cl.WARN,error:cl.ERROR,silent:cl.SILENT},pl=cl.INFO,dl=((sl={})[cl.DEBUG]="log",sl[cl.VERBOSE]="log",sl[cl.INFO]="info",sl[cl.WARN]="warn",sl[cl.ERROR]="error",sl),vl=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var i=(new Date).toISOString(),o=dl[e];if(!o)throw new Error("Attempted to log a message with an invalid logType (value: "+e+")");console[o].apply(console,ul(["["+i+"]  "+t.name+":"],n))}},gl=function(){function t(t){this.name=t,this._logLevel=pl,this._logHandler=vl,this._userLogHandler=null,ll.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in cl))throw new TypeError('Invalid value "'+t+'" assigned to `logLevel`');this._logLevel=t},enumerable:!1,configurable:!0}),t.prototype.setLogLevel=function(t){this._logLevel="string"==typeof t?fl[t]:t},Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!=typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"userLogHandler",{get:function(){return this._userLogHandler},set:function(t){this._userLogHandler=t},enumerable:!1,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ul([this,cl.DEBUG],t)),this._logHandler.apply(this,ul([this,cl.DEBUG],t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ul([this,cl.VERBOSE],t)),this._logHandler.apply(this,ul([this,cl.VERBOSE],t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ul([this,cl.INFO],t)),this._logHandler.apply(this,ul([this,cl.INFO],t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ul([this,cl.WARN],t)),this._logHandler.apply(this,ul([this,cl.WARN],t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._userLogHandler&&this._userLogHandler.apply(this,ul([this,cl.ERROR],t)),this._logHandler.apply(this,ul([this,cl.ERROR],t))},t}();function yl(t){ll.forEach((function(e){e.setLogLevel(t)}))}var ml,bl=((hl={})["no-app"]="No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",hl["bad-app-name"]="Illegal App name: '{$appName}",hl["duplicate-app"]="Firebase App named '{$appName}' already exists",hl["app-deleted"]="Firebase App named '{$appName}' already deleted",hl["invalid-app-argument"]="firebase.{$appName}() takes either no argument or a Firebase App instance.",hl["invalid-log-argument"]="First argument to `onLog` must be null or a function.",hl),wl=new Vc("app","Firebase",bl),_l=((ml={})["@firebase/app"]="fire-core",ml["@firebase/analytics"]="fire-analytics",ml["@firebase/auth"]="fire-auth",ml["@firebase/database"]="fire-rtdb",ml["@firebase/functions"]="fire-fn",ml["@firebase/installations"]="fire-iid",ml["@firebase/messaging"]="fire-fcm",ml["@firebase/performance"]="fire-perf",ml["@firebase/remote-config"]="fire-rc",ml["@firebase/storage"]="fire-gcs",ml["@firebase/firestore"]="fire-fst",ml["fire-js"]="fire-js",ml["firebase-wrapper"]="fire-js-all",ml),El=new gl("@firebase/app"),Cl=function(){function t(t,e,n){var r,i,o=this;this.firebase_=n,this.isDeleted_=!1,this.name_=e.name,this.automaticDataCollectionEnabled_=e.automaticDataCollectionEnabled||!1,this.options_=Sc(t),this.container=new al(e.name),this._addComponent(new il("app",(function(){return o}),"PUBLIC"));try{for(var s=A(this.firebase_.INTERNAL.components.values()),a=s.next();!a.done;a=s.next()){var u=a.value;this._addComponent(u)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this.automaticDataCollectionEnabled_},set:function(t){this.checkDestroyed_(),this.automaticDataCollectionEnabled_=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!1,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise((function(e){t.checkDestroyed_(),e()})).then((function(){return t.firebase_.INTERNAL.removeApp(t.name_),Promise.all(t.container.getProviders().map((function(t){return t.delete()})))})).then((function(){t.isDeleted_=!0}))},t.prototype._getService=function(t,e){return void 0===e&&(e="[DEFAULT]"),this.checkDestroyed_(),this.container.getProvider(t).getImmediate({identifier:e})},t.prototype._removeServiceInstance=function(t,e){void 0===e&&(e="[DEFAULT]"),this.container.getProvider(t).clearInstance(e)},t.prototype._addComponent=function(t){try{this.container.addComponent(t)}catch(e){El.debug("Component "+t.name+" failed to register with FirebaseApp "+this.name,e)}},t.prototype._addOrOverwriteComponent=function(t){this.container.addOrOverwriteComponent(t)},t.prototype.checkDestroyed_=function(){if(this.isDeleted_)throw wl.create("app-deleted",{appName:this.name_})},t}();Cl.prototype.name&&Cl.prototype.options||Cl.prototype.delete||console.log("dc");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Il(t){var e={},n=new Map,r={__esModule:!0,initializeApp:function(n,i){void 0===i&&(i={});if("object"!=typeof i||null===i){i={name:i}}var o=i;void 0===o.name&&(o.name="[DEFAULT]");var s=o.name;if("string"!=typeof s||!s)throw wl.create("bad-app-name",{appName:String(s)});if(Wc(e,s))throw wl.create("duplicate-app",{appName:s});var a=new t(n,o,r);return e[s]=a,a},app:i,registerVersion:function(t,e,n){var r,i=null!==(r=_l[t])&&void 0!==r?r:t;n&&(i+="-"+n);var s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){var u=['Unable to register library "'+i+'" with version "'+e+'":'];return s&&u.push('library name "'+i+'" contains illegal characters (whitespace or "/")'),s&&a&&u.push("and"),a&&u.push('version name "'+e+'" contains illegal characters (whitespace or "/")'),void El.warn(u.join(" "))}o(new il(i+"-version",(function(){return{library:i,version:e}}),"VERSION"))},setLogLevel:yl,onLog:function(t,e){if(null!==t&&"function"!=typeof t)throw wl.create("invalid-log-argument",{appName:name});!function(t,e){for(var n=function(n){var r=null;e&&e.level&&(r=fl[e.level]),n.userLogHandler=null===t?null:function(e,n){for(var i=[],o=2;o<arguments.length;o++)i[o-2]=arguments[o];var s=i.map((function(t){if(null==t)return null;if("string"==typeof t)return t;if("number"==typeof t||"boolean"==typeof t)return t.toString();if(t instanceof Error)return t.message;try{return JSON.stringify(t)}catch(t){return null}})).filter((function(t){return t})).join(" ");n>=(null!=r?r:e.logLevel)&&t({level:cl[n].toLowerCase(),message:s,args:i,type:e.name})}},r=0,i=ll;r<i.length;r++){n(i[r])}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e)},apps:null,SDK_VERSION:"7.18.0",INTERNAL:{registerComponent:o,removeApp:function(t){delete e[t]},components:n,useAsService:function(t,e){if("serverAuth"===e)return null;return e}}};function i(t){if(!Wc(e,t=t||"[DEFAULT]"))throw wl.create("no-app",{appName:t});return e[t]}function o(o){var s,a,u=o.name;if(n.has(u))return El.debug("There were multiple attempts to register component "+u+"."),"PUBLIC"===o.type?r[u]:null;if(n.set(u,o),"PUBLIC"===o.type){var c=function(t){if(void 0===t&&(t=i()),"function"!=typeof t[u])throw wl.create("invalid-app-argument",{appName:u});return t[u]()};void 0!==o.serviceProps&&kc(c,o.serviceProps),r[u]=c,t.prototype[u]=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=this._getService.bind(this,u);return n.apply(this,o.multipleInstances?t:[])}}try{for(var l=A(Object.keys(e)),h=l.next();!h.done;h=l.next()){var f=h.value;e[f]._addComponent(o)}}catch(t){s={error:t}}finally{try{h&&!h.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}return"PUBLIC"===o.type?r[u]:null}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(e).map((function(t){return e[t]}))}}),i.App=t,r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tl=function t(){var e=Il(Cl);return e.INTERNAL=S(S({},e.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(t){kc(e,t)},createSubscribe:Qc,ErrorFactory:Vc,deepExtend:kc}),e}(),Sl=function(){function t(t){this.container=t}return t.prototype.getPlatformInfoString=function(){return this.container.getProviders().map((function(t){if(function(t){var e=t.getComponent();return"VERSION"===(null==e?void 0:e.type)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t)){var e=t.getImmediate();return e.library+"/"+e.version}return null})).filter((function(t){return t})).join(" ")},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
if("object"==typeof self&&self.self===self&&void 0!==self.firebase){El.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var kl=self.firebase.SDK_VERSION;kl&&kl.indexOf("LITE")>=0&&El.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var xl=Tl.initializeApp;Tl.initializeApp=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return Oc()&&El.warn('\n      Warning: This is a browser-targeted Firebase bundle but it appears it is being\n      run in a Node environment.  If running in a Node environment, make sure you\n      are using the bundle specified by the "main" field in package.json.\n      \n      If you are using Webpack, you can specify "main" as the first item in\n      "resolve.mainFields":\n      https://webpack.js.org/configuration/resolve/#resolvemainfields\n      \n      If using Rollup, use the rollup-plugin-node-resolve plugin and specify "main"\n      as the first item in "mainFields", e.g. [\'main\', \'module\'].\n      https://github.com/rollup/rollup-plugin-node-resolve\n      '),xl.apply(void 0,t)};var Al=Tl;!function(t,e){t.INTERNAL.registerComponent(new il("platform-logger",(function(t){return new Sl(t)}),"PRIVATE")),t.registerVersion("@firebase/app","0.6.10",e),t.registerVersion("fire-js","")}(Al),function(){var t,e="function"==typeof Object.defineProperties?Object.defineProperty:function(t,e,n){t!=Array.prototype&&t!=Object.prototype&&(t[e]=n.value)};var n=function(t){t=["object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global,t];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}return globalThis}(this);function r(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}function i(t){var e="undefined"!=typeof Symbol&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:r(t)}}!function(t,r){if(r){var i=n;t=t.split(".");for(var o=0;o<t.length-1;o++){var s=t[o];s in i||(i[s]={}),i=i[s]}(r=r(o=i[t=t[t.length-1]]))!=o&&null!=r&&e(i,t,{configurable:!0,writable:!0,value:r})}}("Promise",(function(t){function e(t){this.b=0,this.c=void 0,this.a=[];var e=this.f();try{t(e.resolve,e.reject)}catch(t){e.reject(t)}}function r(){this.a=null}function o(t){return t instanceof e?t:new e((function(e){e(t)}))}if(t)return t;r.prototype.b=function(t){if(null==this.a){this.a=[];var e=this;this.c((function(){e.g()}))}this.a.push(t)};var s=n.setTimeout;r.prototype.c=function(t){s(t,0)},r.prototype.g=function(){for(;this.a&&this.a.length;){var t=this.a;this.a=[];for(var e=0;e<t.length;++e){var n=t[e];t[e]=null;try{n()}catch(t){this.f(t)}}}this.a=null},r.prototype.f=function(t){this.c((function(){throw t}))},e.prototype.f=function(){function t(t){return function(r){n||(n=!0,t.call(e,r))}}var e=this,n=!1;return{resolve:t(this.m),reject:t(this.g)}},e.prototype.m=function(t){if(t===this)this.g(new TypeError("A Promise cannot resolve to itself"));else if(t instanceof e)this.s(t);else{t:switch(typeof t){case"object":var n=null!=t;break t;case"function":n=!0;break t;default:n=!1}n?this.u(t):this.h(t)}},e.prototype.u=function(t){var e=void 0;try{e=t.then}catch(t){return void this.g(t)}"function"==typeof e?this.w(e,t):this.h(t)},e.prototype.g=function(t){this.i(2,t)},e.prototype.h=function(t){this.i(1,t)},e.prototype.i=function(t,e){if(0!=this.b)throw Error("Cannot settle("+t+", "+e+"): Promise already settled in state"+this.b);this.b=t,this.c=e,this.l()},e.prototype.l=function(){if(null!=this.a){for(var t=0;t<this.a.length;++t)a.b(this.a[t]);this.a=null}};var a=new r;return e.prototype.s=function(t){var e=this.f();t.Oa(e.resolve,e.reject)},e.prototype.w=function(t,e){var n=this.f();try{t.call(e,n.resolve,n.reject)}catch(t){n.reject(t)}},e.prototype.then=function(t,n){function r(t,e){return"function"==typeof t?function(e){try{i(t(e))}catch(t){o(t)}}:e}var i,o,s=new e((function(t,e){i=t,o=e}));return this.Oa(r(t,i),r(n,o)),s},e.prototype.catch=function(t){return this.then(void 0,t)},e.prototype.Oa=function(t,e){function n(){switch(r.b){case 1:t(r.c);break;case 2:e(r.c);break;default:throw Error("Unexpected state: "+r.b)}}var r=this;null==this.a?a.b(n):this.a.push(n)},e.resolve=o,e.reject=function(t){return new e((function(e,n){n(t)}))},e.race=function(t){return new e((function(e,n){for(var r=i(t),s=r.next();!s.done;s=r.next())o(s.value).Oa(e,n)}))},e.all=function(t){var n=i(t),r=n.next();return r.done?o([]):new e((function(t,e){function i(e){return function(n){s[e]=n,0==--a&&t(s)}}var s=[],a=0;do{s.push(void 0),a++,o(r.value).Oa(i(s.length-1),e),r=n.next()}while(!r.done)}))},e}));var o=o||{},s=this||self,a=/^[\w+/_-]+[=]{0,2}$/,u=null;function c(){}function l(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&void 0!==t.splice&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||void 0!==t.call&&void 0!==t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&void 0===t.call)return"object";return e}function h(t){var e=l(t);return"array"==e||"object"==e&&"number"==typeof t.length}function f(t){return"function"==l(t)}function p(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),v=0;function g(t,e,n){return t.call.apply(t.bind,arguments)}function y(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function m(t,e,n){return(m=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?g:y).apply(null,arguments)}function b(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var w=Date.now||function(){return+new Date};function _(t,e){function n(){}n.prototype=e.prototype,t.Za=e.prototype,t.prototype=new n,t.prototype.constructor=t}function E(t,e,n){this.code=T+t,this.message=e||S[t]||"",this.a=n||null}function C(t){var e=t&&t.code;return e?new E(e.substring(T.length),t.message,t.serverResponse):null}_(E,Error),E.prototype.v=function(){var t={code:this.code,message:this.message};return this.a&&(t.serverResponse=this.a),t},E.prototype.toJSON=function(){return this.v()};var I,T="auth/",S={"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},k={hd:{Ra:"https://staging-identitytoolkit.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"b"},pd:{Ra:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://securetoken.googleapis.com/v1/token",Ua:"https://identitytoolkit.googleapis.com/v2/",id:"p"},rd:{Ra:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",Xa:"https://staging-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://staging-identitytoolkit.sandbox.googleapis.com/v2/",id:"s"},sd:{Ra:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",Xa:"https://test-securetoken.sandbox.googleapis.com/v1/token",Ua:"https://test-identitytoolkit.sandbox.googleapis.com/v2/",id:"t"}};function x(t){for(var e in k)if(k[e].id===t)return{firebaseEndpoint:(t=k[e]).Ra,secureTokenEndpoint:t.Xa,identityPlatformEndpoint:t.Ua};return null}function A(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function N(t){if(Error.captureStackTrace)Error.captureStackTrace(this,N);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function O(t,e){for(var n="",r=(t=t.split("%s")).length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");N.call(this,n+t[r])}function R(t,e){throw new O("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function D(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function P(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function M(){this.b=this.a=null}I=x("__EID__")?"__EID__":void 0,_(N,Error),N.prototype.name="CustomError",_(O,N),O.prototype.name="AssertionError",D.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var L=new D((function(){return new j}),(function(t){t.reset()}));function F(){var t=ve,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function j(){this.next=this.b=this.a=null}M.prototype.add=function(t,e){var n=L.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},j.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},j.prototype.reset=function(){this.next=this.b=this.a=null};var V=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},U=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};var B=Array.prototype.filter?function(t,e){return Array.prototype.filter.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=[],i=0,o="string"==typeof t?t.split(""):t,s=0;s<n;s++)if(s in o){var a=o[s];e.call(void 0,a,s,t)&&(r[i++]=a)}return r},H=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,r=Array(n),i="string"==typeof t?t.split(""):t,o=0;o<n;o++)o in i&&(r[o]=e.call(void 0,i[o],o,t));return r},z=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t))return!0;return!1};function q(t,e){return 0<=V(t,e)}function W(t,e){var n;return(n=0<=(e=V(t,e)))&&Array.prototype.splice.call(t,e,1),n}function K(t,e){!function(t,e){for(var n="string"==typeof t?t.split(""):t,r=t.length-1;0<=r;--r)r in n&&e.call(void 0,n[r],r,t)}(t,(function(n,r){e.call(void 0,n,r,t)&&1==Array.prototype.splice.call(t,r,1).length&&0}))}function G(t){return Array.prototype.concat.apply([],arguments)}function X(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}var Y,Q=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Z=/&/g,J=/</g,$=/>/g,tt=/"/g,et=/'/g,nt=/\x00/g,rt=/[\x00&<>"']/;function it(t,e){return-1!=t.indexOf(e)}function ot(t,e){return t<e?-1:t>e?1:0}t:{var st=s.navigator;if(st){var at=st.userAgent;if(at){Y=at;break t}}Y=""}function ut(t){return it(Y,t)}function ct(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function lt(t){for(var e in t)return!1;return!0}function ht(t){var e,n={};for(e in t)n[e]=t[e];return n}var ft="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function pt(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<ft.length;o++)n=ft[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function dt(t,e){t:{try{var n=t&&t.ownerDocument,r=n&&(n.defaultView||n.parentWindow);if((r=r||s).Element&&r.Location){var i=r;break t}}catch(t){}i=null}if(i&&void 0!==i[e]&&(!t||!(t instanceof i[e])&&(t instanceof i.Location||t instanceof i.Element))){if(p(t))try{var o=t.constructor.displayName||t.constructor.name||Object.prototype.toString.call(t)}catch(t){o="<object could not be stringified>"}else o=void 0===t?"undefined":null===t?"null":typeof t;R("Argument is not a %s (or a non-Element, non-Location mock); got: %s",e,o)}}function vt(t,e){this.a=t===mt&&e||"",this.b=yt}function gt(t){return t instanceof vt&&t.constructor===vt&&t.b===yt?t.a:(R("expected object of type Const, got '"+t+"'"),"type_error:Const")}vt.prototype.ra=!0,vt.prototype.qa=function(){return this.a},vt.prototype.toString=function(){return"Const{"+this.a+"}"};var yt={},mt={},bt=new vt(mt,"");function wt(t,e){this.a=t===St&&e||"",this.b=Tt}function _t(t){return t instanceof wt&&t.constructor===wt&&t.b===Tt?t.a:(R("expected object of type TrustedResourceUrl, got '"+t+"' of type "+l(t)),"type_error:TrustedResourceUrl")}function Et(t,e){var n=gt(t);if(!It.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Ct,(function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return(t=e[r])instanceof vt?gt(t):encodeURIComponent(String(t))})),new wt(St,t)}wt.prototype.ra=!0,wt.prototype.qa=function(){return this.a.toString()},wt.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ct=/%{(\w+)}/g,It=/^((https:)?\/\/[0-9a-z.:[\]-]+\/|\/[^/\\]|[^:/\\%]+\/|[^:/\\%]*[?#]|about:blank#)/i,Tt={},St={};function kt(t,e){this.a=t===Rt&&e||"",this.b=Ot}function xt(t){return t instanceof kt&&t.constructor===kt&&t.b===Ot?t.a:(R("expected object of type SafeUrl, got '"+t+"' of type "+l(t)),"type_error:SafeUrl")}kt.prototype.ra=!0,kt.prototype.qa=function(){return this.a.toString()},kt.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var At=/^(?:(?:https?|mailto|ftp):|[^:/?#]*(?:[/?#]|$))/i;function Nt(t){return t instanceof kt?t:(t="object"==typeof t&&t.ra?t.qa():String(t),At.test(t)||(t="about:invalid#zClosurez"),new kt(Rt,t))}var Ot={},Rt={};function Dt(){this.a="",this.b=Mt}function Pt(t){return t instanceof Dt&&t.constructor===Dt&&t.b===Mt?t.a:(R("expected object of type SafeHtml, got '"+t+"' of type "+l(t)),"type_error:SafeHtml")}Dt.prototype.ra=!0,Dt.prototype.qa=function(){return this.a.toString()},Dt.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Mt={};function Lt(t){var e=new Dt;return e.a=t,e}Lt("<!DOCTYPE html>");var Ft=Lt("");function jt(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function Vt(t){return rt.test(t)&&(-1!=t.indexOf("&")&&(t=t.replace(Z,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(J,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace($,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(tt,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(et,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(nt,"&#0;"))),t}function Ut(t){return Ut[" "](t),t}Lt("<br>"),Ut[" "]=c;var Bt,Ht,zt=ut("Opera"),qt=ut("Trident")||ut("MSIE"),Wt=ut("Edge"),Kt=Wt||qt,Gt=ut("Gecko")&&!(it(Y.toLowerCase(),"webkit")&&!ut("Edge"))&&!(ut("Trident")||ut("MSIE"))&&!ut("Edge"),Xt=it(Y.toLowerCase(),"webkit")&&!ut("Edge");function Yt(){var t=s.document;return t?t.documentMode:void 0}t:{var Qt="",Zt=(Ht=Y,Gt?/rv:([^\);]+)(\)|;)/.exec(Ht):Wt?/Edge\/([\d\.]+)/.exec(Ht):qt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ht):Xt?/WebKit\/(\S+)/.exec(Ht):zt?/(?:Version)[ \/]?(\S+)/.exec(Ht):void 0);if(Zt&&(Qt=Zt?Zt[1]:""),qt){var Jt=Yt();if(null!=Jt&&Jt>parseFloat(Qt)){Bt=String(Jt);break t}}Bt=Qt}var $t,te={};function ee(t){return function(t,e){var n=te;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=Q(String(Bt)).split("."),r=Q(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=ot(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||ot(0==s[2].length,0==a[2].length)||ot(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}$t=s.document&&qt?Yt():void 0;try{new self.OffscreenCanvas(0,0).getContext("2d")}catch(Ht){}var ne=!qt||9<=Number($t);function re(t){var e=document;return"string"==typeof t?e.getElementById(t):t}function ie(t,e){ct(e,(function(e,n){e&&"object"==typeof e&&e.ra&&(e=e.qa()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:ae.hasOwnProperty(n)?t.setAttribute(ae[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e}))}var oe,se,ae={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function ue(t,e,n){function r(n){n&&e.appendChild("string"==typeof n?t.createTextNode(n):n)}for(var i=2;i<n.length;i++){var o=n[i];!h(o)||p(o)&&0<o.nodeType?r(o):U(le(o)?X(o):o,r)}}function ce(t,e){return e=String(e),"application/xhtml+xml"===t.contentType&&(e=e.toLowerCase()),t.createElement(e)}function le(t){if(t&&"number"==typeof t.length){if(p(t))return"function"==typeof t.item||"string"==typeof t.item;if(f(t))return"function"==typeof t.item}return!1}function he(t){s.setTimeout((function(){throw t}),0)}function fe(){var t=s.MessageChannel;if(void 0===t&&"undefined"!=typeof window&&window.postMessage&&window.addEventListener&&!ut("Presto")&&(t=function(){var t=ce(document,"IFRAME");t.style.display="none",function(t){var e=new wt(St,gt(bt));dt(t,"HTMLIFrameElement"),t.src=_t(e).toString()}(t),document.documentElement.appendChild(t);var e=t.contentWindow;(t=e.document).open(),t.write(Pt(Ft)),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=m((function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()}),this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),void 0!==t&&!ut("Trident")&&!ut("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){var t=(n=n.next).Db;n.Db=null,t()}},function(t){r.next={Db:t},r=r.next,e.port2.postMessage(0)}}return function(t){s.setTimeout(t,0)}}function pe(t,e){se||function(){if(s.Promise&&s.Promise.resolve){var t=s.Promise.resolve(void 0);se=function(){t.then(ge)}}else se=function(){var t=ge;!f(s.setImmediate)||s.Window&&s.Window.prototype&&!ut("Edge")&&s.Window.prototype.setImmediate==s.setImmediate?(oe||(oe=fe()),oe(t)):s.setImmediate(t)}}(),de||(se(),de=!0),ve.add(t,e)}var de=!1,ve=new M;function ge(){for(var t;t=F();){try{t.a.call(t.b)}catch(t){he(t)}P(L,t)}de=!1}function ye(t,e){if(this.a=me,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=c)try{var n=this;t.call(e,(function(t){Ne(n,be,t)}),(function(t){if(!(t instanceof Fe))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}Ne(n,we,t)}))}catch(t){Ne(this,we,t)}}var me=0,be=2,we=3;function _e(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}_e.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ee=new D((function(){return new _e}),(function(t){t.reset()}));function Ce(t,e,n){var r=Ee.get();return r.g=t,r.b=e,r.f=n,r}function Ie(t){if(t instanceof ye)return t;var e=new ye(c);return Ne(e,be,t),e}function Te(t){return new ye((function(e,n){n(t)}))}function Se(t,e,n){Oe(t,e,n,null)||pe(b(e,t))}function ke(t){return new ye((function(e){var n=t.length,r=[];if(n)for(var i=function(t,i,o){n--,r[t]=i?{Mb:!0,value:o}:{Mb:!1,reason:o},0==n&&e(r)},o=0;o<t.length;o++)Se(t[o],b(i,o,!0),b(i,o,!1));else e(r)}))}function xe(t,e){t.b||t.a!=be&&t.a!=we||Re(t),t.f?t.f.next=e:t.b=e,t.f=e}function Ae(t,e,n,r){var i=Ce(null,null,null);return i.a=new ye((function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof Fe?o(e):t(i)}catch(t){o(t)}}:o})),i.a.c=t,xe(t,i),i.a}function Ne(t,e,n){t.a==me&&(t===n&&(e=we,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Oe(n,t.Yc,t.Zc,t)||(t.i=n,t.a=e,t.c=null,Re(t),e!=we||n instanceof Fe||function(t,e){t.g=!0,pe((function(){t.g&&Le.call(null,e)}))}(t,n)))}function Oe(t,e,n,r){if(t instanceof ye)return xe(t,Ce(e||c,n||null,r)),!0;if(A(t))return t.then(e,n,r),!0;if(p(t))try{var i=t.then;if(f(i))return function(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}var s=!1;try{e.call(t,(function(t){s||(s=!0,n.call(i,t))}),o)}catch(t){o(t)}}(t,i,e,n,r),!0}catch(t){return n.call(r,t),!0}return!1}function Re(t){t.h||(t.h=!0,pe(t.ec,t))}function De(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Pe(t,e,n,r){if(n==we&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,Me(e,n,r);else try{e.c?e.g.call(e.f):Me(e,n,r)}catch(t){Le.call(null,t)}P(Ee,e)}function Me(t,e,n){e==be?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}ye.prototype.then=function(t,e,n){return Ae(this,f(t)?t:null,f(e)?e:null,n)},ye.prototype.$goog_Thenable=!0,(t=ye.prototype).ma=function(t,e){return(t=Ce(t,t,e)).c=!0,xe(this,t),this},t.o=function(t,e){return Ae(this,null,t,e)},t.cancel=function(t){if(this.a==me){var e=new Fe(t);pe((function(){!function t(e,n){if(e.a==me)if(e.c){var r=e.c;if(r.b){for(var i=0,o=null,s=null,a=r.b;a&&(a.c||(i++,a.a==e&&(o=a),!(o&&1<i)));a=a.next)o||(s=a);o&&(r.a==me&&1==i?t(r,n):(s?((i=s).next==r.f&&(r.f=i),i.next=i.next.next):De(r),Pe(r,o,we,n)))}e.c=null}else Ne(e,we,n)}(this,e)}),this)}},t.Yc=function(t){this.a=me,Ne(this,be,t)},t.Zc=function(t){this.a=me,Ne(this,we,t)},t.ec=function(){for(var t;t=De(this);)Pe(this,t,this.a,this.i);this.h=!1};var Le=he;function Fe(t){N.call(this,t)}function je(){this.wa=this.wa,this.na=this.na}_(Fe,N),Fe.prototype.name="cancel";function Ve(t){if(!t.wa&&(t.wa=!0,t.Ba(),0))(function(t){Object.prototype.hasOwnProperty.call(t,d)&&t[d]||(t[d]=++v)})(t)}je.prototype.wa=!1,je.prototype.Ba=function(){if(this.na)for(;this.na.length;)this.na.shift()()};var Ue=Object.freeze||function(t){return t},Be=!qt||9<=Number($t),He=qt&&!ee("9"),ze=function(){if(!s.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{s.addEventListener("test",c,e),s.removeEventListener("test",c,e)}catch(t){}return t}();function qe(t,e){this.type=t,this.b=this.target=e,this.defaultPrevented=!1}function We(t,e){if(qe.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(Gt){t:{try{Ut(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:Ke[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}qe.prototype.preventDefault=function(){this.defaultPrevented=!0},_(We,qe);var Ke=Ue({2:"touch",3:"pen",4:"mouse"});We.prototype.preventDefault=function(){We.Za.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,He)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},We.prototype.f=function(){return this.a};var Ge="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function Ye(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ta=i,this.key=++Xe,this.ua=this.Na=!1}function Qe(t){t.ua=!0,t.listener=null,t.proxy=null,t.src=null,t.Ta=null}function Ze(t){this.src=t,this.a={},this.b=0}function Je(t,e){var n=e.type;n in t.a&&W(t.a[n],e)&&(Qe(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function $e(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.ua&&o.listener==e&&o.capture==!!n&&o.Ta==r)return i}return-1}Ze.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=$e(t,e,r,i);return-1<s?(e=t[s],n||(e.Na=!1)):((e=new Ye(e,this.src,o,!!r,i)).Na=n,t.push(e)),e};var tn="closure_lm_"+(1e6*Math.random()|0),en={};function nn(t,e,n,r,i){if(r&&r.once)on(t,e,n,r,i);else if(Array.isArray(e))for(var o=0;o<e.length;o++)nn(t,e[o],n,r,i);else n=dn(n),t&&t[Ge]?gn(t,e,n,p(r)?!!r.capture:!!r,i):rn(t,e,n,!1,r,i)}function rn(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=p(i)?!!i.capture:!!i,a=fn(t);if(a||(t[tn]=a=new Ze(t)),!(n=a.add(e,n,r,s,o)).proxy)if(r=function(){var t=hn,e=Be?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)ze||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(un(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}}function on(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)on(t,e[o],n,r,i);else n=dn(n),t&&t[Ge]?yn(t,e,n,p(r)?!!r.capture:!!r,i):rn(t,e,n,!0,r,i)}function sn(t,e,n,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)sn(t,e[o],n,r,i);else r=p(r)?!!r.capture:!!r,n=dn(n),t&&t[Ge]?(t=t.u,(e=String(e).toString())in t.a&&(-1<(n=$e(o=t.a[e],n,r,i))&&(Qe(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=fn(t))&&(e=t.a[e.toString()],t=-1,e&&(t=$e(e,n,r,i)),(n=-1<t?e[t]:null)&&an(n))}function an(t){if("number"!=typeof t&&t&&!t.ua){var e=t.src;if(e&&e[Ge])Je(e.u,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(un(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=fn(e))?(Je(n,t),0==n.b&&(n.src=null,e[tn]=null)):Qe(t)}}}function un(t){return t in en?en[t]:en[t]="on"+t}function cn(t,e,n,r){var i=!0;if((t=fn(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.ua&&(o=ln(o,r),i=i&&!1!==o)}return i}function ln(t,e){var n=t.listener,r=t.Ta||t.src;return t.Na&&an(t),n.call(r,e)}function hn(t,e){if(t.ua)return!0;if(!Be){if(!e)t:{e=["window","event"];for(var n=s,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(e=new We(r=e,this),n=!0,!(0>r.keyCode||null!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||null==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=cn(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=cn(r[i],t,!1,e),n=n&&o}return n}return ln(t,new We(e,this))}function fn(t){return(t=t[tn])instanceof Ze?t:null}var pn="__closure_events_fn_"+(1e9*Math.random()>>>0);function dn(t){return f(t)?t:(t[pn]||(t[pn]=function(e){return t.handleEvent(e)}),t[pn])}function vn(){je.call(this),this.u=new Ze(this),this.Yb=this,this.eb=null}function gn(t,e,n,r,i){t.u.add(String(e),n,!1,r,i)}function yn(t,e,n,r,i){t.u.add(String(e),n,!0,r,i)}function mn(t,e,n,r){if(!(e=t.u.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.ua&&s.capture==n){var a=s.listener,u=s.Ta||s.src;s.Na&&Je(t.u,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}function bn(t,e,n){if(f(t))n&&(t=m(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=m(t.handleEvent,t)}return 2147483647<Number(e)?-1:s.setTimeout(t,e||0)}function wn(t){var e=null;return new ye((function(n,r){-1==(e=bn((function(){n(void 0)}),t))&&r(Error("Failed to schedule timer."))})).o((function(t){throw s.clearTimeout(e),t}))}function _n(t){if(t.V&&"function"==typeof t.V)return t.V();if("string"==typeof t)return t.split("");if(h(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}function En(t){if(t.X&&"function"==typeof t.X)return t.X();if(!t.V||"function"!=typeof t.V){if(h(t)||"string"==typeof t){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var r in e=[],n=0,t)e[n++]=r;return e}}function Cn(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Cn)for(n=t.X(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function In(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Tn(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)Tn(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Tn(t,e){return Object.prototype.hasOwnProperty.call(t,e)}_(vn,je),vn.prototype[Ge]=!0,vn.prototype.addEventListener=function(t,e,n,r){nn(this,t,e,n,r)},vn.prototype.removeEventListener=function(t,e,n,r){sn(this,t,e,n,r)},vn.prototype.dispatchEvent=function(t){var e,n=this.eb;if(n)for(e=[];n;n=n.eb)e.push(n);n=this.Yb;var r=t.type||t;if("string"==typeof t)t=new qe(t,n);else if(t instanceof qe)t.target=t.target||n;else{var i=t;pt(t=new qe(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.b=e[o];i=mn(s,r,!0,t)&&i}if(i=mn(s=t.b=n,r,!0,t)&&i,i=mn(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=mn(s=t.b=e[o],r,!1,t)&&i;return i},vn.prototype.Ba=function(){if(vn.Za.Ba.call(this),this.u){var t,e=this.u;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Qe(n[r]);delete e.a[t],e.b--}}this.eb=null},(t=Cn.prototype).V=function(){In(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.X=function(){return In(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Tn(this.b,t)?this.b[t]:e},t.set=function(t,e){Tn(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.X(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var Sn=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^/?#]*)@)?([^/#?]*?)(?::([0-9]+))?(?=[/\\#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function kn(t,e){var n;this.b=this.i=this.f="",this.l=null,this.g=this.c="",this.h=!1,t instanceof kn?(this.h=void 0!==e?e:t.h,xn(this,t.f),this.i=t.i,this.b=t.b,An(this,t.l),this.c=t.c,Nn(this,Yn(t.a)),this.g=t.g):t&&(n=String(t).match(Sn))?(this.h=!!e,xn(this,n[1]||"",!0),this.i=Mn(n[2]||""),this.b=Mn(n[3]||"",!0),An(this,n[4]),this.c=Mn(n[5]||"",!0),Nn(this,n[6]||"",!0),this.g=Mn(n[7]||"")):(this.h=!!e,this.a=new zn(null,this.h))}function xn(t,e,n){t.f=n?Mn(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function An(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.l=e}else t.l=null}function Nn(t,e,n){e instanceof zn?(t.a=e,function(t,e){e&&!t.f&&(qn(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Kn(this,e),Xn(this,n,t))}),t)),t.f=e}(t.a,t.h)):(n||(e=Ln(e,Bn)),t.a=new zn(e,t.h))}function On(t,e,n){t.a.set(e,n)}function Rn(t,e){return t.a.get(e)}function Dn(t){return t instanceof kn?new kn(t):new kn(t,void 0)}function Pn(t,e){var n=new kn(null,void 0);return xn(n,"https"),t&&(n.b=t),e&&(n.c=e),n}function Mn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ln(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Fn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Fn(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}kn.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ln(e,jn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.i)&&t.push(Ln(e,jn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.l)&&t.push(":",String(n))),(n=this.c)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ln(n,"/"==n.charAt(0)?Un:Vn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.g)&&t.push("#",Ln(n,Hn)),t.join("")},kn.prototype.resolve=function(t){var e=new kn(this),n=!!t.f;n?xn(e,t.f):n=!!t.i,n?e.i=t.i:n=!!t.b,n?e.b=t.b:n=null!=t.l;var r=t.c;if(n)An(e,t.l);else if(n=!!t.c){if("/"!=r.charAt(0))if(this.b&&!this.c)r="/"+r;else{var i=e.c.lastIndexOf("/");-1!=i&&(r=e.c.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(it(i,"./")||it(i,"/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],s=0;s<i.length;){var a=i[s++];"."==a?r&&s==i.length&&o.push(""):".."==a?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&s==i.length&&o.push("")):(o.push(a),r=!0)}r=o.join("/")}else r=i}return n?e.c=r:n=""!==t.a.toString(),n?Nn(e,Yn(t.a)):n=!!t.g,n&&(e.g=t.g),e};var jn=/[#\/\?@]/g,Vn=/[#\?:]/g,Un=/[#\?]/g,Bn=/[#\?@]/g,Hn=/#/g;function zn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function qn(t){t.a||(t.a=new Cn,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Wn(t){var e=En(t);if(void 0===e)throw Error("Keys are undefined");var n=new zn(null,void 0);t=_n(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];Array.isArray(o)?Xn(n,i,o):n.add(i,o)}return n}function Kn(t,e){qn(t),e=Qn(t,e),Tn(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,Tn((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&In(t)))}function Gn(t,e){return qn(t),e=Qn(t,e),Tn(t.a.b,e)}function Xn(t,e,n){Kn(t,e),0<n.length&&(t.c=null,t.a.set(Qn(t,e),X(n)),t.b+=n.length)}function Yn(t){var e=new zn;return e.c=t.c,t.a&&(e.a=new Cn(t.a),e.b=t.b),e}function Qn(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Zn(t){var e=[];return function t(e,n,r){if(null==n)r.push("null");else{if("object"==typeof n){if(Array.isArray(n)){var i=n;n=i.length,r.push("[");for(var o="",s=0;s<n;s++)r.push(o),t(e,i[s],r),o=",";return void r.push("]")}if(!(n instanceof String||n instanceof Number||n instanceof Boolean)){for(i in r.push("{"),o="",n)Object.prototype.hasOwnProperty.call(n,i)&&("function"!=typeof(s=n[i])&&(r.push(o),er(i,r),r.push(":"),t(e,s,r),o=","));return void r.push("}")}n=n.valueOf()}switch(typeof n){case"string":er(n,r);break;case"number":r.push(isFinite(n)&&!isNaN(n)?String(n):"null");break;case"boolean":r.push(String(n));break;case"function":r.push("null");break;default:throw Error("Unknown type: "+typeof n)}}}(new Jn,t,e),e.join("")}function Jn(){}(t=zn.prototype).add=function(t,e){qn(this),this.c=null,t=Qn(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){qn(this),this.a.forEach((function(n,r){U(n,(function(n){t.call(e,n,r,this)}),this)}),this)},t.X=function(){qn(this);for(var t=this.a.V(),e=this.a.X(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},t.V=function(t){qn(this);var e=[];if("string"==typeof t)Gn(this,t)&&(e=G(e,this.a.get(Qn(this,t))));else{t=this.a.V();for(var n=0;n<t.length;n++)e=G(e,t[n])}return e},t.set=function(t,e){return qn(this),this.c=null,Gn(this,t=Qn(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t&&0<(t=this.V(t)).length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.X(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.V(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var $n={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},tr=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function er(t,e){e.push('"',t.replace(tr,(function(t){var e=$n[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),$n[t]=e),e})),'"')}function nr(){var t=_r();return qt&&!!$t&&11==$t||/Edge\/\d+/.test(t)}function rr(){return s.window&&s.window.location.href||self&&self.location&&self.location.href||""}function ir(t,e){e=e||s.window;var n="about:blank";t&&(n=xt(Nt(t))),e.location.href=n}function or(t){return!!((t=(t||_r()).toLowerCase()).match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function sr(t){t=t||s.window;try{t.close()}catch(t){}}function ar(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(s in e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=_r().toLowerCase(),r&&(e.target=r,it(n,"crios/")&&(e.target="_blank")),mr(_r())==gr&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof kt?n:Nt(void 0!==n.href?n.href:String(n)),n=t.target||n.target,i=[],t)switch(s){case"width":case"height":case"top":case"left":i.push(s+"="+t[s]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(s+"="+(t[s]?1:0))}var s=i.join(",");if((ut("iPhone")&&!ut("iPod")&&!ut("iPad")||ut("iPad")||ut("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(dt(s=ce(document,"A"),"HTMLAnchorElement"),e instanceof kt||e instanceof kt||(e="object"==typeof e&&e.ra?e.qa():String(e),At.test(e)||(e="about:invalid#zClosurez"),e=new kt(Rt,e)),s.href=xt(e),s.setAttribute("target",n),t.noreferrer&&s.setAttribute("rel","noreferrer"),(t=document.createEvent("MouseEvent")).initMouseEvent("click",!0,!0,r,1),s.dispatchEvent(t),s={}):t.noreferrer?(s=r.open("",n,s),t=xt(e),s&&(Kt&&it(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),s.opener=null,t=Lt('<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+Vt(t)+'">'),r=s.document)&&(r.write(Pt(t)),r.close())):(s=r.open(xt(e),n,s))&&t.noopener&&(s.opener=null),s)try{s.focus()}catch(t){}return s}var ur=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,cr=/^[^@]+@[^@]+$/;function lr(){var t=null;return new ye((function(e){"complete"==s.document.readyState?e():(t=function(){e()},on(window,"load",t))})).o((function(e){throw sn(window,"load",t),e}))}function hr(t){return t=t||_r(),!("file:"!==Sr()&&"ionic:"!==Sr()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function fr(){var t=s.window;try{return!(!t||t==t.top)}catch(t){return!1}}function pr(){return void 0!==s.WorkerGlobalScope&&"function"==typeof s.importScripts}function dr(){return Al.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":Al.INTERNAL.hasOwnProperty("node")?"Node":pr()?"Worker":"Browser"}function vr(){var t=dr();return"ReactNative"===t||"Node"===t}var gr="Firefox",yr="Chrome";function mr(t){var e=t.toLowerCase();return it(e,"opera/")||it(e,"opr/")||it(e,"opios/")?"Opera":it(e,"iemobile")?"IEMobile":it(e,"msie")||it(e,"trident/")?"IE":it(e,"edge/")?"Edge":it(e,"firefox/")?gr:it(e,"silk/")?"Silk":it(e,"blackberry")?"Blackberry":it(e,"webos")?"Webos":!it(e,"safari/")||it(e,"chrome/")||it(e,"crios/")||it(e,"android")?!it(e,"chrome/")&&!it(e,"crios/")||it(e,"edge/")?it(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":yr:"Safari"}var br={jd:"FirebaseCore-web",ld:"FirebaseUI-web"};function wr(t,e){e=e||[];var n,r=[],i={};for(n in br)i[br[n]]=!0;for(n=0;n<e.length;n++)void 0!==i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),(e=r).length||(e=["FirebaseCore-web"]),"Browser"===(r=dr())?r=mr(i=_r()):"Worker"===r&&(r=mr(i=_r())+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function _r(){return s.navigator&&s.navigator.userAgent||""}function Er(t,e){t=t.split("."),e=e||s;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function Cr(){try{var t=s.localStorage,e=Or();if(t)return t.setItem(e,"1"),t.removeItem(e),!nr()||!!s.indexedDB}catch(t){return pr()&&!!s.indexedDB}return!1}function Ir(){return(Tr()||"chrome-extension:"===Sr()||hr())&&!vr()&&Cr()&&!pr()}function Tr(){return"http:"===Sr()||"https:"===Sr()}function Sr(){return s.location&&s.location.protocol||null}function kr(t){return!or(t=t||_r())&&mr(t)!=gr}function xr(t){return void 0===t?null:Zn(t)}function Ar(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Nr(t){if(null!==t)return JSON.parse(t)}function Or(t){return t||Math.floor(1e9*Math.random()).toString()}function Rr(t){return"Safari"!=mr(t=t||_r())&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Dr(){var t=s.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function Pr(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=_r(),e=dr(),this.b=or(t)||"ReactNative"===e}function Mr(){var t=s.document;return!t||void 0===t.visibilityState||"visible"==t.visibilityState}function Lr(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function Fr(){return!(!Er("fireauth.oauthhelper",s)&&!Er("fireauth.iframe",s))}Pr.prototype.get=function(){var t=s.navigator;return!t||"boolean"!=typeof t.onLine||!Tr()&&"chrome-extension:"!==Sr()&&void 0===t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var jr,Vr={};function Ur(t){Vr[t]||(Vr[t]=!0,"undefined"!=typeof console&&"function"==typeof console.warn&&console.warn(t))}try{var Br={};Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Br,"abcd",{configurable:!0,enumerable:!0,value:2}),jr=2==Br.abcd}catch(Ht){jr=!1}function Hr(t,e,n){jr?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function zr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Hr(t,n,e[n])}function qr(t){var e={};return zr(e,t),e}function Wr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Hr(e,n,Wr(t[n]));return e}function Kr(t){var e=t&&(t[Zr]?"phone":null);if(!(e&&t&&t[Qr]))throw new E("internal-error","Internal assert: invalid MultiFactorInfo object");Hr(this,"uid",t[Qr]),Hr(this,"displayName",t[Xr]||null);var n=null;t[Yr]&&(n=new Date(t[Yr]).toUTCString()),Hr(this,"enrollmentTime",n),Hr(this,"factorId",e)}function Gr(t){try{var e=new Jr(t)}catch(t){e=null}return e}Kr.prototype.v=function(){return{uid:this.uid,displayName:this.displayName,factorId:this.factorId,enrollmentTime:this.enrollmentTime}};var Xr="displayName",Yr="enrolledAt",Qr="mfaEnrollmentId",Zr="phoneInfo";function Jr(t){Kr.call(this,t),Hr(this,"phoneNumber",t[Zr])}function $r(t){var e={},n=t[ri],r=t[oi],i=t[si];if(t=Gr(t[ii]),!i||i!=ei&&i!=ni&&!n||i==ni&&!r||i==ti&&!t)throw Error("Invalid checkActionCode response!");i==ni?(e[ui]=n||null,e[li]=n||null,e[ai]=r):(e[ui]=r||null,e[li]=r||null,e[ai]=n||null),e[ci]=t||null,Hr(this,fi,i),Hr(this,hi,Wr(e))}_(Jr,Kr),Jr.prototype.v=function(){var t=Jr.Za.v.call(this);return t.phoneNumber=this.phoneNumber,t};var ti="REVERT_SECOND_FACTOR_ADDITION",ei="EMAIL_SIGNIN",ni="VERIFY_AND_CHANGE_EMAIL",ri="email",ii="mfaInfo",oi="newEmail",si="requestType",ai="email",ui="fromEmail",ci="multiFactorInfo",li="previousEmail",hi="data",fi="operation";function pi(t){var e=Rn(t=Dn(t),di)||null,n=Rn(t,vi)||null,r=Rn(t,mi)||null;if(r=r&&wi[r]||null,!e||!n||!r)throw new E("argument-error",di+", "+vi+"and "+mi+" are required in a valid action code URL.");zr(this,{apiKey:e,operation:r,code:n,continueUrl:Rn(t,gi)||null,languageCode:Rn(t,yi)||null,tenantId:Rn(t,bi)||null})}var di="apiKey",vi="oobCode",gi="continueUrl",yi="languageCode",mi="mode",bi="tenantId",wi={recoverEmail:"RECOVER_EMAIL",resetPassword:"PASSWORD_RESET",revertSecondFactorAddition:ti,signIn:ei,verifyAndChangeEmail:ni,verifyEmail:"VERIFY_EMAIL"};function _i(t){try{return new pi(t)}catch(t){return null}}function Ei(t){var e=t[ki];if(void 0===e)throw new E("missing-continue-uri");if("string"!=typeof e||"string"==typeof e&&!e.length)throw new E("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[Ci];if(n&&"object"==typeof n){e=n[Ni];var r=n[xi];if(n=n[Ai],"string"==typeof e&&e.length){if(this.a=e,void 0!==r&&"boolean"!=typeof r)throw new E("argument-error",xi+" property must be a boolean when specified.");if(this.g=!!r,void 0!==n&&("string"!=typeof n||"string"==typeof n&&!n.length))throw new E("argument-error",Ai+" property must be a non empty string when specified.");this.b=n||null}else{if(void 0!==e)throw new E("argument-error",Ni+" property must be a non empty string when specified.");if(void 0!==r||void 0!==n)throw new E("missing-android-pkg-name")}}else if(void 0!==n)throw new E("argument-error",Ci+" property must be a non null object when specified.");if(this.f=null,(e=t[Si])&&"object"==typeof e){if("string"==typeof(e=e[Oi])&&e.length)this.f=e;else if(void 0!==e)throw new E("argument-error",Oi+" property must be a non empty string when specified.")}else if(void 0!==e)throw new E("argument-error",Si+" property must be a non null object when specified.");if(void 0!==(e=t[Ti])&&"boolean"!=typeof e)throw new E("argument-error",Ti+" property must be a boolean when specified.");if(this.c=!!e,void 0!==(t=t[Ii])&&("string"!=typeof t||"string"==typeof t&&!t.length))throw new E("argument-error",Ii+" property must be a non empty string when specified.");this.i=t||null}var Ci="android",Ii="dynamicLinkDomain",Ti="handleCodeInApp",Si="iOS",ki="url",xi="installApp",Ai="minimumVersion",Ni="packageName",Oi="bundleId";function Ri(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}var Di=null;function Pi(t){var e="";return function(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Di[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}!function(){if(!Di){Di={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],n=0;5>n;n++)for(var r=t.concat(e[n].split("")),i=0;i<r.length;i++){var o=r[i];void 0===Di[o]&&(Di[o]=i)}}}();for(var r=0;;){var i=n(-1),o=n(0),s=n(64),a=n(64);if(64===a&&-1===i)break;e(i<<2|o>>4),64!=s&&(e(o<<4&240|s>>2),64!=a&&e(s<<6&192|a))}}(t,(function(t){e+=String.fromCharCode(t)})),e}function Mi(t){var e=Fi(t);if(!(e&&e.sub&&e.iss&&e.aud&&e.exp))throw Error("Invalid JWT");this.g=t,this.c=e.exp,this.h=e.sub,this.a=e.provider_id||e.firebase&&e.firebase.sign_in_provider||null,this.f=e.firebase&&e.firebase.tenant||null,this.b=!!e.is_anonymous||"anonymous"==this.a}function Li(t){try{return new Mi(t)}catch(t){return null}}function Fi(t){if(!t)return null;if(3!=(t=t.split(".")).length)return null;for(var e=(4-(t=t[1]).length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Pi(t))}catch(t){}return null}Mi.prototype.S=function(){return this.f},Mi.prototype.i=function(){return this.b},Mi.prototype.toString=function(){return this.g};var ji="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),Vi=["client_id","response_type","scope","redirect_uri","state"],Ui={kd:{Ha:"locale",ta:700,sa:600,ea:"facebook.com",Va:Vi},md:{Ha:null,ta:500,sa:750,ea:"github.com",Va:Vi},nd:{Ha:"hl",ta:515,sa:680,ea:"google.com",Va:Vi},td:{Ha:"lang",ta:485,sa:705,ea:"twitter.com",Va:ji},gd:{Ha:"locale",ta:640,sa:600,ea:"apple.com",Va:[]}};function Bi(t){for(var e in Ui)if(Ui[e].ea==t)return Ui[e];return null}function Hi(t){var e={};e["facebook.com"]=Gi,e["google.com"]=Yi,e["github.com"]=Xi,e["twitter.com"]=Qi;var n=t&&t[qi];try{if(n)return e[n]?new e[n](t):new Ki(t);if(void 0!==t[zi])return new Wi(t)}catch(t){}return null}var zi="idToken",qi="providerId";function Wi(t){var e=t[qi];if(!e&&t[zi]){var n=Li(t[zi]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,void 0!==t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Hr(this,"providerId",e),Hr(this,"isNewUser",n)}function Ki(t){Wi.call(this,t),Hr(this,"profile",Wr((t=Nr(t.rawUserInfo||"{}"))||{}))}function Gi(t){if(Ki.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xi(t){if(Ki.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",this.profile&&this.profile.login||null)}function Yi(t){if(Ki.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qi(t){if(Ki.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Hr(this,"username",t.screenName||null)}function Zi(t){var e=Dn(t),n=Rn(e,"link"),r=Rn(Dn(n),"link");return e=Rn(e,"deep_link_id"),Rn(Dn(e),"link")||e||r||n||t}function Ji(t,e){if(!t&&!e)throw new E("internal-error","Internal assert: no raw session string available");if(t&&e)throw new E("internal-error","Internal assert: unable to determine the session type");this.a=t||null,this.b=e||null,this.type=this.a?$i:to}_(Ki,Wi),_(Gi,Ki),_(Xi,Ki),_(Yi,Ki),_(Qi,Ki);var $i="enroll",to="signin";function eo(){}function no(t,e){return t.then((function(t){if(t[qs]){var n=Li(t[qs]);if(!n||e!=n.h)throw new E("user-mismatch");return t}throw new E("user-mismatch")})).o((function(t){throw t&&t.code&&t.code==T+"user-not-found"?new E("user-mismatch"):t}))}function ro(t,e){if(!e)throw new E("internal-error","failed to construct a credential");this.a=e,Hr(this,"providerId",t),Hr(this,"signInMethod",t)}function io(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t){if(t&&t.providerId&&t.signInMethod&&0==t.providerId.indexOf("saml.")&&t.pendingToken)try{return new ro(t.providerId,t.pendingToken)}catch(t){}return null}function so(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Hr(this,"idToken",e.idToken),e.accessToken&&Hr(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Hr(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new E("internal-error","failed to construct a credential");Hr(this,"accessToken",e.oauthToken),Hr(this,"secret",e.oauthTokenSecret)}Hr(this,"providerId",t),Hr(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:Wn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function uo(t){if(t&&t.providerId&&t.signInMethod){var e={idToken:t.oauthIdToken,accessToken:t.oauthTokenSecret?null:t.oauthAccessToken,oauthTokenSecret:t.oauthTokenSecret,oauthToken:t.oauthTokenSecret&&t.oauthAccessToken,nonce:t.nonce,pendingToken:t.pendingToken};try{return new so(t.providerId,e,t.signInMethod)}catch(t){}}return null}function co(t,e){this.Oc=e||[],zr(this,{providerId:t,isOAuthProvider:!0}),this.Fb={},this.lb=(Bi(t)||{}).Ha||null,this.kb=null}function lo(t){if("string"!=typeof t||0!=t.indexOf("saml."))throw new E("argument-error",'SAML provider IDs must be prefixed with "saml."');co.call(this,t,[])}function ho(t){co.call(this,t,Vi),this.a=[]}function fo(){ho.call(this,"facebook.com")}function po(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new fo).credential({accessToken:e})}function vo(){ho.call(this,"github.com")}function go(t){if(!t)throw new E("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return p(t)&&(e=t.accessToken),(new vo).credential({accessToken:e})}function yo(){ho.call(this,"google.com"),this.Aa("profile")}function mo(t,e){var n=t;return p(t)&&(n=t.idToken,e=t.accessToken),(new yo).credential({idToken:n,accessToken:e})}function bo(){co.call(this,"twitter.com",ji)}function wo(t,e){var n=t;if(p(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new E("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new so("twitter.com",n,"twitter.com")}function _o(t,e,n){this.a=t,this.f=e,Hr(this,"providerId","password"),Hr(this,"signInMethod",n===Co.EMAIL_LINK_SIGN_IN_METHOD?Co.EMAIL_LINK_SIGN_IN_METHOD:Co.EMAIL_PASSWORD_SIGN_IN_METHOD)}function Eo(t){return t&&t.email&&t.password?new _o(t.email,t.password,t.signInMethod):null}function Co(){zr(this,{providerId:"password",isOAuthProvider:!1})}function Io(t,e){if(!(e=To(e)))throw new E("argument-error","Invalid email link!");return new _o(t,e.code,Co.EMAIL_LINK_SIGN_IN_METHOD)}function To(t){return(t=_i(t=Zi(t)))&&t.operation===ei?t:null}function So(t){if(!(t.bb&&t.ab||t.Ja&&t.da))throw new E("internal-error");this.a=t,Hr(this,"providerId","phone"),this.ea="phone",Hr(this,"signInMethod","phone")}function ko(t){if(t&&"phone"===t.providerId&&(t.verificationId&&t.verificationCode||t.temporaryProof&&t.phoneNumber)){var e={};return U(["verificationId","verificationCode","temporaryProof","phoneNumber"],(function(n){t[n]&&(e[n]=t[n])})),new So(e)}return null}function xo(t){return t.a.Ja&&t.a.da?{temporaryProof:t.a.Ja,phoneNumber:t.a.da}:{sessionInfo:t.a.bb,code:t.a.ab}}function Ao(t){try{this.a=t||Al.auth()}catch(t){throw new E("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}zr(this,{providerId:"phone",isOAuthProvider:!1})}function No(t,e){if(!t)throw new E("missing-verification-id");if(!e)throw new E("missing-verification-code");return new So({bb:t,ab:e})}function Oo(t){if(t.temporaryProof&&t.phoneNumber)return new So({Ja:t.temporaryProof,da:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret,i=t&&t.nonce,o=t&&t.oauthIdToken,s=t&&t.pendingToken;try{switch(e){case"google.com":return mo(o,n);case"facebook.com":return po(n);case"github.com":return go(n);case"twitter.com":return wo(n,r);default:return n||r||o||s?s?0==e.indexOf("saml.")?new ro(e,s):new so(e,{pendingToken:s,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new ho(e).credential({idToken:o,accessToken:n,rawNonce:i}):null}}catch(t){return null}}function Ro(t){if(!t.isOAuthProvider)throw new E("invalid-oauth-provider")}function Do(t,e,n,r,i,o,s){if(this.c=t,this.b=e||null,this.g=n||null,this.f=r||null,this.i=o||null,this.h=s||null,this.a=i||null,!this.g&&!this.a)throw new E("invalid-auth-event");if(this.g&&this.a)throw new E("invalid-auth-event");if(this.g&&!this.f)throw new E("invalid-auth-event")}function Po(t){return(t=t||{}).type?new Do(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&C(t.error),t.postBody,t.tenantId):null}function Mo(){this.b=null,this.a=[]}Ji.prototype.Fa=function(){return this.a?Ie(this.a):Ie(this.b)},Ji.prototype.v=function(){return this.type==$i?{multiFactorSession:{idToken:this.a}}:{multiFactorSession:{pendingCredential:this.b}}},eo.prototype.ia=function(){},eo.prototype.b=function(){},eo.prototype.c=function(){},eo.prototype.v=function(){},ro.prototype.ia=function(t){return la(t,io(this))},ro.prototype.b=function(t,e){var n=io(this);return n.idToken=e,ha(t,n)},ro.prototype.c=function(t,e){return no(fa(t,io(this)),e)},ro.prototype.v=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},so.prototype.ia=function(t){return la(t,ao(this))},so.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,ha(t,n)},so.prototype.c=function(t,e){return no(fa(t,ao(this)),e)},so.prototype.v=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},co.prototype.Ia=function(t){return this.Fb=ht(t),this},_(lo,co),_(ho,co),ho.prototype.Aa=function(t){return q(this.a,t)||this.a.push(t),this},ho.prototype.Nb=function(){return X(this.a)},ho.prototype.credential=function(t,e){var n;if(!(n=p(t)?{idToken:t.idToken||null,accessToken:t.accessToken||null,nonce:t.rawNonce||null}:{idToken:t||null,accessToken:e||null}).idToken&&!n.accessToken)throw new E("argument-error","credential failed: must provide the ID token and/or the access token.");return new so(this.providerId,n,this.providerId)},_(fo,ho),Hr(fo,"PROVIDER_ID","facebook.com"),Hr(fo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),_(vo,ho),Hr(vo,"PROVIDER_ID","github.com"),Hr(vo,"GITHUB_SIGN_IN_METHOD","github.com"),_(yo,ho),Hr(yo,"PROVIDER_ID","google.com"),Hr(yo,"GOOGLE_SIGN_IN_METHOD","google.com"),_(bo,co),Hr(bo,"PROVIDER_ID","twitter.com"),Hr(bo,"TWITTER_SIGN_IN_METHOD","twitter.com"),_o.prototype.ia=function(t){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Ga(t,wa,{email:this.a,oobCode:this.f}):Ga(t,Ha,{email:this.a,password:this.f})},_o.prototype.b=function(t,e){return this.signInMethod==Co.EMAIL_LINK_SIGN_IN_METHOD?Ga(t,_a,{idToken:e,email:this.a,oobCode:this.f}):Ga(t,Pa,{idToken:e,email:this.a,password:this.f})},_o.prototype.c=function(t,e){return no(this.ia(t),e)},_o.prototype.v=function(){return{email:this.a,password:this.f,signInMethod:this.signInMethod}},zr(Co,{PROVIDER_ID:"password"}),zr(Co,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),zr(Co,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),So.prototype.ia=function(t){return t.cb(xo(this))},So.prototype.b=function(t,e){var n=xo(this);return n.idToken=e,Ga(t,qa,n)},So.prototype.c=function(t,e){var n=xo(this);return n.operation="REAUTH",no(t=Ga(t,Wa,n),e)},So.prototype.v=function(){var t={providerId:"phone"};return this.a.bb&&(t.verificationId=this.a.bb),this.a.ab&&(t.verificationCode=this.a.ab),this.a.Ja&&(t.temporaryProof=this.a.Ja),this.a.da&&(t.phoneNumber=this.a.da),t},Ao.prototype.cb=function(t,e){var n=this.a.b;return Ie(e.verify()).then((function(r){if("string"!=typeof r)throw new E("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":var i=p(t)?t.session:null,o=p(t)?t.phoneNumber:t;return(i&&i.type==$i?i.Fa().then((function(t){return function(t,e){return Ga(t,La,e).then((function(t){return t.phoneSessionInfo.sessionInfo}))}(n,{idToken:t,phoneEnrollmentInfo:{phoneNumber:o,recaptchaToken:r}})})):i&&i.type==to?i.Fa().then((function(e){return function(t,e){return Ga(t,Fa,e).then((function(t){return t.phoneResponseInfo.sessionInfo}))}(n,{mfaPendingCredential:e,mfaEnrollmentId:t.multiFactorHint&&t.multiFactorHint.uid||t.multiFactorUid,phoneSignInInfo:{recaptchaToken:r}})})):function(t,e){return Ga(t,Ra,e)}(n,{phoneNumber:o,recaptchaToken:r})).then((function(t){return"function"==typeof e.reset&&e.reset(),t}),(function(t){throw"function"==typeof e.reset&&e.reset(),t}));default:throw new E("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}}))},zr(Ao,{PROVIDER_ID:"phone"}),zr(Ao,{PHONE_SIGN_IN_METHOD:"phone"}),Do.prototype.getUid=function(){var t=[];return t.push(this.c),this.b&&t.push(this.b),this.f&&t.push(this.f),this.h&&t.push(this.h),t.join("-")},Do.prototype.S=function(){return this.h},Do.prototype.v=function(){return{type:this.c,eventId:this.b,urlResponse:this.g,sessionId:this.f,postBody:this.i,tenantId:this.h,error:this.a&&this.a.v()}};var Lo,Fo=null;function jo(t){var e="unauthorized-domain",n=void 0,r=Dn(t);t=r.b,"chrome-extension"==(r=r.f)?n=jt("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=jt("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",E.call(this,e,n)}function Vo(t,e,n){E.call(this,t,n),(t=e||{}).Gb&&Hr(this,"email",t.Gb),t.da&&Hr(this,"phoneNumber",t.da),t.credential&&Hr(this,"credential",t.credential),t.Wb&&Hr(this,"tenantId",t.Wb)}function Uo(t){if(t.code){var e=t.code||"";0==e.indexOf(T)&&(e=e.substring(T.length));var n={credential:Oo(t),Wb:t.tenantId};if(t.email)n.Gb=t.email;else if(t.phoneNumber)n.da=t.phoneNumber;else if(!n.credential)return new E(e,t.message||void 0);return new Vo(e,n,t.message)}return null}function Bo(){}function Ho(t){return t.c||(t.c=t.b())}function zo(){}function qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Wo(){}function Ko(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseType=this.responseText=this.response="",this.status=-1,this.statusText="",this.a.onload=m(this.oc,this),this.a.onerror=m(this.Pb,this),this.a.onprogress=m(this.pc,this),this.a.ontimeout=m(this.tc,this)}function Go(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Xo(t,e,n){this.reset(t,e,n,void 0,void 0)}function Yo(t){this.f=t,this.b=this.c=this.a=null}function Qo(t,e){this.name=t,this.value=e}_(jo,E),_(Vo,E),Vo.prototype.v=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber),this.tenantId&&(t.tenantId=this.tenantId);var e=this.credential&&this.credential.v();return e&&pt(t,e),t},Vo.prototype.toJSON=function(){return this.v()},Bo.prototype.c=null,_(zo,Bo),zo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},zo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},Lo=new zo,_(Wo,Bo),Wo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Ko;throw Error("Unsupported browser")},Wo.prototype.b=function(){return{}},(t=Ko.prototype).open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.oc=function(){this.status=200,this.response=this.responseText=this.a.responseText,Go(this,4)},t.Pb=function(){this.status=500,this.response=this.responseText="",Go(this,4)},t.tc=function(){this.Pb()},t.pc=function(){this.status=200,Go(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Xo.prototype.a=null,Xo.prototype.reset=function(t,e,n,r,i){delete this.a},Qo.prototype.toString=function(){return this.name};var Zo=new Qo("SEVERE",1e3),Jo=new Qo("WARNING",900),$o=new Qo("CONFIG",700),ts=new Qo("FINE",500);Yo.prototype.log=function(t,e,n){if(t.value>=function t(e){return e.c?e.c:e.a?t(e.a):(R("Root logger has no level set."),null)}(this).value)for(f(e)&&(e=e()),t=new Xo(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var es={},ns=null;function rs(t){var e;if(ns||(ns=new Yo(""),es[""]=ns,ns.c=$o),!(e=es[t])){e=new Yo(t);var n=t.lastIndexOf("."),r=t.substr(n+1);(n=rs(t.substr(0,n))).b||(n.b={}),n.b[r]=e,e.a=n,es[t]=e}return e}function is(t,e){t&&t.log(ts,e,void 0)}function os(t){this.f=t}function ss(t){vn.call(this),this.s=t,this.readyState=as,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.i=new Headers,this.b=null,this.m="GET",this.g="",this.a=!1,this.h=rs("goog.net.FetchXmlHttp"),this.l=this.c=this.f=null}_(os,Bo),os.prototype.a=function(){return new ss(this.f)},os.prototype.b=function(t){return function(){return t}}({}),_(ss,vn);var as=0;function us(t){t.c.read().then(t.nc.bind(t)).catch(t.Sa.bind(t))}function cs(t,e){e&&t.f&&(t.status=t.f.status,t.statusText=t.f.statusText),t.readyState=4,t.f=null,t.c=null,t.l=null,ls(t)}function ls(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function hs(t){vn.call(this),this.headers=new Cn,this.D=t||null,this.c=!1,this.B=this.a=null,this.h=this.P=this.l="",this.f=this.O=this.i=this.N=!1,this.g=0,this.s=null,this.m=fs,this.w=this.R=!1}(t=ss.prototype).open=function(t,e){if(this.readyState!=as)throw this.abort(),Error("Error reopening a connection");this.m=t,this.g=e,this.readyState=1,ls(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.i,method:this.m,credentials:void 0,cache:void 0};t&&(e.body=t),this.s.fetch(new Request(this.g,e)).then(this.sc.bind(this),this.Sa.bind(this))},t.abort=function(){this.response=this.responseText="",this.i=new Headers,this.status=0,this.c&&this.c.cancel("Request was aborted."),1<=this.readyState&&this.a&&4!=this.readyState&&(this.a=!1,cs(this,!1)),this.readyState=as},t.sc=function(t){this.a&&(this.f=t,this.b||(this.b=t.headers,this.readyState=2,ls(this)),this.a&&(this.readyState=3,ls(this),this.a&&("arraybuffer"===this.responseType?t.arrayBuffer().then(this.qc.bind(this),this.Sa.bind(this)):void 0!==s.ReadableStream&&"body"in t?(this.response=this.responseText="",this.c=t.body.getReader(),this.l=new TextDecoder,us(this)):t.text().then(this.rc.bind(this),this.Sa.bind(this)))))},t.nc=function(t){if(this.a){var e=this.l.decode(t.value?t.value:new Uint8Array(0),{stream:!t.done});e&&(this.response=this.responseText+=e),t.done?cs(this,!0):ls(this),3==this.readyState&&us(this)}},t.rc=function(t){this.a&&(this.response=this.responseText=t,cs(this,!0))},t.qc=function(t){this.a&&(this.response=t,cs(this,!0))},t.Sa=function(t){var e=this.h;e&&e.log(Jo,"Failed to fetch url "+this.g,t instanceof Error?t:Error(t)),this.a&&cs(this,!0)},t.setRequestHeader=function(t,e){this.i.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.h)&&t.log(Jo,"Attempting to get response header but no headers have been received for url: "+this.g,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.h;return t&&t.log(Jo,"Attempting to get all response headers but no headers have been received for url: "+this.g,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},_(hs,vn);var fs="";hs.prototype.b=rs("goog.net.XhrIo");var ps=/^https?$/i,ds=["POST","PUT"];function vs(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.l+"; newUri="+e);n=n?n.toUpperCase():"GET",t.l=e,t.h="",t.P=n,t.N=!1,t.c=!0,t.a=t.D?t.D.a():Lo.a(),t.B=t.D?Ho(t.D):Ho(Lo),t.a.onreadystatechange=m(t.Sb,t);try{is(t.b,Is(t,"Opening Xhr")),t.O=!0,t.a.open(n,String(e),!0),t.O=!1}catch(e){return is(t.b,Is(t,"Error opening Xhr: "+e.message)),void ys(t,e)}e=r||"";var o=new Cn(t.headers);i&&function(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(h(t)||"string"==typeof t)U(t,e,void 0);else for(var n=En(t),r=_n(t),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}(i,(function(t,e){o.set(e,t)})),i=function(t){t:{for(var e=gs,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(o.X()),r=s.FormData&&e instanceof s.FormData,!q(ds,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach((function(t,e){this.a.setRequestHeader(e,t)}),t),t.m&&(t.a.responseType=t.m),"withCredentials"in t.a&&t.a.withCredentials!==t.R&&(t.a.withCredentials=t.R);try{_s(t),0<t.g&&(t.w=function(t){return qt&&ee(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(t.a),is(t.b,Is(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.w)),t.w?(t.a.timeout=t.g,t.a.ontimeout=m(t.Ka,t)):t.s=bn(t.Ka,t.g,t)),is(t.b,Is(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){is(t.b,Is(t,"Send error: "+e.message)),ys(t,e)}}function gs(t){return"content-type"==t.toLowerCase()}function ys(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,ms(t),ws(t)}function ms(t){t.N||(t.N=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function bs(t){if(t.c&&void 0!==o)if(t.B[1]&&4==Es(t)&&2==Cs(t))is(t.b,Is(t,"Local request error detected and ignored"));else if(t.i&&4==Es(t))bn(t.Sb,0,t);else if(t.dispatchEvent("readystatechange"),4==Es(t)){is(t.b,Is(t,"Request complete")),t.c=!1;try{var e,n=Cs(t);t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var a=String(t.l).match(Sn)[1]||null;if(!a&&s.self&&s.self.location){var u=s.self.location.protocol;a=u.substr(0,u.length-1)}i=!ps.test(a?a.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<Es(t)?t.a.statusText:""}catch(e){is(t.b,"Can not get status: "+e.message),c=""}t.h=c+" ["+Cs(t)+"]",ms(t)}}finally{ws(t)}}}function ws(t,e){if(t.a){_s(t);var n=t.a,r=t.B[0]?c:null;t.a=null,t.B=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(e){(t=t.b)&&t.log(Zo,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function _s(t){t.a&&t.w&&(t.a.ontimeout=null),t.s&&(s.clearTimeout(t.s),t.s=null)}function Es(t){return t.a?t.a.readyState:0}function Cs(t){try{return 2<Es(t)?t.a.status:-1}catch(t){return-1}}function Is(t,e){return e+" ["+t.P+" "+t.l+" "+Cs(t)+"]"}function Ts(t){var e=Ls;this.g=[],this.w=e,this.s=t||null,this.f=this.a=!1,this.c=void 0,this.u=this.B=this.i=!1,this.h=0,this.b=null,this.l=0}function Ss(t,e,n){t.a=!0,t.c=n,t.f=!e,Ns(t)}function ks(t){if(t.a){if(!t.u)throw new Os(t);t.u=!1}}function xs(t,e,n,r){t.g.push([e,n,r]),t.a&&Ns(t)}function As(t){return z(t.g,(function(t){return f(t[1])}))}function Ns(t){if(t.h&&t.a&&As(t)){var e=t.h,n=Ps[e];n&&(s.clearTimeout(n.a),delete Ps[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var u=o.call(i||t.s,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(A(e)||"function"==typeof s.Promise&&e instanceof s.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,As(t)||(n=!0)}}t.c=e,r&&(u=m(t.m,t,!0),r=m(t.m,t,!1),e instanceof Ts?(xs(e,u,r),e.B=!0):e.then(u,r)),n&&(e=new Ds(e),Ps[e.a]=e,t.h=e.a)}function Os(){N.call(this)}function Rs(){N.call(this)}function Ds(t){this.a=s.setTimeout(m(this.c,this),0),this.b=t}(t=hs.prototype).Ka=function(){void 0!==o&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",is(this.b,Is(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(is(this.b,Is(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ws(this))},t.Ba=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ws(this,!0)),hs.Za.Ba.call(this)},t.Sb=function(){this.wa||(this.O||this.i||this.f?bs(this):this.Hc())},t.Hc=function(){bs(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.m){case fs:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Zo,"Response type "+this.m+" is not supported on this browser",void 0),null}catch(t){return is(this.b,"Can not get response: "+t.message),null}},Ts.prototype.cancel=function(t){if(this.a)this.c instanceof Ts&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.w?this.w.call(this.s,this):this.u=!0,this.a||(t=new Rs(this),ks(this),Ss(this,!1,t))}},Ts.prototype.m=function(t,e){this.i=!1,Ss(this,t,e)},Ts.prototype.then=function(t,e,n){var r,i,o=new ye((function(t,e){r=t,i=e}));return xs(this,r,(function(t){t instanceof Rs?o.cancel():i(t)})),o.then(t,e,n)},Ts.prototype.$goog_Thenable=!0,_(Os,N),Os.prototype.message="Deferred has already fired",Os.prototype.name="AlreadyCalledError",_(Rs,N),Rs.prototype.message="Deferred was canceled",Rs.prototype.name="CanceledError",Ds.prototype.c=function(){throw delete Ps[this.a],this.b};var Ps={};function Ms(t){var e,n=document,r=_t(t).toString(),i=ce(document,"SCRIPT"),o={Tb:i,Ka:void 0},c=new Ts(o);return e=window.setTimeout((function(){Fs(i,!0);var t=new Us(Vs,"Timeout reached for loading script "+r);ks(c),Ss(c,!1,t)}),5e3),o.Ka=e,i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(Fs(i,!1,e),ks(c),Ss(c,!0,null))},i.onerror=function(){Fs(i,!0,e);var t=new Us(js,"Error while loading script "+r);ks(c),Ss(c,!1,t)},pt(o={},{type:"text/javascript",charset:"UTF-8"}),ie(i,o),function(t,e){dt(t,"HTMLScriptElement"),t.src=_t(e),null===u&&(u=(e=(e=s.document).querySelector&&e.querySelector("script[nonce]"))&&(e=e.nonce||e.getAttribute("nonce"))&&a.test(e)?e:""),(e=u)&&t.setAttribute("nonce",e)}(i,t),function(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}(n).appendChild(i),c}function Ls(){if(this&&this.Tb){var t=this.Tb;t&&"SCRIPT"==t.tagName&&Fs(t,!0,this.Ka)}}function Fs(t,e,n){null!=n&&s.clearTimeout(n),t.onload=c,t.onerror=c,t.onreadystatechange=c,e&&window.setTimeout((function(){t&&t.parentNode&&t.parentNode.removeChild(t)}),0)}var js=0,Vs=1;function Us(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),N.call(this,n),this.code=t}function Bs(t){this.f=t}function Hs(t,e,n){if(this.c=t,t=e||{},this.u=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.m=t.secureTokenTimeout||Ws,this.g=ht(t.secureTokenHeaders||Ks),this.h=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.l=t.identityPlatformEndpoint||"https://identitytoolkit.googleapis.com/v2/",this.i=t.firebaseTimeout||Gs,this.a=ht(t.firebaseHeaders||Xs),n&&(this.a["X-Client-Version"]=n,this.g["X-Client-Version"]=n),n="Node"==dr(),!(n=s.XMLHttpRequest||n&&Al.INTERNAL.node&&Al.INTERNAL.node.XMLHttpRequest)&&!pr())throw new E("internal-error","The XMLHttpRequest compatibility library was not found.");this.f=void 0,pr()?this.f=new os(self):vr()?this.f=new Bs(n):this.f=new Wo,this.b=null}_(Us,N),_(Bs,Bo),Bs.prototype.a=function(){return new this.f},Bs.prototype.b=function(){return{}};var zs,qs="idToken",Ws=new Pr(3e4,6e4),Ks={"Content-Type":"application/x-www-form-urlencoded"},Gs=new Pr(3e4,6e4),Xs={"Content-Type":"application/json"};function Ys(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qs(t,e){e?(t.a["X-Client-Version"]=e,t.g["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.g["X-Client-Version"])}function Zs(t,e,n,r,i,o,a){(function(){var t=_r();return!((t=mr(t)!=yr?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!qt||!$t||9<$t)})()||pr()?t=m(t.w,t):(zs||(zs=new ye((function(t,e){!function(t,e){if(((window.gapi||{}).client||{}).request)t();else{s[$s]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))},function(t,e){xs(t,null,e,void 0)}(Ms(Et(Js,{onload:$s})),(function(){e(Error("CORS_UNSUPPORTED"))}))}}(t,e)}))),t=m(t.s,t)),t(e,n,r,i,o,a)}Hs.prototype.S=function(){return this.b},Hs.prototype.w=function(t,e,n,r,i,o){if(pr()&&(void 0===s.fetch||void 0===s.Headers||void 0===s.Request))throw new E("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new hs(this.f);if(o){a.g=Math.max(0,o);var u=setTimeout((function(){a.dispatchEvent("timeout")}),o)}gn(a,"complete",(function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(function(t){try{return t.a?t.a.responseText:""}catch(e){return is(t.b,"Can not get responseText: "+e.message),""}}(this))||null}catch(e){t=null}e&&e(t)})),yn(a,"ready",(function(){u&&clearTimeout(u),Ve(this)})),yn(a,"timeout",(function(){u&&clearTimeout(u),Ve(this),e&&e(null)})),vs(a,t,n,r,i)};var Js=new vt(mt,"https://apis.google.com/js/client.js?onload=%{onload}"),$s="__fcb"+Math.floor(1e6*Math.random()).toString();function ta(t,e,n,r,i,o,s){var a=Dn(e+n);On(a,"key",t.c),s&&On(a,"cb",w().toString());var u="GET"==r;if(u)for(var c in i)i.hasOwnProperty(c)&&On(a,c,i[c]);return new ye((function(e,n){Zs(t,a.toString(),(function(t){t?t.error?n(Ya(t,o||{})):e(t):n(new E("network-request-failed"))}),r,u?void 0:Zn(Ar(i)),t.a,t.i.get())}))}function ea(t){if("string"!=typeof(t=t.email)||!cr.test(t))throw new E("invalid-email")}function na(t){"email"in t&&ea(t)}function ra(t){if(!t[qs]){if(t.mfaPendingCredential)throw new E("multi-factor-auth-required",null,ht(t));throw new E("internal-error")}}function ia(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new E("internal-error")}else{if(!t.sessionInfo)throw new E("missing-verification-id");if(!t.code)throw new E("missing-verification-code")}}Hs.prototype.s=function(t,e,n,r,i){var o=this;zs.then((function(){window.gapi.client.setApiKey(o.c);var s=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(s),e&&e(t)}})})).o((function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})}))},Hs.prototype.vb=function(){return Ga(this,Ma,{})},Hs.prototype.xb=function(t,e){return Ga(this,Da,{idToken:t,email:e})},Hs.prototype.yb=function(t,e){return Ga(this,Pa,{idToken:t,password:e})};var oa={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function sa(t){if(!t.phoneVerificationInfo)throw new E("internal-error");if(!t.phoneVerificationInfo.sessionInfo)throw new E("missing-verification-id");if(!t.phoneVerificationInfo.code)throw new E("missing-verification-code")}function aa(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new E("internal-error")}function ua(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(Gn(t=new zn(t.postBody),"nonce")&&(e.nonce=t.get("nonce")))),e}function ca(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Uo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Uo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Uo(t)):t.errorMessage&&(e=Xa(t.errorMessage)),e)throw e;ra(t)}function la(t,e){return e.returnIdpCredential=!0,Ga(t,ja,e)}function ha(t,e){return e.returnIdpCredential=!0,Ga(t,Ua,e)}function fa(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,Ga(t,Va,e)}function pa(t){if(!t.oobCode)throw new E("invalid-action-code")}(t=Hs.prototype).zb=function(t,e){var n={idToken:t},r=[];return ct(oa,(function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)})),r.length&&(n.deleteAttribute=r),Ga(this,Da,n)},t.rb=function(t,e){return pt(t={requestType:"PASSWORD_RESET",email:t},e),Ga(this,xa,t)},t.sb=function(t,e){return pt(t={requestType:"EMAIL_SIGNIN",email:t},e),Ga(this,Ta,t)},t.qb=function(t,e){return pt(t={requestType:"VERIFY_EMAIL",idToken:t},e),Ga(this,Sa,t)},t.Ab=function(t,e,n){return pt(t={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:t,newEmail:e},n),Ga(this,ka,t)},t.cb=function(t){return Ga(this,za,t)},t.jb=function(t,e){return Ga(this,Oa,{oobCode:t,newPassword:e})},t.Pa=function(t){return Ga(this,va,{oobCode:t})},t.fb=function(t){return Ga(this,da,{oobCode:t})};var da={endpoint:"setAccountInfo",A:pa,Y:"email",C:!0},va={endpoint:"resetPassword",A:pa,G:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e&&"VERIFY_AND_CHANGE_EMAIL"!=e)throw new E("internal-error")},C:!0},ga={endpoint:"signupNewUser",A:function(t){if(ea(t),!t.password)throw new E("weak-password")},G:ra,U:!0,C:!0},ya={endpoint:"createAuthUri",C:!0},ma={endpoint:"deleteAccount",M:["idToken"]},ba={endpoint:"setAccountInfo",M:["idToken","deleteProvider"],A:function(t){if("array"!=l(t.deleteProvider))throw new E("internal-error")}},wa={endpoint:"emailLinkSignin",M:["email","oobCode"],A:ea,G:ra,U:!0,C:!0},_a={endpoint:"emailLinkSignin",M:["idToken","email","oobCode"],A:ea,G:ra,U:!0},Ea={endpoint:"accounts/mfaEnrollment:finalize",M:["idToken","phoneVerificationInfo"],A:sa,G:ra,C:!0,La:!0},Ca={endpoint:"accounts/mfaSignIn:finalize",M:["mfaPendingCredential","phoneVerificationInfo"],A:sa,G:ra,C:!0,La:!0},Ia={endpoint:"getAccountInfo"},Ta={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new E("internal-error");ea(t)},Y:"email",C:!0},Sa={endpoint:"getOobConfirmationCode",M:["idToken","requestType"],A:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},ka={endpoint:"getOobConfirmationCode",M:["idToken","newEmail","requestType"],A:function(t){if("VERIFY_AND_CHANGE_EMAIL"!=t.requestType)throw new E("internal-error")},Y:"email",C:!0},xa={endpoint:"getOobConfirmationCode",M:["requestType"],A:function(t){if("PASSWORD_RESET"!=t.requestType)throw new E("internal-error");ea(t)},Y:"email",C:!0},Aa={hb:!0,endpoint:"getProjectConfig",Rb:"GET"},Na={hb:!0,endpoint:"getRecaptchaParam",Rb:"GET",G:function(t){if(!t.recaptchaSiteKey)throw new E("internal-error")}},Oa={endpoint:"resetPassword",A:pa,Y:"email",C:!0},Ra={endpoint:"sendVerificationCode",M:["phoneNumber","recaptchaToken"],Y:"sessionInfo",C:!0},Da={endpoint:"setAccountInfo",M:["idToken"],A:na,U:!0},Pa={endpoint:"setAccountInfo",M:["idToken"],A:function(t){if(na(t),!t.password)throw new E("weak-password")},G:ra,U:!0},Ma={endpoint:"signupNewUser",G:ra,U:!0,C:!0},La={endpoint:"accounts/mfaEnrollment:start",M:["idToken","phoneEnrollmentInfo"],A:function(t){if(!t.phoneEnrollmentInfo)throw new E("internal-error");if(!t.phoneEnrollmentInfo.phoneNumber)throw new E("missing-phone-number");if(!t.phoneEnrollmentInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneSessionInfo||!t.phoneSessionInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},Fa={endpoint:"accounts/mfaSignIn:start",M:["mfaPendingCredential","mfaEnrollmentId","phoneSignInInfo"],A:function(t){if(!t.phoneSignInInfo||!t.phoneSignInInfo.recaptchaToken)throw new E("missing-app-credential")},G:function(t){if(!t.phoneResponseInfo||!t.phoneResponseInfo.sessionInfo)throw new E("internal-error")},C:!0,La:!0},ja={endpoint:"verifyAssertion",A:aa,Wa:ua,G:ca,U:!0,C:!0},Va={endpoint:"verifyAssertion",A:aa,Wa:ua,G:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new E("user-not-found");if(t.errorMessage)throw Xa(t.errorMessage);ra(t)},U:!0,C:!0},Ua={endpoint:"verifyAssertion",A:function(t){if(aa(t),!t.idToken)throw new E("internal-error")},Wa:ua,G:ca,U:!0},Ba={endpoint:"verifyCustomToken",A:function(t){if(!t.token)throw new E("invalid-custom-token")},G:ra,U:!0,C:!0},Ha={endpoint:"verifyPassword",A:function(t){if(ea(t),!t.password)throw new E("wrong-password")},G:ra,U:!0,C:!0},za={endpoint:"verifyPhoneNumber",A:ia,G:ra,C:!0},qa={endpoint:"verifyPhoneNumber",A:function(t){if(!t.idToken)throw new E("internal-error");ia(t)},G:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Uo(t);ra(t)}},Wa={Eb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",A:ia,G:ra,C:!0},Ka={endpoint:"accounts/mfaEnrollment:withdraw",M:["idToken","mfaEnrollmentId"],G:function(t){if(!!t[qs]^!!t.refreshToken)throw new E("internal-error")},C:!0,La:!0};function Ga(t,e,n){if(!function(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(null==r||""===r)return!1}return!0}(n,e.M))return Te(new E("internal-error"));var r,i=!!e.La,o=e.Rb||"POST";return Ie(n).then(e.A).then((function(){return e.U&&(n.returnSecureToken=!0),e.C&&t.b&&void 0===n.tenantId&&(n.tenantId=t.b),ta(t,i?t.l:t.h,e.endpoint,o,n,e.Eb,e.hb||!1)})).then((function(t){return r=t,e.Wa?e.Wa(n,r):r})).then(e.G).then((function(){if(!e.Y)return r;if(!(e.Y in r))throw new E("internal-error");return r[e.Y]}))}function Xa(t){return Ya({error:{errors:[{message:t}],code:400,message:t}})}function Ya(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new E(r[n]):null)return n;for(var i in n=t.error&&t.error.message||"",pt(r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash",UNSUPPORTED_TENANT_OPERATION:"unsupported-tenant-operation",INVALID_TENANT_ID:"invalid-tenant-id",TENANT_ID_MISMATCH:"tenant-id-mismatch",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",EMAIL_CHANGE_NEEDS_VERIFICATION:"email-change-needs-verification",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",UNSUPPORTED_FIRST_FACTOR:"unsupported-first-factor",UNVERIFIED_EMAIL:"unverified-email"},e||{}),e=(e=n.match(/^[^\s]+\s*:\s*([\s\S]*)$/))&&1<e.length?e[1]:void 0,r)if(0===n.indexOf(i))return new E(r[i],e);return!e&&t&&(e=xr(t)),new E("internal-error",e)}function Qa(t){this.b=t,this.a=null,this.nb=function(t){return(tu||(tu=new ye((function(t,e){function n(){Dr(),Er("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Dr(),e(Error("Network Error"))},timeout:Ja.get()})}if(Er("gapi.iframes.Iframe"))t();else if(Er("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();s[r]=function(){Er("gapi.load")?n():e(Error("Network Error"))},Ie(Ms(r=Et(Za,{onload:r}))).o((function(){e(Error("Network Error"))}))}})).o((function(t){throw tu=null,t})))).then((function(){return new ye((function(e,n){Er("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},(function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout((function(){n(Error("Network Error"))}),$a.get());r.ping(i).then(i,(function(){n(Error("Network Error"))}))}))}))}))}(this)}var Za=new vt(mt,"https://apis.google.com/js/api.js?onload=%{onload}"),Ja=new Pr(3e4,6e4),$a=new Pr(5e3,15e3),tu=null;function eu(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=Pn(this.i,"/__/auth/iframe"),On(this.a,"apiKey",this.g),On(this.a,"appName",this.h),this.b=null,this.c=[]}function nu(t,e,n,r,i){this.s=t,this.m=e,this.c=n,this.u=r,this.i=this.g=this.l=null,this.a=i,this.h=this.f=null}function ru(t){try{return Al.app(t).auth().Ea()}catch(t){return[]}}function iu(t,e,n,r,i){this.u=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.m=this.s=this.w=null,this.g=[],this.l=this.a=null}function ou(t){var e=rr();return function(t){return Ga(t,Aa,{}).then((function(t){return t.authorizedDomains||[]}))}(t).then((function(t){t:{var n=Dn(e),r=n.f;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],s=n,a=r;if(0==o.indexOf("chrome-extension://")?s=Dn(o).b==s&&"chrome-extension"==a:"http"!=a&&"https"!=a?s=!1:ur.test(o)?s=s==o:(o=o.split(".").join("\\."),s=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)),s){t=!0;break t}}t=!1}if(!t)throw new jo(rr())}))}function su(t){return t.l||(t.l=lr().then((function(){if(!t.s){var e=t.c,n=t.h,r=ru(t.b),i=new eu(t.u,t.f,t.b);i.f=e,i.b=n,i.c=X(r||[]),t.s=i.toString()}t.i=new Qa(t.s),function(t){if(!t.i)throw Error("IfcHandler must be initialized!");!function(t,e){t.nb.then((function(){t.a.register("authEvent",e,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}(t.i,(function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Po(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return(n={}).status=r?"ACK":"ERROR",Ie(n)}return n.status="ERROR",Ie(n)}))}(t)}))),t.l}function au(t){return t.m||(t.w=t.c?wr(t.c,ru(t.b)):null,t.m=new Hs(t.f,x(t.h),t.w)),t.m}function uu(t,e,n,r,i,o,s,a,u,c,l){return(t=new nu(t,e,n,r,i)).l=o,t.g=s,t.i=a,t.b=ht(u||null),t.f=c,t.ub(l).toString()}function cu(t){if(this.a=t||Al.INTERNAL.reactNative&&Al.INTERNAL.reactNative.AsyncStorage,!this.a)throw new E("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function lu(t){this.b=t,this.a={},this.f=m(this.c,this)}eu.prototype.toString=function(){return this.f?On(this.a,"v",this.f):Kn(this.a.a,"v"),this.b?On(this.a,"eid",this.b):Kn(this.a.a,"eid"),this.c.length?On(this.a,"fw",this.c.join(",")):Kn(this.a.a,"fw"),this.a.toString()},nu.prototype.ub=function(t){return this.h=t,this},nu.prototype.toString=function(){var t=Pn(this.s,"/__/auth/handler");if(On(t,"apiKey",this.m),On(t,"appName",this.c),On(t,"authType",this.u),this.a.isOAuthProvider){var e=this.a;try{var n=Al.app(this.c).auth().ja()}catch(t){n=null}for(var r in e.kb=n,On(t,"providerId",this.a.providerId),n=Ar((e=this.a).Fb))n[r]=n[r].toString();r=e.Oc,n=ht(n);for(var i=0;i<r.length;i++){var o=r[i];o in n&&delete n[o]}e.lb&&e.kb&&!n[e.lb]&&(n[e.lb]=e.kb),lt(n)||On(t,"customParameters",xr(n))}if("function"==typeof this.a.Nb&&((e=this.a.Nb()).length&&On(t,"scopes",e.join(","))),this.l?On(t,"redirectUrl",this.l):Kn(t.a,"redirectUrl"),this.g?On(t,"eventId",this.g):Kn(t.a,"eventId"),this.i?On(t,"v",this.i):Kn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!Rn(t,s)&&On(t,s,this.b[s]);return this.h?On(t,"tid",this.h):Kn(t.a,"tid"),this.f?On(t,"eid",this.f):Kn(t.a,"eid"),(s=ru(this.c)).length&&On(t,"fw",s.join(",")),t.toString()},(t=iu.prototype).Lb=function(t,e,n){var r=new E("popup-closed-by-user"),i=new E("web-storage-unsupported"),o=this,s=!1;return this.ka().then((function(){(function(t){var e={type:"webStorageSupport"};return su(t).then((function(){return function(t,e){return t.nb.then((function(){return new ye((function(n){t.a.send(e.type,e,n,Er("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))}))}))}(t.i,e)})).then((function(t){if(t&&t.length&&void 0!==t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()}))})(o).then((function(n){n||(t&&sr(t),e(i),s=!0)}))})).o((function(){})).then((function(){if(!s)return function(t){return new ye((function(e){return function n(){wn(2e3).then((function(){if(t&&!t.closed)return n();e()}))}()}))}(t)})).then((function(){if(!s)return wn(n).then((function(){e(r)}))}))},t.Ub=function(){var t=_r();return!kr(t)&&!Rr(t)},t.Qb=function(){return!1},t.Jb=function(t,e,n,r,i,o,s,a){if(!t)return Te(new E("popup-blocked"));if(s&&!kr())return this.ka().o((function(e){sr(t),i(e)})),r(),Ie();this.a||(this.a=ou(au(this)));var u=this;return this.a.then((function(){var e=u.ka().o((function(e){throw sr(t),i(e),e}));return r(),e})).then((function(){(Ro(n),s)||ir(uu(u.u,u.f,u.b,e,n,null,o,u.c,void 0,u.h,a),t)})).o((function(t){throw"auth/network-request-failed"==t.code&&(u.a=null),t}))},t.Kb=function(t,e,n,r){this.a||(this.a=ou(au(this)));var i=this;return this.a.then((function(){Ro(e),ir(uu(i.u,i.f,i.b,t,e,rr(),n,i.c,void 0,i.h,r))})).o((function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t}))},t.ka=function(){var t=this;return su(this).then((function(){return t.i.nb})).o((function(){throw t.a=null,new E("network-request-failed")}))},t.Xb=function(){return!0},t.Ca=function(t){this.g.push(t)},t.Qa=function(t){K(this.g,(function(e){return e==t}))},(t=cu.prototype).get=function(t){return Ie(this.a.getItem(t)).then((function(t){return t&&Nr(t)}))},t.set=function(t,e){return Ie(this.a.setItem(t,xr(e)))},t.T=function(t){return Ie(this.a.removeItem(t))},t.ba=function(){},t.ha=function(){};var hu,fu=[];function pu(t,e,n){lt(t.a)&&t.b.addEventListener("message",t.f),void 0===t.a[e]&&(t.a[e]=[]),t.a[e].push(n)}function du(t){this.a=t}function vu(t){this.c=t,this.b=!1,this.a=[]}function gu(t,e,n,r){var i,o,s,a,u=n||{},c=null;if(t.b)return Te(Error("connection_unavailable"));var l=r?800:50,h="undefined"!=typeof MessageChannel?new MessageChannel:null;return new ye((function(n,r){h?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),s=setTimeout((function(){r(Error("unsupported_event"))}),l),c={messageChannel:h,onMessage:o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(s),a=setTimeout((function(){r(Error("timeout"))}),3e3)):"done"===t.data.status?(clearTimeout(a),void 0!==t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(s),clearTimeout(a),r(Error("invalid_response"))))}},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[h.port2])):r(Error("connection_unavailable"))})).then((function(e){return yu(t,c),e})).o((function(e){throw yu(t,c),e}))}function yu(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),K(t.a,(function(t){return t==e}))}}function mu(){if(!_u())throw new E("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.u=s.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.s=!1,this.h=null;var t=this;pr()&&self?(this.l=function(){var t=pr()?self:null;if(U(fu,(function(n){n.b==t&&(e=n)})),!e){var e=new lu(t);fu.push(e)}return e}(),pu(this.l,"keyChanged",(function(e,n){return Su(t).then((function(e){return 0<e.length&&U(t.a,(function(t){t(e)})),{keyProcessed:q(e,n.key)}}))})),pu(this.l,"ping",(function(){return Ie(["keyChanged"])}))):function(){var t=s.navigator;return t&&t.serviceWorker?Ie().then((function(){return t.serviceWorker.ready})).then((function(t){return t.active||null})).o((function(){return null})):Ie(null)}().then((function(e){(t.h=e)&&(t.g=new vu(new du(e)),gu(t.g,"ping",null,!0).then((function(e){e[0].fulfilled&&q(e[0].value,"keyChanged")&&(t.s=!0)})).o((function(){})))}))}function bu(t){return new ye((function(e,n){var r=t.u.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){(r=r.target.result).objectStoreNames.contains("firebaseLocalStorage")?e(r):function(t){return new ye((function(e,n){var r=t.u.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}}))}(t).then((function(){return bu(t)})).then((function(t){e(t)})).o((function(t){n(t)}))}}))}function wu(t){return t.m||(t.m=bu(t)),t.m}function _u(){try{return!!s.indexedDB}catch(t){return!1}}function Eu(t){return t.objectStore("firebaseLocalStorage")}function Cu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Iu(t){return new ye((function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}}))}function Tu(t,e){return t.g&&t.h&&function(){var t=s.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}()===t.h?gu(t.g,"keyChanged",{key:e},t.s).then((function(){})).o((function(){})):Ie()}function Su(t){return wu(t).then((function(t){var e=Eu(Cu(t,!1));return e.getAll?Iu(e.getAll()):new ye((function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(t.target.error)}}))})).then((function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=function t(e,n){var r,i=[];for(r in e)r in n?typeof e[r]!=typeof n[r]?i.push(r):"object"==typeof e[r]&&null!=e[r]&&null!=n[r]?0<t(e[r],n[r]).length&&i.push(r):e[r]!==n[r]&&i.push(r):i.push(r);for(r in n)r in e||i.push(r);return i}(t.c,n),t.c=n}return r}))}function ku(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function xu(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Ie().then((function(){if(_u()){var t=Or(),r="__sak"+t;return hu||(hu=new mu),(n=hu).set(r,t).then((function(){return n.get(r)})).then((function(e){if(e!==t)throw Error("indexedDB not supported!");return n.T(r)})).then((function(){return n})).o((function(){return e.c}))}return e.c})).then((function(t){return e.type=t.type,t.ba((function(t){U(e.a,(function(e){e(t)}))})),t}))}function Au(){this.a={},this.type="inMemory"}function Nu(){if(!function(){var t="Node"==dr();if(!(t=Ou()||t&&Al.INTERNAL.node&&Al.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==dr())throw new E("internal-error","The LocalStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Ou()||Al.INTERNAL.node.localStorage,this.type="localStorage"}function Ou(){try{var t=s.localStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ru(){this.type="nullStorage"}function Du(){if(!function(){var t="Node"==dr();if(!(t=Pu()||t&&Al.INTERNAL.node&&Al.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}()){if("Node"==dr())throw new E("internal-error","The SessionStorage compatibility library was not found.");throw new E("web-storage-unsupported")}this.a=Pu()||Al.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Pu(){try{var t=s.sessionStorage,e=Or();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Mu(){var t={};t.Browser=ju,t.Node=Vu,t.ReactNative=Uu,t.Worker=Bu,this.a=t[dr()]}lu.prototype.c=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];U(r,(function(e){i.push(Ie().then((function(){return e(t.origin,t.data.data)})))})),ke(i).then((function(r){var i=[];U(r,(function(t){i.push({fulfilled:t.Mb,value:t.value,reason:t.reason?t.reason.message:void 0})})),U(i,(function(t){for(var e in t)void 0===t[e]&&delete t[e]})),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})}))}},du.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},vu.prototype.close=function(){for(;0<this.a.length;)yu(this,this.a[0]);this.b=!0},(t=mu.prototype).set=function(t,e){var n,r=!1,i=this;return wu(this).then((function(e){return Iu((e=Eu(Cu(n=e,!0))).get(t))})).then((function(o){var s=Eu(Cu(n,!0));return o?(o.value=e,Iu(s.put(o))):(i.b++,r=!0,(o={}).fbase_key=t,o.value=e,Iu(s.add(o)))})).then((function(){return i.c[t]=e,Tu(i,t)})).ma((function(){r&&i.b--}))},t.get=function(t){return wu(this).then((function(e){return Iu(Eu(Cu(e,!1)).get(t))})).then((function(t){return t&&t.value}))},t.T=function(t){var e=!1,n=this;return wu(this).then((function(r){return e=!0,n.b++,Iu(Eu(Cu(r,!0)).delete(t))})).then((function(){return delete n.c[t],Tu(n,t)})).ma((function(){e&&n.b--}))},t.ba=function(t){0==this.a.length&&function(t){ku(t),function e(){t.f=setTimeout((function(){t.i=Su(t).then((function(e){0<e.length&&U(t.a,(function(t){t(e)}))})).then((function(){e()})).o((function(t){"STOP_EVENT"!=t.message&&e()}))}),800)}()}(this),this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t})),0==this.a.length&&ku(this)},(t=xu.prototype).get=function(t){return this.b.then((function(e){return e.get(t)}))},t.set=function(t,e){return this.b.then((function(n){return n.set(t,e)}))},t.T=function(t){return this.b.then((function(e){return e.T(t)}))},t.ba=function(t){this.a.push(t)},t.ha=function(t){K(this.a,(function(e){return e==t}))},(t=Au.prototype).get=function(t){return Ie(this.a[t])},t.set=function(t,e){return this.a[t]=e,Ie()},t.T=function(t){return delete this.a[t],Ie()},t.ba=function(){},t.ha=function(){},(t=Nu.prototype).get=function(t){var e=this;return Ie().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=xr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(t){s.window&&nn(s.window,"storage",t)},t.ha=function(t){s.window&&sn(s.window,"storage",t)},(t=Ru.prototype).get=function(){return Ie(null)},t.set=function(){return Ie()},t.T=function(){return Ie()},t.ba=function(){},t.ha=function(){},(t=Du.prototype).get=function(t){var e=this;return Ie().then((function(){return Nr(e.a.getItem(t))}))},t.set=function(t,e){var n=this;return Ie().then((function(){var r=xr(e);null===r?n.T(t):n.a.setItem(t,r)}))},t.T=function(t){var e=this;return Ie().then((function(){e.a.removeItem(t)}))},t.ba=function(){},t.ha=function(){};var Lu,Fu,ju={F:Nu,$a:Du},Vu={F:Nu,$a:Du},Uu={F:cu,$a:Ru},Bu={F:Nu,$a:Ru},Hu={od:"local",NONE:"none",qd:"session"};function zu(){var t=!(Rr(_r())||!fr()),e=kr(),n=Cr();this.m=t,this.h=e,this.l=n,this.a={},Lu||(Lu=new Mu),t=Lu;try{this.g=!nr()&&Fr()||!s.indexedDB?new t.a.F:new xu(pr()?new Au:new t.a.F)}catch(t){this.g=new Au,this.h=!0}try{this.i=new t.a.$a}catch(t){this.i=new Au}this.u=new Au,this.f=m(this.Vb,this),this.b={}}function qu(){return Fu||(Fu=new zu),Fu}function Wu(t,e){switch(e){case"session":return t.i;case"none":return t.u;default:return t.g}}function Ku(t,e){return"firebase:"+t.name+(e?":"+e:"")}function Gu(t,e,n){return n=Ku(e,n),"local"==e.F&&(t.b[n]=null),Wu(t,e.F).T(n)}function Xu(t){t.c&&(clearInterval(t.c),t.c=null)}function Yu(t){this.a=t,this.b=qu()}(t=zu.prototype).get=function(t,e){return Wu(this,t.F).get(Ku(t,e))},t.set=function(t,e,n){var r=Ku(t,n),i=this,o=Wu(this,t.F);return o.set(r,e).then((function(){return o.get(r)})).then((function(e){"local"==t.F&&(i.b[r]=e)}))},t.addListener=function(t,e,n){t=Ku(t,e),this.l&&(this.b[t]=s.localStorage.getItem(t)),lt(this.a)&&(Wu(this,"local").ba(this.f),this.h||(nr()||!Fr())&&s.indexedDB||!this.l||function(t){Xu(t),t.c=setInterval((function(){for(var e in t.a){var n=s.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new We({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Vb(n))}}),1e3)}(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},t.removeListener=function(t,e,n){t=Ku(t,e),this.a[t]&&(K(this.a[t],(function(t){return t==n})),0==this.a[t].length&&delete this.a[t]),lt(this.a)&&(Wu(this,"local").ha(this.f),Xu(this))},t.Vb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];void 0===r&&(r=null);var i=s.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.ib(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if(void 0!==t.a.a?Wu(this,"local").ha(this.f):Xu(this),this.m)if(n=s.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?s.localStorage.setItem(e,r):s.localStorage.removeItem(e);else if(this.b[e]===r&&void 0===t.a.a)return;var o=this;n=function(){void 0===t.a.a&&o.b[e]===s.localStorage.getItem(e)||(o.b[e]=s.localStorage.getItem(e),o.ib(e))},qt&&$t&&10==$t&&s.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else U(t,m(this.ib,this))},t.ib=function(t){this.a[t]&&U(this.a[t],(function(t){t()}))};var Qu,Zu={name:"authEvent",F:"local"};function Ju(){this.a=qu()}function $u(t,e){this.b=tc,this.f=s.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=s.Int32Array?new Int32Array(64):Array(64),void 0===Qu&&(Qu=s.Int32Array?new Int32Array(ac):ac),this.reset()}_($u,(function(){this.b=-1}));for(var tc=64,ec=tc-1,nc=[],rc=0;rc<ec;rc++)nc[rc]=0;var ic=G(128,nc);function oc(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,s=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+s|0}r=0|t.a[0],i=0|t.a[1];var a=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&a^i&a)|0;s=(o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0)+((s=(s=c&l^~c&h)+(0|Qu[e])|0)+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+s|0,u=a,a=i,i=r,r=s+f|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+a|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function sc(t,e,n){void 0===n&&(n=e.length);var r=0,i=t.c;if("string"==typeof e)for(;r<n;)t.f[i++]=e.charCodeAt(r++),i==t.b&&(oc(t),i=0);else{if(!h(e))throw Error("message must be string or array");for(;r<n;){var o=e[r++];if(!("number"==typeof o&&0<=o&&255>=o&&o==(0|o)))throw Error("message must be a byte array");t.f[i++]=o,i==t.b&&(oc(t),i=0)}}t.c=i,t.g+=n}$u.prototype.reset=function(){this.g=this.c=0,this.a=s.Int32Array?new Int32Array(this.h):X(this.h)};var ac=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function uc(){$u.call(this,8,cc)}_(uc,$u);var cc=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function lc(t,e,n,r,i){this.u=t,this.i=e,this.l=n,this.m=r||null,this.s=i||null,this.h=e+":"+n,this.w=new Ju,this.g=new Yu(this.h),this.f=null,this.b=[],this.a=this.c=null}function hc(t){return new E("invalid-cordova-configuration",t)}function fc(t){var e=new uc;sc(e,t),t=[];var n=8*e.g;56>e.c?sc(e,ic,56-e.c):sc(e,ic,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(oc(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return function(t){return H(t,(function(t){return 1<(t=t.toString(16)).length?t:"0"+t})).join("")}(t)}function pc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function dc(t){return t.f||(t.f=t.ka().then((function(){return new ye((function(e){t.Ca((function n(r){return e(r),t.Qa(n),!1})),function(t){function e(e){r=!0,i&&i.cancel(),vc(t).then((function(r){var i=n;if(r&&e&&e.url){var o=null;-1!=(i=Zi(e.url)).indexOf("/__/auth/callback")&&(o=(o="object"==typeof(o=Nr(Rn(o=Dn(i),"firebaseError")||null))?C(o):null)?new Do(r.c,r.b,null,null,o,null,r.S()):new Do(r.c,r.b,i,r.f,null,null,r.S())),i=o||n}pc(t,i)}))}var n=new Do("unknown",null,null,null,new E("no-auth-event")),r=!1,i=wn(500).then((function(){return vc(t).then((function(){r||pc(t,n)}))})),o=s.handleOpenURL;s.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Er("BuildInfo.packageName",s).toLowerCase()+"://")&&e({url:t}),"function"==typeof o)try{o(t)}catch(t){console.error(t)}},Fo||(Fo=new Mo),function(t){var e=Fo;e.a.push(t),e.b||(e.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"==typeof(t=Er("universalLinks.subscribe",s))&&t(null,e.b))}(e)}(t)}))}))),t.f}function vc(t){var e=null;return function(t){return t.b.get(Zu,t.a).then((function(t){return Po(t)}))}(t.g).then((function(n){return e=n,Gu((n=t.g).b,Zu,n.a)})).then((function(){return e}))}function gc(t){this.a=t,this.b=qu()}(t=lc.prototype).ka=function(){return this.Ga?this.Ga:this.Ga=(hr(void 0)?lr().then((function(){return new ye((function(t,e){var n=s.document,r=setTimeout((function(){e(Error("Cordova framework is not ready."))}),1e3);n.addEventListener("deviceready",(function(){clearTimeout(r),t()}),!1)}))})):Te(Error("Cordova must run in an Android or iOS file scheme."))).then((function(){if("function"!=typeof Er("universalLinks.subscribe",s))throw hc("cordova-universal-links-plugin-fix is not installed");if(void 0===Er("BuildInfo.packageName",s))throw hc("cordova-plugin-buildinfo is not installed");if("function"!=typeof Er("cordova.plugins.browsertab.openUrl",s))throw hc("cordova-plugin-browsertab is not installed");if("function"!=typeof Er("cordova.InAppBrowser.open",s))throw hc("cordova-plugin-inappbrowser is not installed")}),(function(){throw new E("cordova-not-ready")}))},t.Lb=function(t,e){return e(new E("operation-not-supported-in-this-environment")),Ie()},t.Jb=function(){return Te(new E("operation-not-supported-in-this-environment"))},t.Xb=function(){return!1},t.Ub=function(){return!0},t.Qb=function(){return!0},t.Kb=function(t,e,n,r){if(this.c)return Te(new E("redirect-operation-pending"));var i=this,o=s.document,a=null,u=null,c=null,l=null;return this.c=Ie().then((function(){return Ro(e),dc(i)})).then((function(){return function(t,e,n,r,i){var o=function(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}(),a=new Do(e,r,null,o,new E("no-auth-event"),null,i),u=Er("BuildInfo.packageName",s);if("string"!=typeof u)throw new E("invalid-cordova-configuration");var c=Er("BuildInfo.displayName",s),l={};if(_r().toLowerCase().match(/iphone|ipad|ipod/))l.ibi=u;else{if(!_r().toLowerCase().match(/android/))return Te(new E("operation-not-supported-in-this-environment"));l.apn=u}c&&(l.appDisplayName=c),o=fc(o),l.sessionId=o;var h=uu(t.u,t.i,t.l,e,n,null,r,t.m,l,t.s,i);return t.ka().then((function(){var e=t.h;return t.w.a.set(Zu,a.v(),e)})).then((function(){var e=Er("cordova.plugins.browsertab.isAvailable",s);if("function"!=typeof e)throw new E("invalid-cordova-configuration");var n=null;e((function(e){if(e){if("function"!=typeof(n=Er("cordova.plugins.browsertab.openUrl",s)))throw new E("invalid-cordova-configuration");n(h)}else{if("function"!=typeof(n=Er("cordova.InAppBrowser.open",s)))throw new E("invalid-cordova-configuration");e=_r(),t.a=n(h,e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)||e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)?"_blank":"_system","location=yes")}}))}))}(i,t,e,n,r)})).then((function(){return new ye((function(t,e){u=function(){var e=Er("cordova.plugins.browsertab.close",s);return t(),"function"==typeof e&&e(),i.a&&"function"==typeof i.a.close&&(i.a.close(),i.a=null),!1},i.Ca(u),c=function(){a||(a=wn(2e3).then((function(){e(new E("redirect-cancelled-by-user"))})))},l=function(){Mr()&&c()},o.addEventListener("resume",c,!1),_r().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",l,!1)})).o((function(t){return vc(i).then((function(){throw t}))}))})).ma((function(){c&&o.removeEventListener("resume",c,!1),l&&o.removeEventListener("visibilitychange",l,!1),a&&a.cancel(),u&&i.Qa(u),i.c=null}))},t.Ca=function(t){this.b.push(t),dc(this).o((function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Do("unknown",null,null,null,new E("no-auth-event")),t(e))}))},t.Qa=function(t){K(this.b,(function(e){return e==t}))};var yc={name:"pendingRedirect",F:"session"};function mc(t){return Gu(t.b,yc,t.a)}function bc(t,e,n){this.i={},this.w=0,this.D=t,this.u=e,this.m=n,this.h=[],this.f=!1,this.l=m(this.s,this),this.b=new Dc,this.B=new jc,this.g=new gc(this.u+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.B,this.c.linkViaPopup=this.B,this.c.reauthViaPopup=this.B,this.a=wc(this.D,this.u,this.m,I)}function wc(t,e,n,r){var i=Al.SDK_VERSION||null;return hr()?new lc(t,e,n,i,r):new iu(t,e,n,i,r)}function _c(t){t.f||(t.f=!0,t.a.Ca(t.l));var e=t.a;return t.a.ka().o((function(n){throw t.a==e&&t.reset(),n}))}function Ec(t){t.a.Ub()&&_c(t).o((function(e){var n=new Do("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));xc(e)&&t.s(n)})),t.a.Qb()||Pc(t.b)}function Cc(t,e){q(t.h,e)||t.h.push(e),t.f||function(t){return t.b.get(yc,t.a).then((function(t){return"pending"==t}))}(t.g).then((function(e){e?mc(t.g).then((function(){_c(t).o((function(e){var n=new Do("unknown",null,null,null,new E("operation-not-supported-in-this-environment"));xc(e)&&t.s(n)}))})):Ec(t)})).o((function(){Ec(t)}))}function Ic(t,e){K(t.h,(function(t){return t==e}))}bc.prototype.reset=function(){this.f=!1,this.a.Qa(this.l),this.a=wc(this.D,this.u,this.m),this.i={}},bc.prototype.s=function(t){if(!t)throw new E("invalid-auth-event");if(6e5<=w()-this.w&&(this.i={},this.w=0),t&&t.getUid()&&this.i.hasOwnProperty(t.getUid()))return!1;for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.Cb(t.c,t.b)){(e=this.c[t.c])&&(e.h(t,r),t&&(t.f||t.b)&&(this.i[t.getUid()]=!0,this.w=w())),e=!0;break}}return Pc(this.b),e};var Tc=new Pr(2e3,1e4),Sc=new Pr(3e4,6e4);function kc(t,e,n,r,i,o,s){return t.a.Jb(e,n,r,(function(){t.f||(t.f=!0,t.a.Ca(t.l))}),(function(){t.reset()}),i,o,s)}function xc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function Ac(t,e,n,r,i){var o;return function(t){return t.b.set(yc,"pending",t.a)}(t.g).then((function(){return t.a.Kb(e,n,r,i).o((function(e){if(xc(e))throw new E("operation-not-supported-in-this-environment");return o=e,mc(t.g).then((function(){throw o}))})).then((function(){return t.a.Xb()?new ye((function(){})):mc(t.g).then((function(){return t.pa()})).then((function(){})).o((function(){}))}))}))}function Nc(t,e,n,r,i){return t.a.Lb(r,(function(t){e.la(n,null,t,i)}),Tc.get())}bc.prototype.pa=function(){return this.b.pa()};var Oc={};function Rc(t,e,n){var r=e+":"+n;return Oc[r]||(Oc[r]=new bc(t,e,n)),Oc[r]}function Dc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Pc(t){t.g||(t.g=!0,Fc(t,!1,null,null))}function Mc(t){t.g&&!t.i&&Fc(t,!1,null,null)}function Lc(t,e){if(t.b=function(){return Ie(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Fc(t,e,n,r){e?r?function(t,e){if(t.b=function(){return Te(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}(t,r):Lc(t,n):Lc(t,{user:null}),t.f=[],t.c=[]}function jc(){}function Vc(){this.Bb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.Bb},set:function(t){this.Bb=t},enumerable:!1})}function Uc(t,e){this.a=e,Hr(this,"verificationId",t)}function Bc(t,e,n,r){return new Ao(t).cb(e,n).then((function(t){return new Uc(t,r)}))}function Hc(t){var e=Fi(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new E("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");zr(this,{token:t,expirationTime:Lr(1e3*e.exp),authTime:Lr(1e3*e.auth_time),issuedAtTime:Lr(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,signInSecondFactor:e.firebase&&e.firebase.sign_in_second_factor?e.firebase.sign_in_second_factor:null,claims:e})}function zc(t,e,n){var r=e&&e[Wc];if(!r)throw new E("argument-error","Internal assert: Invalid MultiFactorResolver");this.a=t,this.f=ht(e),this.g=n,this.c=new Ji(null,r),this.b=[];var i=this;U(e[qc]||[],(function(t){(t=Gr(t))&&i.b.push(t)})),Hr(this,"auth",this.a),Hr(this,"session",this.c),Hr(this,"hints",this.b)}Dc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Dc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.c,r=t.b,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Fc(this,!0,null,t.a),Ie()):e.Da(n,r)?function(t,e,n){n=n.Da(e.c,e.b);var r=e.g,i=e.f,o=e.i,s=e.S(),a=!!e.c.match(/Redirect$/);n(r,i,s,o).then((function(e){Fc(t,a,e,null)})).o((function(e){Fc(t,a,null,e)}))}(this,t,e):Te(new E("invalid-auth-event")):(Fc(this,!1,null,null),Ie())}else Te(new E("invalid-auth-event"))},Dc.prototype.pa=function(){var t=this;return new ye((function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),function(t){var e=new E("timeout");t.a&&t.a.cancel(),t.a=wn(Sc.get()).then((function(){t.b||(t.g=!0,Fc(t,!0,null,e))}))}(t))}))},jc.prototype.h=function(t,e){if(t){var n=t.c,r=t.b;t.a?(e.la(t.c,null,t.a,t.b),Ie()):e.Da(n,r)?function(t,e){var n=t.b,r=t.c;e.Da(r,n)(t.g,t.f,t.S(),t.i).then((function(t){e.la(r,t,null,n)})).o((function(t){e.la(r,null,t,n)}))}(t,e):Te(new E("invalid-auth-event"))}else Te(new E("invalid-auth-event"))},Uc.prototype.confirm=function(t){return t=No(this.verificationId,t),this.a(t)};var qc="mfaInfo",Wc="mfaPendingCredential";function Kc(t,e,n,r){E.call(this,"multi-factor-auth-required",r,e),this.b=new zc(t,e,n),Hr(this,"resolver",this.b)}function Gc(t,e,n){if(t&&p(t.serverResponse)&&"auth/multi-factor-auth-required"===t.code)try{return new Kc(e,t.serverResponse,n,t.message)}catch(t){}return null}function Xc(){}function Yc(t){Hr(this,"factorId",t.ea),this.a=t}function Qc(t){if(Yc.call(this,t),this.a.ea!=Ao.PROVIDER_ID)throw new E("argument-error","firebase.auth.PhoneMultiFactorAssertion requires a valid firebase.auth.PhoneAuthCredential")}function Zc(t,e){for(var n in qe.call(this,t),e)this[n]=e[n]}function Jc(t,e){this.a=t,this.b=[],this.c=m(this.wc,this),nn(this.a,"userReloaded",this.c);var n=[];e&&e.multiFactor&&e.multiFactor.enrolledFactors&&U(e.multiFactor.enrolledFactors,(function(t){var e=null,r={};if(t){t.uid&&(r[Qr]=t.uid),t.displayName&&(r[Xr]=t.displayName),t.enrollmentTime&&(r[Yr]=new Date(t.enrollmentTime).toISOString()),t.phoneNumber&&(r[Zr]=t.phoneNumber);try{e=new Jr(r)}catch(t){}t=e}else t=null;t&&n.push(t)})),$c(this,n)}function $c(t,e){t.b=e,Hr(t,"enrolledFactors",e)}function tl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function el(t){this.c=t,this.b=this.a=null}function nl(t){return t.b&&1e3*t.b.c||0}function rl(t,e){var n=e.refreshToken;t.b=Li(e[qs]||""),t.a=n}function il(t,e){return function(t,e){return new ye((function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Zs(t,t.u+"?key="+encodeURIComponent(t.c),(function(t){t?t.error?r(Ya(t)):t.access_token&&t.refresh_token?n(t):r(new E("internal-error")):r(new E("network-request-failed"))}),"POST",Wn(e).toString(),t.g,t.m.get()):r(new E("internal-error"))}))}(t.c,e).then((function(e){return t.b=Li(e.access_token),t.a=e.refresh_token,{accessToken:t.b.toString(),refreshToken:t.a}})).o((function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e}))}function ol(t,e){this.a=t||null,this.b=e||null,zr(this,{lastSignInTime:Lr(e||null),creationTime:Lr(t||null)})}function sl(t,e,n,r,i,o){zr(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function al(t,e,n){this.N=[],this.l=t.apiKey,this.m=t.appName,this.s=t.authDomain||null,t=Al.SDK_VERSION?wr(Al.SDK_VERSION):null,this.a=new Hs(this.l,x(I),t),this.b=new el(this.a),dl(this,e[qs]),rl(this.b,e),Hr(this,"refreshToken",this.b.a),yl(this,n||{}),vn.call(this),this.P=!1,this.s&&Ir()&&(this.i=Rc(this.s,this.l,this.m)),this.R=[],this.h=null,this.B=function(t){return new tl((function(){return t.I(!0)}),(function(t){return!(!t||"auth/network-request-failed"!=t.code)}),(function(){var e=nl(t.b)-w()-3e5;return 0<e?e:0}))}(this),this.Z=m(this.Ma,this);var r=this;this.oa=null,this.za=function(t){r.va(t.g)},this.aa=null,this.W=[],this.ya=function(t){cl(r,t.c)},this.$=null,this.O=new Jc(this,n),Hr(this,"multiFactor",this.O)}function ul(t,e){t.aa&&sn(t.aa,"languageCodeChanged",t.za),(t.aa=e)&&nn(e,"languageCodeChanged",t.za)}function cl(t,e){t.W=e,Qs(t.a,Al.SDK_VERSION?wr(Al.SDK_VERSION,t.W):null)}function ll(t,e){t.$&&sn(t.$,"frameworkChanged",t.ya),(t.$=e)&&nn(e,"frameworkChanged",t.ya)}function hl(t){try{return Al.app(t.m).auth()}catch(e){throw new E("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.m+"'!")}}function fl(t){t.D||t.B.b||(t.B.start(),sn(t,"tokenChanged",t.Z),nn(t,"tokenChanged",t.Z))}function pl(t){sn(t,"tokenChanged",t.Z),t.B.stop()}function dl(t,e){t.xa=e,Hr(t,"_lat",e)}function vl(t){for(var e=[],n=0;n<t.R.length;n++)e.push(t.R[n](t));return ke(e).then((function(){return t}))}function gl(t){t.i&&!t.P&&(t.P=!0,Cc(t.i,t))}function yl(t,e){zr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,tenantId:e.tenantId||null,metadata:new ol(e.createdAt,e.lastLoginAt),providerData:[]}),t.a.b=t.tenantId}function ml(){}function bl(t){return Ie().then((function(){if(t.D)throw new E("app-deleted")}))}function wl(t){return H(t.providerData,(function(t){return t.providerId}))}function _l(t,e){e&&(El(t,e.providerId),t.providerData.push(e))}function El(t,e){K(t.providerData,(function(t){return t.providerId==e}))}function Cl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Hr(t,e,n)}function Il(t,e){t!=e&&(zr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,tenantId:e.tenantId,providerData:[]}),e.metadata?Hr(t,"metadata",function(t){return new ol(t.a,t.b)}(e.metadata)):Hr(t,"metadata",new ol),U(e.providerData,(function(e){_l(t,e)})),function(t,e){t.b=e.b,t.a=e.a}(t.b,e.b),Hr(t,"refreshToken",t.b.a),$c(t.O,e.O.b))}function Tl(t){return t.I().then((function(e){var n=t.isAnonymous;return function(t,e){return Ga(t.a,Ia,{idToken:e}).then(m(t.Ic,t))}(t,e).then((function(){return n||Cl(t,"isAnonymous",!1),e}))}))}function Sl(t,e){e[qs]&&t.xa!=e[qs]&&(rl(t.b,e),t.dispatchEvent(new Zc("tokenChanged")),dl(t,e[qs]),Cl(t,"refreshToken",t.b.a))}function kl(t,e){return Tl(t).then((function(){if(q(wl(t),e))return vl(t).then((function(){throw new E("provider-already-linked")}))}))}function xl(t,e,n){return qr({user:t,credential:Oo(e),additionalUserInfo:e=Hi(e),operationType:n})}function Nl(t,e){return Sl(t,e),t.reload().then((function(){return t}))}function Ol(t,e,n,r,i){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=Bi(n.providerId),s=Or(t.uid+":::"),a=null;(!kr()||fr())&&t.s&&n.isOAuthProvider&&(a=uu(t.s,t.l,t.m,e,n,null,s,Al.SDK_VERSION||null,null,null,t.tenantId));var u=ar(a,o&&o.ta,o&&o.sa);return r=r().then((function(){if(Dl(t),!i)return t.I().then((function(){}))})).then((function(){return kc(t.i,u,e,n,s,!!a,t.tenantId)})).then((function(){return new ye((function(n,r){t.la(e,null,new E("cancelled-popup-request"),t.g||null),t.f=n,t.w=r,t.g=s,t.c=Nc(t.i,t,e,u,s)}))})).then((function(t){return u&&sr(u),t?qr(t):null})).o((function(t){throw u&&sr(u),t})),Pl(t,r,i)}function Rl(t,e,n,r,i){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));if(t.h&&!i)return Te(t.h);var o=null,s=Or(t.uid+":::");return r=r().then((function(){if(Dl(t),!i)return t.I().then((function(){}))})).then((function(){return t.fa=s,vl(t)})).then((function(e){return t.ga&&(e=(e=t.ga).b.set(Fl,t.v(),e.a)),e})).then((function(){return Ac(t.i,e,n,s,t.tenantId)})).o((function(e){if(o=e,t.ga)return jl(t.ga);throw o})).then((function(){if(o)throw o})),Pl(t,r,i)}function Dl(t){if(!t.i||!t.P){if(t.i&&!t.P)throw new E("internal-error");throw new E("auth-domain-config-required")}}function Pl(t,e,n){var r=function(t,e,n){return t.h&&!n?(e.cancel(),Te(t.h)):e.o((function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.h||t.dispatchEvent(new Zc("userInvalidated")),t.h=e),e}))}(t,e,n);return t.N.push(r),r.ma((function(){W(t.N,r)})),r.o((function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),hl(t),m(t.hc,t))),n||e}))}function Ml(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!t.stsTokenManager||!t.stsTokenManager.accessToken)return null;n[qs]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null;var r=new al(e,n,t);return t.providerData&&U(t.providerData,(function(t){t&&_l(r,qr(t))})),t.redirectEventId&&(r.fa=t.redirectEventId),r}function Ll(t){this.a=t,this.b=qu()}zc.prototype.Pc=function(t){var e=this;return t.ob(this.a.b,this.c).then((function(t){var n=ht(e.f);return delete n[qc],delete n[Wc],pt(n,t),e.g(n)}))},_(Kc,E),Xc.prototype.ob=function(t,e,n){return e.type==$i?function(t,e,n,r){return n.Fa().then((function(n){return n={idToken:n},void 0!==r&&(n.displayName=r),pt(n,{phoneVerificationInfo:xo(t.a)}),Ga(e,Ea,n)}))}(this,t,e,n):function(t,e,n){return n.Fa().then((function(n){return pt(n={mfaPendingCredential:n},{phoneVerificationInfo:xo(t.a)}),Ga(e,Ca,n)}))}(this,t,e)},_(Yc,Xc),_(Qc,Yc),_(Zc,qe),(t=Jc.prototype).wc=function(t){$c(this,function(t){var e=[];return U(t.mfaInfo||[],(function(t){(t=Gr(t))&&e.push(t)})),e}(t.ed))},t.Ob=function(){return this.a.I().then((function(t){return new Ji(t,null)}))},t.dc=function(t,e){var n=this,r=this.a.a;return this.Ob().then((function(n){return t.ob(r,n,e)})).then((function(t){return Sl(n.a,t),n.a.reload()}))},t.$c=function(t){var e=this,n="string"==typeof t?t:t.uid,r=this.a.a;return this.a.I().then((function(t){return Ga(r,Ka,{idToken:t,mfaEnrollmentId:n})})).then((function(t){var r=B(e.b,(function(t){return t.uid!=n}));return $c(e,r),Sl(e.a,t),e.a.reload().o((function(t){if("auth/user-token-expired"!=t.code)throw t}))}))},t.v=function(){return{multiFactor:{enrolledFactors:H(this.b,(function(t){return t.v()}))}}},tl.prototype.start=function(){this.a=this.c,function t(e,n){e.stop(),e.b=wn(function(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}(e,n)).then((function(){return function(){var t=s.document,e=null;return Mr()||!t?Ie():new ye((function(n){e=function(){Mr()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)})).o((function(n){throw t.removeEventListener("visibilitychange",e,!1),n}))}()})).then((function(){return e.h()})).then((function(){t(e,!0)})).o((function(n){e.i(n)&&t(e,!1)}))}(this,!0)},tl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},el.prototype.v=function(){return{apiKey:this.c.c,refreshToken:this.a,accessToken:this.b&&this.b.toString(),expirationTime:nl(this)}},el.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Te(new E("user-token-expired")):t||!this.b||w()>nl(this)-3e4?this.a?il(this,{grant_type:"refresh_token",refresh_token:this.a}):Ie(null):Ie({accessToken:this.b.toString(),refreshToken:this.a})},ol.prototype.v=function(){return{lastLoginAt:this.b,createdAt:this.a}},_(al,vn),al.prototype.va=function(t){this.oa=t,Ys(this.a,t)},al.prototype.ja=function(){return this.oa},al.prototype.Ea=function(){return X(this.W)},al.prototype.Ma=function(){this.B.b&&(this.B.stop(),this.B.start())},Hr(al.prototype,"providerId","firebase"),(t=al.prototype).reload=function(){var t=this;return Pl(this,bl(this).then((function(){return Tl(t).then((function(){return vl(t)})).then(ml)})))},t.mc=function(t){return this.I(t).then((function(t){return new Hc(t)}))},t.I=function(t){var e=this;return Pl(this,bl(this).then((function(){return e.b.getToken(t)})).then((function(t){if(!t)throw new E("internal-error");return t.accessToken!=e.xa&&(dl(e,t.accessToken),e.dispatchEvent(new Zc("tokenChanged"))),Cl(e,"refreshToken",t.refreshToken),t.accessToken})))},t.Ic=function(t){if(!(t=t.users)||!t.length)throw new E("internal-error");yl(this,{uid:(t=t[0]).localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt,tenantId:t.tenantId});for(var e=function(t){return(t=t.providerUserInfo)&&t.length?H(t,(function(t){return new sl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)})):[]}(t),n=0;n<e.length;n++)_l(this,e[n]);Cl(this,"isAnonymous",!(this.email&&t.passwordHash||this.providerData&&this.providerData.length)),this.dispatchEvent(new Zc("userReloaded",{ed:t}))},t.Jc=function(t){return Ur("firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateWithCredential instead."),this.pb(t)},t.pb=function(t){var e=this,n=null;return Pl(this,t.c(this.a,this.uid).then((function(t){return Sl(e,t),n=xl(e,t,"reauthenticate"),e.h=null,e.reload()})).then((function(){return n})),!0)},t.Ac=function(t){return Ur("firebase.User.prototype.linkAndRetrieveDataWithCredential is deprecated. Please use firebase.User.prototype.linkWithCredential instead."),this.mb(t)},t.mb=function(t){var e=this,n=null;return Pl(this,kl(this,t.providerId).then((function(){return e.I()})).then((function(n){return t.b(e.a,n)})).then((function(t){return n=xl(e,t,"link"),Nl(e,t)})).then((function(){return n})))},t.Bc=function(t,e){var n=this;return Pl(this,kl(this,"phone").then((function(){return Bc(hl(n),t,e,m(n.mb,n))})))},t.Kc=function(t,e){var n=this;return Pl(this,Ie().then((function(){return Bc(hl(n),t,e,m(n.pb,n))})),!0)},t.xb=function(t){var e=this;return Pl(this,this.I().then((function(n){return e.a.xb(n,t)})).then((function(t){return Sl(e,t),e.reload()})))},t.cd=function(t){var e=this;return Pl(this,this.I().then((function(n){return t.b(e.a,n)})).then((function(t){return Sl(e,t),e.reload()})))},t.yb=function(t){var e=this;return Pl(this,this.I().then((function(n){return e.a.yb(n,t)})).then((function(t){return Sl(e,t),e.reload()})))},t.zb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return bl(this);var e=this;return Pl(this,this.I().then((function(n){return e.a.zb(n,{displayName:t.displayName,photoUrl:t.photoURL})})).then((function(t){return Sl(e,t),Cl(e,"displayName",t.displayName||null),Cl(e,"photoURL",t.photoUrl||null),U(e.providerData,(function(t){"password"===t.providerId&&(Hr(t,"displayName",e.displayName),Hr(t,"photoURL",e.photoURL))})),vl(e)})).then(ml))},t.ad=function(t){var e=this;return Pl(this,Tl(this).then((function(n){return q(wl(e),t)?function(t,e,n){return Ga(t,ba,{idToken:e,deleteProvider:n})}(e.a,n,[t]).then((function(t){var n={};return U(t.providerUserInfo||[],(function(t){n[t.providerId]=!0})),U(wl(e),(function(t){n[t]||El(e,t)})),n[Ao.PROVIDER_ID]||Hr(e,"phoneNumber",null),vl(e)})):vl(e).then((function(){throw new E("no-such-provider")}))})))},t.delete=function(){var t=this;return Pl(this,this.I().then((function(e){return Ga(t.a,ma,{idToken:e})})).then((function(){t.dispatchEvent(new Zc("userDeleted"))}))).then((function(){for(var e=0;e<t.N.length;e++)t.N[e].cancel("app-deleted");ul(t,null),ll(t,null),t.N=[],t.D=!0,pl(t),Hr(t,"refreshToken",null),t.i&&Ic(t.i,t)}))},t.Cb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.fa||null)==e||"reauthViaRedirect"==t&&(this.fa||null)==e)},t.la=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?m(this.Hb,this):"reauthViaPopup"==t&&e==(this.g||null)?m(this.Ib,this):"linkViaRedirect"==t&&(this.fa||null)==e?m(this.Hb,this):"reauthViaRedirect"==t&&(this.fa||null)==e?m(this.Ib,this):null},t.Cc=function(t){var e=this;return Ol(this,"linkViaPopup",t,(function(){return kl(e,t.providerId).then((function(){return vl(e)}))}),!1)},t.Lc=function(t){return Ol(this,"reauthViaPopup",t,(function(){return Ie()}),!0)},t.Dc=function(t){var e=this;return Rl(this,"linkViaRedirect",t,(function(){return kl(e,t.providerId)}),!1)},t.Mc=function(t){return Rl(this,"reauthViaRedirect",t,(function(){return Ie()}),!0)},t.Hb=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,this.I().then((function(n){return ha(i.a,{requestUri:t,postBody:r,sessionId:e,idToken:n})})).then((function(t){return o=xl(i,t,"link"),Nl(i,t)})).then((function(){return o})))},t.Ib=function(t,e,n,r){var i=this;this.c&&(this.c.cancel(),this.c=null);var o=null;return Pl(this,Ie().then((function(){return no(fa(i.a,{requestUri:t,sessionId:e,postBody:r,tenantId:n}),i.uid)})).then((function(t){return o=xl(i,t,"reauthenticate"),Sl(i,t),i.h=null,i.reload()})).then((function(){return o})),!0)},t.qb=function(t){var e=this,n=null;return Pl(this,this.I().then((function(e){return n=e,void 0===t||lt(t)?{}:Ri(new Ei(t))})).then((function(t){return e.a.qb(n,t)})).then((function(t){if(e.email!=t)return e.reload()})).then((function(){})))},t.Ab=function(t,e){var n=this,r=null;return Pl(this,this.I().then((function(t){return r=t,void 0===e||lt(e)?{}:Ri(new Ei(e))})).then((function(e){return n.a.Ab(r,t,e)})).then((function(t){if(n.email!=t)return n.reload()})).then((function(){})))},t.hc=function(t){var e=null,n=this;return Pl(this,t=no(Ie(t),n.uid).then((function(t){return e=xl(n,t,"reauthenticate"),Sl(n,t),n.h=null,n.reload()})).then((function(){return e})),!0)},t.toJSON=function(){return this.v()},t.v=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,tenantId:this.tenantId,providerData:[],apiKey:this.l,appName:this.m,authDomain:this.s,stsTokenManager:this.b.v(),redirectEventId:this.fa||null};return this.metadata&&pt(t,this.metadata.v()),U(this.providerData,(function(e){t.providerData.push(function(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}(e))})),pt(t,this.O.v()),t};var Fl={name:"redirectUser",F:"session"};function jl(t){return Gu(t.b,Fl,t.a)}function Vl(t){this.a=t,this.b=qu(),this.c=null,this.f=function(t){var e=Hl("local"),n=Hl("session"),r=Hl("none");return function(t,e,n){var r=Ku(e,n),i=Wu(t,e.F);return t.get(e,n).then((function(o){var a=null;try{a=Nr(s.localStorage.getItem(r))}catch(t){}if(a&&!o)return s.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&s.localStorage.removeItem(r)}))}(t.b,e,t.a).then((function(){return t.b.get(n,t.a)})).then((function(i){return i?n:t.b.get(r,t.a).then((function(n){return n?r:t.b.get(e,t.a).then((function(n){return n?e:t.b.get(Bl,t.a).then((function(t){return t?Hl(t):e}))}))}))})).then((function(e){return t.c=e,Ul(t,e.F)})).o((function(){t.c||(t.c=e)}))}(this),this.b.addListener(Hl("local"),this.a,m(this.g,this))}function Ul(t,e){var n,r=[];for(n in Hu)Hu[n]!==e&&r.push(Gu(t.b,Hl(Hu[n]),t.a));return r.push(Gu(t.b,Bl,t.a)),function(t){return new ye((function(e,n){var r=t.length,i=[];if(r)for(var o=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},a=0;a<t.length;a++)Se(t[a],b(o,a),s);else e(i)}))}(r)}Vl.prototype.g=function(){var t=this,e=Hl("local");Kl(this,(function(){return Ie().then((function(){return t.c&&"local"!=t.c.F?t.b.get(e,t.a):null})).then((function(n){if(n)return Ul(t,"local").then((function(){t.c=e}))}))}))};var Bl={name:"persistence",F:"session"};function Hl(t){return{name:"authUser",F:t}}function zl(t,e){return Kl(t,(function(){return t.b.set(t.c,e.v(),t.a)}))}function ql(t){return Kl(t,(function(){return Gu(t.b,t.c,t.a)}))}function Wl(t,e){return Kl(t,(function(){return t.b.get(t.c,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ml(t||{})}))}))}function Kl(t,e){return t.f=t.f.then(e,e),t.f}function Gl(t){if(this.l=!1,Hr(this,"settings",new Vc),Hr(this,"app",t),!eh(this).options||!eh(this).options.apiKey)throw new E("invalid-api-key");t=Al.SDK_VERSION?wr(Al.SDK_VERSION):null,this.b=new Hs(eh(this).options&&eh(this).options.apiKey,x(I),t),this.P=[],this.m=[],this.O=[],this.$b=Al.INTERNAL.createSubscribe(m(this.xc,this)),this.W=void 0,this.ac=Al.INTERNAL.createSubscribe(m(this.yc,this)),$l(this,null),this.i=new Vl(eh(this).options.apiKey+":"+eh(this).name),this.B=new Ll(eh(this).options.apiKey+":"+eh(this).name),this.Z=oh(this,function(t){var e=eh(t).options.authDomain,n=function(t){var e=function(t,e){return t.b.get(Fl,t.a).then((function(t){return t&&e&&(t.authDomain=e),Ml(t||{})}))}(t.B,eh(t).options.authDomain).then((function(e){return(t.D=e)&&(e.ga=t.B),jl(t.B)}));return oh(t,e)}(t).then((function(){return Wl(t.i,e)})).then((function(e){return e?(e.ga=t.B,t.D&&(t.D.fa||null)==(e.fa||null)?e:e.reload().then((function(){return zl(t.i,e).then((function(){return e}))})).o((function(n){return"auth/network-request-failed"==n.code?e:ql(t.i)}))):null})).then((function(e){$l(t,e||null)}));return oh(t,n)}(this)),this.h=oh(this,function(t){return t.Z.then((function(){return Zl(t)})).o((function(){})).then((function(){if(!t.l)return t.oa()})).o((function(){})).then((function(){if(!t.l){t.aa=!0;var e=t.i;e.b.addListener(Hl("local"),e.a,t.oa)}}))}(this)),this.aa=!1,this.oa=m(this.Xc,this),this.Ma=m(this.ca,this),this.xa=m(this.jc,this),this.ya=m(this.uc,this),this.za=m(this.vc,this),this.a=null,function(t){var e=eh(t).options.authDomain,n=eh(t).options.apiKey;e&&Ir()&&(t.Zb=t.Z.then((function(){if(!t.l){if(t.a=Rc(e,n,eh(t).name),Cc(t.a,t),nh(t)&&gl(nh(t)),t.D){gl(t.D);var r=t.D;r.va(t.ja()),ul(r,t),cl(r=t.D,t.N),ll(r,t),t.D=null}return t.a}})))}(this),this.INTERNAL={},this.INTERNAL.delete=m(this.delete,this),this.INTERNAL.logFramework=m(this.Ec,this),this.s=0,vn.call(this),function(t){Object.defineProperty(t,"lc",{get:function(){return this.ja()},set:function(t){this.va(t)},enumerable:!1}),t.$=null,Object.defineProperty(t,"ti",{get:function(){return this.S()},set:function(t){this.ub(t)},enumerable:!1}),t.R=null}(this),this.N=[]}function Xl(t){qe.call(this,"languageCodeChanged"),this.g=t}function Yl(t){qe.call(this,"frameworkChanged"),this.c=t}function Ql(t){return t.Zb||Te(new E("auth-domain-config-required"))}function Zl(t){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));var e=Ql(t).then((function(){return t.a.pa()})).then((function(t){return t?qr(t):null}));return oh(t,e)}function Jl(t,e){var n={};return n.apiKey=eh(t).options.apiKey,n.authDomain=eh(t).options.authDomain,n.appName=eh(t).name,t.Z.then((function(){return function(t,e,n,r){var i=new al(t,e);return n&&(i.ga=n),r&&cl(i,r),i.reload().then((function(){return i}))}(n,e,t.B,t.Ea())})).then((function(e){return nh(t)&&e.uid==nh(t).uid?(Il(nh(t),e),t.ca(e)):($l(t,e),gl(e),t.ca(e))})).then((function(){ih(t)}))}function $l(t,e){nh(t)&&(function(t,e){K(t.R,(function(t){return t==e}))}(nh(t),t.Ma),sn(nh(t),"tokenChanged",t.xa),sn(nh(t),"userDeleted",t.ya),sn(nh(t),"userInvalidated",t.za),pl(nh(t))),e&&(e.R.push(t.Ma),nn(e,"tokenChanged",t.xa),nn(e,"userDeleted",t.ya),nn(e,"userInvalidated",t.za),0<t.s&&fl(e)),Hr(t,"currentUser",e),e&&(e.va(t.ja()),ul(e,t),cl(e,t.N),ll(e,t))}function th(t,e){var n=null,r=null;return oh(t,e.then((function(e){return n=Oo(e),r=Hi(e),Jl(t,e)}),(function(e){var n=null;throw e&&"auth/multi-factor-auth-required"===e.code&&(n=Gc(e.v(),t,m(t.ic,t))),n||e})).then((function(){return qr({user:nh(t),credential:n,additionalUserInfo:r,operationType:"signIn"})})))}function eh(t){return t.app}function nh(t){return t.currentUser}function rh(t){return nh(t)&&nh(t)._lat||null}function ih(t){if(t.aa){for(var e=0;e<t.m.length;e++)t.m[e]&&t.m[e](rh(t));if(t.W!==t.getUid()&&t.O.length)for(t.W=t.getUid(),e=0;e<t.O.length;e++)t.O[e]&&t.O[e](rh(t))}}function oh(t,e){return t.P.push(e),e.ma((function(){W(t.P,e)})),e}function sh(){}function ah(){this.a={},this.b=1e12}Vl.prototype.tb=function(t){var e=null,n=this;return function(t){var e=new E("invalid-persistence-type"),n=new E("unsupported-persistence-type");t:{for(r in Hu)if(Hu[r]==t){var r=!0;break t}r=!1}if(!r||"string"!=typeof t)throw e;switch(dr()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;case"Worker":if("session"===t||!_u()&&"none"!==t)throw n;break;default:if(!Cr()&&"none"!==t)throw n}}(t),Kl(this,(function(){return t!=n.c.F?n.b.get(n.c,n.a).then((function(r){return e=r,Ul(n,t)})).then((function(){if(n.c=Hl(t),e)return n.b.set(n.c,e,n.a)})):Ie()}))},_(Gl,vn),_(Xl,qe),_(Yl,qe),(t=Gl.prototype).tb=function(t){return oh(this,t=this.i.tb(t))},t.va=function(t){this.$===t||this.l||(this.$=t,Ys(this.b,this.$),this.dispatchEvent(new Xl(this.ja())))},t.ja=function(){return this.$},t.dd=function(){var t=s.navigator;this.va(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.Ec=function(t){this.N.push(t),Qs(this.b,Al.SDK_VERSION?wr(Al.SDK_VERSION,this.N):null),this.dispatchEvent(new Yl(this.N))},t.Ea=function(){return X(this.N)},t.ub=function(t){this.R===t||this.l||(this.R=t,this.b.b=this.R)},t.S=function(){return this.R},t.toJSON=function(){return{apiKey:eh(this).options.apiKey,authDomain:eh(this).options.authDomain,appName:eh(this).name,currentUser:nh(this)&&nh(this).v()}},t.Cb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.la=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.w?this.w(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.w)},t.Da=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?m(this.gc,this):null},t.gc=function(t,e,n,r){var i=this,o={requestUri:t,postBody:r,sessionId:e,tenantId:n};return this.c&&(this.c.cancel(),this.c=null),i.Z.then((function(){return th(i,la(i.b,o))}))},t.Vc=function(t){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));var e=this,n=Bi(t.providerId),r=Or(),i=null;(!kr()||fr())&&eh(this).options.authDomain&&t.isOAuthProvider&&(i=uu(eh(this).options.authDomain,eh(this).options.apiKey,eh(this).name,"signInViaPopup",t,null,r,Al.SDK_VERSION||null,null,null,this.S()));var o=ar(i,n&&n.ta,n&&n.sa);return oh(this,n=Ql(this).then((function(n){return kc(n,o,"signInViaPopup",t,r,!!i,e.S())})).then((function(){return new ye((function(t,n){e.la("signInViaPopup",null,new E("cancelled-popup-request"),e.g),e.f=t,e.w=n,e.g=r,e.c=Nc(e.a,e,"signInViaPopup",o,r)}))})).then((function(t){return o&&sr(o),t?qr(t):null})).o((function(t){throw o&&sr(o),t})))},t.Wc=function(t){if(!Ir())return Te(new E("operation-not-supported-in-this-environment"));var e=this;return oh(this,Ql(this).then((function(){return function(t){return Kl(t,(function(){return t.b.set(Bl,t.c.F,t.a)}))}(e.i)})).then((function(){return Ac(e.a,"signInViaRedirect",t,void 0,e.S())})))},t.pa=function(){var t=this;return Zl(this).then((function(e){return t.a&&Mc(t.a.b),e})).o((function(e){throw t.a&&Mc(t.a.b),e}))},t.bd=function(t){if(!t)return Te(new E("null-user"));if(this.R!=t.tenantId)return Te(new E("tenant-id-mismatch"));var e=this,n={};n.apiKey=eh(this).options.apiKey,n.authDomain=eh(this).options.authDomain,n.appName=eh(this).name;var r=function(t,e,n,r){var i=t.b,o={};return o[qs]=i.b&&i.b.toString(),o.refreshToken=i.a,e=new al(e||{apiKey:t.l,authDomain:t.s,appName:t.m},o),n&&(e.ga=n),r&&cl(e,r),Il(e,t),e}(t,n,e.B,e.Ea());return oh(this,this.h.then((function(){if(eh(e).options.apiKey!=t.l)return r.reload()})).then((function(){return nh(e)&&t.uid==nh(e).uid?(Il(nh(e),t),e.ca(t)):($l(e,r),gl(r),e.ca(r))})).then((function(){ih(e)})))},t.wb=function(){var t=this;return oh(this,this.h.then((function(){return t.a&&Mc(t.a.b),nh(t)?($l(t,null),ql(t.i).then((function(){ih(t)}))):Ie()})))},t.Xc=function(){var t=this;return Wl(this.i,eh(this).options.authDomain).then((function(e){if(!t.l){var n;if(n=nh(t)&&e){n=nh(t).uid;var r=e.uid;n=null!=n&&""!==n&&null!=r&&""!==r&&n==r}if(n)return Il(nh(t),e),nh(t).I();(nh(t)||e)&&($l(t,e),e&&(gl(e),e.ga=t.B),t.a&&Cc(t.a,t),ih(t))}}))},t.ca=function(t){return zl(this.i,t)},t.jc=function(){ih(this),this.ca(nh(this))},t.uc=function(){this.wb()},t.vc=function(){this.wb()},t.ic=function(t){var e=this;return this.h.then((function(){return th(e,Ie(t))}))},t.xc=function(t){var e=this;this.addAuthTokenListener((function(){t.next(nh(e))}))},t.yc=function(t){var e=this;!function(t,e){t.O.push(e),oh(t,t.h.then((function(){!t.l&&q(t.O,e)&&t.W!==t.getUid()&&(t.W=t.getUid(),e(rh(t)))})))}(this,(function(){t.next(nh(e))}))},t.Gc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.$b(t,e,n)},t.Fc=function(t,e,n){var r=this;return this.aa&&Promise.resolve().then((function(){r.W=r.getUid(),"function"==typeof t?t(nh(r)):"function"==typeof t.next&&t.next(nh(r))})),this.ac(t,e,n)},t.kc=function(t){var e=this;return oh(this,this.h.then((function(){return nh(e)?nh(e).I(t).then((function(t){return{accessToken:t}})):null})))},t.Rc=function(t){var e=this;return this.h.then((function(){return th(e,Ga(e.b,Ba,{token:t}))})).then((function(t){var n=t.user;return Cl(n,"isAnonymous",!1),e.ca(n),t}))},t.Sc=function(t,e){var n=this;return this.h.then((function(){return th(n,Ga(n.b,Ha,{email:t,password:e}))}))},t.cc=function(t,e){var n=this;return this.h.then((function(){return th(n,Ga(n.b,ga,{email:t,password:e}))}))},t.Ya=function(t){var e=this;return this.h.then((function(){return th(e,t.ia(e.b))}))},t.Qc=function(t){return Ur("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInWithCredential instead."),this.Ya(t)},t.vb=function(){var t=this;return this.h.then((function(){var e=nh(t);if(e&&e.isAnonymous){var n=qr({providerId:null,isNewUser:!1});return qr({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return th(t,t.b.vb()).then((function(e){var n=e.user;return Cl(n,"isAnonymous",!0),t.ca(n),e}))}))},t.getUid=function(){return nh(this)&&nh(this).uid||null},t.bc=function(t){this.addAuthTokenListener(t),this.s++,0<this.s&&nh(this)&&fl(nh(this))},t.Nc=function(t){var e=this;U(this.m,(function(n){n==t&&e.s--})),0>this.s&&(this.s=0),0==this.s&&nh(this)&&pl(nh(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.m.push(t),oh(this,this.h.then((function(){e.l||q(e.m,t)&&t(rh(e))})))},t.removeAuthTokenListener=function(t){K(this.m,(function(e){return e==t}))},t.delete=function(){this.l=!0;for(var t=0;t<this.P.length;t++)this.P[t].cancel("app-deleted");return this.P=[],this.i&&(t=this.i).b.removeListener(Hl("local"),t.a,this.oa),this.a&&(Ic(this.a,this),Mc(this.a.b)),Promise.resolve()},t.fc=function(t){return oh(this,function(t,e){return Ga(t,ya,{identifier:e,continueUri:Tr()?rr():"http://localhost"}).then((function(t){return t.signinMethods||[]}))}(this.b,t))},t.zc=function(t){return!!To(t)},t.sb=function(t,e){var n=this;return oh(this,Ie().then((function(){var t=new Ei(e);if(!t.c)throw new E("argument-error",Ti+" must be true when sending sign in link to email");return Ri(t)})).then((function(e){return n.b.sb(t,e)})).then((function(){})))},t.fd=function(t){return this.Pa(t).then((function(t){return t.data.email}))},t.jb=function(t,e){return oh(this,this.b.jb(t,e).then((function(){})))},t.Pa=function(t){return oh(this,this.b.Pa(t).then((function(t){return new $r(t)})))},t.fb=function(t){return oh(this,this.b.fb(t).then((function(){})))},t.rb=function(t,e){var n=this;return oh(this,Ie().then((function(){return void 0===e||lt(e)?{}:Ri(new Ei(e))})).then((function(e){return n.b.rb(t,e)})).then((function(){})))},t.Uc=function(t,e){return oh(this,Bc(this,t,e,m(this.Ya,this)))},t.Tc=function(t,e){var n=this;return oh(this,Ie().then((function(){var r=e||rr(),i=Io(t,r);if(!(r=To(r)))throw new E("argument-error","Invalid email link!");if(r.tenantId!==n.S())throw new E("tenant-id-mismatch");return n.Ya(i)})))},sh.prototype.render=function(){},sh.prototype.reset=function(){},sh.prototype.getResponse=function(){},sh.prototype.execute=function(){};var uh=null;function ch(t,e){return(e=lh(e))&&t.a[e]||null}function lh(t){return(t=void 0===t?1e12:t)?t.toString():null}function hh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=re(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():nn(this.f,"click",this.i)}function fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function ph(){}function dh(){}ah.prototype.render=function(t,e){return this.a[this.b.toString()]=new hh(t,e),this.b++},ah.prototype.reset=function(t){var e=ch(this,t);t=lh(t),e&&t&&(e.delete(),delete this.a[t])},ah.prototype.getResponse=function(t){return(t=ch(this,t))?t.getResponse():null},ah.prototype.execute=function(t){(t=ch(this,t))&&t.execute()},hh.prototype.getResponse=function(){return fh(this),this.b},hh.prototype.execute=function(){fh(this);var t=this;this.a||(this.a=setTimeout((function(){t.b=function(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout((function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()}),6e4)}),500))},hh.prototype.delete=function(){fh(this),this.g=!0,clearTimeout(this.a),this.a=null,sn(this.f,"click",this.i)},Hr(ph,"FACTOR_ID","phone"),dh.prototype.g=function(){return uh||(uh=new ah),Ie(uh)},dh.prototype.c=function(){};var vh=null;function gh(){this.b=s.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var yh=new vt(mt,"https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),mh=new Pr(3e4,6e4);gh.prototype.g=function(t){var e=this;return new ye((function(n,r){var i=setTimeout((function(){r(new E("network-request-failed"))}),mh.get());!s.grecaptcha||t!==e.f&&!e.b?(s[e.a]=function(){if(s.grecaptcha){e.f=t;var o=s.grecaptcha.render;s.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(s.grecaptcha)}else clearTimeout(i),r(new E("internal-error"));delete s[e.a]},Ie(Ms(Et(yh,{onload:e.a,hl:t||""}))).o((function(){clearTimeout(i),r(new E("internal-error","Unable to load external reCAPTCHA dependencies!"))}))):(clearTimeout(i),n(s.grecaptcha))}))},gh.prototype.c=function(){this.b--};var bh=null;function wh(t,e,n,r,i,o,a){if(Hr(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.u=e,this.g=null,a?(vh||(vh=new dh),a=vh):(bh||(bh=new gh),a=bh),this.m=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[Ch])throw new E("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Ih],!s.document)throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!re(e)||!this.i&&re(e).hasChildNodes())throw new E("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.s=new Hs(t,o||null,i||null),this.w=r||function(){return null};var u=this;this.l=[];var c=this.a[_h];this.a[_h]=function(t){if(Th(u,t),"function"==typeof c)c(t);else if("string"==typeof c){var e=Er(c,s);"function"==typeof e&&e(t)}};var l=this.a[Eh];this.a[Eh]=function(){if(Th(u,null),"function"==typeof l)l();else if("string"==typeof l){var t=Er(l,s);"function"==typeof t&&t()}}}var _h="callback",Eh="expired-callback",Ch="sitekey",Ih="size";function Th(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function Sh(t,e){return t.h.push(e),e.ma((function(){W(t.h,e)})),e}function kh(t){if(t.D)throw new E("internal-error","RecaptchaVerifier instance has been destroyed.")}function xh(t,e,n){var r=!1;try{this.b=n||Al.app()}catch(t){throw new E("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new E("invalid-api-key");n=this.b.options.apiKey;var i=this,o=null;try{o=this.b.auth().Ea()}catch(t){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}o=Al.SDK_VERSION?wr(Al.SDK_VERSION,o):null,wh.call(this,n,t,e,(function(){try{var t=i.b.auth().ja()}catch(e){t=null}return t}),o,x(I),r)}function Ah(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,s=0;s<e.length;s++)if(e[s].optional)o=!0;else{if(o)throw new E("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].K(n[i])&&!o){if(e=e[i],0>i||i>=Nh.length)throw new E("internal-error","Argument validator received an unsupported number of arguments.");n=Nh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.J+".";break t}r=null}}if(r)throw new E("argument-error",t+" failed: "+r)}(t=wh.prototype).Ga=function(){var t=this;return this.f?this.f:this.f=Sh(this,Ie().then((function(){if(Tr()&&!pr())return lr();throw new E("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")})).then((function(){return t.m.g(t.w())})).then((function(e){return t.g=e,Ga(t.s,Na,{})})).then((function(e){t.a[Ch]=e.recaptchaSiteKey})).o((function(e){throw t.f=null,e})))},t.render=function(){kh(this);var t=this;return Sh(this,this.Ga().then((function(){if(null===t.c){var e=t.u;if(!t.i){var n=re(e);e=function(t,e,n){var r=arguments,i=document,o=String(r[0]),s=r[1];if(!ne&&s&&(s.name||s.type)){if(o=["<",o],s.name&&o.push(' name="',Vt(s.name),'"'),s.type){o.push(' type="',Vt(s.type),'"');var a={};pt(a,s),delete a.type,s=a}o.push(">"),o=o.join("")}return o=ce(i,o),s&&("string"==typeof s?o.className=s:Array.isArray(s)?o.className=s.join(" "):ie(o,s)),2<r.length&&ue(i,o,r),o}("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c})))},t.verify=function(){kh(this);var t=this;return Sh(this,this.render().then((function(e){return new ye((function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(function(t,e){K(t.l,(function(t){return t==e}))}(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}}))})))},t.reset=function(){kh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){kh(this),this.D=!0,this.m.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=re(this.u);for(var e;e=t.firstChild;)t.removeChild(e)}},_(xh,wh);var Nh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function Oh(t,e){return{name:t||"",J:"a valid string",optional:!!e,K:function(t){return"string"==typeof t}}}function Rh(t,e){return{name:t||"",J:"a boolean",optional:!!e,K:function(t){return"boolean"==typeof t}}}function Dh(t,e){return{name:t||"",J:"a valid object",optional:!!e,K:p}}function Ph(t,e){return{name:t||"",J:"a function",optional:!!e,K:function(t){return"function"==typeof t}}}function Mh(t,e){return{name:t||"",J:"null",optional:!!e,K:function(t){return null===t}}}function Lh(t){return{name:t?t+"Credential":"credential",J:t?"a valid "+t+" credential":"a valid credential",optional:!1,K:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ia||!n)}}}function Fh(t,e){return p(t)&&"string"==typeof t.type&&t.type===e&&"function"==typeof t.Fa}function jh(t){return p(t)&&"string"==typeof t.uid}function Vh(t,e,n,r){return{name:n||"",J:t.J+" or "+e.J,optional:!!r,K:function(n){return t.K(n)||e.K(n)}}}function Uh(t,e){for(var n in e){var r=e[n].name;t[r]=zh(r,t[n],e[n].j)}}function Bh(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:b((function(t){return this[t]}),n),set:b((function(t,e,n,r){Ah(t,[n],[r],!0),this[e]=r}),r,n,e[n].gb),enumerable:!0})}}function Hh(t,e,n,r){t[e]=zh(e,n,r)}function zh(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return Ah(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=function(t){return(t=t.split("."))[t.length-1]}(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}Uh(Gl.prototype,{fb:{name:"applyActionCode",j:[Oh("code")]},Pa:{name:"checkActionCode",j:[Oh("code")]},jb:{name:"confirmPasswordReset",j:[Oh("code"),Oh("newPassword")]},cc:{name:"createUserWithEmailAndPassword",j:[Oh("email"),Oh("password")]},fc:{name:"fetchSignInMethodsForEmail",j:[Oh("email")]},pa:{name:"getRedirectResult",j:[]},zc:{name:"isSignInWithEmailLink",j:[Oh("emailLink")]},Fc:{name:"onAuthStateChanged",j:[Vh(Dh(),Ph(),"nextOrObserver"),Ph("opt_error",!0),Ph("opt_completed",!0)]},Gc:{name:"onIdTokenChanged",j:[Vh(Dh(),Ph(),"nextOrObserver"),Ph("opt_error",!0),Ph("opt_completed",!0)]},rb:{name:"sendPasswordResetEmail",j:[Oh("email"),Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},sb:{name:"sendSignInLinkToEmail",j:[Oh("email"),Dh("actionCodeSettings")]},tb:{name:"setPersistence",j:[Oh("persistence")]},Qc:{name:"signInAndRetrieveDataWithCredential",j:[Lh()]},vb:{name:"signInAnonymously",j:[]},Ya:{name:"signInWithCredential",j:[Lh()]},Rc:{name:"signInWithCustomToken",j:[Oh("token")]},Sc:{name:"signInWithEmailAndPassword",j:[Oh("email"),Oh("password")]},Tc:{name:"signInWithEmailLink",j:[Oh("email"),Oh("emailLink",!0)]},Uc:{name:"signInWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Vc:{name:"signInWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Wc:{name:"signInWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},bd:{name:"updateCurrentUser",j:[Vh({name:"user",J:"an instance of Firebase User",optional:!1,K:function(t){return!!(t&&t instanceof al)}},Mh(),"user")]},wb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[Oh(null,!0)]},dd:{name:"useDeviceLanguage",j:[]},fd:{name:"verifyPasswordResetCode",j:[Oh("code")]}}),Bh(Gl.prototype,{lc:{name:"languageCode",gb:Vh(Oh(),Mh(),"languageCode")},ti:{name:"tenantId",gb:Vh(Oh(),Mh(),"tenantId")}}),Gl.Persistence=Hu,Gl.Persistence.LOCAL="local",Gl.Persistence.SESSION="session",Gl.Persistence.NONE="none",Uh(al.prototype,{delete:{name:"delete",j:[]},mc:{name:"getIdTokenResult",j:[Rh("opt_forceRefresh",!0)]},I:{name:"getIdToken",j:[Rh("opt_forceRefresh",!0)]},Ac:{name:"linkAndRetrieveDataWithCredential",j:[Lh()]},mb:{name:"linkWithCredential",j:[Lh()]},Bc:{name:"linkWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Cc:{name:"linkWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Dc:{name:"linkWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Jc:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Lh()]},pb:{name:"reauthenticateWithCredential",j:[Lh()]},Kc:{name:"reauthenticateWithPhoneNumber",j:[Oh("phoneNumber"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]},Lc:{name:"reauthenticateWithPopup",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},Mc:{name:"reauthenticateWithRedirect",j:[{name:"authProvider",J:"a valid Auth provider",optional:!1,K:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}]},reload:{name:"reload",j:[]},qb:{name:"sendEmailVerification",j:[Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[Oh(null,!0)]},ad:{name:"unlink",j:[Oh("provider")]},xb:{name:"updateEmail",j:[Oh("email")]},yb:{name:"updatePassword",j:[Oh("password")]},cd:{name:"updatePhoneNumber",j:[Lh("phone")]},zb:{name:"updateProfile",j:[Dh("profile")]},Ab:{name:"verifyBeforeUpdateEmail",j:[Oh("email"),Vh(Dh("opt_actionCodeSettings",!0),Mh(null,!0),"opt_actionCodeSettings",!0)]}}),Uh(ah.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Uh(sh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Uh(ye.prototype,{ma:{name:"finally"},o:{name:"catch"},then:{name:"then"}}),Bh(Vc.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",gb:Rh("appVerificationDisabledForTesting")}}),Uh(Uc.prototype,{confirm:{name:"confirm",j:[Oh("verificationCode")]}}),Hh(eo,"fromJSON",(function(t){t="string"==typeof t?JSON.parse(t):t;for(var e,n=[uo,Eo,ko,oo],r=0;r<n.length;r++)if(e=n[r](t))return e;return null}),[Vh(Oh(),Dh(),"json")]),Hh(Co,"credential",(function(t,e){return new _o(t,e)}),[Oh("email"),Oh("password")]),Uh(_o.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(fo.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(fo,"credential",po,[Vh(Oh(),Dh(),"token")]),Hh(Co,"credentialWithLink",Io,[Oh("email"),Oh("emailLink")]),Uh(vo.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(vo,"credential",go,[Vh(Oh(),Dh(),"token")]),Uh(yo.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(yo,"credential",mo,[Vh(Oh(),Vh(Dh(),Mh()),"idToken"),Vh(Oh(),Mh(),"accessToken",!0)]),Uh(bo.prototype,{Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Hh(bo,"credential",wo,[Vh(Oh(),Dh(),"token"),Oh("secret",!0)]),Uh(ho.prototype,{Aa:{name:"addScope",j:[Oh("scope")]},credential:{name:"credential",j:[Vh(Oh(),Vh(Dh(),Mh()),"optionsOrIdToken"),Vh(Oh(),Mh(),"accessToken",!0)]},Ia:{name:"setCustomParameters",j:[Dh("customOAuthParameters")]}}),Uh(so.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(ro.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Hh(Ao,"credential",No,[Oh("verificationId"),Oh("verificationCode")]),Uh(Ao.prototype,{cb:{name:"verifyPhoneNumber",j:[Vh(Oh(),{name:"phoneInfoOptions",J:"valid phone info options",optional:!1,K:function(t){return!!t&&(t.session&&t.phoneNumber?Fh(t.session,$i)&&"string"==typeof t.phoneNumber:t.session&&t.multiFactorHint?Fh(t.session,to)&&jh(t.multiFactorHint):t.session&&t.multiFactorUid?Fh(t.session,to)&&"string"==typeof t.multiFactorUid:!!t.phoneNumber&&"string"==typeof t.phoneNumber)}},"phoneInfoOptions"),{name:"applicationVerifier",J:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,K:function(t){return!(!t||"string"!=typeof t.type||"function"!=typeof t.verify)}}]}}),Uh(So.prototype,{v:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(E.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(Vo.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(jo.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(Kc.prototype,{toJSON:{name:"toJSON",j:[Oh(null,!0)]}}),Uh(zc.prototype,{Pc:{name:"resolveSignIn",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}}]}}),Uh(Jc.prototype,{Ob:{name:"getSession",j:[]},dc:{name:"enroll",j:[{name:"multiFactorAssertion",J:"a valid multiFactorAssertion",optional:!1,K:function(t){return!!t&&!!t.ob}},Oh("displayName",!0)]},$c:{name:"unenroll",j:[Vh({name:"multiFactorInfo",J:"a valid multiFactorInfo",optional:!1,K:jh},Oh(),"multiFactorInfoIdentifier")]}}),Uh(xh.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),Hh(pi,"parseLink",_i,[Oh("link")]),Hh(ph,"assertion",(function(t){return new Qc(t)}),[Lh("phone")]),function(){if(void 0===Al||!Al.INTERNAL||!Al.INTERNAL.registerComponent)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={ActionCodeInfo:{Operation:{EMAIL_SIGNIN:ei,PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:ti,VERIFY_AND_CHANGE_EMAIL:ni,VERIFY_EMAIL:"VERIFY_EMAIL"}},Auth:Gl,AuthCredential:eo,Error:E};Hh(t,"EmailAuthProvider",Co,[]),Hh(t,"FacebookAuthProvider",fo,[]),Hh(t,"GithubAuthProvider",vo,[]),Hh(t,"GoogleAuthProvider",yo,[]),Hh(t,"TwitterAuthProvider",bo,[]),Hh(t,"OAuthProvider",ho,[Oh("providerId")]),Hh(t,"SAMLAuthProvider",lo,[Oh("providerId")]),Hh(t,"PhoneAuthProvider",Ao,[{name:"auth",J:"an instance of Firebase Auth",optional:!0,K:function(t){return!!(t&&t instanceof Gl)}}]),Hh(t,"RecaptchaVerifier",xh,[Vh(Oh(),{name:"",J:"an HTML element",optional:!1,K:function(t){return!!(t&&t instanceof Element)}},"recaptchaContainer"),Dh("recaptchaParameters",!0),{name:"app",J:"an instance of Firebase App",optional:!0,K:function(t){return!!(t&&t instanceof Al.app.App)}}]),Hh(t,"ActionCodeURL",pi,[]),Hh(t,"PhoneMultiFactorGenerator",ph,[]),Al.INTERNAL.registerComponent({name:"auth",instanceFactory:function(t){return new Gl(t=t.getProvider("app").getImmediate())},multipleInstances:!1,serviceProps:t,instantiationMode:"LAZY",type:"PUBLIC"}),Al.INTERNAL.registerComponent({name:"auth-internal",instanceFactory:function(t){return{getUid:m((t=t.getProvider("auth").getImmediate()).getUid,t),getToken:m(t.kc,t),addAuthTokenListener:m(t.bc,t),removeAuthTokenListener:m(t.Nc,t)}},multipleInstances:!1,instantiationMode:"LAZY",type:"PRIVATE"}),Al.registerVersion("@firebase/auth","0.14.9"),Al.INTERNAL.extendNamespace({User:al})}()}.apply("undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{});
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nl=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),zc(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:Hc(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),Ol=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return Wc(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),Rl=function(t){try{if("undefined"!=typeof window&&void 0!==window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new Nl(e)}}catch(t){}return new Ol},Dl=Rl("localStorage"),Pl=Rl("sessionStorage"),Ml=new gl("@firebase/database"),Ll=function(){var t=1;return function(){return t++}}(),Fl=function(t){var e=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,_c(r<t.length,"Surrogate pair missing trail surrogate."),i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e}(t),n=new Yc;n.update(e);var r=n.digest();return Ic.encodeByteArray(r)},jl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++){var i=t[r];Array.isArray(i)||i&&"object"==typeof i&&"number"==typeof i.length?n+=jl.apply(null,i):n+="object"==typeof i?zc(i):i,n+=" "}return n},Vl=null,Ul=!0,Bl=function(t,e){_c(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(Ml.logLevel=cl.VERBOSE,Vl=Ml.log.bind(Ml),e&&Pl.set("logging_enabled",!0)):"function"==typeof t?Vl=t:(Vl=null,Pl.remove("logging_enabled"))},Hl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===Ul&&(Ul=!1,null===Vl&&!0===Pl.get("logging_enabled")&&Bl(!0)),Vl){var n=jl.apply(null,t);Vl(n)}},zl=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Hl.apply(void 0,O([t],e))}},ql=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+jl.apply(void 0,O(t));Ml.error(n)},Wl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+jl.apply(void 0,O(t));throw Ml.error(n),new Error(n)},Kl=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+jl.apply(void 0,O(t));Ml.warn(n)},Gl=function(t){return"number"==typeof t&&(t!=t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},Xl="[MIN_NAME]",Yl="[MAX_NAME]",Ql=function(t,e){if(t===e)return 0;if(t===Xl||e===Yl)return-1;if(e===Xl||t===Yl)return 1;var n=ih(t),r=ih(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},Zl=function(t,e){return t===e?0:t<e?-1:1},Jl=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+zc(e))},$l=function(t){if("object"!=typeof t||null===t)return zc(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=zc(e[i]),r+=":",r+=$l(t[e[i]]);return r+="}"},th=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(t,e){for(var n in t)t.hasOwnProperty(n)&&e(n,t[n])}var nh=function(t){_c(!Gl(t),"Invalid JSON number");var e,n,r,i,o;0===t?(n=0,r=0,e=1/t==-1/0?1:0):(e=t<0,(t=Math.abs(t))>=Math.pow(2,-1022)?(n=(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023))+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074))));var s=[];for(o=52;o;o-=1)s.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse();var a=s.join(""),u="";for(o=0;o<64;o+=8){var c=parseInt(a.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},rh=new RegExp("^-?(0*)\\d{1,10}$"),ih=function(t){if(rh.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},oh=function(t){try{t()}catch(t){setTimeout((function(){var e=t.stack||"";throw Kl("Exception was thrown by user callback.",e),t}),Math.floor(0))}},sh=function(t,e){var n=setTimeout(t,e);return"object"==typeof n&&n.unref&&n.unref(),n},ah=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!1,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{var i=e.split("/");for(r=0;r<i.length;r++)i[r].length>0&&n.push(i[r])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=Ql(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),uh=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=rl(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!1,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!1,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=rl(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=rl(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0===this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),ch=function(){function t(t,e,n,r,i,o){void 0===i&&(i=""),void 0===o&&(o=!1),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.includeNamespaceInQueryParams=o,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=Dl.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()||this.includeNamespaceInQueryParams},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Dl.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(_c("string"==typeof t,"typeof type must == string"),_c("object"==typeof e,"typeof params must == object"),"websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if("long_polling"!==t)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return eh(e,(function(t,e){r.push(t+"="+e)})),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();var lh,hh,fh,ph,dh,vh=function(t){var e=gh(t),n=e.namespace;"firebase.com"===e.domain&&Wl(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!==n||"localhost"===e.domain||Wl("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||"undefined"!=typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Kl("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().");var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new ch(e.host,e.secure,n,r,"",n!==e.subdomain),path:new ah(e.pathString)}},gh=function(t){var e="",n="",r="",i="",o="",s=!0,a="https",u=443;if("string"==typeof t){var c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(i=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}(t.substring(l,h)));var f=function(t){var e,n,r={};"?"===t.charAt(0)&&(t=t.substring(1));try{for(var i=A(t.split("&")),o=i.next();!o.done;o=i.next()){var s=o.value;if(0!==s.length){var a=s.split("=");2===a.length?r[decodeURIComponent(a[0])]=decodeURIComponent(a[1]):Kl("Invalid query segment '"+s+"' in query '"+t+"'")}}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}(t.substring(Math.min(t.length,h)));(c=e.indexOf(":"))>=0?(s="https"===a||"wss"===a,u=parseInt(e.substring(c+1),10)):c=e.length;var p=e.slice(0,c);if("localhost"===p.toLowerCase())n="localhost";else if(p.split(".").length<=2)n=p;else{var d=e.indexOf(".");r=e.substring(0,d).toLowerCase(),n=e.substring(d+1),o=r}"ns"in f&&(o=f.ns)}return{host:e,port:u,domain:n,subdomain:r,secure:s,scheme:a,pathString:i,namespace:o}},yh=/[\[\].#$\/\u0000-\u001F\u007F]/,mh=/[\[\].#$\u0000-\u001F\u007F]/,bh=function(t){return"string"==typeof t&&0!==t.length&&!yh.test(t)},wh=function(t){return"string"==typeof t&&0!==t.length&&!mh.test(t)},_h=function(t){return null===t||"string"==typeof t||"number"==typeof t&&!Gl(t)||t&&"object"==typeof t&&Wc(t,".sv")},Eh=function(t,e,n,r,i){i&&void 0===n||Ch(tl(t,e,i),n,r)},Ch=function(t,e,n){var r=n instanceof ah?new uh(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"==typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(Gl(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"==typeof e&&e.length>10485760/3&&rl(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){var i=!1,o=!1;if(eh(e,(function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!bh(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),Ch(t,n,r),r.pop()})),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},Ih=function(t,e,n,r,i){if(!i||void 0!==n){var o=tl(t,e,i);if(!n||"object"!=typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var s=[];eh(n,(function(t,e){var n=new ah(t);if(Ch(o,e,r.child(n)),".priority"===n.getBack()&&!_h(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)})),function(t,e){var n,r;for(n=0;n<e.length;n++)for(var i=(r=e[n]).slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!bh(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');e.sort(ah.comparePaths);var s=null;for(n=0;n<e.length;n++){if(r=e[n],null!==s&&s.contains(r))throw new Error(t+"contains a path "+s.toString()+" that is ancestor of another path "+r.toString());s=r}}(o,s)}},Th=function(t,e,n,r){if(!r||void 0!==n){if(Gl(n))throw new Error(tl(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!_h(n))throw new Error(tl(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},Sh=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(tl(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},kh=function(t,e,n,r){if(!(r&&void 0===n||bh(n)))throw new Error(tl(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},xh=function(t,e,n,r){if(!(r&&void 0===n||wh(n)))throw new Error(tl(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Ah=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),xh(t,e,n,r)},Nh=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Oh=function(t,e,n){var r=n.path.toString();if("string"!=typeof n.repoInfo.host||0===n.repoInfo.host.length||!bh(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),wh(t)}(r))throw new Error(tl(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Rh=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!=typeof n)throw new Error(tl(t,e,r)+"must be a boolean.")},Dh=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){$c("OnDisconnect.cancel",0,1,arguments.length),el("OnDisconnect.cancel",1,t,!0);var e=new xc;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){$c("OnDisconnect.remove",0,1,arguments.length),Nh("OnDisconnect.remove",this.path_),el("OnDisconnect.remove",1,t,!0);var e=new xc;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){$c("OnDisconnect.set",1,2,arguments.length),Nh("OnDisconnect.set",this.path_),Eh("OnDisconnect.set",1,t,this.path_,!1),el("OnDisconnect.set",2,e,!0);var n=new xc;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){$c("OnDisconnect.setWithPriority",2,3,arguments.length),Nh("OnDisconnect.setWithPriority",this.path_),Eh("OnDisconnect.setWithPriority",1,t,this.path_,!1),Th("OnDisconnect.setWithPriority",2,e,!1),el("OnDisconnect.setWithPriority",3,n,!0);var r=new xc;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if($c("OnDisconnect.update",1,2,arguments.length),Nh("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Kl("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ih("OnDisconnect.update",1,t,this.path_,!1),el("OnDisconnect.update",2,e,!0);var i=new xc;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),Ph=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return $c("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Mh=(lh="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",hh=0,fh=[],function(t){var e,n=t===hh;hh=t;var r=new Array(8);for(e=7;e>=0;e--)r[e]=lh.charAt(t%64),t=Math.floor(t/64);_c(0===t,"Cannot push at time == 0");var i=r.join("");if(n){for(e=11;e>=0&&63===fh[e];e--)fh[e]=0;fh[e]++}else for(e=0;e<12;e++)fh[e]=Math.floor(64*Math.random());for(e=0;e<12;e++)i+=lh.charAt(fh[e]);return _c(20===i.length,"nextPushId: Length should be 20."),i}),Lh=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Fh=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Lh(Xl,t),r=new Lh(Xl,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Lh.MIN},t}(),jh=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return ph},set:function(t){ph=t},enumerable:!1,configurable:!0}),e.prototype.compare=function(t,e){return Ql(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw Ec("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Lh.MIN},e.prototype.maxPost=function(){return new Lh(Yl,ph)},e.prototype.makePost=function(t,e){return _c("string"==typeof t,"KeyIndex indexValue must always be a string."),new Lh(t,ph)},e.prototype.toString=function(){return".key"},e}(Fh),Vh=new jh;var Uh,Bh,Hh,zh=function(t){return"number"==typeof t?"number:"+nh(t):"string:"+t},qh=function(t){if(t.isLeafNode()){var e=t.val();_c("string"==typeof e||"number"==typeof e||"object"==typeof e&&Wc(e,".sv"),"Priority must be a string or number.")}else _c(t===dh||t.isEmpty(),"priority of unexpected type.");_c(t===dh||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},Wh=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,_c(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),qh(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return Uh},set:function(t){Uh=t},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(_c(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+zh(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?nh(this.value_):this.value_,this.lazyHash_=Fl(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(_c(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return _c(i>=0,"Unknown leaf type: "+n),_c(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();var Kh,Gh,Xh=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?Ql(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Lh.MIN},e.prototype.maxPost=function(){return new Lh(Yl,new Wh("[PRIORITY-POST]",Hh))},e.prototype.makePost=function(t,e){var n=Bh(t);return new Lh(e,new Wh("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Fh)),Yh=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Qh=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Jh.EMPTY_NODE,this.right=null!=o?o:Jh.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n))).fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Jh.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),(t=t.copy(null,null,null,t.left.removeMin_(),null)).fixUp_()},t.prototype.remove=function(t,e){var n,r;if(e(t,(n=this).key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Jh.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=(t=(t=t.copy(null,null,null,null,t.right.rotateRight_())).rotateLeft_()).colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=(t=t.rotateRight_()).colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Zh=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Qh(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Jh=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Qh.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Qh.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Yh(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Yh(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Yh(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Yh(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Zh,t}(),$h=Math.log(2),tf=function(){function t(t){var e;this.count=(e=t+1,parseInt(Math.log(e)/$h,10)),this.current_=this.count-1;var n,r=(n=this.count,parseInt(Array(n+1).join("1"),2));this.bits_=t+1&r}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ef=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,s,a=r-e;if(0===a)return null;if(1===a)return o=t[e],s=n?n(o):o,new Qh(s,o.node,Qh.BLACK,null,null);var u=parseInt(a/2,10)+e,c=i(e,u),l=i(u+1,r);return o=t[u],s=n?n(o):o,new Qh(s,o.node,Qh.BLACK,c,l)},o=function(e){for(var r=null,o=null,s=t.length,a=function(e,r){var o=s-e,a=s;s-=e;var c=i(o+1,a),l=t[o],h=n?n(l):l;u(new Qh(h,l.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?a(h,Qh.BLACK):(a(h,Qh.BLACK),a(h,Qh.RED))}return o}(new tf(t.length));return new Jh(r||e,o)},nf={},rf=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return _c(nf&&Xh,"ChildrenNode.ts has not been loaded"),Kh=Kh||new t({".priority":nf},{".priority":Xh})},enumerable:!1,configurable:!0}),t.prototype.get=function(t){var e=Kc(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e instanceof Jh?e:null},t.prototype.hasIndex=function(t){return Wc(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){_c(e!==Vh,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r,i=[],o=!1,s=n.getIterator(Lh.Wrap),a=s.getNext();a;)o=o||e.isDefinedOn(a.node),i.push(a),a=s.getNext();r=o?ef(i,e.getCompare()):nf;var u=e.toString(),c=S({},this.indexSet_);c[u]=e;var l=S({},this.indexes_);return l[u]=r,new t(l,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(Xc(this.indexes_,(function(t,i){var o=Kc(r.indexSet_,i);if(_c(o,"Missing index implementation for "+i),t===nf){if(o.isDefinedOn(e.node)){for(var s=[],a=n.getIterator(Lh.Wrap),u=a.getNext();u;)u.name!==e.name&&s.push(u),u=a.getNext();return s.push(e),ef(s,o.getCompare())}return nf}var c=n.get(e.name),l=t;return c&&(l=l.remove(new Lh(e.name,c))),l.insert(e,e.node)})),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(Xc(this.indexes_,(function(t){if(t===nf)return t;var r=n.get(e.name);return r?t.remove(new Lh(e.name,r)):t})),this.indexSet_)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function of(t,e){return Ql(t.name,e.name)}function sf(t,e){return Ql(t,e)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var af=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&qh(this.priorityNode_),this.children_.isEmpty()&&_c(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return Gh||(Gh=new t(new Jh(sf),null,rf.Default))},enumerable:!1,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||Gh},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?Gh:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(_c(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Lh(e,n),i=void 0,o=void 0;n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_));var s=i.isEmpty()?Gh:this.priorityNode_;return new t(i,s,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;_c(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Xh,(function(s,a){n[s]=a.val(e),r++,o&&t.INTEGER_REGEXP_.test(s)?i=Math.max(i,Number(s)):o=!1})),!e&&o&&i<2*r){var s=[];for(var a in n)s[a]=n[a];return s}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+zh(this.getPriority().val())+":"),this.forEachChild(Xh,(function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)})),this.lazyHash_=""===t?"":Fl(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Lh(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Lh(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Lh(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal((function(t){return e(t.name,t.node)})):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getIteratorFrom(t.name,Lh.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,(function(t){return t}));for(var r=this.children_.getReverseIteratorFrom(t.name,Lh.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===uf?-1:0},t.prototype.withIndex=function(e){if(e===Vh||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Vh||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Xh),r=e.getIterator(Xh),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Vh?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),uf=new(function(t){function e(){return t.call(this,new Jh(sf),af.EMPTY_NODE,rf.Default)||this}return T(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return af.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(af));Object.defineProperties(Lh,{MIN:{value:new Lh(Xl,af.EMPTY_NODE)},MAX:{value:new Lh(Yl,uf)}}),jh.__EMPTY_NODE=af.EMPTY_NODE,Wh.__childrenNodeConstructor=af,dh=uf,function(t){Hh=t}(uf);function cf(t,e){if(void 0===e&&(e=null),null===t)return af.EMPTY_NODE;if("object"==typeof t&&".priority"in t&&(e=t[".priority"]),_c(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!=typeof t||".sv"in t)return new Wh(t,cf(e));if(t instanceof Array){var n=af.EMPTY_NODE;return eh(t,(function(e,r){if(Wc(t,e)&&"."!==e.substring(0,1)){var i=cf(r);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(e,i))}})),n.updatePriority(cf(e))}var r=[],i=!1;if(eh(t,(function(t,e){if("."!==t.substring(0,1)){var n=cf(e);n.isEmpty()||(i=i||!n.getPriority().isEmpty(),r.push(new Lh(t,n)))}})),0===r.length)return af.EMPTY_NODE;var o=ef(r,of,(function(t){return t.name}),sf);if(i){var s=ef(r,Xh.getCompare());return new af(o,cf(e),new rf({".priority":s},{".priority":Xh}))}return new af(o,cf(e),rf.Default)}!function(t){Bh=t}(cf);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var lf,hf=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?Ql(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Lh.MIN},e.prototype.maxPost=function(){return Lh.MAX},e.prototype.makePost=function(t,e){var n=cf(t);return new Lh(e,n)},e.prototype.toString=function(){return".value"},e}(Fh)),ff=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,_c(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return T(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?Ql(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=cf(t),r=af.EMPTY_NODE.updateChild(this.indexPath_,n);return new Lh(e,r)},e.prototype.maxPost=function(){var t=af.EMPTY_NODE.updateChild(this.indexPath_,uf);return new Lh(Yl,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Fh),pf=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return $c("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return $c("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return $c("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return $c("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){$c("DataSnapshot.child",0,1,arguments.length),e=String(e),xh("DataSnapshot.child",1,e,!1);var n=new ah(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Xh)},t.prototype.hasChild=function(t){$c("DataSnapshot.hasChild",1,1,arguments.length),xh("DataSnapshot.hasChild",1,t,!1);var e=new ah(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return $c("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if($c("DataSnapshot.forEach",1,1,arguments.length),el("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var r=this.node_;return!!r.forEachChild(this.index_,(function(r,i){return e(new t(i,n.ref_.child(r),Xh))}))},t.prototype.hasChildren=function(){return $c("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!1,configurable:!0}),t.prototype.numChildren=function(){return $c("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return $c("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),df=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+zc(this.snapshot.exportVal())},t}(),vf=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),gf=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new df("value",this,new pf(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){_c(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new vf(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),yf=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,Wc(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new vf(this,t,e):null},t.prototype.createEvent=function(t,e){_c(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new df(t.type,this,new pf(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){_c(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){var n=this;if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var r=Object.keys(e.callbacks_),i=Object.keys(this.callbacks_),o=r.length;if(o===i.length){if(1===o){var s=r[0],a=i[0];return!(a!==s||e.callbacks_[s]&&this.callbacks_[a]&&e.callbacks_[s]!==this.callbacks_[a])}return i.every((function(t){return e.callbacks_[t]===n.callbacks_[t]}))}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),mf=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return _c(lf,"Reference.ts has not been loaded"),lf},set:function(t){lf=t},enumerable:!1,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Vh){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!==Xl)throw new Error(r);if("string"!=typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!==Yl)throw new Error(r);if("string"!=typeof n)throw new Error(i)}}else if(t.getIndex()===Xh){if(null!=e&&!_h(e)||null!=n&&!_h(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(_c(t.getIndex()instanceof ff||t.getIndex()===hf,"unknown index type."),null!=e&&"object"==typeof e||null!=n&&"object"==typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return $c("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){$c("Query.on",2,4,arguments.length),Sh("Query.on",1,e,!1),el("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var s={};s[e]=n,this.onChildEvent(s,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new gf(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new yf(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){$c("Query.off",0,3,arguments.length),Sh("Query.off",1,t,!0),el("Query.off",2,e,!0),nl("Query.off",3,n,!0);var r=null,i=null;if("value"===t){var o=e||null;r=new gf(o,null,n||null)}else t&&(e&&((i={})[t]=e),r=new yf(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;$c("Query.once",1,4,arguments.length),Sh("Query.once",1,e,!1),el("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",r,i),a=!0,u=new xc;u.promise.catch((function(){}));var c=function(t){a&&(a=!1,o.off(e,c),n&&n.bind(s.context)(t),u.resolve(t))};return this.on(e,c,(function(t){o.off(e,c),s.cancel&&s.cancel.bind(s.context)(t),u.reject(t)})),u.promise},t.prototype.limitToFirst=function(e){if($c("Query.limitToFirst",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if($c("Query.limitToLast",1,1,arguments.length),"number"!=typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if($c("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');xh("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new ah(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new ff(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){$c("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Vh);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){$c("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Xh);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){$c("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(hf);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),$c("Query.startAt",0,2,arguments.length),Eh("Query.startAt",1,e,this.path,!0),kh("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),$c("Query.endAt",0,2,arguments.length),Eh("Query.endAt",1,e,this.path,!0),kh("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if($c("Query.equalTo",1,2,arguments.length),Eh("Query.equalTo",1,t,this.path,!1),kh("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return $c("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return $c("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=$l(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if($c("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var r=this.repo===e.repo,i=this.path.equals(e.path),o=this.queryIdentifier()===e.queryIdentifier();return r&&i&&o},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,el(t,3,r.cancel,!0),r.context=n,nl(t,4,r.context,!0);else if(e)if("object"==typeof e&&null!==e)r.context=e;else{if("function"!=typeof e)throw new Error(tl(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!1,configurable:!0}),t}(),bf=function(){function t(t){this.node_=t}return t.prototype.getImmediateChild=function(e){return new t(this.node_.getImmediateChild(e))},t.prototype.node=function(){return this.node_},t}(),wf=function(){function t(t,e){this.syncTree_=t,this.path_=e}return t.prototype.getImmediateChild=function(e){var n=this.path_.child(e);return new t(this.syncTree_,n)},t.prototype.node=function(){return this.syncTree_.calcCompleteEventCache(this.path_)},t}(),_f=function(t,e,n){return t&&"object"==typeof t?(_c(".sv"in t,"Unexpected leaf node or priority contents"),"string"==typeof t[".sv"]?Ef(t[".sv"],e,n):"object"==typeof t[".sv"]?Cf(t[".sv"],e):void _c(!1,"Unexpected server value: "+JSON.stringify(t,null,2))):t},Ef=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:_c(!1,"Unexpected server value: "+t)}},Cf=function(t,e,n){t.hasOwnProperty("increment")||_c(!1,"Unexpected server value: "+JSON.stringify(t,null,2));var r=t.increment;"number"!=typeof r&&_c(!1,"Unexpected increment value: "+r);var i=e.node();if(_c(null!=i,"Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;var o=i.getValue();return"number"!=typeof o?r:o+r},If=function(t,e,n,r){return Sf(e,new wf(n,t),r)},Tf=function(t,e,n){return Sf(t,new bf(e),n)};function Sf(t,e,n){var r,i=t.getPriority().val(),o=_f(i,e.getImmediateChild(".priority"),n);if(t.isLeafNode()){var s=t,a=_f(s.getValue(),e,n);return a!==s.getValue()||o!==s.getPriority().val()?new Wh(a,cf(o)):t}var u=t;return r=u,o!==u.getPriority().val()&&(r=r.updatePriority(new Wh(o))),u.forEachChild(Xh,(function(t,i){var o=Sf(i,e.getImmediateChild(t),n);o!==i&&(r=r.updateImmediateChild(t,o))})),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kf,xf=function(){function t(){this.value=null,this.children=new Map}return t.prototype.find=function(t){if(null!=this.value)return this.value.getChild(t);if(!t.isEmpty()&&this.children.size>0){var e=t.getFront();return t=t.popFront(),this.children.has(e)?this.children.get(e).find(t):null}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value=n,this.children.clear();else if(null!==this.value)this.value=this.value.updateChild(e,n);else{var r=e.getFront();this.children.has(r)||this.children.set(r,new t);var i=this.children.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value=null,this.children.clear(),!0;if(null!==this.value){if(this.value.isLeafNode())return!1;var e=this.value;this.value=null;var n=this;return e.forEachChild(Xh,(function(t,e){n.remember(new ah(t),e)})),this.forget(t)}if(this.children.size>0){var r=t.getFront();if(t=t.popFront(),this.children.has(r))this.children.get(r).forget(t)&&this.children.delete(r);return 0===this.children.size}return!0},t.prototype.forEachTree=function(t,e){null!==this.value?e(t,this.value):this.forEachChild((function(n,r){var i=new ah(t.toString()+"/"+n);r.forEachTree(i,e)}))},t.prototype.forEachChild=function(t){this.children.forEach((function(e,n){t(n,e)}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(kf||(kf={}));var Af,Nf,Of=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,_c(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Rf=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=kf.ACK_USER_WRITE,this.source=Of.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return _c(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new ah(e));return new t(ah.Empty,n,this.revert)}return _c(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Df=function(){function t(t,e){void 0===e&&(Af||(Af=new Jh(Zl)),e=Af),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return eh(e,(function(t,e){n=n.set(new ah(t),e)})),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:ah.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);return null!=i?{path:new ah(n).child(i.path),value:i.value}:null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,(function(){return!0}))},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=(this.children.get(r)||t.Empty).set(e.popFront(),n),o=this.children.insert(r,i);return new t(this.value,o)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=(this.children.get(r)||t.Empty).setTree(e.popFront(),n),o=void 0;return o=i.isEmpty()?this.children.remove(r):this.children.insert(r,i),new t(this.value,o)},t.prototype.fold=function(t){return this.fold_(ah.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal((function(r,i){n[r]=i.fold_(t.child(r),e)})),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,ah.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,ah.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(ah.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal((function(n,r){r.foreach_(t.child(n),e)})),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal((function(e,n){n.value&&t(e,n.value)}))},t.Empty=new t(null),t}(),Pf=function(){function t(t,e){this.source=t,this.path=e,this.type=kf.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ah.Empty):new t(this.source,this.path.popFront())},t}(),Mf=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=kf.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,ah.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Lf=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=kf.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new ah(e));return n.isEmpty()?null:n.value?new Mf(this.source,ah.Empty,n.value):new t(this.source,ah.Empty,n)}return _c(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ff=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),jf=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ff(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ff(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Ff(af.EMPTY_NODE,!1,!1),new Ff(af.EMPTY_NODE,!1,!1)),t}(),Vf=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Uf=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){_c(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(r).equals(n.getChild(r))&&s.isEmpty()===n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Vf.childRemovedChange(e,s)):_c(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?o.trackChildChange(Vf.childAddedChange(e,n)):o.trackChildChange(Vf.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Xh,(function(t,r){e.hasChild(t)||n.trackChildChange(Vf.childRemovedChange(t,r))})),e.isLeafNode()||e.forEachChild(Xh,(function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Vf.childChangedChange(e,r,i))}else n.trackChildChange(Vf.childAddedChange(e,r))}))),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?af.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Bf=function(){function t(){this.changeMap=new Map}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;_c(e===Vf.CHILD_ADDED||e===Vf.CHILD_CHANGED||e===Vf.CHILD_REMOVED,"Only child changes supported for tracking"),_c(".priority"!==n,"Only non-priority child changes can be tracked.");var r=this.changeMap.get(n);if(r){var i=r.type;if(e===Vf.CHILD_ADDED&&i===Vf.CHILD_REMOVED)this.changeMap.set(n,Vf.childChangedChange(n,t.snapshotNode,r.snapshotNode));else if(e===Vf.CHILD_REMOVED&&i===Vf.CHILD_ADDED)this.changeMap.delete(n);else if(e===Vf.CHILD_REMOVED&&i===Vf.CHILD_CHANGED)this.changeMap.set(n,Vf.childRemovedChange(n,r.oldSnap));else if(e===Vf.CHILD_CHANGED&&i===Vf.CHILD_ADDED)this.changeMap.set(n,Vf.childAddedChange(n,t.snapshotNode));else{if(e!==Vf.CHILD_CHANGED||i!==Vf.CHILD_CHANGED)throw Ec("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap.set(n,Vf.childChangedChange(n,t.snapshotNode,r.oldSnap))}}else this.changeMap.set(n,t)},t.prototype.getChanges=function(){return Array.from(this.changeMap.values())},t}(),Hf=new(function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}()),zf=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ff(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),qf=function(t,e){this.viewCache=t,this.changes=e},Wf=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){_c(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),_c(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,s,a=new Bf;if(n.type===kf.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,a):(_c(u.source.fromServer,"Unknown source."),s=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,s,a))}else if(n.type===kf.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,a):(_c(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,s,a))}else if(n.type===kf.ACK_USER_WRITE){var l=n;o=l.revert?this.revertUserWrite_(e,l.path,r,i,a):this.ackUserWrite_(e,l.path,l.affectedTree,r,i,a)}else{if(n.type!==kf.LISTEN_COMPLETE)throw Ec("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,a)}var h=a.getChanges();return t.maybeAddValueEvent_(e,o,h),new qf(o,h)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Vf.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,a=void 0;if(e.isEmpty())if(_c(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof af?u:af.EMPTY_NODE,l=n.calcCompleteEventChildren(c);s=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,i)}else{var f=e.getFront();if(".priority"===f){_c(1===e.getLength(),"Can't have a priority with additional path components");var p=o.getNode();a=t.getServerCache().getNode();var d=n.calcEventCacheAfterServerOverwrite(e,p,a);s=null!=d?this.filter_.updatePriority(p,d):o.getNode()}else{var v=e.popFront(),g=void 0;if(o.isCompleteForChild(f)){a=t.getServerCache().getNode();var y=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),a);g=null!=y?o.getNode().getImmediateChild(f).updateChild(v,y):o.getNode().getImmediateChild(f)}else g=n.calcCompleteChild(f,t.getServerCache());s=null!=g?this.filter_.updateChild(o.getNode(),f,g,v,r,i):o.getNode()}}return t.updateEventSnap(s,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,s){var a,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())a=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);a=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),p=u.getNode().getImmediateChild(h).updateChild(f,n);a=".priority"===h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,Hf,null)}var d=t.updateServerSnap(a,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),v=new zf(r,d,i);return this.generateEventCacheAfterServerEvent_(d,e,r,v,s)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var s,a,u=t.getEventCache(),c=new zf(r,t,i);if(e.isEmpty())a=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),s=t.updateEventSnap(a,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)a=this.filter_.updatePriority(t.getEventCache().getNode(),n),s=t.updateEventSnap(a,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),p=void 0;if(h.isEmpty())p=n;else{var d=c.getCompleteChild(l);p=null!=d?".priority"===h.getBack()&&d.getChild(h.parent()).isEmpty()?d:d.updateChild(h,n):af.EMPTY_NODE}if(f.equals(p))s=t;else{var v=this.filter_.updateChild(u.getNode(),l,p,h,c,o);s=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return s},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,s){var a=this,u=e;return r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())&&(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),r.foreach((function(r,c){var l=n.child(r);t.cacheHasChild_(e,l.getFront())||(u=a.applyUserOverwrite_(u,l,c,i,o,s))})),u},t.prototype.applyMerge_=function(t,e){return e.foreach((function(e,n){t=t.updateChild(e,n)})),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,s){var a=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Df.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal((function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=a.applyMerge_(u,n);c=a.applyServerOverwrite_(c,new ah(e),h,r,i,o,s)}})),u.children.inorderTraversal((function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=a.applyMerge_(h,n);c=a.applyServerOverwrite_(c,new ah(e),f,r,i,o,s)}})),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var s=t.getServerCache().isFiltered(),a=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&a.isFullyInitialized()||a.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,a.getNode().getChild(e),r,i,s,o);if(e.isEmpty()){var u=Df.Empty;return a.getNode().forEachChild(Vh,(function(t,e){u=u.set(new ah(t),e)})),this.applyServerMerge_(t,e,u,r,i,s,o)}return t}var c=Df.Empty;return n.foreach((function(t,n){var r=e.child(t);a.isCompleteForPath(r)&&(c=c.set(t,a.getNode().getChild(r)))})),this.applyServerMerge_(t,e,c,r,i,s,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Hf,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var s=new zf(n,t,r),a=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var l=t.getServerCache().getNode();_c(l instanceof af,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(l)}c=c,u=this.filter_.updateFullNode(a,c,i)}else{var h=e.getFront(),f=n.calcCompleteChild(h,t.getServerCache());null==f&&t.getServerCache().isCompleteForChild(h)&&(f=a.getImmediateChild(h)),(u=null!=f?this.filter_.updateChild(a,h,f,e.popFront(),s,i):t.getEventCache().getNode().hasChild(h)?this.filter_.updateChild(a,h,af.EMPTY_NODE,e.popFront(),s,i):a).isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap())).isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(ah.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Kf=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach((function(t){t.type===Vf.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Vf.childMovedChange(t.childName,t.snapshotNode))})),this.generateEventsForType_(i,Vf.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Vf.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Vf.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Vf.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Vf.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,s=n.filter((function(t){return t.type===e}));s.sort(this.compareChanges_.bind(this)),s.forEach((function(e){var n=o.materializeSingleChange_(e,i);r.forEach((function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))}))}))},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type||(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_)),t},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw Ec("Should only compare child_ events.");var n=new Lh(t.childName,t.snapshotNode),r=new Lh(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Gf=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Uf(n.getIndex()),i=n.getNodeFilter();this.processor_=new Wf(i);var o=e.getServerCache(),s=e.getEventCache(),a=r.updateFullNode(af.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(af.EMPTY_NODE,s.getNode(),null),c=new Ff(a,o.isFullyInitialized(),r.filtersNodes()),l=new Ff(u,s.isFullyInitialized(),i.filtersNodes());this.viewCache_=new jf(l,c),this.eventGenerator_=new Kf(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){_c(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach((function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)}))}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var s=this.eventRegistrations_[o];if(s.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(s)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===kf.MERGE&&null!==t.source.queryId&&(_c(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),_c(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),_c(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];e.getNode().isLeafNode()||e.getNode().forEachChild(Xh,(function(t,e){n.push(Vf.childAddedChange(t,e))}));return e.isFullyInitialized()&&n.push(Vf.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),Xf=function(){function t(){this.views=new Map}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return _c(Nf,"Reference.ts has not been loaded"),Nf},set:function(t){_c(!Nf,"__referenceConstructor has already been defined"),Nf=t},enumerable:!1,configurable:!0}),t.prototype.isEmpty=function(){return 0===this.views.size},t.prototype.applyOperation=function(t,e,n){var r,i,o=t.source.queryId;if(null!==o){var s=this.views.get(o);return _c(null!=s,"SyncTree gave us an op for an invalid query."),s.applyOperation(t,e,n)}var a=[];try{for(var u=A(this.views.values()),c=u.next();!c.done;c=u.next()){s=c.value;a=a.concat(s.applyOperation(t,e,n))}}catch(t){r={error:t}}finally{try{c&&!c.done&&(i=u.return)&&i.call(u)}finally{if(r)throw r.error}}return a},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),s=this.views.get(o);if(!s){var a=n.calcCompleteEventCache(i?r:null),u=!1;a?u=!0:r instanceof af?(a=n.calcCompleteEventChildren(r),u=!1):(a=af.EMPTY_NODE,u=!1);var c=new jf(new Ff(a,u,!1),new Ff(r,i,!1));s=new Gf(t,c),this.views.set(o,s)}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i,o,s=e.queryIdentifier(),a=[],u=[],c=this.hasCompleteView();if("default"===s)try{for(var l=A(this.views.entries()),h=l.next();!h.done;h=l.next()){var f=N(h.value,2),p=f[0],d=f[1];u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(p),d.getQuery().getQueryParams().loadsAllData()||a.push(d.getQuery()))}}catch(t){i={error:t}}finally{try{h&&!h.done&&(o=l.return)&&o.call(l)}finally{if(i)throw i.error}}else(d=this.views.get(s))&&(u=u.concat(d.removeEventRegistration(n,r)),d.isEmpty()&&(this.views.delete(s),d.getQuery().getQueryParams().loadsAllData()||a.push(d.getQuery())));return c&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:u}},t.prototype.getQueryViews=function(){var t,e,n=[];try{for(var r=A(this.views.values()),i=r.next();!i.done;i=r.next()){var o=i.value;o.getQuery().getQueryParams().loadsAllData()||n.push(o)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.getCompleteServerCache=function(t){var e,n,r=null;try{for(var i=A(this.views.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r||s.getCompleteServerCache(t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return this.views.get(e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t,e;try{for(var n=A(this.views.values()),r=n.next();!r.done;r=n.next()){var i=r.value;if(i.getQuery().getQueryParams().loadsAllData())return i}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return null},t}(),Yf=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Df(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,s=ah.relativePath(i,e);return o=o.updateChild(s,n),new t(this.writeTree_.set(i,o))}var a=new Df(n);return new t(this.writeTree_.setTree(e,a))},t.prototype.addWrites=function(t,e){var n=this;return eh(e,(function(e,r){n=n.addWrite(t.child(e),r)})),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,Df.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(ah.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Xh,(function(e,n){t.push(new Lh(e,n))})):this.writeTree_.children.inorderTraversal((function(e,n){null!=n.value&&t.push(new Lh(e,n.value))})),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Df(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(t){return function t(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal((function(n,o){".priority"===n?(_c(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t(e.child(n),o,r)})),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(ah.Empty,this.writeTree_,t)},t.Empty=new t(new Df(null)),t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qf=function(){function t(){this.visibleWrites_=Yf.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Zf(t,this)},t.prototype.addOverwrite=function(t,e,n,r){_c(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){_c(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex((function(e){return e.writeId===t}));_c(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,s=this.allWrites_.length-1;i&&s>=0;){var a=this.allWrites_[s];a.visible&&(s>=n&&this.recordContainsPath_(a,r.path)?i=!1:r.path.contains(a.path)&&(o=!0)),s--}if(i){if(o)return this.resetTree_(),!0;r.snap?this.visibleWrites_=this.visibleWrites_.removeWrite(r.path):eh(r.children,(function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))}));return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(ah.Empty)){var s=t.layerTree_(this.allWrites_,(function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))}),e);c=n||af.EMPTY_NODE;return s.apply(c)}return null}var a=this.visibleWrites_.getCompleteNode(e);if(null!=a)return a;var u=this.visibleWrites_.childCompoundWrite(e);if(u.isEmpty())return n;if(null!=n||u.hasCompleteWrite(ah.Empty)){var c=n||af.EMPTY_NODE;return u.apply(c)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=af.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Xh,(function(t,e){n=n.updateImmediateChild(t,e)})),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Xh,(function(t,e){var r=i.childCompoundWrite(new ah(t)).apply(e);n=n.updateImmediateChild(t,r)})),i.getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach((function(t){n=n.updateImmediateChild(t.name,t.node)})),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){_c(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);return null!=i?i:n.isCompleteForChild(e)?this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e)):null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var s,a=this.visibleWrites_.childCompoundWrite(t),u=a.getCompleteNode(ah.Empty);if(null!=u)s=u;else{if(null==e)return[];s=a.apply(e)}if((s=s.withIndex(o)).isEmpty()||s.isLeafNode())return[];for(var c=[],l=o.getCompare(),h=i?s.getReverseIteratorFrom(n,o):s.getIteratorFrom(n,o),f=h.getNext();f&&c.length<r;)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){if(t.snap)return t.path.contains(e);for(var n in t.children)if(t.children.hasOwnProperty(n)&&t.path.child(n).contains(e))return!0;return!1},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,ah.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Yf.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var s=o.path,a=void 0;if(o.snap)n.contains(s)?(a=ah.relativePath(n,s),r=r.addWrite(a,o.snap)):s.contains(n)&&(a=ah.relativePath(s,n),r=r.addWrite(ah.Empty,o.snap.getChild(a)));else{if(!o.children)throw Ec("WriteRecord should have .snap or .children");if(n.contains(s))a=ah.relativePath(n,s),r=r.addWrites(a,o.children);else if(s.contains(n))if((a=ah.relativePath(s,n)).isEmpty())r=r.addWrites(ah.Empty,o.children);else{var u=Kc(o.children,a.getFront());if(u){var c=u.getChild(a.popFront());r=r.addWrite(ah.Empty,c)}}}}}return r},t}(),Zf=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Jf=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Df.Empty,this.pendingWriteTree_=new Qf,this.tagToQueryMap=new Map,this.queryToTagMap=new Map}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Mf(Of.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=Df.fromObject(e);return this.applyOperationToSyncPoints_(new Lf(Of.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=Df.Empty;return null!=n.snap?r=r.set(ah.Empty,!0):eh(n.children,(function(t,e){r=r.set(new ah(t),e)})),this.applyOperationToSyncPoints_(new Rf(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Mf(Of.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Df.fromObject(e);return this.applyOperationToSyncPoints_(new Lf(Of.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Pf(Of.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=ah.relativePath(s,e),c=new Mf(Of.forServerTaggedQuery(a),u,n);return this.applyTaggedOperation_(s,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),s=o.path,a=o.queryId,u=ah.relativePath(s,e),c=Df.fromObject(n),l=new Lf(Of.forServerTaggedQuery(a),u,c);return this.applyTaggedOperation_(s,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,s=i.queryId,a=ah.relativePath(o,e),u=new Pf(Of.forServerTaggedQuery(s),a);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,(function(t,e){var n=ah.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()}));var s,a=this.syncPointTree_.get(r);(a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(ah.Empty)):(a=new Xf,this.syncPointTree_=this.syncPointTree_.set(r,a)),null!=i)?s=!0:(s=!1,i=af.EMPTY_NODE,this.syncPointTree_.subtree(r).foreachChild((function(t,e){var n=e.getCompleteServerCache(ah.Empty);n&&(i=i.updateImmediateChild(t,n))})));var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);_c(!this.queryToTagMap.has(c),"View does not exist, but we have a tag");var l=t.getNextQueryTag_();this.queryToTagMap.set(c,l),this.tagToQueryMap.set(l,c)}var h=this.pendingWriteTree_.childWrites(r),f=a.addEventRegistration(e,n,h,i,s);if(!u&&!o){var p=a.viewForQuery(e);f=f.concat(this.setupListener_(e,p))}return f},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,s=this.syncPointTree_.get(o),a=[];if(s&&("default"===e.queryIdentifier()||s.viewExistsForQuery(e))){var u=s.removeEventRegistration(e,n,r);s.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;a=u.events;var l=-1!==c.findIndex((function(t){return t.getQueryParams().loadsAllData()})),h=this.syncPointTree_.findOnPath(o,(function(t,e){return e.hasCompleteView()}));if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var p=this.collectDistinctViewsForSubTree_(f),d=0;d<p.length;++d){var v=p[d],g=v.getQuery(),y=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(g),this.tagForQuery_(g),y.hashFn,y.onComplete)}}if(!h&&c.length>0&&!r)if(l){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach((function(e){var n=i.queryToTagMap.get(t.makeQueryKey_(e));i.listenProvider_.stopListening(t.queryForListening_(e),n)}));this.removeTags_(c)}return a},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,(function(e,n){var r=ah.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i}));return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold((function(t,e,n){if(e&&e.hasCompleteView())return[e.getCompleteView()];var r=[];return e&&(r=e.getQueryViews()),eh(n,(function(t,e){r=r.concat(e)})),r}))},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap.get(i);this.queryToTagMap.delete(i),this.tagToQueryMap.delete(o)}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),a=this.syncPointTree_.subtree(r);if(i)_c(!a.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=a.fold((function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map((function(t){return t.getQuery()})))),eh(n,(function(t,e){r=r.concat(e)})),r})),c=0;c<u.length;++c){var l=u[c];this.listenProvider_.stopListening(t.queryForListening_(l),this.tagForQuery_(l))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||af.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"===t?n="Client doesn't have permission to access the desired data.":"unavailable"===t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r}(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return _c(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new ah(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap.get(t)},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return this.queryToTagMap.get(n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);_c(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(ah.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(ah.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(ah.Empty));var o=[],s=t.path.getFront(),a=t.operationForChild(s),u=e.children.get(s);if(u&&a){var c=n?n.getImmediateChild(s):null,l=r.child(s);o=o.concat(this.applyOperationHelper_(a,u,c,l))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(ah.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(ah.Empty));var s=[];return e.children.inorderTraversal((function(e,o){var a=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(s=s.concat(i.applyOperationDescendantsHelper_(c,o,a,u)))})),o&&(s=s.concat(o.applyOperation(t,r,n))),s},t.nextQueryTag_=1,t}(),$f=function(){function t(){this.rootNode_=af.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),tp=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),Wc(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return Sc(this.counters_)},t}(),ep=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new tp),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),np=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=S({},t);return this.last_&&eh(this.last_,(function(t,n){e[t]=e[t]-n})),this.last_=t,e},t}(),rp=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new np(t);var n=1e4+2e4*Math.random();sh(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;eh(e,(function(e,i){i>0&&Wc(t.statsToReport_,e)&&(n[e]=i,r=!0)})),r&&this.server_.reportStats(n),sh(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),ip=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new op(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.equals(t)}))},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_((function(e){return e.contains(t)||t.contains(e)}))},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r)t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),op=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();Vl&&Hl("event: "+e.toString()),oh(n)}}},t.prototype.getPath=function(){return this.path_},t}(),sp=function(){function t(t){this.allowedEvents_=t,this.listeners_={},_c(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=O(this.listeners_[t]),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){_c(this.allowedEvents_.find((function(e){return e===t})),"Unknown event: "+t)},t}(),ap=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!=typeof document&&void 0!==document.addEventListener&&(void 0!==document.hidden?(n="visibilitychange",e="hidden"):void 0!==document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):void 0!==document.msHidden?(n="msvisibilitychange",e="msHidden"):void 0!==document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,(function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))}),!1),r}return T(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return _c("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(sp),up=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"==typeof window||void 0===window.addEventListener||Nc()||(window.addEventListener("online",(function(){e.online_||(e.online_=!0,e.trigger("online",!0))}),!1),window.addEventListener("offline",(function(){e.online_&&(e.online_=!1,e.trigger("online",!1))}),!1)),e}return T(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return _c("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(sp),cp=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=function(){var t=i.pendingResponses[i.currentResponseNum];delete i.pendingResponses[i.currentResponseNum];for(var e=function(e){t[e]&&oh((function(){n.onMessage_(t[e])}))},r=0;r<t.length;++r)e(r);if(i.currentResponseNum===i.closeAfterResponse)return i.onClose&&(i.onClose(),i.onClose=null),"break";i.currentResponseNum++},i=this;this.pendingResponses[this.currentResponseNum];){if("break"===r())break}},t}(),lp=function(){function t(t,e,n,r,i){this.connId=t,this.repoInfo=e,this.applicationId=n,this.transportSessionId=r,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=zl(t),this.stats_=ep.getCollection(e),this.urlFn=function(t){return e.connectionURL("long_polling",t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new cp(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout((function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null}),Math.floor(3e4)),function(t){if("complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",(function(){"complete"===document.readyState&&n()})),window.attachEvent("onload",n))}}((function(){if(!n.isClosed_){n.scriptTagHolder=new hp((function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=N(t,5),i=r[0],o=r[1],s=r[2];r[3],r[4];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"===i)n.id=o,n.password=s;else{if("close"!==i)throw new Error("Unrecognized command received: "+i);o?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(o,(function(){n.onClosed_()}))):n.onClosed_()}}),(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=N(t,2),i=r[0],o=r[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,o)}),(function(){n.onClosed_()}),n.urlFn);var t={start:"t"};t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),n.applicationId&&(t.p=n.applicationId),"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,(function(){}))}}))},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return!!t.forceAllow_||!(t.forceDisallow_||"undefined"==typeof document||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI)},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=zc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n,r=(n=Cc(e),Ic.encodeByteArray(n,!0)),i=th(r,1840),o=0;o<i.length;o++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[o]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){this.myDisconnFrame=document.createElement("iframe");var n={dframe:"t"};n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)},t.prototype.incrementIncomingBytes_=function(t){var e=zc(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),hp=function(){function t(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,this.uniqueCallbackIdentifier=Ll(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)&&(o='<script>document.domain="'+document.domain+'";<\/script>');var s="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(s),this.myIFrame.doc.close()}catch(t){Hl("frame writing exception"),t.stack&&Hl(t.stack),Hl(t)}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||Hl("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var t=this;this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout((function(){null!==t.myIFrame&&(document.body.removeChild(t.myIFrame),t.myIFrame=null)}),Math.floor(0)));var e=this.onDisconnect;e&&(this.onDisconnect=null,e())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e);var r=function(){n.outstandingRequests.delete(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(t,(function(){clearTimeout(i),r()}))},t.prototype.addTag=function(t,e){var n=this;setTimeout((function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){Hl("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}}),Math.floor(1))},t}(),fp="";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var pp=null;"undefined"!=typeof MozWebSocket?pp=MozWebSocket:"undefined"!=typeof WebSocket&&(pp=WebSocket);var dp=function(){function t(e,n,r,i,o){this.connId=e,this.applicationId=r,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=zl(this.connId),this.stats_=ep.getCollection(n),this.connURL=t.connectionURL_(n,i,o)}return t.connectionURL_=function(t,e,n){var r={v:"5"};return"undefined"!=typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Dl.set("previous_websocket_failure",!0);try{if(Pc()){var r=bc?"AdminNode":"Node",i={headers:{"User-Agent":"Firebase/5/"+fp+"/"+process.platform+"/"+r,"X-Firebase-GMPID":this.applicationId||""}},o=process.env,s=0===this.connURL.indexOf("wss://")?o.HTTPS_PROXY||o.https_proxy:o.HTTP_PROXY||o.http_proxy;s&&(i.proxy={origin:s}),this.mySock=new pp(this.connURL,[],i)}else{i={headers:{"X-Firebase-GMPID":this.applicationId||""}};this.mySock=new pp(this.connURL,[],i)}}catch(t){this.log_("Error instantiating WebSocket.");var a=t.message||t.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!=typeof navigator&&navigator.userAgent){var n=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&null!==pp&&!t.forceDisallow_},t.previouslyFailed=function(){return Dl.isInMemoryStorage||!0===Dl.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){Dl.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length===this.totalFrames){var e=this.frames.join("");this.frames=null;var n=Hc(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(_c(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=zc(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=th(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval((function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()}),Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),vp=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[lp,dp]},enumerable:!1,configurable:!0}),t.prototype.initTransports_=function(e){var n,r,i=dp&&dp.isAvailable(),o=i&&!dp.previouslyFailed();if(e.webSocketOnly&&(i||Kl("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),o=!0),o)this.transports_=[dp];else{var s=this.transports_=[];try{for(var a=A(t.ALL_TRANSPORTS),u=a.next();!u.done;u=a.next()){var c=u.value;c&&c.isAvailable()&&s.push(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),gp=function(){function t(t,e,n,r,i,o,s,a){this.id=t,this.repoInfo_=e,this.applicationId_=n,this.onMessage_=r,this.onReady_=i,this.onDisconnect_=o,this.onKill_=s,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=zl("c:"+this.id+":"),this.transportManager_=new vp(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout((function(){t.conn_&&t.conn_.open(n,r)}),Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=sh((function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))}),Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!==e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=Jl("t",t),n=Jl("d",t);if("c"===e)this.onSecondaryControl_(n);else{if("d"!==e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=Jl("t",t),n=Jl("d",t);"c"===e?this.onControl_(n):"d"===e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=Jl("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?ql("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ql("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&Kl("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),sh((function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())}),Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sh((function(){n.sendPingOnPrimaryIfNecessary_()}),Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Dl.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),yp=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),mp=function(t){function e(n,r,i,o,s,a,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.applicationId_=r,c.onDataUpdate_=i,c.onConnectStatus_=o,c.onServerInfoUpdate_=s,c.authTokenProvider_=a,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=zl("p:"+c.id+":"),c.interruptReasons_={},c.listens=new Map,c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=1e3,c.maxReconnectDelay_=3e5,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!Pc())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),ap.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&up.getInstance().on("online",c.onOnline_,c),c}return T(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(zc(i)),_c(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens.has(o)||this.listens.set(o,new Map),_c(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),_c(!this.listens.get(o).has(i),"listen() called twice for same path/queryId.");var s={onComplete:r,hashFn:e,query:t,tag:n};this.listens.get(o).set(i,s),this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var s={p:i};t.tag&&(s.q=r.queryObject(),s.t=t.tag),s.h=t.hashFn(),this.sendRequest("q",s,(function(s){var a=s.d,u=s.s;e.warnOnListenWarnings_(a,r),(n.listens.get(i)&&n.listens.get(i).get(o))===t&&(n.log_("listen response",s),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,a))}))},e.warnOnListenWarnings_=function(t,e){if(t&&"object"==typeof t&&Wc(t,"w")){var n=Kc(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();Kl("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},(function(){})),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e;(t&&40===t.length||"object"==typeof(e=qc(t).claims)&&!0===e.admin)&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t,e=this;if(this.connected_&&this.authToken_){var n=this.authToken_,r=(t=qc(n).claims)&&"object"==typeof t&&t.hasOwnProperty("iat")?"auth":"gauth",i={cred:n};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,(function(t){var r=t.s,i=t.d||"error";e.authToken_===n&&("ok"===r?e.invalidAuthTokenCount_=0:e.onAuthRevoked_(r,i))}))}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),_c(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,(function(t){r&&setTimeout((function(){r(t.s,t.d)}),Math.floor(0))}))},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var s=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(s):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,(function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)}))},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,(function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}}))}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+zc(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):ql("Unrecognized action received from server: "+zc(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;_c(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout((function(){e.establishConnectionTimer_=null,e.establishConnection_()}),Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){(new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=1e3),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var t=(new Date).getTime()-this.lastConnectionAttemptTime_,e=Math.max(0,this.reconnectDelay_-t);e=Math.random()*e,this.log_("Trying to reconnect in "+e+"ms"),this.scheduleConnect_(e),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,s=this.lastSessionId,a=!1,u=null,c=function(){u?u.close():(a=!0,r())};this.realtime_={close:c,sendRequest:function(t){_c(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)}};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then((function(e){a?Hl("getToken() completed but was canceled"):(Hl("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new gp(i,o.repoInfo_,o.applicationId_,t,n,r,(function(t){Kl(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")}),s))})).then(null,(function(t){o.log_("Failed to get token: "+t),a||c()}))}},e.prototype.interrupt=function(t){Hl("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){Hl("Resuming connection for reason: "+t),delete this.interruptReasons_[t],Gc(this.interruptReasons_)&&(this.reconnectDelay_=1e3,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map((function(t){return $l(t)})).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new ah(t).toString();if(this.listens.has(r)){var i=this.listens.get(r);n=i.get(e),i.delete(e),0===i.size&&this.listens.delete(r)}else n=void 0;return n},e.prototype.onAuthRevoked_=function(t,e){Hl("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t,e,n,r;this.tryAuth();try{for(var i=A(this.listens.values()),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,A(s.values())),u=a.next();!u.done;u=a.next()){var c=u.value;this.sendListen_(c)}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}for(var l=0;l<this.outstandingPuts_.length;l++)this.outstandingPuts_[l]&&this.sendPut_(l);for(;this.onDisconnectRequestQueue_.length;){var h=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(h.action,h.pathString,h.data,h.onComplete)}},e.prototype.sendConnectStats_=function(){var t={};t["sdk.js."+fp.replace(/\./g,"-")]=1,Nc()?t["framework.cordova"]=1:Dc()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=up.getInstance().currentlyOnline();return Gc(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(yp),bp=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=zl("p:rest:"),i.listens_={},i}return T(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(_c(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var a=e.getListenId_(t,r),u={};this.listens_[a]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",c,(function(t,e){var n=e;(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(s,n,!1,r),Kc(o.listens_,a)===u)&&i(t?401===t?"permission_denied":"rest_error:"+t:"ok",null)}))},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then((function(i){var o=i&&i.accessToken;o&&(e.auth=o);var s=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?ns="+r.repoInfo_.namespace+function(t){for(var e=[],n=function(t,n){Array.isArray(n)?n.forEach((function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))})):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))},r=0,i=Object.entries(t);r<i.length;r++){var o=i[r];n(o[0],o[1])}return e.length?"&"+e.join("&"):""}(e);r.log_("Sending REST request for "+s);var a=new XMLHttpRequest;a.onreadystatechange=function(){if(n&&4===a.readyState){r.log_("REST Response for "+s+" received. status:",a.status,"response:",a.responseText);var t=null;if(a.status>=200&&a.status<300){try{t=Hc(a.responseText)}catch(t){Kl("Failed to parse JSON response for "+s+": "+a.responseText)}n(null,t)}else 401!==a.status&&404!==a.status&&Kl("Got unsuccessful REST response for "+s+" Status: "+a.status),n(a.status);n=null}},a.open("GET",s,!0),a.send()}))},e}(yp),wp=function(){function t(t,e,n,r){var i=this;if(this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ip,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new xf,this.persistentConnection_=null,this.stats_=ep.getCollection(t),e||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)this.server_=new bp(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if(null!=o){if("object"!=typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{zc(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new mp(this.repoInfo_,n.options.appId,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,o),this.server_=this.persistentConnection_}r.addTokenChangeListener((function(t){i.server_.refreshAuthToken(t)})),this.statsReporter_=ep.getOrCreateReporter(t,(function(){return new rp(i.stats_,i.server_)})),this.transactionsInit_(),this.infoData_=new $f,this.infoSyncTree_=new Jf({startListening:function(t,e,n,r){var o=[],s=i.infoData_.getNode(t.path);return s.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,s),setTimeout((function(){r("ok")}),0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Jf({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,(function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)})),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new ah(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t},t.prototype.generateServerValues=function(){return(t=(t={timestamp:this.serverTime()})||{}).timestamp=t.timestamp||(new Date).getTime(),t;var t},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new ah(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var s=Xc(e,(function(t){return cf(t)}));o=this.serverSyncTree_.applyTaggedQueryMerge(i,s,r)}else{var a=cf(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,a,r)}else if(n){var u=Xc(e,(function(t){return cf(t)}));o=this.serverSyncTree_.applyServerMerge(i,u)}else{var c=cf(e);o=this.serverSyncTree_.applyServerOverwrite(i,c)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;eh(t,(function(t,n){e.updateInfo_(t,n)}))},t.prototype.updateInfo_=function(t,e){var n=new ah("/.info/"+t),r=cf(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),s=cf(e,n),a=this.serverSyncTree_.calcCompleteEventCache(t),u=Tf(s,a,o),c=this.getNextWriteId_(),l=this.serverSyncTree_.applyUserOverwrite(t,u,c,!0);this.eventQueue_.queueEvents(l),this.server_.put(t.toString(),s.val(!0),(function(e,n){var o="ok"===e;o||Kl("set at "+t+" failed: "+e);var s=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,s),i.callOnCompleteCallback(r,e,n)}));var h=this.abortTransactions_(t);this.rerunTransactions_(h),this.eventQueue_.raiseEventsForChangedPath(h,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),s={};if(eh(e,(function(e,n){i=!1,s[e]=If(t.child(e),cf(n),r.serverSyncTree_,o)})),i)Hl("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var a=this.getNextWriteId_(),u=this.serverSyncTree_.applyUserMerge(t,s,a);this.eventQueue_.queueEvents(u),this.server_.merge(t.toString(),e,(function(e,i){var o="ok"===e;o||Kl("update at "+t+" failed: "+e);var s=r.serverSyncTree_.ackUserWrite(a,!o),u=s.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,s),r.callOnCompleteCallback(n,e,i)})),eh(e,(function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)})),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=new xf;this.onDisconnect_.forEachTree(ah.Empty,(function(r,i){var o=If(r,i,t.serverSyncTree_,e);n.remember(r,o)}));var r=[];n.forEachTree(ah.Empty,(function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)})),this.onDisconnect_=new xf,this.eventQueue_.raiseEventsForChangedPath(ah.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),(function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)}))},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=cf(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),(function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)}))},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=cf(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),(function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)}))},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(Gc(e))return Hl("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,(function(i,o){"ok"===i&&eh(e,(function(e,n){var i=cf(n);r.onDisconnect_.remember(t.child(e),i)})),r.callOnCompleteCallback(n,i,o)}))},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!=typeof console){var e;t?(this.statsListener_||(this.statsListener_=new np(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce((function(t,e){return Math.max(e.length,t)}),0);eh(e,(function(t,e){for(var r=t,i=t.length;i<n+2;i++)r+=" ";console.log(r+e)}))}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),Hl.apply(void 0,O([n],t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&oh((function(){if("ok"===e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}}))},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Op(this))},enumerable:!1,configurable:!0}),t}(),_p=function(){function t(e){this.indexedFilter_=new Uf(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Lh(e,n))||(n=af.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=af.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(af.EMPTY_NODE);var i=this;return e.forEachChild(Xh,(function(t,e){i.matches(new Lh(t,e))||(r=r.updateImmediateChild(t,af.EMPTY_NODE))})),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),Ep=function(){function t(t){this.rangedFilter_=new _p(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Lh(e,n))||(n=af.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=af.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=af.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var s=i.getNext();if(!(this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),s)<=0:this.index_.compare(s,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(s.name,s.node),o++}}else{r=(r=e.withIndex(this.index_)).updatePriority(af.EMPTY_NODE);var a=void 0,u=void 0,c=void 0;i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),a=this.rangedFilter_.getEndPost(),u=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();c=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),a=this.rangedFilter_.getStartPost(),u=this.rangedFilter_.getEndPost(),c=this.index_.getCompare();o=0;for(var h=!1;i.hasNext();){s=i.getNext();!h&&c(a,s)<=0&&(h=!0),h&&o<this.limit_&&c(s,u)<=0?o++:r=r.updateImmediateChild(s.name,af.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var s=this.index_.getCompare();o=function(t,e){return s(e,t)}}else o=this.index_.getCompare();var a=t;_c(a.numChildren()===this.limit_,"");var u=new Lh(e,n),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),l=this.rangedFilter_.matches(u);if(a.hasChild(e)){for(var h=a.getImmediateChild(e),f=r.getChildAfterChild(this.index_,c,this.reverse_);null!=f&&(f.name===e||a.hasChild(f.name));)f=r.getChildAfterChild(this.index_,f,this.reverse_);var p=null==f?1:o(f,u);if(l&&!n.isEmpty()&&p>=0)return null!=i&&i.trackChildChange(Vf.childChangedChange(e,n,h)),a.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Vf.childRemovedChange(e,h));var d=a.updateImmediateChild(e,af.EMPTY_NODE);return null!=f&&this.rangedFilter_.matches(f)?(null!=i&&i.trackChildChange(Vf.childAddedChange(f.name,f.node)),d.updateImmediateChild(f.name,f.node)):d}return n.isEmpty()?t:l&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Vf.childRemovedChange(c.name,c.node)),i.trackChildChange(Vf.childAddedChange(e,n))),a.updateImmediateChild(e,n).updateImmediateChild(c.name,af.EMPTY_NODE)):t},t}(),Cp=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Xh}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return _c(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return _c(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Xl},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return _c(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return _c(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Yl},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return _c(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Xh&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_===Xh},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Uf(this.getIndex()):this.hasLimit()?new Ep(this):new _p(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,r={};return this.isDefault()||(this.index_===Xh?e=n.PRIORITY_INDEX:this.index_===hf?e=n.VALUE_INDEX:this.index_===Vh?e=n.KEY_INDEX:(_c(this.index_ instanceof ff,"Unrecognized index type!"),e=this.index_.toString()),r[n.ORDER_BY]=zc(e),this.startSet_&&(r[n.START_AT]=zc(this.indexStartValue_),this.startNameSet_&&(r[n.START_AT]+=","+zc(this.indexStartName_))),this.endSet_&&(r[n.END_AT]=zc(this.indexEndValue_),this.endNameSet_&&(r[n.END_AT]+=","+zc(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?r[n.LIMIT_TO_FIRST]=this.limit_:r[n.LIMIT_TO_LAST]=this.limit_)),r},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),Ip=function(t){function e(e,n){if(!(e instanceof wp))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,Cp.DEFAULT,!1)||this}return T(e,t),e.prototype.getKey=function(){return $c("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return $c("Reference.child",1,1,arguments.length),"number"==typeof t?t=String(t):t instanceof ah||(null===this.path.getFront()?Ah("Reference.child",1,t,!1):xh("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){$c("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){$c("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){$c("Reference.set",1,2,arguments.length),Nh("Reference.set",this.path),Eh("Reference.set",1,t,this.path,!1),el("Reference.set",2,e,!0);var n=new xc;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if($c("Reference.update",1,2,arguments.length),Nh("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,Kl("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}Ih("Reference.update",1,t,this.path,!1),el("Reference.update",2,e,!0);var i=new xc;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if($c("Reference.setWithPriority",2,3,arguments.length),Nh("Reference.setWithPriority",this.path),Eh("Reference.setWithPriority",1,t,this.path,!1),Th("Reference.setWithPriority",2,e,!1),el("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new xc;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return $c("Reference.remove",0,1,arguments.length),Nh("Reference.remove",this.path),el("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if($c("Reference.transaction",1,3,arguments.length),Nh("Reference.transaction",this.path),el("Reference.transaction",1,t,!1),el("Reference.transaction",2,e,!0),Rh("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new xc;"function"==typeof e&&r.promise.catch((function(){}));var i=function(t,n,i){t?r.reject(t):r.resolve(new Ph(n,i)),"function"==typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){$c("Reference.setPriority",1,2,arguments.length),Nh("Reference.setPriority",this.path),Th("Reference.setPriority",1,t,!1),el("Reference.setPriority",2,e,!0);var n=new xc;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){$c("Reference.push",0,2,arguments.length),Nh("Reference.push",this.path),Eh("Reference.push",1,t,this.path,!0),el("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Mh(r),o=this.child(i),s=this.child(i);return n=null!=t?o.set(t,e).then((function(){return s})):Promise.resolve(s),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"==typeof e&&n.catch((function(){})),o},e.prototype.onDisconnect=function(){return Nh("Reference.onDisconnect",this.path),new Dh(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!1,configurable:!0}),e}(mf);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mf.__referenceConstructor=Ip,Xf.__referenceConstructor=Ip;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Tp,Sp=function(){this.children={},this.childCount=0,this.value=null},kp=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new Sp),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n=e instanceof ah?e:new ah(e),r=this,i=n.getFront();null!==i;){r=new t(i,r,Kc(r.node_.children,i)||new Sp),i=(n=n.popFront()).getFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){_c(void 0!==t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;eh(this.node_.children,(function(r,i){e(new t(r,n,i))}))},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild((function(e){e.forEachDescendant(t,!0,n)})),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild((function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)}))},t.prototype.path=function(){return new ah(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=Wc(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(Tp||(Tp={})),wp.MAX_TRANSACTION_RETRIES_=25,wp.prototype.transactionsInit_=function(){this.transactionQueueTree_=new kp},wp.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new Ip(this,t);o.on("value",i);var s={path:t,update:e,onComplete:n,status:null,order:Ll(),applyLocally:r,retryCount:0,unwatcher:function(){o.off("value",i)},abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},a=this.getLatestState_(t);s.currentInputSnapshot=a;var u=s.update(a.val());if(void 0===u){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var c=new pf(s.currentInputSnapshot,new Ip(this,s.path),Xh);s.onComplete(null,!1,c)}}else{Ch("transaction failed: Data returned ",u,s.path),s.status=Tp.RUN;var l=this.transactionQueueTree_.subTree(t),h=l.getValue()||[];h.push(s),l.setValue(h);var f=void 0;if("object"==typeof u&&null!==u&&Wc(u,".priority"))f=Kc(u,".priority"),_c(_h(f),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else f=(this.serverSyncTree_.calcCompleteEventCache(t)||af.EMPTY_NODE).getPriority().val();f=f;var p=this.generateServerValues(),d=cf(u,f),v=Tf(d,a,p);s.currentOutputSnapshotRaw=d,s.currentOutputSnapshotResolved=v,s.currentWriteId=this.getNextWriteId_();var g=this.serverSyncTree_.applyUserOverwrite(t,v,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,g),this.sendReadyTransactions_()}},wp.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||af.EMPTY_NODE},wp.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);_c(n.length>0,"Sending zero length transaction queue"),n.every((function(t){return t.status===Tp.RUN}))&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild((function(t){e.sendReadyTransactions_(t)}))},wp.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map((function(t){return t.currentWriteId})),i=this.getLatestState_(t,r),o=i,s=i.hash(),a=0;a<e.length;a++){var u=e[a];_c(u.status===Tp.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=Tp.SENT,u.retryCount++;var c=ah.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var l=o.val(!0),h=t;this.server_.put(h.toString(),l,(function(r){n.log_("transaction put response",{path:h.toString(),status:r});var i=[];if("ok"===r){for(var o=[],s=0;s<e.length;s++){if(e[s].status=Tp.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[s].currentWriteId)),e[s].onComplete){var a=e[s].currentOutputSnapshotResolved,u=new Ip(n,e[s].path),c=new pf(a,u,Xh);o.push(e[s].onComplete.bind(null,null,!0,c))}e[s].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(s=0;s<o.length;s++)oh(o[s])}else{if("datastale"===r)for(s=0;s<e.length;s++)e[s].status===Tp.SENT_NEEDS_ABORT?e[s].status=Tp.NEEDS_ABORT:e[s].status=Tp.RUN;else{Kl("transaction at "+h.toString()+" failed: "+r);for(s=0;s<e.length;s++)e[s].status=Tp.NEEDS_ABORT,e[s].abortReason=r}n.rerunTransactions_(t)}}),s)},wp.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},wp.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n,r=[],i=[],o=t.filter((function(t){return t.status===Tp.RUN})).map((function(t){return t.currentWriteId})),s=0;s<t.length;s++){var a=t[s],u=ah.relativePath(e,a.path),c=!1,l=void 0;if(_c(null!==u,"rerunTransactionsUnderNode_: relativePath should not be null."),a.status===Tp.NEEDS_ABORT)c=!0,l=a.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else if(a.status===Tp.RUN)if(a.retryCount>=wp.MAX_TRANSACTION_RETRIES_)c=!0,l="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0));else{var h=this.getLatestState_(a.path,o);a.currentInputSnapshot=h;var f=t[s].update(h.val());if(void 0!==f){Ch("transaction failed: Data returned ",f,a.path);var p=cf(f);"object"==typeof f&&null!=f&&Wc(f,".priority")||(p=p.updatePriority(h.getPriority()));var d=a.currentWriteId,v=this.generateServerValues(),g=Tf(p,h,v);a.currentOutputSnapshotRaw=p,a.currentOutputSnapshotResolved=g,a.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(d),1),i=(i=i.concat(this.serverSyncTree_.applyUserOverwrite(a.path,g,a.currentWriteId,a.applyLocally))).concat(this.serverSyncTree_.ackUserWrite(d,!0))}else c=!0,l="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(a.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],c&&(t[s].status=Tp.COMPLETED,n=t[s].unwatcher,setTimeout(n,Math.floor(0)),t[s].onComplete))if("nodata"===l){var y=new Ip(this,t[s].path),m=t[s].currentInputSnapshot,b=new pf(m,y,Xh);r.push(t[s].onComplete.bind(null,null,!1,b))}else r.push(t[s].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<r.length;s++)oh(r[s]);this.sendReadyTransactions_()}},wp.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;for(e=t.getFront();null!==e&&null===n.getValue();)n=n.subTree(e),e=(t=t.popFront()).getFront();return n},wp.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort((function(t,e){return t.order-e.order})),e},wp.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild((function(t){n.aggregateTransactionQueuesForNode_(t,e)}))},wp.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==Tp.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild((function(t){e.pruneCompletedTransactionsBelowNode_(t)}))},wp.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor((function(t){e.abortTransactionsOnNode_(t)})),this.abortTransactionsOnNode_(r),r.forEachDescendant((function(t){e.abortTransactionsOnNode_(t)})),n},wp.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===Tp.SENT_NEEDS_ABORT);else if(e[o].status===Tp.SENT)_c(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=Tp.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(_c(e[o].status===Tp.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(o=0;o<n.length;o++)oh(n[o])}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var xp,Ap=function(){function t(t,e){var n=this;this.app_=t,this.authProvider_=e,this.auth_=null,this.auth_=e.getImmediate({optional:!0}),this.auth_||e.get().then((function(t){return n.auth_=t}))}return t.prototype.getToken=function(t){return this.auth_?this.auth_.getToken(t).catch((function(t){return t&&"auth/token-not-initialized"===t.code?(Hl("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})):Promise.resolve(null)},t.prototype.addTokenChangeListener=function(t){this.auth_?this.auth_.addAuthTokenListener(t):(setTimeout((function(){return t(null)}),0),this.authProvider_.get().then((function(e){return e.addAuthTokenListener(t)})))},t.prototype.removeTokenChangeListener=function(t){this.authProvider_.get().then((function(e){return e.removeAuthTokenListener(t)}))},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Kl(t)},t}(),Np=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return xp||(xp=new t),xp},t.prototype.interrupt=function(){var t,e,n,r;try{for(var i=A(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,A(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].interrupt()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.resume=function(){var t,e,n,r;try{for(var i=A(Object.keys(this.repos_)),o=i.next();!o.done;o=i.next()){var s=o.value;try{for(var a=(n=void 0,A(Object.keys(this.repos_[s]))),u=a.next();!u.done;u=a.next()){var c=u.value;this.repos_[s][c].resume()}}catch(t){n={error:t}}finally{try{u&&!u.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}}}catch(e){t={error:e}}finally{try{o&&!o.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},t.prototype.databaseFromApp=function(t,e,n){var r=n||t.options.databaseURL;void 0===r&&Wl("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var i=vh(r),o=i.repoInfo,s=void 0;"undefined"!=typeof process&&(s=process.env.FIREBASE_DATABASE_EMULATOR_HOST),s?(!0,r="http://"+s+"?ns="+o.namespace,o=(i=vh(r)).repoInfo):i.repoInfo.secure;var a=new Ap(t,e);return Oh("Invalid Firebase Database URL",1,i),i.path.isEmpty()||Wl("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(o,t,a).database},t.prototype.deleteRepo=function(t){var e=Kc(this.repos_,t.app.name);e&&Kc(e,t.repoInfo_.toURLString())===t||Wl("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e,n){var r=Kc(this.repos_,e.name);r||(r={},this.repos_[e.name]=r);var i=Kc(r,t.toURLString());return i&&Wl("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new wp(t,this.useRestClient_,e,n),r[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Op=function(){function t(t){this.repo_=t,t instanceof wp||Wl("Don't call new Database() directly - please use firebase.database()."),this.root_=new Ip(t,ah.Empty),this.INTERNAL=new Rp(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!1,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),$c("database.ref",0,1,arguments.length),t instanceof Ip?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),$c(e,1,1,arguments.length);var n=vh(t);Oh(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&Wl(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&Wl("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){$c("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){$c("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"},increment:function(t){return{".sv":{increment:t}}}},t}(),Rp=function(){function t(t){this.database=t}return t.prototype.delete=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){return this.database.checkDeleted_("delete"),Np.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]}))}))},t}(),Dp=Object.freeze({__proto__:null,forceLongPolling:function(){dp.forceDisallow(),lp.forceAllow()},forceWebSockets:function(){lp.forceDisallow()},isWebSocketsAvailable:function(){return dp.isAvailable()},setSecurityDebugCallback:function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},stats:function(t,e){t.repo.stats(e)},statsIncrementCounter:function(t,e){t.repo.statsIncrementCounter(e)},dataUpdateCount:function(t){return t.repo.dataUpdateCount},interceptServerData:function(t,e){return t.repo.interceptServerData_(e)}}),Pp=mp;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mp.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},mp.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Mp,Lp=gp,Fp=ch,jp=Object.freeze({__proto__:null,DataConnection:Pp,RealTimeConnection:Lp,hijackHash:function(t){var e=mp.prototype.put;return mp.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){mp.prototype.put=e}},ConnectionTarget:Fp,queryIdentifier:function(t){return t.queryIdentifier()},forceRestClient:function(t){Np.getInstance().forceRestClient(t)}}),Vp=Op.ServerValue;(function(t){fp=t})((Mp=Al).SDK_VERSION),Mp.INTERNAL.registerComponent(new il("database",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return Np.getInstance().databaseFromApp(n,r,e)}),"PUBLIC").setServiceProps({Reference:Ip,Query:mf,Database:Op,DataSnapshot:pf,enableLogging:Bl,INTERNAL:Dp,ServerValue:Vp,TEST_ACCESS:jp}).setMultipleInstances(!0)),Mp.registerVersion("@firebase/database","0.6.11");
/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */
var Up=function(t,e){return(Up=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function Bp(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}var Hp,zp="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},qp=qp||{},Wp=zp||self;function Kp(){}function Gp(t){var e=typeof t;return"object"!=e?e:t?Array.isArray(t)?"array":e:"null"}function Xp(t){var e=Gp(t);return"array"==e||"object"==e&&"number"==typeof t.length}function Yp(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var Qp="closure_uid_"+(1e9*Math.random()>>>0),Zp=0;function Jp(t,e,n){return t.call.apply(t.bind,arguments)}function $p(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function td(t,e,n){return(td=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Jp:$p).apply(null,arguments)}function ed(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var nd=Date.now;function rd(t,e){function n(){}n.prototype=e.prototype,t.S=e.prototype,t.prototype=new n,t.prototype.constructor=t}function id(){this.j=this.j,this.i=this.i}id.prototype.j=!1,id.prototype.ja=function(){if(!this.j&&(this.j=!0,this.G(),0))(function(t){Object.prototype.hasOwnProperty.call(t,Qp)&&t[Qp]||(t[Qp]=++Zp)})(this)},id.prototype.G=function(){if(this.i)for(;this.i.length;)this.i.shift()()};var od=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if("string"==typeof t)return"string"!=typeof e||1!=e.length?-1:t.indexOf(e,0);for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},sd=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var r=t.length,i="string"==typeof t?t.split(""):t,o=0;o<r;o++)o in i&&e.call(n,i[o],o,t)};function ad(t){return Array.prototype.concat.apply([],arguments)}function ud(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function cd(t){return/^[\s\xa0]*$/.test(t)}var ld,hd=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function fd(t,e){return-1!=t.indexOf(e)}function pd(t,e){return t<e?-1:t>e?1:0}t:{var dd=Wp.navigator;if(dd){var vd=dd.userAgent;if(vd){ld=vd;break t}}ld=""}function gd(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function yd(t){var e={};for(var n in t)e[n]=t[n];return e}var md="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bd(t,e){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])t[n]=r[n];for(var o=0;o<md.length;o++)n=md[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function wd(t){return wd[" "](t),t}wd[" "]=Kp;var _d,Ed,Cd=fd(ld,"Opera"),Id=fd(ld,"Trident")||fd(ld,"MSIE"),Td=fd(ld,"Edge"),Sd=Td||Id,kd=fd(ld,"Gecko")&&!(fd(ld.toLowerCase(),"webkit")&&!fd(ld,"Edge"))&&!(fd(ld,"Trident")||fd(ld,"MSIE"))&&!fd(ld,"Edge"),xd=fd(ld.toLowerCase(),"webkit")&&!fd(ld,"Edge");function Ad(){var t=Wp.document;return t?t.documentMode:void 0}t:{var Nd="",Od=(Ed=ld,kd?/rv:([^\);]+)(\)|;)/.exec(Ed):Td?/Edge\/([\d\.]+)/.exec(Ed):Id?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Ed):xd?/WebKit\/(\S+)/.exec(Ed):Cd?/(?:Version)[ \/]?(\S+)/.exec(Ed):void 0);if(Od&&(Nd=Od?Od[1]:""),Id){var Rd=Ad();if(null!=Rd&&Rd>parseFloat(Nd)){_d=String(Rd);break t}}_d=Nd}var Dd,Pd={};function Md(t){return function(t,e){var n=Pd;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}(t,(function(){for(var e=0,n=hd(String(_d)).split("."),r=hd(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var s=n[o]||"",a=r[o]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],0==s[0].length&&0==a[0].length)break;e=pd(0==s[1].length?0:parseInt(s[1],10),0==a[1].length?0:parseInt(a[1],10))||pd(0==s[2].length,0==a[2].length)||pd(s[2],a[2]),s=s[3],a=a[3]}while(0==e)}return 0<=e}))}if(Wp.document&&Id){var Ld=Ad();Dd=Ld||(parseInt(_d,10)||void 0)}else Dd=void 0;var Fd=Dd,jd=!Id||9<=Number(Fd),Vd=Id&&!Md("9"),Ud=function(){if(!Wp.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Wp.addEventListener("test",Kp,e),Wp.removeEventListener("test",Kp,e)}catch(t){}return t}();function Bd(t,e){this.type=t,this.a=this.target=e,this.defaultPrevented=!1}function Hd(t,e){if(Bd.call(this,t?t.type:""),this.relatedTarget=this.a=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.c=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.a=e,e=t.relatedTarget){if(kd){t:{try{wd(e.nodeName);var i=!0;break t}catch(t){}i=!1}i||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType="string"==typeof t.pointerType?t.pointerType:zd[t.pointerType]||"",this.c=t,t.defaultPrevented&&this.b()}}Bd.prototype.b=function(){this.defaultPrevented=!0},rd(Hd,Bd);var zd={2:"touch",3:"pen",4:"mouse"};Hd.prototype.b=function(){Hd.S.b.call(this);var t=this.c;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Vd)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var qd="closure_listenable_"+(1e6*Math.random()|0),Wd=0;function Kd(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.ca=i,this.key=++Wd,this.Y=this.Z=!1}function Gd(t){t.Y=!0,t.listener=null,t.proxy=null,t.src=null,t.ca=null}function Xd(t){this.src=t,this.a={},this.b=0}function Yd(t,e){var n=e.type;if(n in t.a){var r,i=t.a[n],o=od(i,e);(r=0<=o)&&Array.prototype.splice.call(i,o,1),r&&(Gd(e),0==t.a[n].length&&(delete t.a[n],t.b--))}}function Qd(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Y&&o.listener==e&&o.capture==!!n&&o.ca==r)return i}return-1}Xd.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var s=Qd(t,e,r,i);return-1<s?(e=t[s],n||(e.Z=!1)):((e=new Kd(e,this.src,o,!!r,i)).Z=n,t.push(e)),e};var Zd="closure_lm_"+(1e6*Math.random()|0),Jd={};function $d(t,e,n,r,i){if(r&&r.once)return function t(e,n,r,i,o){if(Array.isArray(n)){for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);return null}return r=av(r),e&&e[qd]?e.wa(n,r,Yp(i)?!!i.capture:!!i,o):tv(e,n,r,!0,i,o)}(t,e,n,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)$d(t,e[o],n,r,i);return null}return n=av(n),t&&t[qd]?t.va(e,n,Yp(r)?!!r.capture:!!r,i):tv(t,e,n,!1,r,i)}function tv(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var s=Yp(i)?!!i.capture:!!i;if(s&&!jd)return null;var a=ov(t);if(a||(t[Zd]=a=new Xd(t)),(n=a.add(e,n,r,s,o)).proxy)return n;if(r=function(){var t=iv,e=jd?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Ud||(i=s),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(nv(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function ev(t){if("number"!=typeof t&&t&&!t.Y){var e=t.src;if(e&&e[qd])Yd(e.c,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(nv(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=ov(e))?(Yd(n,t),0==n.b&&(n.src=null,e[Zd]=null)):Gd(t)}}}function nv(t){return t in Jd?Jd[t]:Jd[t]="on"+t}function rv(t,e){var n=t.listener,r=t.ca||t.src;return t.Z&&ev(t),n.call(r,e)}function iv(t,e){if(t.Y)return!0;if(!jd){if(!e)t:{e=["window","event"];for(var n=Wp,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}return rv(t,e=new Hd(e,this))}return rv(t,new Hd(e,this))}function ov(t){return(t=t[Zd])instanceof Xd?t:null}var sv="__closure_events_fn_"+(1e9*Math.random()>>>0);function av(t){return"function"==Gp(t)?t:(t[sv]||(t[sv]=function(e){return t.handleEvent(e)}),t[sv])}function uv(){id.call(this),this.c=new Xd(this),this.J=this,this.C=null}function cv(t,e,n,r){if(!(e=t.c.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var s=e[o];if(s&&!s.Y&&s.capture==n){var a=s.listener,u=s.ca||s.src;s.Z&&Yd(t.c,s),i=!1!==a.call(u,r)&&i}}return i&&!r.defaultPrevented}rd(uv,id),uv.prototype[qd]=!0,(Hp=uv.prototype).addEventListener=function(t,e,n,r){$d(this,t,e,n,r)},Hp.removeEventListener=function(t,e,n,r){!function t(e,n,r,i,o){if(Array.isArray(n))for(var s=0;s<n.length;s++)t(e,n[s],r,i,o);else i=Yp(i)?!!i.capture:!!i,r=av(r),e&&e[qd]?(e=e.c,(n=String(n).toString())in e.a&&(-1<(r=Qd(s=e.a[n],r,i,o))&&(Gd(s[r]),Array.prototype.splice.call(s,r,1),0==s.length&&(delete e.a[n],e.b--)))):e&&(e=ov(e))&&(n=e.a[n.toString()],e=-1,n&&(e=Qd(n,r,i,o)),(r=-1<e?n[e]:null)&&ev(r))}(this,t,e,n,r)},Hp.dispatchEvent=function(t){var e,n=this.C;if(n)for(e=[];n;n=n.C)e.push(n);n=this.J;var r=t.type||t;if("string"==typeof t)t=new Bd(t,n);else if(t instanceof Bd)t.target=t.target||n;else{var i=t;bd(t=new Bd(r,n),i)}if(i=!0,e)for(var o=e.length-1;0<=o;o--){var s=t.a=e[o];i=cv(s,r,!0,t)&&i}if(i=cv(s=t.a=n,r,!0,t)&&i,i=cv(s,r,!1,t)&&i,e)for(o=0;o<e.length;o++)i=cv(s=t.a=e[o],r,!1,t)&&i;return i},Hp.G=function(){if(uv.S.G.call(this),this.c){var t,e=this.c;for(t in e.a){for(var n=e.a[t],r=0;r<n.length;r++)Gd(n[r]);delete e.a[t],e.b--}}this.C=null},Hp.va=function(t,e,n,r){return this.c.add(String(t),e,!1,n,r)},Hp.wa=function(t,e,n,r){return this.c.add(String(t),e,!0,n,r)};var lv=Wp.JSON.stringify;function hv(){this.b=this.a=null}var fv,pv=new(function(){function t(t,e,n){this.f=n,this.c=t,this.g=e,this.b=0,this.a=null}return t.prototype.get=function(){var t;return 0<this.b?(this.b--,t=this.a,this.a=t.next,t.next=null):t=this.c(),t},t}())((function(){return new vv}),(function(t){t.reset()}),100);function dv(){var t=bv,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function vv(){this.next=this.b=this.a=null}function gv(t){Wp.setTimeout((function(){throw t}),0)}function yv(t,e){fv||function(){var t=Wp.Promise.resolve(void 0);fv=function(){t.then(wv)}}(),mv||(fv(),mv=!0),bv.add(t,e)}hv.prototype.add=function(t,e){var n=pv.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},vv.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},vv.prototype.reset=function(){this.next=this.b=this.a=null};var mv=!1,bv=new hv;function wv(){for(var t;t=dv();){try{t.a.call(t.b)}catch(t){gv(t)}var e=pv;e.g(t),e.b<e.f&&(e.b++,t.next=e.a,e.a=t)}mv=!1}function _v(t,e){uv.call(this),this.b=t||1,this.a=e||Wp,this.f=td(this.Ya,this),this.g=nd()}function Ev(t){t.aa=!1,t.M&&(t.a.clearTimeout(t.M),t.M=null)}function Cv(t,e,n){if("function"==Gp(t))n&&(t=td(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=td(t.handleEvent,t)}return 2147483647<Number(e)?-1:Wp.setTimeout(t,e||0)}function Iv(t){t.a=Cv((function(){t.a=null,t.c&&(t.c=!1,Iv(t))}),t.h);var e=t.b;t.b=null,t.g.apply(null,e)}rd(_v,uv),(Hp=_v.prototype).aa=!1,Hp.M=null,Hp.Ya=function(){if(this.aa){var t=nd()-this.g;0<t&&t<.8*this.b?this.M=this.a.setTimeout(this.f,this.b-t):(this.M&&(this.a.clearTimeout(this.M),this.M=null),this.dispatchEvent("tick"),this.aa&&(Ev(this),this.start()))}},Hp.start=function(){this.aa=!0,this.M||(this.M=this.a.setTimeout(this.f,this.b),this.g=nd())},Hp.G=function(){_v.S.G.call(this),Ev(this),delete this.a};var Tv=function(t){function e(e,n,r){var i=t.call(this)||this;return i.g=null!=r?e.bind(r):e,i.h=n,i.b=null,i.c=!1,i.a=null,i}return function(t,e){function n(){this.constructor=t}Up(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}(e,t),e.prototype.f=function(t){this.b=arguments,this.a?this.c=!0:Iv(this)},e.prototype.G=function(){t.prototype.G.call(this),this.a&&(Wp.clearTimeout(this.a),this.a=null,this.c=!1,this.b=null)},e}(id);function Sv(t){id.call(this),this.b=t,this.a={}}rd(Sv,id);var kv=[];function xv(t,e,n,r){Array.isArray(n)||(n&&(kv[0]=n.toString()),n=kv);for(var i=0;i<n.length;i++){var o=$d(e,n[i],r||t.handleEvent,!1,t.b||t);if(!o)break;t.a[o.key]=o}}function Av(t){gd(t.a,(function(t,e){this.a.hasOwnProperty(e)&&ev(t)}),t),t.a={}}function Nv(){this.a=!0}function Ov(t,e,n,r){t.info((function(){return"XMLHTTP TEXT ("+e+"): "+function(t,e){if(!t.a)return e;if(!e)return null;try{var n=JSON.parse(e);if(n)for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var s=1;s<i.length;s++)i[s]=""}}}return lv(n)}catch(t){return e}}(t,n)+(r?" "+r:"")}))}Sv.prototype.G=function(){Sv.S.G.call(this),Av(this)},Sv.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Nv.prototype.info=function(){};var Rv=null;function Dv(){return Rv=Rv||new uv}function Pv(t){Bd.call(this,"serverreachability",t)}function Mv(t){var e=Dv();e.dispatchEvent(new Pv(e,t))}function Lv(t){Bd.call(this,"statevent",t)}function Fv(t){var e=Dv();e.dispatchEvent(new Lv(e,t))}function jv(t){Bd.call(this,"timingevent",t)}function Vv(t,e){if("function"!=Gp(t))throw Error("Fn must not be null and must be a function");return Wp.setTimeout((function(){t()}),e)}rd(Pv,Bd),rd(Lv,Bd),rd(jv,Bd);var Uv={NO_ERROR:0,Za:1,gb:2,fb:3,bb:4,eb:5,hb:6,Da:7,TIMEOUT:8,kb:9},Bv={ab:"complete",ob:"success",Ea:"error",Da:"abort",mb:"ready",nb:"readystatechange",TIMEOUT:"timeout",ib:"incrementaldata",lb:"progress",cb:"downloadprogress",pb:"uploadprogress"};function Hv(){}function zv(t){var e;return(e=t.a)||(e=t.a={}),e}function qv(){}Hv.prototype.a=null;var Wv,Kv={OPEN:"a",$a:"b",Ea:"c",jb:"d"};function Gv(){Bd.call(this,"d")}function Xv(){Bd.call(this,"c")}function Yv(){}function Qv(t,e,n,r){this.g=t,this.c=e,this.f=n,this.T=r||1,this.J=new Sv(this),this.P=Zv,t=Sd?125:void 0,this.R=new _v(t),this.B=null,this.b=!1,this.j=this.l=this.i=this.H=this.u=this.U=this.o=null,this.s=[],this.a=null,this.D=0,this.h=this.m=null,this.N=-1,this.A=!1,this.O=0,this.F=null,this.W=this.C=this.V=this.I=!1}rd(Gv,Bd),rd(Xv,Bd),rd(Yv,Hv),Wv=new Yv;var Zv=45e3,Jv={},$v={};function tg(t,e,n){t.H=1,t.i=Eg(gg(e)),t.j=n,t.I=!0,eg(t,null)}function eg(t,e){t.u=nd(),ig(t),t.l=gg(t.i);var n=t.l,r=t.T;Array.isArray(r)||(r=[String(r)]),Mg(n.b,"t",r),t.D=0,t.a=Ay(t.g,t.g.C?e:null),0<t.O&&(t.F=new Tv(td(t.Ca,t,t.a),t.O)),xv(t.J,t.a,"readystatechange",t.Wa),e=t.B?yd(t.B):{},t.j?(t.m||(t.m="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.a.ba(t.l,t.m,t.j,e)):(t.m="GET",t.a.ba(t.l,t.m,null,e)),Mv(1),function(t,e,n,r,i,o){t.info((function(){if(t.a)if(o)for(var s="",a=o.split("&"),u=0;u<a.length;u++){var c=a[u].split("=");if(1<c.length){var l=c[0];c=c[1];var h=l.split("_");s=2<=h.length&&"type"==h[1]?s+(l+"=")+c+"&":s+(l+"=redacted&")}}else s=null;else s=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+n+"\n"+s}))}(t.c,t.m,t.l,t.f,t.T,t.j)}function ng(t,e,n){for(var r=!0;!t.A&&t.D<n.length;){var i=rg(t,n);if(i==$v){4==e&&(t.h=4,Fv(14),r=!1),Ov(t.c,t.f,null,"[Incomplete Response]");break}if(i==Jv){t.h=4,Fv(15),Ov(t.c,t.f,n,"[Invalid Chunk]"),r=!1;break}Ov(t.c,t.f,i,null),cg(t,i)}4==e&&0==n.length&&(t.h=1,Fv(16),r=!1),t.b=t.b&&r,r?0<n.length&&!t.W&&(t.W=!0,(e=t.g).a==t&&e.V&&!e.F&&(e.c.info("Great, no buffering proxy detected. Bytes received: "+n.length),_y(e),e.F=!0)):(Ov(t.c,t.f,n,"[Invalid Chunked Response]"),ug(t),ag(t))}function rg(t,e){var n=t.D,r=e.indexOf("\n",n);return-1==r?$v:(n=Number(e.substring(n,r)),isNaN(n)?Jv:(r+=1)+n>e.length?$v:(e=e.substr(r,n),t.D=r+n,e))}function ig(t){t.U=nd()+t.P,og(t,t.P)}function og(t,e){if(null!=t.o)throw Error("WatchDog timer not null");t.o=Vv(td(t.Ua,t),e)}function sg(t){t.o&&(Wp.clearTimeout(t.o),t.o=null)}function ag(t){0==t.g.v||t.A||Iy(t.g,t)}function ug(t){sg(t);var e=t.F;e&&"function"==typeof e.ja&&e.ja(),t.F=null,Ev(t.R),Av(t.J),t.a&&(e=t.a,t.a=null,e.abort(),e.ja())}function cg(t,e){try{var n=t.g;if(0!=n.v&&(n.a==t||Hg(n.b,t)))if(n.I=t.N,!t.C&&Hg(n.b,t)&&3==n.v){try{var r=n.ka.a.parse(e)}catch(t){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){t:if(!n.j){if(n.a){if(!(n.a.u+3e3<t.u))break t;Cy(n),fy(n)}wy(n),Fv(18)}}else n.oa=i[1],0<n.oa-n.P&&37500>i[2]&&n.H&&0==n.o&&!n.m&&(n.m=Vv(td(n.Ra,n),6e3));if(1>=Bg(n.b)&&n.ea){try{n.ea()}catch(t){}n.ea=void 0}}else Sy(n,11)}else if((t.C||n.a==t)&&Cy(n),!cd(e))for(e=r=n.ka.a.parse(e),r=0;r<e.length;r++)if(i=e[r],n.P=i[0],i=i[1],2==n.v)if("c"==i[0]){n.J=i[1],n.ga=i[2];var o=i[3];null!=o&&(n.ha=o,n.c.info("VER="+n.ha));var s=i[4];null!=s&&(n.pa=s,n.c.info("SVER="+n.pa));var a=i[5];if(null!=a&&"number"==typeof a&&0<a){var u=1.5*a;n.D=u,n.c.info("backChannelRequestTimeoutMs_="+u)}u=n;var c=t.a;if(c){var l=c.a?c.a.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var h=u.b;!h.a&&(fd(l,"spdy")||fd(l,"quic")||fd(l,"h2"))&&(h.f=h.g,h.a=new Set,h.b&&(zg(h,h.b),h.b=null))}if(u.A){var f=c.a?c.a.getResponseHeader("X-HTTP-Session-Id"):null;f&&(u.na=f,_g(u.B,u.A,f))}}n.v=3,n.f&&n.f.ta(),n.V&&(n.N=nd()-t.u,n.c.info("Handshake RTT: "+n.N+"ms"));var p=t;if((u=n).la=xy(u,u.C?u.ga:null,u.fa),p.C){qg(u.b,p);var d=p,v=u.D;v&&d.setTimeout(v),d.o&&(sg(d),ig(d)),u.a=p}else by(u);0<n.g.length&&vy(n)}else"stop"!=i[0]&&"close"!=i[0]||Sy(n,7);else 3==n.v&&("stop"==i[0]||"close"==i[0]?"stop"==i[0]?Sy(n,7):hy(n):"noop"!=i[0]&&n.f&&n.f.sa(i),n.o=0);Mv(4)}catch(t){}}function lg(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(Xp(t)||"string"==typeof t)sd(t,e,void 0);else{if(t.L&&"function"==typeof t.L)var n=t.L();else if(t.K&&"function"==typeof t.K)n=void 0;else if(Xp(t)||"string"==typeof t){n=[];for(var r=t.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,t)n[r++]=i;i=(r=function(t){if(t.K&&"function"==typeof t.K)return t.K();if("string"==typeof t)return t.split("");if(Xp(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}for(r in e=[],n=0,t)e[n++]=t[r];return e}(t)).length;for(var o=0;o<i;o++)e.call(void 0,r[o],n&&n[o],t)}}function hg(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof hg)for(n=t.L(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function fg(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];pg(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)pg(i,r=t.a[e])||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function pg(t,e){return Object.prototype.hasOwnProperty.call(t,e)}(Hp=Qv.prototype).setTimeout=function(t){this.P=t},Hp.Wa=function(t){t=t.target;var e=this.F;e&&3==ay(t)?e.f():this.Ca(t)},Hp.Ca=function(t){try{if(t==this.a)t:{var e=ay(this.a),n=this.a.ua(),r=this.a.X();if(!(3>e||3==e&&!Sd&&!this.a.$())){this.A||4!=e||7==n||Mv(8==n||0>=r?3:2),sg(this);var i=this.a.X();this.N=i;var o=this.a.$();if(this.b=200==i,function(t,e,n,r,i,o,s){t.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+n+"\n"+o+" "+s}))}(this.c,this.m,this.l,this.f,this.T,e,i),this.b){if(this.V&&!this.C){e:{if(this.a){var s,a=this.a;if((s=a.a?a.a.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cd(s)){var u=s;break e}}u=null}if(!u){this.b=!1,this.h=3,Fv(12),ug(this),ag(this);break t}Ov(this.c,this.f,u,"Initial handshake response via X-HTTP-Initial-Response"),this.C=!0,cg(this,u)}this.I?(ng(this,e,o),Sd&&this.b&&3==e&&(xv(this.J,this.R,"tick",this.Va),this.R.start())):(Ov(this.c,this.f,o,null),cg(this,o)),4==e&&ug(this),this.b&&!this.A&&(4==e?Iy(this.g,this):(this.b=!1,ig(this)))}else 400==i&&0<o.indexOf("Unknown SID")?(this.h=3,Fv(12)):(this.h=0,Fv(13)),ug(this),ag(this)}}}catch(t){}},Hp.Va=function(){if(this.a){var t=ay(this.a),e=this.a.$();this.D<e.length&&(sg(this),ng(this,t,e),this.b&&4!=t&&ig(this))}},Hp.cancel=function(){this.A=!0,ug(this)},Hp.Ua=function(){this.o=null;var t=nd();0<=t-this.U?(function(t,e){t.info((function(){return"TIMEOUT: "+e}))}(this.c,this.l),2!=this.H&&(Mv(3),Fv(17)),ug(this),this.h=2,ag(this)):og(this,this.U-t)},(Hp=hg.prototype).K=function(){fg(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Hp.L=function(){return fg(this),this.a.concat()},Hp.get=function(t,e){return pg(this.b,t)?this.b[t]:e},Hp.set=function(t,e){pg(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Hp.forEach=function(t,e){for(var n=this.L(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var dg=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function vg(t,e){if(this.c=this.j=this.f="",this.h=null,this.i=this.g="",this.a=!1,t instanceof vg){this.a=void 0!==e?e:t.a,yg(this,t.f),this.j=t.j,mg(this,t.c),bg(this,t.h),this.g=t.g,e=t.b;var n=new Og;n.c=e.c,e.a&&(n.a=new hg(e.a),n.b=e.b),wg(this,n),this.i=t.i}else t&&(n=String(t).match(dg))?(this.a=!!e,yg(this,n[1]||"",!0),this.j=Cg(n[2]||""),mg(this,n[3]||"",!0),bg(this,n[4]),this.g=Cg(n[5]||"",!0),wg(this,n[6]||"",!0),this.i=Cg(n[7]||"")):(this.a=!!e,this.b=new Og(null,this.a))}function gg(t){return new vg(t)}function yg(t,e,n){t.f=n?Cg(e,!0):e,t.f&&(t.f=t.f.replace(/:$/,""))}function mg(t,e,n){t.c=n?Cg(e,!0):e}function bg(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.h=e}else t.h=null}function wg(t,e,n){e instanceof Og?(t.b=e,function(t,e){e&&!t.f&&(Rg(t),t.c=null,t.a.forEach((function(t,e){var n=e.toLowerCase();e!=n&&(Dg(this,e),Mg(this,n,t))}),t)),t.f=e}(t.b,t.a)):(n||(e=Ig(e,Ag)),t.b=new Og(e,t.a))}function _g(t,e,n){t.b.set(e,n)}function Eg(t){return _g(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^nd()).toString(36)),t}function Cg(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ig(t,e,n){return"string"==typeof t?(t=encodeURI(t).replace(e,Tg),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Tg(t){return"%"+((t=t.charCodeAt(0))>>4&15).toString(16)+(15&t).toString(16)}vg.prototype.toString=function(){var t=[],e=this.f;e&&t.push(Ig(e,Sg,!0),":");var n=this.c;return(n||"file"==e)&&(t.push("//"),(e=this.j)&&t.push(Ig(e,Sg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.h)&&t.push(":",String(n))),(n=this.g)&&(this.c&&"/"!=n.charAt(0)&&t.push("/"),t.push(Ig(n,"/"==n.charAt(0)?xg:kg,!0))),(n=this.b.toString())&&t.push("?",n),(n=this.i)&&t.push("#",Ig(n,Ng)),t.join("")};var Sg=/[#\/\?@]/g,kg=/[#\?:]/g,xg=/[#\?]/g,Ag=/[#\?@]/g,Ng=/#/g;function Og(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function Rg(t){t.a||(t.a=new hg,t.b=0,t.c&&function(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(t.c,(function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})))}function Dg(t,e){Rg(t),e=Lg(t,e),pg(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,pg((t=t.a).b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&fg(t)))}function Pg(t,e){return Rg(t),e=Lg(t,e),pg(t.a.b,e)}function Mg(t,e,n){Dg(t,e),0<n.length&&(t.c=null,t.a.set(Lg(t,e),ud(n)),t.b+=n.length)}function Lg(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Fg(t,e){this.b=t,this.a=e}function jg(t){this.g=t||Vg,Wp.PerformanceNavigationTiming?t=0<(t=Wp.performance.getEntriesByType("navigation")).length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol):t=!!(Wp.ia&&Wp.ia.ya&&Wp.ia.ya()&&Wp.ia.ya().qb),this.f=t?this.g:1,this.a=null,1<this.f&&(this.a=new Set),this.b=null,this.c=[]}(Hp=Og.prototype).add=function(t,e){Rg(this),this.c=null,t=Lg(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Hp.forEach=function(t,e){Rg(this),this.a.forEach((function(n,r){sd(n,(function(n){t.call(e,n,r,this)}),this)}),this)},Hp.L=function(){Rg(this);for(var t=this.a.K(),e=this.a.L(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Hp.K=function(t){Rg(this);var e=[];if("string"==typeof t)Pg(this,t)&&(e=ad(e,this.a.get(Lg(this,t))));else{t=this.a.K();for(var n=0;n<t.length;n++)e=ad(e,t[n])}return e},Hp.set=function(t,e){return Rg(this),this.c=null,Pg(this,t=Lg(this,t))&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Hp.get=function(t,e){return t&&0<(t=this.K(t)).length?String(t[0]):e},Hp.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.L(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.K(r);for(var o=0;o<r.length;o++){var s=i;""!==r[o]&&(s+="="+encodeURIComponent(String(r[o]))),t.push(s)}}return this.c=t.join("&")};var Vg=10;function Ug(t){return!!t.b||!!t.a&&t.a.size>=t.f}function Bg(t){return t.b?1:t.a?t.a.size:0}function Hg(t,e){return t.b?t.b==e:!!t.a&&t.a.has(e)}function zg(t,e){t.a?t.a.add(e):t.b=e}function qg(t,e){t.b&&t.b==e?t.b=null:t.a&&t.a.has(e)&&t.a.delete(e)}function Wg(t){var e,n;if(null!=t.b)return t.c.concat(t.b.s);if(null!=t.a&&0!==t.a.size){var r=t.c;try{for(var i=Bp(t.a.values()),o=i.next();!o.done;o=i.next()){var s=o.value;r=r.concat(s.s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return r}return ud(t.c)}function Kg(){}function Gg(){this.a=new Kg}function Xg(t,e,n){var r=n||"";try{lg(t,(function(t,n){var i=t;Yp(t)&&(i=lv(t)),e.push(r+n+"="+encodeURIComponent(i))}))}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}}function Yg(t,e,n,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(t){}}jg.prototype.cancel=function(){var t,e;if(this.c=Wg(this),this.b)this.b.cancel(),this.b=null;else if(this.a&&0!==this.a.size){try{for(var n=Bp(this.a.values()),r=n.next();!r.done;r=n.next()){r.value.cancel()}}catch(e){t={error:e}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}this.a.clear()}},Kg.prototype.stringify=function(t){return Wp.JSON.stringify(t,void 0)},Kg.prototype.parse=function(t){return Wp.JSON.parse(t,void 0)};var Qg=Wp.JSON.parse;function Zg(t){uv.call(this),this.headers=new hg,this.H=t||null,this.b=!1,this.s=this.a=null,this.B="",this.h=0,this.f="",this.g=this.A=this.l=this.u=!1,this.o=0,this.m=null,this.I=Jg,this.D=this.F=!1}rd(Zg,uv);var Jg="",$g=/^https?$/i,ty=["POST","PUT"];function ey(t){return"content-type"==t.toLowerCase()}function ny(t,e){t.b=!1,t.a&&(t.g=!0,t.a.abort(),t.g=!1),t.f=e,t.h=5,ry(t),oy(t)}function ry(t){t.u||(t.u=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function iy(t){if(t.b&&void 0!==qp&&(!t.s[1]||4!=ay(t)||2!=t.X()))if(t.l&&4==ay(t))Cv(t.za,0,t);else if(t.dispatchEvent("readystatechange"),4==ay(t)){t.b=!1;try{var e,n=t.X();t:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break t;default:r=!1}if(!(e=r)){var i;if(i=0===n){var o=String(t.B).match(dg)[1]||null;if(!o&&Wp.self&&Wp.self.location){var s=Wp.self.location.protocol;o=s.substr(0,s.length-1)}i=!$g.test(o?o.toLowerCase():"")}e=i}if(e)t.dispatchEvent("complete"),t.dispatchEvent("success");else{t.h=6;try{var a=2<ay(t)?t.a.statusText:""}catch(t){a=""}t.f=a+" ["+t.X()+"]",ry(t)}}finally{oy(t)}}}function oy(t,e){if(t.a){sy(t);var n=t.a,r=t.s[0]?Kp:null;t.a=null,t.s=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=r}catch(t){}}}function sy(t){t.a&&t.D&&(t.a.ontimeout=null),t.m&&(Wp.clearTimeout(t.m),t.m=null)}function ay(t){return t.a?t.a.readyState:0}function uy(t,e,n){t:{for(r in n){var r=!1;break t}r=!0}r||(n=function(t){var e="";return gd(t,(function(t,n){e+=n,e+=":",e+=t,e+="\r\n"})),e}(n),"string"==typeof t?null!=n&&encodeURIComponent(String(n)):_g(t,e,n))}function cy(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function ly(t){this.pa=0,this.g=[],this.c=new Nv,this.ga=this.la=this.B=this.fa=this.a=this.na=this.A=this.W=this.i=this.O=this.l=null,this.La=this.R=0,this.Ia=cy("failFast",!1,t),this.H=this.m=this.j=this.h=this.f=null,this.T=!0,this.I=this.oa=this.P=-1,this.U=this.o=this.u=0,this.Fa=cy("baseRetryDelayMs",5e3,t),this.Ma=cy("retryDelaySeedMs",1e4,t),this.Ja=cy("forwardChannelMaxRetries",2,t),this.ma=cy("forwardChannelRequestTimeoutMs",2e4,t),this.Ka=t&&t.g||void 0,this.D=void 0,this.C=t&&t.supportsCrossDomainXhr||!1,this.J="",this.b=new jg(t&&t.concurrentRequestLimit),this.ka=new Gg,this.da=t&&t.fastHandshake||!1,this.Ga=t&&t.b||!1,t&&t.f&&(this.c.a=!1),t&&t.forceLongPolling&&(this.T=!1),this.V=!this.da&&this.T&&t&&t.c||!1,this.ea=void 0,this.N=0,this.F=!1,this.s=null}function hy(t){if(py(t),3==t.v){var e=t.R++,n=gg(t.B);_g(n,"SID",t.J),_g(n,"RID",e),_g(n,"TYPE","terminate"),yy(t,n),(e=new Qv(t,t.c,e,void 0)).H=2,e.i=Eg(gg(n)),n=!1,Wp.navigator&&Wp.navigator.sendBeacon&&(n=Wp.navigator.sendBeacon(e.i.toString(),"")),!n&&Wp.Image&&((new Image).src=e.i,n=!0),n||(e.a=Ay(e.g,null),e.a.ba(e.i)),e.u=nd(),ig(e)}ky(t)}function fy(t){t.a&&(_y(t),t.a.cancel(),t.a=null)}function py(t){fy(t),t.j&&(Wp.clearTimeout(t.j),t.j=null),Cy(t),t.b.cancel(),t.h&&("number"==typeof t.h&&Wp.clearTimeout(t.h),t.h=null)}function dy(t,e){t.g.push(new Fg(t.La++,e)),3==t.v&&vy(t)}function vy(t){Ug(t.b)||t.h||(t.h=!0,yv(t.Ba,t),t.u=0)}function gy(t,e){var n;n=e?e.f:t.R++;var r=gg(t.B);_g(r,"SID",t.J),_g(r,"RID",n),_g(r,"AID",t.P),yy(t,r),t.i&&t.l&&uy(r,t.i,t.l),n=new Qv(t,t.c,n,t.u+1),null===t.i&&(n.B=t.l),e&&(t.g=e.s.concat(t.g)),e=my(t,n,1e3),n.setTimeout(Math.round(.5*t.ma)+Math.round(.5*t.ma*Math.random())),zg(t.b,n),tg(n,r,e)}function yy(t,e){t.f&&lg({},(function(t,n){_g(e,n,t)}))}function my(t,e,n){n=Math.min(t.g.length,n);var r=t.f?td(t.f.Ha,t.f,t):null;t:for(var i=t.g,o=-1;;){var s=["count="+n];-1==o?0<n?(o=i[0].b,s.push("ofs="+o)):o=0:s.push("ofs="+o);for(var a=!0,u=0;u<n;u++){var c=i[u].b,l=i[u].a;if(0>(c-=o))o=Math.max(0,i[u].b-100),a=!1;else try{Xg(l,s,"req"+c+"_")}catch(t){r&&r(l)}}if(a){r=s.join("&");break t}}return t=t.g.splice(0,n),e.s=t,r}function by(t){t.a||t.j||(t.U=1,yv(t.Aa,t),t.o=0)}function wy(t){return!(t.a||t.j||3<=t.o)&&(t.U++,t.j=Vv(td(t.Aa,t),Ty(t,t.o)),t.o++,!0)}function _y(t){null!=t.s&&(Wp.clearTimeout(t.s),t.s=null)}function Ey(t){t.a=new Qv(t,t.c,"rpc",t.U),null===t.i&&(t.a.B=t.l),t.a.O=0;var e=gg(t.la);_g(e,"RID","rpc"),_g(e,"SID",t.J),_g(e,"CI",t.H?"0":"1"),_g(e,"AID",t.P),yy(t,e),_g(e,"TYPE","xmlhttp"),t.i&&t.l&&uy(e,t.i,t.l),t.D&&t.a.setTimeout(t.D);var n=t.a;t=t.ga,n.H=1,n.i=Eg(gg(e)),n.j=null,n.I=!0,eg(n,t)}function Cy(t){null!=t.m&&(Wp.clearTimeout(t.m),t.m=null)}function Iy(t,e){var n=null;if(t.a==e){Cy(t),_y(t),t.a=null;var r=2}else{if(!Hg(t.b,e))return;n=e.s,qg(t.b,e),r=1}if(t.I=e.N,0!=t.v)if(e.b)if(1==r){n=e.j?e.j.length:0,e=nd()-e.u;var i=t.u;(r=Dv()).dispatchEvent(new jv(r,n,e,i)),vy(t)}else by(t);else if(3==(i=e.h)||0==i&&0<t.I||!(1==r&&function(t,e){return!(Bg(t.b)>=t.b.f-(t.h?1:0))&&(t.h?(t.g=e.s.concat(t.g),!0):!(1==t.v||2==t.v||t.u>=(t.Ia?0:t.Ja))&&(t.h=Vv(td(t.Ba,t,e),Ty(t,t.u)),t.u++,!0))}(t,e)||2==r&&wy(t)))switch(n&&0<n.length&&(e=t.b,e.c=e.c.concat(n)),i){case 1:Sy(t,5);break;case 4:Sy(t,10);break;case 3:Sy(t,6);break;default:Sy(t,2)}}function Ty(t,e){var n=t.Fa+Math.floor(Math.random()*t.Ma);return t.f||(n*=2),n*e}function Sy(t,e){if(t.c.info("Error code "+e),2==e){var n=null;t.f&&(n=null);var r=td(t.Xa,t);n||(n=new vg("//www.google.com/images/cleardot.gif"),Wp.location&&"http"==Wp.location.protocol||yg(n,"https"),Eg(n)),function(t,e){var n=new Nv;if(Wp.Image){var r=new Image;r.onload=ed(Yg,n,r,"TestLoadImage: loaded",!0,e),r.onerror=ed(Yg,n,r,"TestLoadImage: error",!1,e),r.onabort=ed(Yg,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=ed(Yg,n,r,"TestLoadImage: timeout",!1,e),Wp.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=t}else e(!1)}(n.toString(),r)}else Fv(2);t.v=0,t.f&&t.f.ra(e),ky(t),py(t)}function ky(t){t.v=0,t.I=-1,t.f&&(0==Wg(t.b).length&&0==t.g.length||(t.b.c.length=0,ud(t.g),t.g.length=0),t.f.qa())}function xy(t,e,n){var r=function(t){return t instanceof vg?gg(t):new vg(t,void 0)}(n);if(""!=r.c)e&&mg(r,e+"."+r.c),bg(r,r.h);else{var i=Wp.location;r=function(t,e,n,r){var i=new vg(null,void 0);return t&&yg(i,t),e&&mg(i,e),n&&bg(i,n),r&&(i.g=r),i}(i.protocol,e?e+"."+i.hostname:i.hostname,+i.port,n)}return t.W&&gd(t.W,(function(t,e){_g(r,e,t)})),e=t.A,n=t.na,e&&n&&_g(r,e,n),_g(r,"VER",t.ha),yy(t,r),r}function Ay(t,e){if(e&&!t.C)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Zg(t.Ka)).F=t.C,e}function Ny(){}function Oy(){if(Id&&!(10<=Number(Fd)))throw Error("Environmental error: no available transport.")}function Ry(t,e){uv.call(this),this.a=new ly(e),this.l=t,this.b=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.a.l=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.a&&(t?t["X-WebChannel-Client-Profile"]=e.a:t={"X-WebChannel-Client-Profile":e.a}),this.a.O=t,(t=e&&e.httpHeadersOverwriteParam)&&!cd(t)&&(this.a.i=t),this.h=e&&e.supportsCrossDomainXhr||!1,this.g=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cd(e)&&(this.a.A=e,null!==(t=this.b)&&e in t&&(e in(t=this.b)&&delete t[e])),this.f=new My(this)}function Dy(t){Gv.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.c=t)?(t=this.c,this.data=null!==e&&t in e?e[t]:void 0):this.data=e}else this.data=t}function Py(){Xv.call(this),this.status=1}function My(t){this.a=t}(Hp=Zg.prototype).ba=function(t,e,n,r){if(this.a)throw Error("[goog.net.XhrIo] Object is active with another request="+this.B+"; newUri="+t);e=e?e.toUpperCase():"GET",this.B=t,this.f="",this.h=0,this.u=!1,this.b=!0,this.a=new XMLHttpRequest,this.s=this.H?zv(this.H):zv(Wv),this.a.onreadystatechange=td(this.za,this);try{this.A=!0,this.a.open(e,String(t),!0),this.A=!1}catch(t){return void ny(this,t)}t=n||"";var i=new hg(this.headers);r&&lg(r,(function(t,e){i.set(e,t)})),r=function(t){t:{for(var e=ey,n=t.length,r="string"==typeof t?t.split(""):t,i=0;i<n;i++)if(i in r&&e.call(void 0,r[i],i,t)){e=i;break t}e=-1}return 0>e?null:"string"==typeof t?t.charAt(e):t[e]}(i.L()),n=Wp.FormData&&t instanceof Wp.FormData,!(0<=od(ty,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(t,e){this.a.setRequestHeader(e,t)}),this),this.I&&(this.a.responseType=this.I),"withCredentials"in this.a&&this.a.withCredentials!==this.F&&(this.a.withCredentials=this.F);try{sy(this),0<this.o&&((this.D=function(t){return Id&&Md(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}(this.a))?(this.a.timeout=this.o,this.a.ontimeout=td(this.xa,this)):this.m=Cv(this.xa,this.o,this)),this.l=!0,this.a.send(t),this.l=!1}catch(t){ny(this,t)}},Hp.xa=function(){void 0!==qp&&this.a&&(this.f="Timed out after "+this.o+"ms, aborting",this.h=8,this.dispatchEvent("timeout"),this.abort(8))},Hp.abort=function(t){this.a&&this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1,this.h=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),oy(this))},Hp.G=function(){this.a&&(this.b&&(this.b=!1,this.g=!0,this.a.abort(),this.g=!1),oy(this,!0)),Zg.S.G.call(this)},Hp.za=function(){this.j||(this.A||this.l||this.g?iy(this):this.Ta())},Hp.Ta=function(){iy(this)},Hp.X=function(){try{return 2<ay(this)?this.a.status:-1}catch(t){return-1}},Hp.$=function(){try{return this.a?this.a.responseText:""}catch(t){return""}},Hp.Na=function(t){if(this.a){var e=this.a.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Qg(e)}},Hp.ua=function(){return this.h},Hp.Qa=function(){return"string"==typeof this.f?this.f:String(this.f)},(Hp=ly.prototype).ha=8,Hp.v=1,Hp.Ba=function(t){if(this.h)if(this.h=null,1==this.v){if(!t){this.R=Math.floor(1e5*Math.random()),t=this.R++;var e,n=new Qv(this,this.c,t,void 0),r=this.l;if(this.O&&(r?bd(r=yd(r),this.O):r=this.O),null===this.i&&(n.B=r),this.da)t:{for(var i=e=0;i<this.g.length;i++){var o=this.g[i];if(void 0===(o="__data__"in o.a&&"string"==typeof(o=o.a.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=i;break t}if(4096===e||i===this.g.length-1){e=i+1;break t}}e=1e3}else e=1e3;e=my(this,n,e),_g(i=gg(this.B),"RID",t),_g(i,"CVER",22),this.A&&_g(i,"X-HTTP-Session-Id",this.A),yy(this,i),this.i&&r&&uy(i,this.i,r),zg(this.b,n),this.Ga&&_g(i,"TYPE","init"),this.da?(_g(i,"$req",e),_g(i,"SID","null"),n.V=!0,tg(n,i,null)):tg(n,i,e),this.v=2}}else 3==this.v&&(t?gy(this,t):0==this.g.length||Ug(this.b)||gy(this))},Hp.Aa=function(){if(this.j=null,Ey(this),this.V&&!(this.F||null==this.a||0>=this.N)){var t=2*this.N;this.c.info("BP detection timer enabled: "+t),this.s=Vv(td(this.Sa,this),t)}},Hp.Sa=function(){this.s&&(this.s=null,this.c.info("BP detection timeout reached."),this.c.info("Buffering proxy detected and switch to long-polling!"),this.H=!1,this.F=!0,fy(this),Ey(this))},Hp.Ra=function(){null!=this.m&&(this.m=null,fy(this),wy(this),Fv(19))},Hp.Xa=function(t){t?(this.c.info("Successfully pinged google.com"),Fv(2)):(this.c.info("Failed to ping google.com"),Fv(1))},(Hp=Ny.prototype).ta=function(){},Hp.sa=function(){},Hp.ra=function(){},Hp.qa=function(){},Hp.Ha=function(){},Oy.prototype.a=function(t,e){return new Ry(t,e)},rd(Ry,uv),(Hp=Ry.prototype).addEventListener=function(t,e,n,r){Ry.S.addEventListener.call(this,t,e,n,r)},Hp.removeEventListener=function(t,e,n,r){Ry.S.removeEventListener.call(this,t,e,n,r)},Hp.Oa=function(){this.a.f=this.f,this.h&&(this.a.C=!0);var t=this.a,e=this.l,n=this.b||void 0;Fv(0),t.fa=e,t.W=n||{},t.H=t.T,t.B=xy(t,null,t.fa),vy(t)},Hp.close=function(){hy(this.a)},Hp.Pa=function(t){if("string"==typeof t){var e={};e.__data__=t,dy(this.a,e)}else this.g?((e={}).__data__=lv(t),dy(this.a,e)):dy(this.a,t)},Hp.G=function(){this.a.f=null,delete this.f,hy(this.a),delete this.a,Ry.S.G.call(this)},rd(Dy,Gv),rd(Py,Xv),rd(My,Ny),My.prototype.ta=function(){this.a.dispatchEvent("a")},My.prototype.sa=function(t){this.a.dispatchEvent(new Dy(t))},My.prototype.ra=function(t){this.a.dispatchEvent(new Py(t))},My.prototype.qa=function(){this.a.dispatchEvent("b")},Oy.prototype.createWebChannel=Oy.prototype.a,Ry.prototype.send=Ry.prototype.Pa,Ry.prototype.open=Ry.prototype.Oa,Ry.prototype.close=Ry.prototype.close,Uv.NO_ERROR=0,Uv.TIMEOUT=8,Uv.HTTP_ERROR=6,Bv.COMPLETE="complete",qv.EventType=Kv,Kv.OPEN="a",Kv.CLOSE="b",Kv.ERROR="c",Kv.MESSAGE="d",uv.prototype.listen=uv.prototype.va,Zg.prototype.listenOnce=Zg.prototype.wa,Zg.prototype.getLastError=Zg.prototype.Qa,Zg.prototype.getLastErrorCode=Zg.prototype.ua,Zg.prototype.getStatus=Zg.prototype.X,Zg.prototype.getResponseJson=Zg.prototype.Na,Zg.prototype.getResponseText=Zg.prototype.$,Zg.prototype.send=Zg.prototype.ba;var Ly={createWebChannelTransport:function(){return new Oy},ErrorCode:Uv,EventType:Bv,WebChannel:qv,XhrIo:Zg},Fy=Ly.createWebChannelTransport,jy=Ly.ErrorCode,Vy=Ly.EventType,Uy=Ly.WebChannel,By=Ly.XhrIo,Hy=new gl("@firebase/firestore");function zy(){return Hy.logLevel}function qy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hy.logLevel<=cl.DEBUG){var r=e.map(Gy);Hy.debug.apply(Hy,R(["Firestore (7.18.0): "+t],r))}}function Wy(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hy.logLevel<=cl.ERROR){var r=e.map(Gy);Hy.error.apply(Hy,R(["Firestore (7.18.0): "+t],r))}}function Ky(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Hy.logLevel<=cl.WARN){var r=e.map(Gy);Hy.warn.apply(Hy,R(["Firestore (7.18.0): "+t],r))}}function Gy(t){if("string"==typeof t)return t;try{return e=t,JSON.stringify(e)}catch(e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xy(t){void 0===t&&(t="Unexpected state");var e="FIRESTORE (7.18.0) INTERNAL ASSERTION FAILED: "+t;throw Wy(e),new Error(e)}function Yy(t,e){t||Xy()}function Qy(t,e){return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zy(t){var e="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e)e.getRandomValues(n);else for(var r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Jy=function(){function t(){}return t.t=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=Math.floor(256/t.length)*t.length,n="";n.length<20;)for(var r=Zy(40),i=0;i<r.length;++i)n.length<20&&r[i]<e&&(n+=t.charAt(r[i]%t.length));return n},t}();function $y(t,e){return t<e?-1:t>e?1:0}function tm(t,e,n){return t.length===e.length&&t.every((function(t,r){return n(t,e[r])}))}function em(t){return t+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nm=function(t,e,n,r,i){this.s=t,this.persistenceKey=e,this.host=n,this.ssl=r,this.forceLongPolling=i},rm=function(){function t(t,e){this.projectId=t,this.database=e||"(default)"}return Object.defineProperty(t.prototype,"i",{get:function(){return"(default)"===this.database},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.o=function(t){return $y(this.projectId,t.projectId)||$y(this.database,t.database)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function im(t){var e=0;for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function om(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function sm(t){for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var am=function(){function t(t,e){this.h=t,this.u=e,this.l={}}return t.prototype.get=function(t){var e=this.h(t),n=this.l[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];if(this.u(s,t))return a}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.h(t),r=this.l[n];if(void 0!==r){for(var i=0;i<r.length;i++)if(this.u(r[i][0],t))return void(r[i]=[t,e]);r.push([t,e])}else this.l[n]=[[t,e]]},t.prototype.delete=function(t){var e=this.h(t),n=this.l[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.u(n[r][0],t))return 1===n.length?delete this.l[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){om(this.l,(function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],s=o[0],a=o[1];t(s,a)}}))},t.prototype._=function(){return sm(this.l)},t}(),um={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},cm=function(t){function e(e,n){var r=this;return(r=t.call(this,n)||this).code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return T(e,t),e}(Error),lm=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new cm(um.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new cm(um.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new cm(um.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new cm(um.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype.T=function(t){return this.seconds===t.seconds?$y(this.nanoseconds,t.nanoseconds):$y(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t.prototype.valueOf=function(){var t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")},t}(),hm=function(){function t(t){this.timestamp=t}return t.I=function(e){return new t(e)},t.min=function(){return new t(new lm(0,0))},t.prototype.o=function(t){return this.timestamp.T(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.m=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.A=function(){return this.timestamp},t}(),fm=function(){function t(t,e,n){void 0===e?e=0:e>t.length&&Xy(),void 0===n?n=t.length-e:n>t.length-e&&Xy(),this.segments=t,this.offset=e,this.R=n}return Object.defineProperty(t.prototype,"length",{get:function(){return this.R},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.P(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach((function(t){n.push(t)})):n.push(e),this.V(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.g=function(t){return t=void 0===t?1:t,this.V(this.segments,this.offset+t,this.length-t)},t.prototype.p=function(){return this.V(this.segments,this.offset,this.length-1)},t.prototype.v=function(){return this.segments[this.offset]},t.prototype.S=function(){return this.get(this.length-1)},t.prototype.get=function(t){return this.segments[this.offset+t]},t.prototype._=function(){return 0===this.length},t.prototype.D=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.C=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.N=function(){return this.segments.slice(this.offset,this.limit())},t.P=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),pm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.prototype.F=function(){return this.N().join("/")},e.prototype.toString=function(){return this.F()},e.k=function(t){if(t.indexOf("//")>=0)throw new cm(um.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter((function(t){return t.length>0})))},e.$=function(){return new e([])},e}(fm),dm=/^[_a-zA-Z][_a-zA-Z0-9]*$/,vm=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.V=function(t,n,r){return new e(t,n,r)},e.M=function(t){return dm.test(t)},e.prototype.F=function(){return this.N().map((function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.M(t)||(t="`"+t+"`"),t})).join(".")},e.prototype.toString=function(){return this.F()},e.prototype.O=function(){return 1===this.length&&"__name__"===this.get(0)},e.L=function(){return new e(["__name__"])},e.q=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new cm(um.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},s=!1;i<t.length;){var a=t[i];if("\\"===a){if(i+1===t.length)throw new cm(um.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new cm(um.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===a?(s=!s,i++):"."!==a||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new cm(um.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.$=function(){return new e([])},e}(fm),gm=function(){function t(t){this.path=t}return t.B=function(e){return new t(pm.k(e).g(5))},t.prototype.U=function(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t},t.prototype.isEqual=function(t){return null!==t&&0===pm.P(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.P=function(t,e){return pm.P(t.path,e.path)},t.W=function(t){return t.length%2==0},t.j=function(e){return new t(new pm(e.slice()))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ym(t){return null==t}function mm(t){return-0===t&&1/t==-1/0}function bm(t){return"number"==typeof t&&Number.isInteger(t)&&!mm(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wm=function(t,e,n,r,i,o,s){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),this.path=t,this.collectionGroup=e,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=s,this.K=null};function _m(t,e,n,r,i,o,s){return void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o=null),void 0===s&&(s=null),new wm(t,e,n,r,i,o,s)}function Em(t){var e=Qy(t);if(null===e.K){var n=e.path.F();null!==e.collectionGroup&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((function(t){return function(t){return t.field.F()+t.op.toString()+pb(t.value)}(t)})).join(","),n+="|ob:",n+=e.orderBy.map((function(t){return(e=t).field.F()+e.dir;var e})).join(","),ym(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=c_(e.startAt)),e.endAt&&(n+="|ub:",n+=c_(e.endAt)),e.K=n}return e.K}function Cm(t,e){if(t.limit!==e.limit)return!1;if(t.orderBy.length!==e.orderBy.length)return!1;for(var n=0;n<t.orderBy.length;n++)if(!d_(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(var r=0;r<t.filters.length;r++)if(i=t.filters[r],o=e.filters[r],i.op!==o.op||!i.field.isEqual(o.field)||!cb(i.value,o.value))return!1;var i,o;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!h_(t.startAt,e.startAt)&&h_(t.endAt,e.endAt)}function Im(t){return gm.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tm=function(){function t(t){this.G=t}return t.fromBase64String=function(e){return new t(atob(e))},t.fromUint8Array=function(e){return new t(function(t){for(var e="",n=0;n<t.length;++n)e+=String.fromCharCode(t[n]);return e}(e))},t.prototype.toBase64=function(){return t=this.G,btoa(t);var t},t.prototype.toUint8Array=function(){return function(t){for(var e=new Uint8Array(t.length),n=0;n<t.length;n++)e[n]=t.charCodeAt(n);return e}(this.G)},t.prototype.H=function(){return 2*this.G.length},t.prototype.o=function(t){return $y(this.G,t.G)},t.prototype.isEqual=function(t){return this.G===t.G},t}();Tm.Y=new Tm("");var Sm,km,xm=function(){function t(t,e,n,r,i,o,s){void 0===i&&(i=hm.min()),void 0===o&&(o=hm.min()),void 0===s&&(s=Tm.Y),this.target=t,this.targetId=e,this.J=n,this.sequenceNumber=r,this.X=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s}return t.prototype.Z=function(e){return new t(this.target,this.targetId,this.J,e,this.X,this.lastLimboFreeSnapshotVersion,this.resumeToken)},t.prototype.tt=function(e,n){return new t(this.target,this.targetId,this.J,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e)},t.prototype.et=function(e){return new t(this.target,this.targetId,this.J,this.sequenceNumber,this.X,e,this.resumeToken)},t}(),Am=function(t){this.count=t};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nm(t){switch(t){case um.OK:return Xy();case um.CANCELLED:case um.UNKNOWN:case um.DEADLINE_EXCEEDED:case um.RESOURCE_EXHAUSTED:case um.INTERNAL:case um.UNAVAILABLE:case um.UNAUTHENTICATED:return!1;case um.INVALID_ARGUMENT:case um.NOT_FOUND:case um.ALREADY_EXISTS:case um.PERMISSION_DENIED:case um.FAILED_PRECONDITION:case um.ABORTED:case um.OUT_OF_RANGE:case um.UNIMPLEMENTED:case um.DATA_LOSS:return!0;default:return Xy()}}function Om(t){if(void 0===t)return Wy("GRPC error has no .code"),um.UNKNOWN;switch(t){case Sm.OK:return um.OK;case Sm.CANCELLED:return um.CANCELLED;case Sm.UNKNOWN:return um.UNKNOWN;case Sm.DEADLINE_EXCEEDED:return um.DEADLINE_EXCEEDED;case Sm.RESOURCE_EXHAUSTED:return um.RESOURCE_EXHAUSTED;case Sm.INTERNAL:return um.INTERNAL;case Sm.UNAVAILABLE:return um.UNAVAILABLE;case Sm.UNAUTHENTICATED:return um.UNAUTHENTICATED;case Sm.INVALID_ARGUMENT:return um.INVALID_ARGUMENT;case Sm.NOT_FOUND:return um.NOT_FOUND;case Sm.ALREADY_EXISTS:return um.ALREADY_EXISTS;case Sm.PERMISSION_DENIED:return um.PERMISSION_DENIED;case Sm.FAILED_PRECONDITION:return um.FAILED_PRECONDITION;case Sm.ABORTED:return um.ABORTED;case Sm.OUT_OF_RANGE:return um.OUT_OF_RANGE;case Sm.UNIMPLEMENTED:return um.UNIMPLEMENTED;case Sm.DATA_LOSS:return um.DATA_LOSS;default:return Xy()}}(km=Sm||(Sm={}))[km.OK=0]="OK",km[km.CANCELLED=1]="CANCELLED",km[km.UNKNOWN=2]="UNKNOWN",km[km.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",km[km.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",km[km.NOT_FOUND=5]="NOT_FOUND",km[km.ALREADY_EXISTS=6]="ALREADY_EXISTS",km[km.PERMISSION_DENIED=7]="PERMISSION_DENIED",km[km.UNAUTHENTICATED=16]="UNAUTHENTICATED",km[km.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",km[km.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",km[km.ABORTED=10]="ABORTED",km[km.OUT_OF_RANGE=11]="OUT_OF_RANGE",km[km.UNIMPLEMENTED=12]="UNIMPLEMENTED",km[km.INTERNAL=13]="INTERNAL",km[km.UNAVAILABLE=14]="UNAVAILABLE",km[km.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rm=function(){function t(t,e){this.P=t,this.root=e||Pm.EMPTY}return t.prototype.nt=function(e,n){return new t(this.P,this.root.nt(e,n,this.P).copy(null,null,Pm.st,null,null))},t.prototype.remove=function(e){return new t(this.P,this.root.remove(e,this.P).copy(null,null,Pm.st,null,null))},t.prototype.get=function(t){for(var e=this.root;!e._();){var n=this.P(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n._();){var r=this.P(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype._=function(){return this.root._()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!1,configurable:!0}),t.prototype.it=function(){return this.root.it()},t.prototype.rt=function(){return this.root.rt()},t.prototype.ot=function(t){return this.root.ot(t)},t.prototype.forEach=function(t){this.ot((function(e,n){return t(e,n),!1}))},t.prototype.toString=function(){var t=[];return this.ot((function(e,n){return t.push(e+":"+n),!1})),"{"+t.join(", ")+"}"},t.prototype.ht=function(t){return this.root.ht(t)},t.prototype.at=function(){return new Dm(this.root,null,this.P,!1)},t.prototype.ut=function(t){return new Dm(this.root,t,this.P,!1)},t.prototype.ct=function(){return new Dm(this.root,null,this.P,!0)},t.prototype.lt=function(t){return new Dm(this.root,t,this.P,!0)},t}(),Dm=function(){function t(t,e,n,r){this._t=r,this.ft=[];for(var i=1;!t._();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this._t?t.left:t.right;else{if(0===i){this.ft.push(t);break}this.ft.push(t),t=this._t?t.right:t.left}}return t.prototype.dt=function(){var t=this.ft.pop(),e={key:t.key,value:t.value};if(this._t)for(t=t.left;!t._();)this.ft.push(t),t=t.right;else for(t=t.right;!t._();)this.ft.push(t),t=t.left;return e},t.prototype.wt=function(){return this.ft.length>0},t.prototype.Tt=function(){if(0===this.ft.length)return null;var t=this.ft[this.ft.length-1];return{key:t.key,value:t.value}},t}(),Pm=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype._=function(){return!1},t.prototype.ot=function(t){return this.left.ot(t)||t(this.key,this.value)||this.right.ot(t)},t.prototype.ht=function(t){return this.right.ht(t)||t(this.key,this.value)||this.left.ht(t)},t.prototype.min=function(){return this.left._()?this:this.left.min()},t.prototype.it=function(){return this.min().key},t.prototype.rt=function(){return this.right._()?this.key:this.right.rt()},t.prototype.nt=function(t,e,n){var r=this,i=n(t,r.key);return(r=i<0?r.copy(null,null,null,r.left.nt(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.nt(t,e,n))).Et()},t.prototype.It=function(){if(this.left._())return t.EMPTY;var e=this;return e.left.At()||e.left.left.At()||(e=e.Rt()),(e=e.copy(null,null,null,e.left.It(),null)).Et()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left._()||i.left.At()||i.left.left.At()||(i=i.Rt()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.At()&&(i=i.Pt()),i.right._()||i.right.At()||i.right.left.At()||(i=i.Vt()),0===n(e,i.key)){if(i.right._())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.It())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.Et()},t.prototype.At=function(){return this.color},t.prototype.Et=function(){var t=this;return t.right.At()&&!t.left.At()&&(t=t.gt()),t.left.At()&&t.left.left.At()&&(t=t.Pt()),t.left.At()&&t.right.At()&&(t=t.yt()),t},t.prototype.Rt=function(){var t=this.yt();return t.right.left.At()&&(t=(t=(t=t.copy(null,null,null,null,t.right.Pt())).gt()).yt()),t},t.prototype.Vt=function(){var t=this.yt();return t.left.left.At()&&(t=(t=t.Pt()).yt()),t},t.prototype.gt=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.Pt=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.yt=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.pt=function(){var t=this.bt();return Math.pow(2,t)<=this.size+1},t.prototype.bt=function(){if(this.At()&&this.left.At())throw Xy();if(this.right.At())throw Xy();var t=this.left.bt();if(t!==this.right.bt())throw Xy();return t+(this.At()?0:1)},t}();Pm.EMPTY=null,Pm.RED=!0,Pm.st=!1,Pm.EMPTY=new(function(){function t(){this.size=0}return Object.defineProperty(t.prototype,"key",{get:function(){throw Xy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){throw Xy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"color",{get:function(){throw Xy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"left",{get:function(){throw Xy()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){throw Xy()},enumerable:!1,configurable:!0}),t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.nt=function(t,e,n){return new Pm(t,e)},t.prototype.remove=function(t,e){return this},t.prototype._=function(){return!0},t.prototype.ot=function(t){return!1},t.prototype.ht=function(t){return!1},t.prototype.it=function(){return null},t.prototype.rt=function(){return null},t.prototype.At=function(){return!1},t.prototype.pt=function(){return!0},t.prototype.bt=function(){return 0},t}());
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Mm=function(){function t(t){this.P=t,this.data=new Rm(this.P)}return t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.it()},t.prototype.last=function(){return this.data.rt()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!1,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.ot((function(e,n){return t(e),!1}))},t.prototype.vt=function(t,e){for(var n=this.data.ut(t[0]);n.wt();){var r=n.dt();if(this.P(r.key,t[1])>=0)return;e(r.key)}},t.prototype.St=function(t,e){var n;for(n=void 0!==e?this.data.ut(e):this.data.at();n.wt();)if(!t(n.dt().key))return},t.prototype.Dt=function(t){var e=this.data.ut(t);return e.wt()?e.dt().key:null},t.prototype.at=function(){return new Lm(this.data.at())},t.prototype.ut=function(t){return new Lm(this.data.ut(t))},t.prototype.add=function(t){return this.copy(this.data.remove(t).nt(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype._=function(){return this.data._()},t.prototype.Ct=function(t){var e=this;return e.size<t.size&&(e=t,t=this),t.forEach((function(t){e=e.add(t)})),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.at(),r=e.data.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(0!==this.P(i,o))return!1}return!0},t.prototype.N=function(){var t=[];return this.forEach((function(e){t.push(e)})),t},t.prototype.toString=function(){var t=[];return this.forEach((function(e){return t.push(e)})),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.P);return n.data=e,n},t}(),Lm=function(){function t(t){this.Nt=t}return t.prototype.dt=function(){return this.Nt.dt().key},t.prototype.wt=function(){return this.Nt.wt()},t}(),Fm=new Rm(gm.P);function jm(){return Fm}function Vm(){return jm()}var Um=new Rm(gm.P);function Bm(){return Um}var Hm=new Rm(gm.P),zm=new Mm(gm.P);function qm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n=zm,r=0,i=t;r<i.length;r++){var o=i[r];n=n.add(o)}return n}var Wm=new Mm($y);function Km(){return Wm}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gm=function(){function t(t){this.P=t?function(e,n){return t(e,n)||gm.P(e.key,n.key)}:function(t,e){return gm.P(t.key,e.key)},this.Ft=Bm(),this.kt=new Rm(this.P)}return t.xt=function(e){return new t(e.P)},t.prototype.has=function(t){return null!=this.Ft.get(t)},t.prototype.get=function(t){return this.Ft.get(t)},t.prototype.first=function(){return this.kt.it()},t.prototype.last=function(){return this.kt.rt()},t.prototype._=function(){return this.kt._()},t.prototype.indexOf=function(t){var e=this.Ft.get(t);return e?this.kt.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.kt.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t){this.kt.ot((function(e,n){return t(e),!1}))},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.Ft.nt(t.key,t),e.kt.nt(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.Ft.remove(t),this.kt.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.kt.at(),r=e.kt.at();n.wt();){var i=n.dt().key,o=r.dt().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach((function(e){t.push(e.toString())})),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.P=this.P,r.Ft=e,r.kt=n,r},t}(),Xm=function(){function t(){this.$t=new Rm(gm.P)}return t.prototype.track=function(t){var e=t.doc.key,n=this.$t.get(e);n?0!==t.type&&3===n.type?this.$t=this.$t.nt(e,t):3===t.type&&1!==n.type?this.$t=this.$t.nt(e,{type:n.type,doc:t.doc}):2===t.type&&2===n.type?this.$t=this.$t.nt(e,{type:2,doc:t.doc}):2===t.type&&0===n.type?this.$t=this.$t.nt(e,{type:0,doc:t.doc}):1===t.type&&0===n.type?this.$t=this.$t.remove(e):1===t.type&&2===n.type?this.$t=this.$t.nt(e,{type:1,doc:n.doc}):0===t.type&&1===n.type?this.$t=this.$t.nt(e,{type:2,doc:t.doc}):Xy():this.$t=this.$t.nt(e,t)},t.prototype.Mt=function(){var t=[];return this.$t.ot((function(e,n){t.push(n)})),t},t}(),Ym=function(){function t(t,e,n,r,i,o,s,a){this.query=t,this.docs=e,this.Ot=n,this.docChanges=r,this.Lt=i,this.fromCache=o,this.qt=s,this.Bt=a}return t.Ut=function(e,n,r,i){var o=[];return n.forEach((function(t){o.push({type:0,doc:t})})),new t(e,n,Gm.xt(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.Lt._()},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){if(!(this.fromCache===t.fromCache&&this.qt===t.qt&&this.Lt.isEqual(t.Lt)&&Xw(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.Ot.isEqual(t.Ot)))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),Qm=function(){function t(t,e,n,r,i){this.X=t,this.Qt=e,this.Wt=n,this.jt=r,this.Kt=i}return t.Gt=function(e,n){var r=new Map;return r.set(e,Zm.zt(e,n)),new t(hm.min(),r,Km(),jm(),qm())},t}(),Zm=function(){function t(t,e,n,r,i){this.resumeToken=t,this.Ht=e,this.Yt=n,this.Jt=r,this.Xt=i}return t.zt=function(e,n){return new t(Tm.Y,n,qm(),qm(),qm())},t}(),Jm=function(t,e,n,r){this.Zt=t,this.removedTargetIds=e,this.key=n,this.te=r},$m=function(t,e){this.targetId=t,this.ee=e},tb=function(t,e,n,r){void 0===n&&(n=Tm.Y),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r},eb=function(){function t(){this.ne=0,this.se=ib(),this.ie=Tm.Y,this.re=!1,this.oe=!0}return Object.defineProperty(t.prototype,"Ht",{get:function(){return this.re},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this.ie},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"he",{get:function(){return 0!==this.ne},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ae",{get:function(){return this.oe},enumerable:!1,configurable:!0}),t.prototype.ue=function(t){t.H()>0&&(this.oe=!0,this.ie=t)},t.prototype.ce=function(){var t=qm(),e=qm(),n=qm();return this.se.forEach((function(r,i){switch(i){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:n=n.add(r);break;default:Xy()}})),new Zm(this.ie,this.re,t,e,n)},t.prototype.le=function(){this.oe=!1,this.se=ib()},t.prototype._e=function(t,e){this.oe=!0,this.se=this.se.nt(t,e)},t.prototype.fe=function(t){this.oe=!0,this.se=this.se.remove(t)},t.prototype.de=function(){this.ne+=1},t.prototype.we=function(){this.ne-=1},t.prototype.Te=function(){this.oe=!0,this.re=!0},t}(),nb=function(){function t(t){this.Ee=t,this.Ie=new Map,this.me=jm(),this.Ae=rb(),this.Re=new Mm($y)}return t.prototype.Pe=function(t){for(var e=0,n=t.Zt;e<n.length;e++){var r=n[e];t.te instanceof Mw?this.Ve(r,t.te):t.te instanceof Lw&&this.ge(r,t.key,t.te)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var s=o[i];this.ge(s,t.key,t.te)}},t.prototype.ye=function(t){var e=this;this.pe(t,(function(n){var r=e.be(n);switch(t.state){case 0:e.ve(n)&&r.ue(t.resumeToken);break;case 1:r.we(),r.he||r.le(),r.ue(t.resumeToken);break;case 2:r.we(),r.he||e.removeTarget(n);break;case 3:e.ve(n)&&(r.Te(),r.ue(t.resumeToken));break;case 4:e.ve(n)&&(e.Se(n),r.ue(t.resumeToken));break;default:Xy()}}))},t.prototype.pe=function(t,e){var n=this;t.targetIds.length>0?t.targetIds.forEach(e):this.Ie.forEach((function(t,r){n.ve(r)&&e(r)}))},t.prototype.De=function(t){var e=t.targetId,n=t.ee.count,r=this.Ce(e);if(r){var i=r.target;if(Im(i))if(0===n){var o=new gm(i.path);this.ge(e,o,new Lw(o,hm.min()))}else Yy(1===n);else this.Ne(e)!==n&&(this.Se(e),this.Re=this.Re.add(e))}},t.prototype.Fe=function(t){var e=this,n=new Map;this.Ie.forEach((function(r,i){var o=e.Ce(i);if(o){if(r.Ht&&Im(o.target)){var s=new gm(o.target.path);null!==e.me.get(s)||e.ke(i,s)||e.ge(i,s,new Lw(s,t))}r.ae&&(n.set(i,r.ce()),r.le())}}));var r=qm();this.Ae.forEach((function(t,n){var i=!0;n.St((function(t){var n=e.Ce(t);return!n||2===n.J||(i=!1,!1)})),i&&(r=r.add(t))}));var i=new Qm(t,n,this.Re,this.me,r);return this.me=jm(),this.Ae=rb(),this.Re=new Mm($y),i},t.prototype.Ve=function(t,e){if(this.ve(t)){var n=this.ke(t,e.key)?2:0;this.be(t)._e(e.key,n),this.me=this.me.nt(e.key,e),this.Ae=this.Ae.nt(e.key,this.xe(e.key).add(t))}},t.prototype.ge=function(t,e,n){if(this.ve(t)){var r=this.be(t);this.ke(t,e)?r._e(e,1):r.fe(e),this.Ae=this.Ae.nt(e,this.xe(e).delete(t)),n&&(this.me=this.me.nt(e,n))}},t.prototype.removeTarget=function(t){this.Ie.delete(t)},t.prototype.Ne=function(t){var e=this.be(t).ce();return this.Ee.$e(t).size+e.Yt.size-e.Xt.size},t.prototype.de=function(t){this.be(t).de()},t.prototype.be=function(t){var e=this.Ie.get(t);return e||(e=new eb,this.Ie.set(t,e)),e},t.prototype.xe=function(t){var e=this.Ae.get(t);return e||(e=new Mm($y),this.Ae=this.Ae.nt(t,e)),e},t.prototype.ve=function(t){var e=null!==this.Ce(t);return e||qy("WatchChangeAggregator","Detected inactive target",t),e},t.prototype.Ce=function(t){var e=this.Ie.get(t);return e&&e.he?null:this.Ee.Me(t)},t.prototype.Se=function(t){var e=this;this.Ie.set(t,new eb),this.Ee.$e(t).forEach((function(n){e.ge(t,n,null)}))},t.prototype.ke=function(t,e){return this.Ee.$e(t).has(e)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(){return new Rm(gm.P)}function ib(){return new Rm(gm.P)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t){var e,n;return"server_timestamp"===(null===(n=((null===(e=null==t?void 0:t.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function sb(t){var e=db(t.mapValue.fields.__local_write_time__.timestampValue);return new lm(e.seconds,e.nanos)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ab=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ub(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?ob(t)?4:10:Xy()}function cb(t,e){var n=ub(t);if(n!==ub(e))return!1;switch(n){case 0:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return sb(t).isEqual(sb(e));case 3:return function(t,e){if("string"==typeof t.timestampValue&&"string"==typeof e.timestampValue&&t.timestampValue.length===e.timestampValue.length)return t.timestampValue===e.timestampValue;var n=db(t.timestampValue),r=db(e.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(t,e){return gb(t.bytesValue).isEqual(gb(e.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(t,e){return vb(t.geoPointValue.latitude)===vb(e.geoPointValue.latitude)&&vb(t.geoPointValue.longitude)===vb(e.geoPointValue.longitude)}(t,e);case 2:return function(t,e){if("integerValue"in t&&"integerValue"in e)return vb(t.integerValue)===vb(e.integerValue);if("doubleValue"in t&&"doubleValue"in e){var n=vb(t.doubleValue),r=vb(e.doubleValue);return n===r?mm(n)===mm(r):isNaN(n)&&isNaN(r)}return!1}(t,e);case 9:return tm(t.arrayValue.values||[],e.arrayValue.values||[],cb);case 10:return function(t,e){var n=t.mapValue.fields||{},r=e.mapValue.fields||{};if(im(n)!==im(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!cb(n[i],r[i])))return!1;return!0}(t,e);default:return Xy()}}function lb(t,e){return void 0!==(t.values||[]).find((function(t){return cb(t,e)}))}function hb(t,e){var n=ub(t),r=ub(e);if(n!==r)return $y(n,r);switch(n){case 0:return 0;case 1:return $y(t.booleanValue,e.booleanValue);case 2:return function(t,e){var n=vb(t.integerValue||t.doubleValue),r=vb(e.integerValue||e.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(t,e);case 3:return fb(t.timestampValue,e.timestampValue);case 4:return fb(sb(t),sb(e));case 5:return $y(t.stringValue,e.stringValue);case 6:return function(t,e){var n=gb(t),r=gb(e);return n.o(r)}(t.bytesValue,e.bytesValue);case 7:return function(t,e){for(var n=t.split("/"),r=e.split("/"),i=0;i<n.length&&i<r.length;i++){var o=$y(n[i],r[i]);if(0!==o)return o}return $y(n.length,r.length)}(t.referenceValue,e.referenceValue);case 8:return function(t,e){var n=$y(vb(t.latitude),vb(e.latitude));return 0!==n?n:$y(vb(t.longitude),vb(e.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(t,e){for(var n=t.values||[],r=e.values||[],i=0;i<n.length&&i<r.length;++i){var o=hb(n[i],r[i]);if(o)return o}return $y(n.length,r.length)}(t.arrayValue,e.arrayValue);case 10:return function(t,e){var n=t.fields||{},r=Object.keys(n),i=e.fields||{},o=Object.keys(i);r.sort(),o.sort();for(var s=0;s<r.length&&s<o.length;++s){var a=$y(r[s],o[s]);if(0!==a)return a;var u=hb(n[r[s]],i[o[s]]);if(0!==u)return u}return $y(r.length,o.length)}(t.mapValue,e.mapValue);default:throw Xy()}}function fb(t,e){if("string"==typeof t&&"string"==typeof e&&t.length===e.length)return $y(t,e);var n=db(t),r=db(e),i=$y(n.seconds,r.seconds);return 0!==i?i:$y(n.nanos,r.nanos)}function pb(t){return function t(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(t){var e=db(t);return"time("+e.seconds+","+e.nanos+")"}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?gb(e.bytesValue).toBase64():"referenceValue"in e?(r=e.referenceValue,gm.B(r).toString()):"geoPointValue"in e?"geo("+(n=e.geoPointValue).latitude+","+n.longitude+")":"arrayValue"in e?function(e){for(var n="[",r=!0,i=0,o=e.values||[];i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=t(s)}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){for(var n="{",r=!0,i=0,o=Object.keys(e.fields||{}).sort();i<o.length;i++){var s=o[i];r?r=!1:n+=",",n+=s+":"+t(e.fields[s])}return n+"}"}(e.mapValue):Xy();var n,r}(t)}function db(t){if(Yy(!!t),"string"==typeof t){var e=0,n=ab.exec(t);if(Yy(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t);return{seconds:Math.floor(i.getTime()/1e3),nanos:e}}return{seconds:vb(t.seconds),nanos:vb(t.nanos)}}function vb(t){return"number"==typeof t?t:"string"==typeof t?Number(t):0}function gb(t){return"string"==typeof t?Tm.fromBase64String(t):Tm.fromUint8Array(t)}function yb(t,e){return{referenceValue:"projects/"+t.projectId+"/databases/"+t.database+"/documents/"+e.path.F()}}function mb(t){return!!t&&"integerValue"in t}function bb(t){return!!t&&"arrayValue"in t}function wb(t){return!!t&&"nullValue"in t}function _b(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Eb(t){return!!t&&"mapValue"in t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Cb={asc:"ASCENDING",desc:"DESCENDING"},Ib={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Tb=function(t,e){this.s=t,this.Oe=e};function Sb(t){return{integerValue:""+t}}function kb(t,e){if(t.Oe){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:mm(e)?"-0":e}}function xb(t,e){return bm(e)?Sb(e):kb(t,e)}function Ab(t,e){return t.Oe?new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")+"."+("000000000"+e.nanoseconds).slice(-9)+"Z":{seconds:""+e.seconds,nanos:e.nanoseconds}}function Nb(t,e){return t.Oe?e.toBase64():e.toUint8Array()}function Ob(t,e){return Ab(t,e.A())}function Rb(t){return Yy(!!t),hm.I(function(t){var e=db(t);return new lm(e.seconds,e.nanos)}(t))}function Db(t,e){return function(t){return new pm(["projects",t.projectId,"databases",t.database])}(t).child("documents").child(e).F()}function Pb(t){var e=pm.k(t);return Yy($b(e)),e}function Mb(t,e){return Db(t.s,e.path)}function Lb(t,e){var n=Pb(e);return Yy(n.get(1)===t.s.projectId),Yy(!n.get(3)&&!t.s.database||n.get(3)===t.s.database),new gm(Ub(n))}function Fb(t,e){return Db(t.s,e)}function jb(t){var e=Pb(t);return 4===e.length?pm.$():Ub(e)}function Vb(t){return new pm(["projects",t.s.projectId,"databases",t.s.database]).F()}function Ub(t){return Yy(t.length>4&&"documents"===t.get(4)),t.g(5)}function Bb(t,e,n){return{name:Mb(t,e),fields:n.proto.mapValue.fields}}function Hb(t,e){var n;if(e instanceof Cw)n={update:Bb(t,e.key,e.value)};else if(e instanceof Aw)n={delete:Mb(t,e.key)};else if(e instanceof Iw)n={update:Bb(t,e.key,e.data),updateMask:Jb(e.Le)};else if(e instanceof Sw)n={transform:{document:Mb(t,e.key),fieldTransforms:e.fieldTransforms.map((function(t){return function(t,e){var n=e.transform;if(n instanceof iw)return{fieldPath:e.field.F(),setToServerValue:"REQUEST_TIME"};if(n instanceof ow)return{fieldPath:e.field.F(),appendMissingElements:{values:n.elements}};if(n instanceof aw)return{fieldPath:e.field.F(),removeAllFromArray:{values:n.elements}};if(n instanceof cw)return{fieldPath:e.field.F(),increment:n.qe};throw Xy()}(0,t)}))}};else{if(!(e instanceof Nw))return Xy();n={verify:Mb(t,e.key)}}return e.Ue.Be||(n.currentDocument=function(t,e){return void 0!==e.updateTime?{updateTime:Ob(t,e.updateTime)}:void 0!==e.exists?{exists:e.exists}:Xy()}(t,e.Ue)),n}function zb(t,e){var n=e.currentDocument?function(t){return void 0!==t.updateTime?vw.updateTime(Rb(t.updateTime)):void 0!==t.exists?vw.exists(t.exists):vw.Qe()}(e.currentDocument):vw.Qe();if(e.update){e.update.name;var r=Lb(t,e.update.name),i=new Ow({mapValue:{fields:e.update.fields}});if(e.updateMask){var o=function(t){var e=t.fieldPaths||[];return new fw(e.map((function(t){return vm.q(t)})))}(e.updateMask);return new Iw(r,i,o,n)}return new Cw(r,i,n)}if(e.delete){var s=Lb(t,e.delete);return new Aw(s,n)}if(e.transform){var a=Lb(t,e.transform.document),u=e.transform.fieldTransforms.map((function(e){return function(t,e){var n=null;if("setToServerValue"in e)Yy("REQUEST_TIME"===e.setToServerValue),n=new iw;else if("appendMissingElements"in e){var r=e.appendMissingElements.values||[];n=new ow(r)}else if("removeAllFromArray"in e){var i=e.removeAllFromArray.values||[];n=new aw(i)}else"increment"in e?n=new cw(t,e.increment):Xy();var o=vm.q(e.fieldPath);return new pw(o,n)}(t,e)}));return Yy(!0===n.exists),new Sw(a,u)}if(e.verify){var c=Lb(t,e.verify);return new Nw(c,n)}return Xy()}function qb(t,e){return{documents:[Fb(t,e.path)]}}function Wb(t,e){var n={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(n.parent=Fb(t,r),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fb(t,r.p()),n.structuredQuery.from=[{collectionId:r.S()}]);var i=function(t){if(0!==t.length){var e=t.map((function(t){return function(t){if("=="===t.op){if(_b(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NAN"}};if(wb(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(_b(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NOT_NAN"}};if(wb(t.value))return{unaryFilter:{field:Xb(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Xb(t.field),op:(e=t.op,Ib[e]),value:t.value}};var e}(t)}));return 1===e.length?e[0]:{compositeFilter:{op:"AND",filters:e}}}}(e.filters);i&&(n.structuredQuery.where=i);var o=function(t){if(0!==t.length)return t.map((function(t){return{field:Xb((e=t).field),direction:(n=e.dir,Cb[n])};var e,n}))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);var s=function(t,e){return t.Oe||ym(e)?e:{value:e}}(t,e.limit);return null!==s&&(n.structuredQuery.limit=s),e.startAt&&(n.structuredQuery.startAt=Kb(e.startAt)),e.endAt&&(n.structuredQuery.endAt=Kb(e.endAt)),n}function Kb(t){return{before:t.before,values:t.position}}function Gb(t){var e=!!t.before,n=t.values||[];return new u_(n,e)}function Xb(t){return{fieldPath:t.F()}}function Yb(t){return vm.q(t.fieldPath)}function Qb(t){return $w.create(Yb(t.fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":default:return Xy()}}(t.fieldFilter.op),t.fieldFilter.value)}function Zb(t){switch(t.unaryFilter.op){case"IS_NAN":var e=Yb(t.unaryFilter.field);return $w.create(e,"==",{doubleValue:NaN});case"IS_NULL":var n=Yb(t.unaryFilter.field);return $w.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=Yb(t.unaryFilter.field);return $w.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=Yb(t.unaryFilter.field);return $w.create(i,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":default:return Xy()}}function Jb(t){var e=[];return t.fields.forEach((function(t){return e.push(t.F())})),{fieldPaths:e}}function $b(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tw=function(){this.We=void 0};function ew(t,e,n){return t instanceof iw?function(t,e){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:t.seconds,nanos:t.nanoseconds}}}};return e&&(n.fields.__previous_value__=e),{mapValue:n}}(n,e):t instanceof ow?sw(t,e):t instanceof aw?uw(t,e):function(t,e){var n=rw(t,e),r=lw(n)+lw(t.qe);return mb(n)&&mb(t.qe)?Sb(r):kb(t.serializer,r)}(t,e)}function nw(t,e,n){return t instanceof ow?sw(t,e):t instanceof aw?uw(t,e):n}function rw(t,e){return t instanceof cw?mb(n=e)||function(t){return!!t&&"doubleValue"in t}(n)?e:{integerValue:0}:null;var n}var iw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e}(tw),ow=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return T(e,t),e}(tw);function sw(t,e){for(var n=hw(e),r=function(t){n.some((function(e){return cb(e,t)}))||n.push(t)},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var aw=function(t){function e(e){var n=this;return(n=t.call(this)||this).elements=e,n}return T(e,t),e}(tw);function uw(t,e){for(var n=hw(e),r=function(t){n=n.filter((function(e){return!cb(e,t)}))},i=0,o=t.elements;i<o.length;i++)r(o[i]);return{arrayValue:{values:n}}}var cw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).serializer=e,r.qe=n,r}return T(e,t),e}(tw);function lw(t){return vb(t.integerValue||t.doubleValue)}function hw(t){return bb(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fw=function(){function t(t){this.fields=t,t.sort(vm.P)}return t.prototype.je=function(t){for(var e=0,n=this.fields;e<n.length;e++)if(n[e].D(t))return!0;return!1},t.prototype.isEqual=function(t){return tm(this.fields,t.fields,(function(t,e){return t.isEqual(e)}))},t}(),pw=function(t,e){this.field=t,this.transform=e},dw=function(t,e){this.version=t,this.transformResults=e},vw=function(){function t(t,e){this.updateTime=t,this.exists=e}return t.Qe=function(){return new t},t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"Be",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)},t}();function gw(t,e){return void 0!==t.updateTime?e instanceof Mw&&e.version.isEqual(t.updateTime):void 0===t.exists||t.exists===e instanceof Mw}var yw=function(){};function mw(t,e,n){return t instanceof Cw?function(t,e,n){return new Mw(t.key,n.version,t.value,{hasCommittedMutations:!0})}(t,0,n):t instanceof Iw?function(t,e,n){if(!gw(t.Ue,e))return new Fw(t.key,n.version);var r=Tw(t,e);return new Mw(t.key,n.version,r,{hasCommittedMutations:!0})}(t,e,n):t instanceof Sw?function(t,e,n){if(Yy(null!=n.transformResults),!gw(t.Ue,e))return new Fw(t.key,n.version);var r=kw(t,e),i=function(t,e,n){var r=[];Yy(t.length===n.length);for(var i=0;i<n.length;i++){var o=t[i],s=o.transform,a=null;e instanceof Mw&&(a=e.field(o.field)),r.push(nw(s,a,n[i]))}return r}(t.fieldTransforms,e,n.transformResults),o=n.version,s=xw(t,r.data(),i);return new Mw(t.key,o,s,{hasCommittedMutations:!0})}(t,e,n):function(t,e,n){return new Lw(t.key,n.version,{hasCommittedMutations:!0})}(t,0,n)}function bw(t,e,n,r){return t instanceof Cw?function(t,e){if(!gw(t.Ue,e))return e;var n=Ew(e);return new Mw(t.key,n,t.value,{Ke:!0})}(t,e):t instanceof Iw?function(t,e){if(!gw(t.Ue,e))return e;var n=Ew(e),r=Tw(t,e);return new Mw(t.key,n,r,{Ke:!0})}(t,e):t instanceof Sw?function(t,e,n,r){if(!gw(t.Ue,e))return e;var i=kw(t,e),o=function(t,e,n,r){for(var i=[],o=0,s=t;o<s.length;o++){var a=s[o],u=a.transform,c=null;n instanceof Mw&&(c=n.field(a.field)),null===c&&r instanceof Mw&&(c=r.field(a.field)),i.push(ew(u,c,e))}return i}(t.fieldTransforms,n,e,r),s=xw(t,i.data(),o);return new Mw(t.key,i.version,s,{Ke:!0})}(t,e,r,n):function(t,e){return gw(t.Ue,e)?new Lw(t.key,hm.min()):e}(t,e)}function ww(t,e){return t instanceof Sw?function(t,e){for(var n=null,r=0,i=t.fieldTransforms;r<i.length;r++){var o=i[r],s=e instanceof Mw?e.field(o.field):void 0,a=rw(o.transform,s||null);null!=a&&(n=null==n?(new Rw).set(o.field,a):n.set(o.field,a))}return n?n.Ge():null}(t,e):null}function _w(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.Ue.isEqual(e.Ue)&&(0===t.type?t.value.isEqual(e.value):1===t.type?t.data.isEqual(e.data)&&t.Le.isEqual(e.Le):2!==t.type||tm(t.fieldTransforms,t.fieldTransforms,(function(t,e){return function(t,e){return t.field.isEqual(e.field)&&function(t,e){return t instanceof ow&&e instanceof ow||t instanceof aw&&e instanceof aw?tm(t.elements,e.elements,cb):t instanceof cw&&e instanceof cw?cb(t.qe,e.qe):t instanceof iw&&e instanceof iw}(t.transform,e.transform)}(t,e)})))}function Ew(t){return t instanceof Mw?t.version:hm.min()}var Cw=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).key=e,i.value=n,i.Ue=r,i.type=0,i}return T(e,t),e}(yw),Iw=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this)||this).key=e,o.data=n,o.Le=r,o.Ue=i,o.type=1,o}return T(e,t),e}(yw);function Tw(t,e){return function(t,e){var n=new Rw(e);return t.Le.fields.forEach((function(e){if(!e._()){var r=t.data.field(e);null!==r?n.set(e,r):n.delete(e)}})),n.Ge()}(t,e instanceof Mw?e.data():Ow.empty())}var Sw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.fieldTransforms=n,r.type=2,r.Ue=vw.exists(!0),r}return T(e,t),e}(yw);function kw(t,e){return e}function xw(t,e,n){for(var r=new Rw(e),i=0;i<t.fieldTransforms.length;i++){var o=t.fieldTransforms[i];r.set(o.field,n[i])}return r.Ge()}var Aw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=3,r}return T(e,t),e}(yw),Nw=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).key=e,r.Ue=n,r.type=4,r}return T(e,t),e}(yw),Ow=function(){function t(t){this.proto=t}return t.empty=function(){return new t({mapValue:{}})},t.prototype.field=function(t){if(t._())return this.proto;for(var e=this.proto,n=0;n<t.length-1;++n){if(!e.mapValue.fields)return null;if(!Eb(e=e.mapValue.fields[t.get(n)]))return null}return(e=(e.mapValue.fields||{})[t.S()])||null},t.prototype.isEqual=function(t){return cb(this.proto,t.proto)},t}(),Rw=function(){function t(t){void 0===t&&(t=Ow.empty()),this.ze=t,this.He=new Map}return t.prototype.set=function(t,e){return this.Ye(t,e),this},t.prototype.delete=function(t){return this.Ye(t,null),this},t.prototype.Ye=function(t,e){for(var n=this.He,r=0;r<t.length-1;++r){var i=t.get(r),o=n.get(i);o instanceof Map?n=o:o&&10===ub(o)?(o=new Map(Object.entries(o.mapValue.fields||{})),n.set(i,o),n=o):(o=new Map,n.set(i,o),n=o)}n.set(t.S(),e)},t.prototype.Ge=function(){var t=this.Je(vm.$(),this.He);return null!=t?new Ow(t):this.ze},t.prototype.Je=function(t,e){var n=this,r=!1,i=this.ze.field(t),o=Eb(i)?Object.assign({},i.mapValue.fields):{};return e.forEach((function(e,i){if(e instanceof Map){var s=n.Je(t.child(i),e);null!=s&&(o[i]=s,r=!0)}else null!==e?(o[i]=e,r=!0):o.hasOwnProperty(i)&&(delete o[i],r=!0)})),r?{mapValue:{fields:o}}:null},t}();function Dw(t){var e=[];return om(t.fields||{},(function(t,n){var r=new vm([t]);if(Eb(n)){var i=Dw(n.mapValue).fields;if(0===i.length)e.push(r);else for(var o=0,s=i;o<s.length;o++){var a=s[o];e.push(r.child(a))}}else e.push(r)})),new fw(e)
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}var Pw=function(t,e){this.key=t,this.version=e},Mw=function(t){function e(e,n,r,i){var o=this;return(o=t.call(this,e,n)||this).Xe=r,o.Ke=!!i.Ke,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return T(e,t),e.prototype.field=function(t){return this.Xe.field(t)},e.prototype.data=function(){return this.Xe},e.prototype.Ze=function(){return this.Xe.proto},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.Ke===t.Ke&&this.hasCommittedMutations===t.hasCommittedMutations&&this.Xe.isEqual(t.Xe)},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.Xe.toString()+", {hasLocalMutations: "+this.Ke+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.Ke||this.hasCommittedMutations},enumerable:!1,configurable:!0}),e}(Pw),Lw=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n)||this).hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return T(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Pw),Fw=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(Pw);
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jw(t,e){if(!(t instanceof e))throw e.name===t.constructor.name?new cm(um.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass '"+e.name+"' from a different Firestore SDK?"):new cm(um.INVALID_ARGUMENT,"Expected type '"+e.name+"', but was '"+t.constructor.name+"'");return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Vw=function(){function t(t,e,n,r,i,o,s,a){void 0===e&&(e=null),void 0===n&&(n=[]),void 0===r&&(r=[]),void 0===i&&(i=null),void 0===o&&(o="F"),void 0===s&&(s=null),void 0===a&&(a=null),this.path=t,this.collectionGroup=e,this.tn=n,this.filters=r,this.limit=i,this.en=o,this.startAt=s,this.endAt=a,this.nn=null,this.sn=null,this.startAt,this.endAt}return t.prototype.rn=function(e){return new t(e,null,this.tn.slice(),this.filters.slice(),this.limit,this.en,this.startAt,this.endAt)},t.prototype.on=function(){return 0===this.filters.length&&null===this.limit&&null==this.startAt&&null==this.endAt&&(0===this.tn.length||1===this.tn.length&&this.tn[0].field.O())},t.prototype.hn=function(){return!ym(this.limit)&&"F"===this.en},t.prototype.an=function(){return!ym(this.limit)&&"L"===this.en},t.prototype.un=function(){return this.tn.length>0?this.tn[0].field:null},t.prototype.cn=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n.ln())return n.field}return null},t.prototype._n=function(t){for(var e=0,n=this.filters;e<n.length;e++){var r=n[e];if(t.indexOf(r.op)>=0)return r.op}return null},t}();function Uw(t,e,n,r,i,o,s,a){return new Vw(t,e,n,r,i,o,s,a)}function Bw(t){return new Vw(t)}function Hw(t){return null!==t.collectionGroup}function zw(t){var e=jw(t,Vw);if(null===e.nn){e.nn=[];var n=e.cn(),r=e.un();if(null!==n&&null===r)n.O()||e.nn.push(new f_(n)),e.nn.push(new f_(vm.L(),"asc"));else{for(var i=!1,o=0,s=e.tn;o<s.length;o++){var a=s[o];e.nn.push(a),a.field.O()&&(i=!0)}if(!i){var u=e.tn.length>0?e.tn[e.tn.length-1].dir:"asc";e.nn.push(new f_(vm.L(),u))}}}return e.nn}function qw(t){var e=jw(t,Vw);if(!e.sn)if("F"===e.en)e.sn=_m(e.path,e.collectionGroup,zw(e),e.filters,e.limit,e.startAt,e.endAt);else{for(var n=[],r=0,i=zw(e);r<i.length;r++){var o=i[r],s="desc"===o.dir?"asc":"desc";n.push(new f_(o.field,s))}var a=e.endAt?new u_(e.endAt.position,!e.endAt.before):null,u=e.startAt?new u_(e.startAt.position,!e.startAt.before):null;e.sn=_m(e.path,e.collectionGroup,n,e.filters,e.limit,a,u)}return e.sn}function Ww(t,e,n){return new Vw(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Kw(t,e){return new Vw(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,e,t.endAt)}function Gw(t,e){return new Vw(t.path,t.collectionGroup,t.tn.slice(),t.filters.slice(),t.limit,t.en,t.startAt,e)}function Xw(t,e){return Cm(qw(t),qw(e))&&t.en===e.en}function Yw(t){return Em(qw(t))+"|lt:"+t.en}function Qw(t){return"Query(target="+function(t){var e=t.path.F();return null!==t.collectionGroup&&(e+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(e+=", filters: ["+t.filters.map((function(t){return(e=t).field.F()+" "+e.op+" "+pb(e.value);var e})).join(", ")+"]"),ym(t.limit)||(e+=", limit: "+t.limit),t.orderBy.length>0&&(e+=", orderBy: ["+t.orderBy.map((function(t){return(e=t).field.F()+" ("+e.dir+")";var e})).join(", ")+"]"),t.startAt&&(e+=", startAt: "+c_(t.startAt)),t.endAt&&(e+=", endAt: "+c_(t.endAt)),"Target("+e+")"}(qw(t))+"; limitType="+t.en+")"}function Zw(t,e){return function(t,e){var n=e.key.path;return null!==t.collectionGroup?e.key.U(t.collectionGroup)&&t.path.D(n):gm.W(t.path)?t.path.isEqual(n):t.path.C(n)}(t,e)&&function(t,e){for(var n=0,r=t.tn;n<r.length;n++){var i=r[n];if(!i.field.O()&&null===e.field(i.field))return!1}return!0}(t,e)&&function(t,e){for(var n=0,r=t.filters;n<r.length;n++)if(!r[n].matches(e))return!1;return!0}(t,e)&&function(t,e){return!(t.startAt&&!l_(t.startAt,zw(t),e)||t.endAt&&l_(t.endAt,zw(t),e))}(t,e)}function Jw(t){return function(e,n){for(var r=!1,i=0,o=zw(t);i<o.length;i++){var s=o[i],a=p_(s,e,n);if(0!==a)return a;r=r||s.field.O()}return 0}}var $w=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).field=e,i.op=n,i.value=r,i}return T(e,t),e.create=function(t,n,r){if(t.O())return"in"===n||"not-in"===n?this.fn(t,n,r):new t_(t,n,r);if(wb(r)){if("=="!==n&&"!="!==n)throw new cm(um.INVALID_ARGUMENT,"Invalid query. Null supports only equality comparisons.");return new e(t,n,r)}if(_b(r)){if("=="!==n&&"!="!==n)throw new cm(um.INVALID_ARGUMENT,"Invalid query. NaN supports only equality comparisons.");return new e(t,n,r)}return"array-contains"===n?new i_(t,r):"in"===n?new o_(t,r):"not-in"===n?new s_(t,r):"array-contains-any"===n?new a_(t,r):new e(t,n,r)},e.fn=function(t,e,n){return"in"===e?new e_(t,n):new n_(t,n)},e.prototype.matches=function(t){var e=t.field(this.field);return"!="===this.op?null!==e&&this.dn(hb(e,this.value)):null!==e&&ub(this.value)===ub(e)&&this.dn(hb(e,this.value))},e.prototype.dn=function(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return 0===t;case"!=":return 0!==t;case">":return t>0;case">=":return t>=0;default:return Xy()}},e.prototype.ln=function(){return["<","<=",">",">=","!="].indexOf(this.op)>=0},e}((function(){})),t_=function(t){function e(e,n,r){var i=this;return(i=t.call(this,e,n,r)||this).key=gm.B(r.referenceValue),i}return T(e,t),e.prototype.matches=function(t){var e=gm.P(t.key,this.key);return this.dn(e)},e}($w),e_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"in",n)||this).keys=r_("in",n),r}return T(e,t),e.prototype.matches=function(t){return this.keys.some((function(e){return e.isEqual(t.key)}))},e}($w),n_=function(t){function e(e,n){var r=this;return(r=t.call(this,e,"not-in",n)||this).keys=r_("not-in",n),r}return T(e,t),e.prototype.matches=function(t){return!this.keys.some((function(e){return e.isEqual(t.key)}))},e}($w);function r_(t,e){var n;return((null===(n=e.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(t){return gm.B(t.referenceValue)}))}var i_=function(t){function e(e,n){return t.call(this,e,"array-contains",n)||this}return T(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return bb(e)&&lb(e.arrayValue,this.value)},e}($w),o_=function(t){function e(e,n){return t.call(this,e,"in",n)||this}return T(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&lb(this.value.arrayValue,e)},e}($w),s_=function(t){function e(e,n){return t.call(this,e,"not-in",n)||this}return T(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return null!==e&&!lb(this.value.arrayValue,e)},e}($w),a_=function(t){function e(e,n){return t.call(this,e,"array-contains-any",n)||this}return T(e,t),e.prototype.matches=function(t){var e=this,n=t.field(this.field);return!(!bb(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(t){return lb(e.value.arrayValue,t)}))},e}($w),u_=function(t,e){this.position=t,this.before=e};function c_(t){return(t.before?"b":"a")+":"+t.position.map((function(t){return pb(t)})).join(",")}function l_(t,e,n){for(var r=0,i=0;i<t.position.length;i++){var o=e[i],s=t.position[i];if(r=o.field.O()?gm.P(gm.B(s.referenceValue),n.key):hb(s,n.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return t.before?r<=0:r<0}function h_(t,e){if(null===t)return null===e;if(null===e)return!1;if(t.before!==e.before||t.position.length!==e.position.length)return!1;for(var n=0;n<t.position.length;n++)if(!cb(t.position[n],e.position[n]))return!1;return!0}var f_=function(t,e){void 0===e&&(e="asc"),this.field=t,this.dir=e};function p_(t,e,n){var r=t.field.O()?gm.P(e.key,n.key):function(t,e,n){var r=e.field(t),i=n.field(t);return null!==r&&null!==i?hb(r,i):Xy()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Xy()}}function d_(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var v_=function(){function t(t,e,n,r){this.batchId=t,this.wn=e,this.baseMutations=n,this.mutations=r}return t.prototype.Tn=function(t,e,n){for(var r=n.En,i=0;i<this.mutations.length;i++){var o=this.mutations[i];o.key.isEqual(t)&&(e=mw(o,e,r[i]))}return e},t.prototype.In=function(t,e){for(var n=0,r=this.baseMutations;n<r.length;n++){var i=r[n];i.key.isEqual(t)&&(e=bw(i,e,e,this.wn))}for(var o=e,s=0,a=this.mutations;s<a.length;s++){var u=a[s];u.key.isEqual(t)&&(e=bw(u,e,o,this.wn))}return e},t.prototype.mn=function(t){var e=this,n=t;return this.mutations.forEach((function(r){var i=e.In(r.key,t.get(r.key));i&&(n=n.nt(r.key,i))})),n},t.prototype.keys=function(){return this.mutations.reduce((function(t,e){return t.add(e.key)}),qm())},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&tm(this.mutations,t.mutations,(function(t,e){return _w(t,e)}))&&tm(this.baseMutations,t.baseMutations,(function(t,e){return _w(t,e)}))},t}(),g_=function(){function t(t,e,n,r){this.batch=t,this.An=e,this.En=n,this.Rn=r}return t.from=function(e,n,r){Yy(e.mutations.length===r.length);for(var i=Hm,o=e.mutations,s=0;s<o.length;s++)i=i.nt(o[s].key,r[s].version);return new t(e,n,r,i)},t}(),y_=function(){function t(t){var e=this;this.Pn=null,this.Vn=null,this.result=void 0,this.error=void 0,this.gn=!1,this.yn=!1,t((function(t){e.gn=!0,e.result=t,e.Pn&&e.Pn(t)}),(function(t){e.gn=!0,e.error=t,e.Vn&&e.Vn(t)}))}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.yn&&Xy(),this.yn=!0,this.gn?this.error?this.pn(n,this.error):this.bn(e,this.result):new t((function(t,i){r.Pn=function(n){r.bn(e,n).next(t,i)},r.Vn=function(e){r.pn(n,e).next(t,i)}}))},t.prototype.vn=function(){var t=this;return new Promise((function(e,n){t.next(e,n)}))},t.prototype.Sn=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.bn=function(e,n){return e?this.Sn((function(){return e(n)})):t.resolve(n)},t.prototype.pn=function(e,n){return e?this.Sn((function(){return e(n)})):t.reject(n)},t.resolve=function(e){return new t((function(t,n){t(e)}))},t.reject=function(e){return new t((function(t,n){n(e)}))},t.Dn=function(e){return new t((function(t,n){var r=0,i=0,o=!1;e.forEach((function(e){++r,e.next((function(){++i,o&&i===r&&t()}),(function(t){return n(t)}))})),o=!0,i===r&&t()}))},t.Cn=function(e){for(var n=t.resolve(!1),r=function(e){n=n.next((function(n){return n?t.resolve(n):e()}))},i=0,o=e;i<o.length;i++)r(o[i]);return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach((function(t,i){r.push(e.call(n,t,i))})),this.Dn(r)},t}(),m_=function(){function t(){this.Nn=new am((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),this.Fn=!1}return Object.defineProperty(t.prototype,"readTime",{get:function(){return this.kn},set:function(t){this.kn=t},enumerable:!1,configurable:!0}),t.prototype.xn=function(t,e){this.$n(),this.readTime=e,this.Nn.set(t.key,t)},t.prototype.Mn=function(t,e){this.$n(),e&&(this.readTime=e),this.Nn.set(t,null)},t.prototype.On=function(t,e){this.$n();var n=this.Nn.get(e);return void 0!==n?y_.resolve(n):this.Ln(t,e)},t.prototype.getEntries=function(t,e){return this.qn(t,e)},t.prototype.apply=function(t){return this.$n(),this.Fn=!0,this.Bn(t)},t.prototype.$n=function(){},t}(),b_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",w_=function(){function t(){this.Un=[]}return t.prototype.Qn=function(t){this.Un.push(t)},t.prototype.Wn=function(){this.Un.forEach((function(t){return t()}))},t}(),__=function(){function t(t,e,n){this.jn=t,this.Kn=e,this.Gn=n}return t.prototype.zn=function(t,e){var n=this;return this.Kn.Hn(t,e).next((function(r){return n.Yn(t,e,r)}))},t.prototype.Yn=function(t,e,n){return this.jn.On(t,e).next((function(t){for(var r=0,i=n;r<i.length;r++)t=i[r].In(e,t);return t}))},t.prototype.Jn=function(t,e,n){var r=Vm();return e.forEach((function(t,e){for(var i=0,o=n;i<o.length;i++)e=o[i].In(t,e);r=r.nt(t,e)})),r},t.prototype.Xn=function(t,e){var n=this;return this.jn.getEntries(t,e).next((function(e){return n.Zn(t,e)}))},t.prototype.Zn=function(t,e){var n=this;return this.Kn.ts(t,e).next((function(r){var i=n.Jn(t,e,r),o=jm();return i.forEach((function(t,e){e||(e=new Lw(t,hm.min())),o=o.nt(t,e)})),o}))},t.prototype.es=function(t,e,n){return function(t){return gm.W(t.path)&&null===t.collectionGroup&&0===t.filters.length}(e)?this.ns(t,e.path):Hw(e)?this.ss(t,e,n):this.rs(t,e,n)},t.prototype.ns=function(t,e){return this.zn(t,new gm(e)).next((function(t){var e=Bm();return t instanceof Mw&&(e=e.nt(t.key,t)),e}))},t.prototype.ss=function(t,e,n){var r=this,i=e.collectionGroup,o=Bm();return this.Gn.os(t,i).next((function(s){return y_.forEach(s,(function(s){var a=e.rn(s.child(i));return r.rs(t,a,n).next((function(t){t.forEach((function(t,e){o=o.nt(t,e)}))}))})).next((function(){return o}))}))},t.prototype.rs=function(t,e,n){var r,i,o=this;return this.jn.es(t,e,n).next((function(n){return r=n,o.Kn.hs(t,e)})).next((function(e){return i=e,o.as(t,i,r).next((function(t){r=t;for(var e=0,n=i;e<n.length;e++)for(var o=n[e],s=0,a=o.mutations;s<a.length;s++){var u=a[s],c=u.key,l=r.get(c),h=bw(u,l,l,o.wn);r=h instanceof Mw?r.nt(c,h):r.remove(c)}}))})).next((function(){return r.forEach((function(t,n){Zw(e,n)||(r=r.remove(t))})),r}))},t.prototype.as=function(t,e,n){for(var r=qm(),i=0,o=e;i<o.length;i++)for(var s=0,a=o[i].mutations;s<a.length;s++){var u=a[s];u instanceof Iw&&null===n.get(u.key)&&(r=r.add(u.key))}var c=n;return this.jn.getEntries(t,r).next((function(t){return t.forEach((function(t,e){null!==e&&e instanceof Mw&&(c=c.nt(t,e))})),c}))},t}(),E_=function(){function t(t,e,n,r){this.targetId=t,this.fromCache=e,this.us=n,this.cs=r}return t.ls=function(e,n){for(var r=qm(),i=qm(),o=0,s=n.docChanges;o<s.length;o++){var a=s[o];switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}}return new t(e,n.fromCache,r,i)},t}(),C_=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e._s=function(t){return n.fs(t)},this.ds=function(t){return e.ws(t)})}return t.prototype.fs=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.ds&&this.ds(t),t},t}();C_.Ts=-1;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var I_=function(){var t=this;this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))},T_=function(){function t(t,e,n,r,i){void 0===n&&(n=1e3),void 0===r&&(r=1.5),void 0===i&&(i=6e4),this.Es=t,this.Is=e,this.ms=n,this.As=r,this.Rs=i,this.Ps=0,this.Vs=null,this.gs=Date.now(),this.reset()}return t.prototype.reset=function(){this.Ps=0},t.prototype.ys=function(){this.Ps=this.Rs},t.prototype.ps=function(t){var e=this;this.cancel();var n=Math.floor(this.Ps+this.bs()),r=Math.max(0,Date.now()-this.gs),i=Math.max(0,n-r);i>0&&qy("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.Ps+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.Vs=this.Es.vs(this.Is,i,(function(){return e.gs=Date.now(),t()})),this.Ps*=this.As,this.Ps<this.ms&&(this.Ps=this.ms),this.Ps>this.Rs&&(this.Ps=this.Rs)},t.prototype.Ss=function(){null!==this.Vs&&(this.Vs.Ds(),this.Vs=null)},t.prototype.cancel=function(){null!==this.Vs&&(this.Vs.cancel(),this.Vs=null)},t.prototype.bs=function(){return(Math.random()-.5)*this.Ps},t}(),S_=function(){function t(e,n,r){this.name=e,this.version=n,this.Cs=r,12.2===t.Ns(Ac())&&Wy("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return t.delete=function(t){return qy("SimpleDb","Removing database:",t),R_(window.indexedDB.deleteDatabase(t)).vn()},t.Fs=function(){if("undefined"==typeof indexedDB)return!1;if(t.ks())return!0;var e=Ac(),n=t.Ns(e),r=0<n&&n<10,i=t.xs(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)},t.ks=function(){var t;return"undefined"!=typeof process&&"YES"===(null===(t=process.env)||void 0===t?void 0:t.$s)},t.Ms=function(t,e){return t.store(e)},t.Ns=function(t){var e=t.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=e?e[1].split("_").slice(0,2).join("."):"-1";return Number(n)},t.xs=function(t){var e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)},t.prototype.Os=function(){return k(this,void 0,void 0,(function(){var t,e=this;return x(this,(function(n){switch(n.label){case 0:return this.db?[3,2]:(qy("SimpleDb","Opening database:",this.name),t=this,[4,new Promise((function(t,n){var r=indexedDB.open(e.name,e.version);r.onsuccess=function(e){var n=e.target.result;t(n)},r.onblocked=function(){n(new x_("Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=function(t){var e=t.target.error;"VersionError"===e.name?n(new cm(um.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):n(new x_(e))},r.onupgradeneeded=function(t){qy("SimpleDb",'Database "'+e.name+'" requires upgrade from version:',t.oldVersion);var n=t.target.result;e.Cs.createOrUpgrade(n,r.transaction,t.oldVersion,e.version).next((function(){qy("SimpleDb","Database upgrade to version "+e.version+" complete")}))}}))]);case 1:t.db=n.sent(),n.label=2;case 2:return[2,(this.Ls&&(this.db.onversionchange=function(t){return e.Ls(t)}),this.db)]}}))}))},t.prototype.qs=function(t){this.Ls=t,this.db&&(this.db.onversionchange=function(e){return t(e)})},t.prototype.runTransaction=function(t,e,n){return k(this,void 0,void 0,(function(){var r,i,o,s,a;return x(this,(function(u){switch(u.label){case 0:r="readonly"===t,i=0,o=function(){var t,o,a,u,c;return x(this,(function(l){switch(l.label){case 0:++i,l.label=1;case 1:return l.trys.push([1,4,,5]),[4,s.Os()];case 2:return s.db=l.sent(),t=N_.open(s.db,r?"readonly":"readwrite",e),o=n(t).catch((function(e){return t.abort(e),y_.reject(e)})).vn(),a={},o.catch((function(){})),[4,t.Bs];case 3:return[2,(a.value=(l.sent(),o),a)];case 4:return u=l.sent(),c="FirebaseError"!==u.name&&i<3,qy("SimpleDb","Transaction failed with error: %s. Retrying: %s.",u.message,c),s.close(),c?[3,5]:[2,{value:Promise.reject(u)}];case 5:return[2]}}))},s=this,u.label=1;case 1:return[5,o()];case 2:if("object"==typeof(a=u.sent()))return[2,a.value];u.label=3;case 3:return[3,1];case 4:return[2]}}))}))},t.prototype.close=function(){this.db&&this.db.close(),this.db=void 0},t}(),k_=function(){function t(t){this.Us=t,this.Qs=!1,this.Ws=null}return Object.defineProperty(t.prototype,"gn",{get:function(){return this.Qs},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"js",{get:function(){return this.Ws},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.Us=t},enumerable:!1,configurable:!0}),t.prototype.done=function(){this.Qs=!0},t.prototype.Ks=function(t){this.Ws=t},t.prototype.delete=function(){return R_(this.Us.delete())},t}(),x_=function(t){function e(e){var n=this;return(n=t.call(this,um.UNAVAILABLE,"IndexedDB transaction failed: "+e)||this).name="IndexedDbTransactionError",n}return T(e,t),e}(cm);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A_(t){return"IndexedDbTransactionError"===t.name}var N_=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.Gs=new I_,this.transaction.oncomplete=function(){e.Gs.resolve()},this.transaction.onabort=function(){t.error?e.Gs.reject(new x_(t.error)):e.Gs.resolve()},this.transaction.onerror=function(t){var n=P_(t.target.error);e.Gs.reject(new x_(n))}}return t.open=function(e,n,r){try{return new t(e.transaction(r,n))}catch(e){throw new x_(e)}},Object.defineProperty(t.prototype,"Bs",{get:function(){return this.Gs.promise},enumerable:!1,configurable:!0}),t.prototype.abort=function(t){t&&this.Gs.reject(t),this.aborted||(qy("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return new O_(e)},t}(),O_=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(qy("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(qy("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),R_(n)},t.prototype.add=function(t){return qy("SimpleDb","ADD",this.store.name,t,t),R_(this.store.add(t))},t.prototype.get=function(t){var e=this;return R_(this.store.get(t)).next((function(n){return void 0===n&&(n=null),qy("SimpleDb","GET",e.store.name,t,n),n}))},t.prototype.delete=function(t){return qy("SimpleDb","DELETE",this.store.name,t),R_(this.store.delete(t))},t.prototype.count=function(){return qy("SimpleDb","COUNT",this.store.name),R_(this.store.count())},t.prototype.zs=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.Hs(n,(function(t,e){r.push(e)})).next((function(){return r}))},t.prototype.Ys=function(t,e){qy("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.Js=!1;var r=this.cursor(n);return this.Hs(r,(function(t,e,n){return n.delete()}))},t.prototype.Xs=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.Hs(r,e)},t.prototype.Zs=function(t){var e=this.cursor({});return new y_((function(n,r){e.onerror=function(t){var e=P_(t.target.error);r(e)},e.onsuccess=function(e){var r=e.target.result;r?t(r.primaryKey,r.value).next((function(t){t?r.continue():n()})):n()}}))},t.prototype.Hs=function(t,e){var n=[];return new y_((function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(i){var o=new k_(i),s=e(i.primaryKey,i.value,o);if(s instanceof y_){var a=s.catch((function(t){return o.done(),y_.reject(t)}));n.push(a)}o.gn?r():null===o.js?i.continue():i.continue(o.js)}else r()}})).next((function(){return y_.Dn(n)}))},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"==typeof t?n=t:e=t),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.Js?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}();function R_(t){return new y_((function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){var e=P_(t.target.error);n(e)}}))}var D_=!1;function P_(t){var e=S_.Ns(Ac());if(e>=12.2&&e<13){var n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){var r=new cm("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '"+n+"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.");return D_||(D_=!0,setTimeout((function(){throw r}),0)),r}}return t}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(){return"undefined"!=typeof window?window:null}function L_(){return"undefined"!=typeof document?document:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var F_=function(){function t(t,e,n,r,i){this.ti=t,this.Is=e,this.ei=n,this.op=r,this.ni=i,this.si=new I_,this.then=this.si.promise.then.bind(this.si.promise),this.si.promise.catch((function(t){}))}return t.ii=function(e,n,r,i,o){var s=new t(e,n,Date.now()+r,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.ri=setTimeout((function(){return e.oi()}),t)},t.prototype.Ds=function(){return this.oi()},t.prototype.cancel=function(t){null!==this.ri&&(this.clearTimeout(),this.si.reject(new cm(um.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.oi=function(){var t=this;this.ti.hi((function(){return null!==t.ri?(t.clearTimeout(),t.op().then((function(e){return t.si.resolve(e)}))):Promise.resolve()}))},t.prototype.clearTimeout=function(){null!==this.ri&&(this.ni(this),clearTimeout(this.ri),this.ri=null)},t}(),j_=function(){function t(){var t=this;this.ai=Promise.resolve(),this.ui=[],this.ci=!1,this.li=[],this._i=null,this.fi=!1,this.di=[],this.wi=new T_(this,"async_queue_retry"),this.Ti=function(){var e=L_();e&&qy("AsyncQueue","Visibility state changed to  ",e.visibilityState),t.wi.Ss()};var e=L_();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ti)}return Object.defineProperty(t.prototype,"Ei",{get:function(){return this.ci},enumerable:!1,configurable:!0}),t.prototype.hi=function(t){this.enqueue(t)},t.prototype.Ii=function(t){this.mi(),this.Ai(t)},t.prototype.Ri=function(t){return this.mi(),this.Ai(t)},t.prototype.Pi=function(t){return k(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return this.mi(),this.ci?[3,2]:(this.ci=!0,(e=L_())&&"function"==typeof e.removeEventListener&&e.removeEventListener("visibilitychange",this.Ti),[4,this.Ri(t)]);case 1:n.sent(),n.label=2;case 2:return[2]}}))}))},t.prototype.enqueue=function(t){return this.mi(),this.ci?new Promise((function(t){})):this.Ai(t)},t.prototype.Vi=function(t){var e=this;this.ui.push(t),this.hi((function(){return e.gi()}))},t.prototype.gi=function(){return k(this,void 0,void 0,(function(){var t,e=this;return x(this,(function(n){switch(n.label){case 0:if(0===this.ui.length)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.ui[0]()];case 2:return n.sent(),this.ui.shift(),this.wi.reset(),[3,4];case 3:if(!A_(t=n.sent()))throw t;return qy("AsyncQueue","Operation failed with retryable error: "+t),[3,4];case 4:this.ui.length>0&&this.wi.ps((function(){return e.gi()})),n.label=5;case 5:return[2]}}))}))},t.prototype.Ai=function(t){var e=this,n=this.ai.then((function(){return e.fi=!0,t().catch((function(t){throw e._i=t,e.fi=!1,Wy("INTERNAL UNHANDLED ERROR: ",function(t){var e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+"\n"+t.stack),e}(t)),t})).then((function(t){return e.fi=!1,t}))}));return this.ai=n,n},t.prototype.vs=function(t,e,n){var r=this;this.mi(),this.di.indexOf(t)>-1&&(e=0);var i=F_.ii(this,t,e,n,(function(t){return r.yi(t)}));return this.li.push(i),i},t.prototype.mi=function(){this._i&&Xy()},t.prototype.pi=function(){},t.prototype.bi=function(){return k(this,void 0,void 0,(function(){var t;return x(this,(function(e){switch(e.label){case 0:return[4,t=this.ai];case 1:e.sent(),e.label=2;case 2:if(t!==this.ai)return[3,0];e.label=3;case 3:return[2]}}))}))},t.prototype.vi=function(t){for(var e=0,n=this.li;e<n.length;e++)if(n[e].Is===t)return!0;return!1},t.prototype.Si=function(t){var e=this;return this.bi().then((function(){e.li.sort((function(t,e){return t.ei-e.ei}));for(var n=0,r=e.li;n<r.length;n++){var i=r[n];if(i.Ds(),"all"!==t&&i.Is===t)break}return e.bi()}))},t.prototype.Di=function(t){this.di.push(t)},t.prototype.yi=function(t){var e=this.li.indexOf(t);this.li.splice(e,1)},t}();function V_(t,e){if(Wy("AsyncQueue",e+": "+t),A_(t))return new cm(um.UNAVAILABLE,e+": "+t);throw t}function U_(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],s=$y(n,i);return 0===s?$y(r,o):s}var B_=function(){function t(t){this.Ci=t,this.buffer=new Mm(U_),this.Ni=0}return t.prototype.Fi=function(){return++this.Ni},t.prototype.ki=function(t){var e=[t,this.Fi()];if(this.buffer.size<this.Ci)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();U_(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!1,configurable:!0}),t}(),H_={xi:!1,$i:0,Mi:0,Oi:0},z_=function(){function t(t,e,n){this.Li=t,this.qi=e,this.Bi=n}return t.Ui=function(e){return new t(e,t.Qi,t.Wi)},t}();z_.ji=-1,z_.Ki=1048576,z_.Gi=41943040,z_.Qi=10,z_.Wi=1e3,z_.zi=new z_(z_.Gi,z_.Qi,z_.Wi),z_.Hi=new z_(z_.ji,0,0);var q_=function(){function t(t,e){this.Yi=t,this.ti=e,this.Ji=!1,this.Xi=null}return t.prototype.start=function(t){this.Yi.params.Li!==z_.ji&&this.Zi(t)},t.prototype.stop=function(){this.Xi&&(this.Xi.cancel(),this.Xi=null)},Object.defineProperty(t.prototype,"tr",{get:function(){return null!==this.Xi},enumerable:!1,configurable:!0}),t.prototype.Zi=function(t){var e=this,n=this.Ji?3e5:6e4;qy("LruGarbageCollector","Garbage collection scheduled in "+n+"ms"),this.Xi=this.ti.vs("lru_garbage_collection",n,(function(){return k(e,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:this.Xi=null,this.Ji=!0,n.label=1;case 1:return n.trys.push([1,3,,7]),[4,t.er(this.Yi)];case 2:return n.sent(),[3,7];case 3:return A_(e=n.sent())?(qy("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e),[3,6]):[3,4];case 4:return[4,$E(e)];case 5:n.sent(),n.label=6;case 6:return[3,7];case 7:return[4,this.Zi(t)];case 8:return n.sent(),[2]}}))}))}))},t}(),W_=function(){function t(t,e){this.nr=t,this.params=e}return t.prototype.sr=function(t,e){return this.nr.ir(t).next((function(t){return Math.floor(e/100*t)}))},t.prototype.rr=function(t,e){var n=this;if(0===e)return y_.resolve(C_.Ts);var r=new B_(e);return this.nr.pe(t,(function(t){return r.ki(t.sequenceNumber)})).next((function(){return n.nr.or(t,(function(t){return r.ki(t)}))})).next((function(){return r.maxValue}))},t.prototype.hr=function(t,e,n){return this.nr.hr(t,e,n)},t.prototype.ar=function(t,e){return this.nr.ar(t,e)},t.prototype.ur=function(t,e){var n=this;return this.params.Li===z_.ji?(qy("LruGarbageCollector","Garbage collection skipped; disabled"),y_.resolve(H_)):this.cr(t).next((function(r){return r<n.params.Li?(qy("LruGarbageCollector","Garbage collection skipped; Cache size "+r+" is lower than threshold "+n.params.Li),H_):n.lr(t,e)}))},t.prototype.cr=function(t){return this.nr.cr(t)},t.prototype.lr=function(t,e){var n,r,i,o,s,a,u,c=this,l=Date.now();return this.sr(t,this.params.qi).next((function(e){return e>c.params.Bi?(qy("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of "+c.params.Bi+" from "+e),r=c.params.Bi):r=e,o=Date.now(),c.rr(t,r)})).next((function(r){return n=r,s=Date.now(),c.hr(t,n,e)})).next((function(e){return i=e,a=Date.now(),c.ar(t,n)})).next((function(t){return u=Date.now(),zy()<=cl.DEBUG&&qy("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in "+(o-l)+"ms\n\tDetermined least recently used "+r+" in "+(s-o)+"ms\n\tRemoved "+i+" targets in "+(a-s)+"ms\n\tRemoved "+t+" documents in "+(u-a)+"ms\nTotal Duration: "+(u-l)+"ms"),y_.resolve({xi:!0,$i:r,Mi:i,Oi:t})}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K_(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=X_(e)),e=G_(t.get(n),e);return X_(e)}function G_(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+="";break;case"":n+="";break;default:n+=o}}return n}function X_(t){return t+""}function Y_(t){var e=t.length;if(Yy(e>=2),2===e)return Yy(""===t.charAt(0)&&""===t.charAt(1)),pm.$();for(var n=e-2,r=[],i="",o=0;o<e;){var s=t.indexOf("",o);switch((s<0||s>n)&&Xy(),t.charAt(s+1)){case"":var a=t.substring(o,s),u=void 0;0===i.length?u=a:(u=i+=a,i=""),r.push(u);break;case"":i+=t.substring(o,s),i+="\0";break;case"":i+=t.substring(o,s+1);break;default:Xy()}o=s+2}return new pm(r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Q_=function(t){this._r=t};function Z_(t,e){if(e.document)return function(t,e,n){var r=Lb(t,e.name),i=Rb(e.updateTime),o=new Ow({mapValue:{fields:e.fields}});return new Mw(r,i,o,{hasCommittedMutations:!!n})}(t._r,e.document,!!e.hasCommittedMutations);if(e.noDocument){var n=gm.j(e.noDocument.path),r=nE(e.noDocument.readTime);return new Lw(n,r,{hasCommittedMutations:!!e.hasCommittedMutations})}if(e.unknownDocument){var i=gm.j(e.unknownDocument.path),o=nE(e.unknownDocument.version);return new Fw(i,o)}return Xy()}function J_(t,e,n){var r=$_(n),i=e.key.path.p().N();if(e instanceof Mw){var o=function(t,e){return{name:Mb(t,e.key),fields:e.Ze().mapValue.fields,updateTime:Ab(t,e.version.A())}}(t._r,e),s=e.hasCommittedMutations;return new kE(null,null,o,s,r,i)}if(e instanceof Lw){var a=e.key.path.N(),u=eE(e.version),c=e.hasCommittedMutations;return new kE(null,new TE(a,u),null,c,r,i)}if(e instanceof Fw){var l=e.key.path.N(),h=eE(e.version);return new kE(new SE(l,h),null,null,!0,r,i)}return Xy()}function $_(t){var e=t.A();return[e.seconds,e.nanoseconds]}function tE(t){var e=new lm(t[0],t[1]);return hm.I(e)}function eE(t){var e=t.A();return new wE(e.seconds,e.nanoseconds)}function nE(t){var e=new lm(t.seconds,t.nanoseconds);return hm.I(e)}function rE(t,e){var n=(e.baseMutations||[]).map((function(e){return zb(t._r,e)})),r=e.mutations.map((function(e){return zb(t._r,e)})),i=lm.fromMillis(e.localWriteTimeMs);return new v_(e.batchId,i,n,r)}function iE(t){var e,n,r=nE(t.readTime),i=void 0!==t.lastLimboFreeSnapshotVersion?nE(t.lastLimboFreeSnapshotVersion):hm.min();return void 0!==t.query.documents?(Yy(1===(n=t.query).documents.length),e=qw(Bw(jb(n.documents[0])))):e=function(t){var e=jb(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Yy(1===r);var o=n.from[0];o.allDescendants?i=o.collectionId:e=e.child(o.collectionId)}var s=[];n.where&&(s=function t(e){return e?void 0!==e.unaryFilter?[Zb(e)]:void 0!==e.fieldFilter?[Qb(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return t(e)})).reduce((function(t,e){return t.concat(e)})):Xy():[]}(n.where));var a=[];n.orderBy&&(a=n.orderBy.map((function(t){return new f_(Yb((e=t).field),function(t){switch(t){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction));var e})));var u=null;n.limit&&(u=function(t){var e;return ym(e="object"==typeof t?t.value:t)?null:e}(n.limit));var c=null;n.startAt&&(c=Gb(n.startAt));var l=null;return n.endAt&&(l=Gb(n.endAt)),qw(Uw(e,i,a,s,u,"F",c,l))}(t.query),new xm(e,t.targetId,0,t.lastListenSequenceNumber,r,i,Tm.fromBase64String(t.resumeToken))}function oE(t,e){var n,r=eE(e.X),i=eE(e.lastLimboFreeSnapshotVersion);n=Im(e.target)?qb(t._r,e.target):Wb(t._r,e.target);var o=e.resumeToken.toBase64();return new AE(e.targetId,Em(e.target),r,o,e.sequenceNumber,i,n)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sE=function(){function t(t,e,n,r){this.userId=t,this.serializer=e,this.Gn=n,this.dr=r,this.wr={}}return t.Tr=function(e,n,r,i){return Yy(""!==e.uid),new t(e.Er()?e.uid:"",n,r,i)},t.prototype.Ir=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return cE(t).Xs({index:CE.userMutationsIndex,range:n},(function(t,n,r){e=!1,r.done()})).next((function(){return e}))},t.prototype.mr=function(t,e,n,r){var i=this,o=lE(t),s=cE(t);return s.add({}).next((function(a){Yy("number"==typeof a);for(var u=new v_(a,e,n,r),c=function(t,e,n){var r=n.baseMutations.map((function(e){return Hb(t._r,e)})),i=n.mutations.map((function(e){return Hb(t._r,e)}));return new CE(e,n.batchId,n.wn.toMillis(),r,i)}(i.serializer,i.userId,u),l=[],h=new Mm((function(t,e){return $y(t.F(),e.F())})),f=0,p=r;f<p.length;f++){var d=p[f],v=IE.key(i.userId,d.key.path,a);h=h.add(d.key.path.p()),l.push(s.put(c)),l.push(o.put(v,IE.PLACEHOLDER))}return h.forEach((function(e){l.push(i.Gn.Ar(t,e))})),t.Qn((function(){i.wr[a]=u.keys()})),y_.Dn(l).next((function(){return u}))}))},t.prototype.Rr=function(t,e){var n=this;return cE(t).get(e).next((function(t){return t?(Yy(t.userId===n.userId),rE(n.serializer,t)):null}))},t.prototype.Pr=function(t,e){var n=this;return this.wr[e]?y_.resolve(this.wr[e]):this.Rr(t,e).next((function(t){if(t){var r=t.keys();return n.wr[e]=r,r}return null}))},t.prototype.Vr=function(t,e){var n=this,r=e+1,i=IDBKeyRange.lowerBound([this.userId,r]),o=null;return cE(t).Xs({index:CE.userMutationsIndex,range:i},(function(t,e,i){e.userId===n.userId&&(Yy(e.batchId>=r),o=rE(n.serializer,e)),i.done()})).next((function(){return o}))},t.prototype.gr=function(t){var e=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return cE(t).Xs({index:CE.userMutationsIndex,range:e,reverse:!0},(function(t,e,r){n=e.batchId,r.done()})).next((function(){return n}))},t.prototype.yr=function(t){var e=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return cE(t).zs(CE.userMutationsIndex,n).next((function(t){return t.map((function(t){return rE(e.serializer,t)}))}))},t.prototype.Hn=function(t,e){var n=this,r=IE.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return lE(t).Xs({range:i},(function(r,i,s){var a=r[0],u=r[1],c=r[2],l=Y_(u);if(a===n.userId&&e.path.isEqual(l))return cE(t).get(c).next((function(t){if(!t)throw Xy();Yy(t.userId===n.userId),o.push(rE(n.serializer,t))}));s.done()})).next((function(){return o}))},t.prototype.ts=function(t,e){var n=this,r=new Mm($y),i=[];return e.forEach((function(e){var o=IE.prefixForPath(n.userId,e.path),s=IDBKeyRange.lowerBound(o),a=lE(t).Xs({range:s},(function(t,i,o){var s=t[0],a=t[1],u=t[2],c=Y_(a);s===n.userId&&e.path.isEqual(c)?r=r.add(u):o.done()}));i.push(a)})),y_.Dn(i).next((function(){return n.pr(t,r)}))},t.prototype.hs=function(t,e){var n=this,r=e.path,i=r.length+1,o=IE.prefixForPath(this.userId,r),s=IDBKeyRange.lowerBound(o),a=new Mm($y);return lE(t).Xs({range:s},(function(t,e,o){var s=t[0],u=t[1],c=t[2],l=Y_(u);s===n.userId&&r.D(l)?l.length===i&&(a=a.add(c)):o.done()})).next((function(){return n.pr(t,a)}))},t.prototype.pr=function(t,e){var n=this,r=[],i=[];return e.forEach((function(e){i.push(cE(t).get(e).next((function(t){if(null===t)throw Xy();Yy(t.userId===n.userId),r.push(rE(n.serializer,t))})))})),y_.Dn(i).next((function(){return r}))},t.prototype.br=function(t,e){var n=this;return uE(t.vr,this.userId,e).next((function(r){return t.Qn((function(){n.Sr(e.batchId)})),y_.forEach(r,(function(e){return n.dr.Dr(t,e)}))}))},t.prototype.Sr=function(t){delete this.wr[t]},t.prototype.Cr=function(t){var e=this;return this.Ir(t).next((function(n){if(!n)return y_.resolve();var r=IDBKeyRange.lowerBound(IE.prefixForUser(e.userId)),i=[];return lE(t).Xs({range:r},(function(t,n,r){if(t[0]===e.userId){var o=Y_(t[1]);i.push(o)}else r.done()})).next((function(){Yy(0===i.length)}))}))},t.prototype.Nr=function(t,e){return aE(t,this.userId,e)},t.prototype.Fr=function(t){var e=this;return hE(t).get(this.userId).next((function(t){return t||new EE(e.userId,-1,"")}))},t}();function aE(t,e,n){var r=IE.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),s=!1;return lE(t).Xs({range:o,Js:!0},(function(t,n,r){var o=t[0],a=t[1];t[2],o===e&&a===i&&(s=!0),r.done()})).next((function(){return s}))}function uE(t,e,n){var r=t.store(CE.store),i=t.store(IE.store),o=[],s=IDBKeyRange.only(n.batchId),a=0,u=r.Xs({range:s},(function(t,e,n){return a++,n.delete()}));o.push(u.next((function(){Yy(1===a)})));for(var c=[],l=0,h=n.mutations;l<h.length;l++){var f=h[l],p=IE.key(e,f.key.path,n.batchId);o.push(i.delete(p)),c.push(f.key)}return y_.Dn(o).next((function(){return c}))}function cE(t){return WE.Ms(t,CE.store)}function lE(t){return WE.Ms(t,IE.store)}function hE(t){return WE.Ms(t,EE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var fE=function(){function t(t,e){this.serializer=t,this.Gn=e}return t.prototype.xn=function(t,e,n){return dE(t).put(vE(e),n)},t.prototype.Mn=function(t,e){var n=dE(t),r=vE(e);return n.delete(r)},t.prototype.updateMetadata=function(t,e){var n=this;return this.getMetadata(t).next((function(r){return r.byteSize+=e,n.kr(t,r)}))},t.prototype.On=function(t,e){var n=this;return dE(t).get(vE(e)).next((function(t){return n.xr(t)}))},t.prototype.$r=function(t,e){var n=this;return dE(t).get(vE(e)).next((function(t){var e=n.xr(t);return e?{Mr:e,size:gE(t)}:null}))},t.prototype.getEntries=function(t,e){var n=this,r=Vm();return this.Or(t,e,(function(t,e){var i=n.xr(e);r=r.nt(t,i)})).next((function(){return r}))},t.prototype.Lr=function(t,e){var n=this,r=Vm(),i=new Rm(gm.P);return this.Or(t,e,(function(t,e){var o=n.xr(e);o?(r=r.nt(t,o),i=i.nt(t,gE(e))):(r=r.nt(t,null),i=i.nt(t,0))})).next((function(){return{qr:r,Br:i}}))},t.prototype.Or=function(t,e,n){if(e._())return y_.resolve();var r=IDBKeyRange.bound(e.first().path.N(),e.last().path.N()),i=e.at(),o=i.dt();return dE(t).Xs({range:r},(function(t,e,r){for(var s=gm.j(t);o&&gm.P(o,s)<0;)n(o,null),o=i.dt();o&&o.isEqual(s)&&(n(o,e),o=i.wt()?i.dt():null),o?r.Ks(o.path.N()):r.done()})).next((function(){for(;o;)n(o,null),o=i.wt()?i.dt():null}))},t.prototype.es=function(t,e,n){var r=this,i=Bm(),o=e.path.length+1,s={};if(n.isEqual(hm.min())){var a=e.path.N();s.range=IDBKeyRange.lowerBound(a)}else{var u=e.path.N(),c=$_(n);s.range=IDBKeyRange.lowerBound([u,c],!0),s.index=kE.collectionReadTimeIndex}return dE(t).Xs(s,(function(t,n,s){if(t.length===o){var a=Z_(r.serializer,n);e.path.D(a.key.path)?a instanceof Mw&&Zw(e,a)&&(i=i.nt(a.key,a)):s.done()}})).next((function(){return i}))},t.prototype.Ur=function(t,e){var n=this,r=jm(),i=$_(e),o=dE(t),s=IDBKeyRange.lowerBound(i,!0);return o.Xs({index:kE.readTimeIndex,range:s},(function(t,e){var o=Z_(n.serializer,e);r=r.nt(o.key,o),i=e.readTime})).next((function(){return{Qr:r,readTime:tE(i)}}))},t.prototype.Wr=function(t){var e=dE(t),n=hm.min();return e.Xs({index:kE.readTimeIndex,reverse:!0},(function(t,e,r){e.readTime&&(n=tE(e.readTime)),r.done()})).next((function(){return n}))},t.prototype.jr=function(e){return new t.Kr(this,!!e&&e.Gr)},t.prototype.zr=function(t){return this.getMetadata(t).next((function(t){return t.byteSize}))},t.prototype.getMetadata=function(t){return pE(t).get(xE.key).next((function(t){return Yy(!!t),t}))},t.prototype.kr=function(t,e){return pE(t).put(xE.key,e)},t.prototype.xr=function(t){if(t){var e=Z_(this.serializer,t);return e instanceof Lw&&e.version.isEqual(hm.min())?null:e}return null},t}();function pE(t){return WE.Ms(t,xE.store)}function dE(t){return WE.Ms(t,kE.store)}function vE(t){return t.path.N()}function gE(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw Xy();e=t.noDocument}return JSON.stringify(e).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fE.Kr=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).Hr=e,r.Gr=n,r.Yr=new am((function(t){return t.toString()}),(function(t,e){return t.isEqual(e)})),r}return T(e,t),e.prototype.Bn=function(t){var e=this,n=[],r=0,i=new Mm((function(t,e){return $y(t.F(),e.F())}));return this.Nn.forEach((function(o,s){var a=e.Yr.get(o);if(s){var u=J_(e.Hr.serializer,s,e.readTime);i=i.add(o.path.p());var c=gE(u);r+=c-a,n.push(e.Hr.xn(t,o,u))}else if(r-=a,e.Gr){var l=J_(e.Hr.serializer,new Lw(o,hm.min()),e.readTime);n.push(e.Hr.xn(t,o,l))}else n.push(e.Hr.Mn(t,o))})),i.forEach((function(r){n.push(e.Hr.Gn.Ar(t,r))})),n.push(this.Hr.updateMetadata(t,r)),y_.Dn(n)},e.prototype.Ln=function(t,e){var n=this;return this.Hr.$r(t,e).next((function(t){return null===t?(n.Yr.set(e,0),null):(n.Yr.set(e,t.size),t.Mr)}))},e.prototype.qn=function(t,e){var n=this;return this.Hr.Lr(t,e).next((function(t){var e=t.qr;return t.Br.forEach((function(t,e){n.Yr.set(t,e)})),e}))},e}(m_);var yE=function(){function t(){this.Jr=new mE}return t.prototype.Ar=function(t,e){return this.Jr.add(e),y_.resolve()},t.prototype.os=function(t,e){return y_.resolve(this.Jr.getEntries(e))},t}(),mE=function(){function t(){this.index={}}return t.prototype.add=function(t){var e=t.S(),n=t.p(),r=this.index[e]||new Mm(pm.P),i=!r.has(n);return this.index[e]=r.add(n),i},t.prototype.has=function(t){var e=t.S(),n=t.p(),r=this.index[e];return r&&r.has(n)},t.prototype.getEntries=function(t){return(this.index[t]||new Mm(pm.P)).N()},t}(),bE=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;Yy(n<r&&n>=0&&r<=10);var o=new N_(e);n<1&&r>=1&&(function(t){t.createObjectStore(_E.store)}(t),function(t){t.createObjectStore(EE.store,{keyPath:EE.keyPath}),t.createObjectStore(CE.store,{keyPath:CE.keyPath,autoIncrement:!0}).createIndex(CE.userMutationsIndex,CE.userMutationsKeyPath,{unique:!0}),t.createObjectStore(IE.store)}(t),DE(t),function(t){t.createObjectStore(kE.store)}(t));var s=y_.resolve();return n<3&&r>=3&&(0!==n&&(function(t){t.deleteObjectStore(NE.store),t.deleteObjectStore(AE.store),t.deleteObjectStore(OE.store)}(t),DE(t)),s=s.next((function(){return function(t){var e=t.store(OE.store),n=new OE(0,0,hm.min().A(),0);return e.put(OE.key,n)}(o)}))),n<4&&r>=4&&(0!==n&&(s=s.next((function(){return function(t,e){return e.store(CE.store).zs().next((function(n){t.deleteObjectStore(CE.store),t.createObjectStore(CE.store,{keyPath:CE.keyPath,autoIncrement:!0}).createIndex(CE.userMutationsIndex,CE.userMutationsKeyPath,{unique:!0});var r=e.store(CE.store),i=n.map((function(t){return r.put(t)}));return y_.Dn(i)}))}(t,o)}))),s=s.next((function(){!function(t){t.createObjectStore(PE.store,{keyPath:PE.keyPath})}(t)}))),n<5&&r>=5&&(s=s.next((function(){return i.removeAcknowledgedMutations(o)}))),n<6&&r>=6&&(s=s.next((function(){return function(t){t.createObjectStore(xE.store)}(t),i.addDocumentGlobal(o)}))),n<7&&r>=7&&(s=s.next((function(){return i.ensureSequenceNumbers(o)}))),n<8&&r>=8&&(s=s.next((function(){return i.createCollectionParentIndex(t,o)}))),n<9&&r>=9&&(s=s.next((function(){!function(t){t.objectStoreNames.contains("remoteDocumentChanges")&&t.deleteObjectStore("remoteDocumentChanges")}(t),function(t){var e=t.objectStore(kE.store);e.createIndex(kE.readTimeIndex,kE.readTimeIndexPath,{unique:!1}),e.createIndex(kE.collectionReadTimeIndex,kE.collectionReadTimeIndexPath,{unique:!1})}(e)}))),n<10&&r>=10&&(s=s.next((function(){return i.rewriteCanonicalIds(o)}))),s},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(kE.store).Xs((function(t,n){e+=gE(n)})).next((function(){var n=new xE(e);return t.store(xE.store).put(xE.key,n)}))},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(EE.store),r=t.store(CE.store);return n.zs().next((function(n){return y_.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.zs(CE.userMutationsIndex,i).next((function(r){return y_.forEach(r,(function(r){Yy(r.userId===n.userId);var i=rE(e.serializer,r);return uE(t,n.userId,i).next((function(){}))}))}))}))}))},t.prototype.ensureSequenceNumbers=function(t){var e=t.store(NE.store),n=t.store(kE.store);return t.store(OE.store).get(OE.key).next((function(t){var r=[];return n.Xs((function(n,i){var o=new pm(n),s=function(t){return[0,K_(t)]}(o);r.push(e.get(s).next((function(n){return n?y_.resolve():function(n){return e.put(new NE(0,K_(n),t.highestListenSequenceNumber))}(o)})))})).next((function(){return y_.Dn(r)}))}))},t.prototype.createCollectionParentIndex=function(t,e){t.createObjectStore(RE.store,{keyPath:RE.keyPath});var n=e.store(RE.store),r=new mE,i=function(t){if(r.add(t)){var e=t.S(),i=t.p();return n.put({collectionId:e,parent:K_(i)})}};return e.store(kE.store).Xs({Js:!0},(function(t,e){var n=new pm(t);return i(n.p())})).next((function(){return e.store(IE.store).Xs({Js:!0},(function(t,e){t[0];var n=t[1],r=(t[2],Y_(n));return i(r.p())}))}))},t.prototype.rewriteCanonicalIds=function(t){var e=this,n=t.store(AE.store);return n.Xs((function(t,r){var i=iE(r),o=oE(e.serializer,i);return n.put(o)}))},t}(),wE=function(t,e){this.seconds=t,this.nanoseconds=e},_E=function(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n};_E.store="owner",_E.key="owner";var EE=function(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n};EE.store="mutationQueues",EE.keyPath="userId";var CE=function(t,e,n,r,i){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.baseMutations=r,this.mutations=i};CE.store="mutations",CE.keyPath="batchId",CE.userMutationsIndex="userMutationsIndex",CE.userMutationsKeyPath=["userId","batchId"];var IE=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,K_(e)]},t.key=function(t,e,n){return[t,K_(e),n]},t}();IE.store="documentMutations",IE.PLACEHOLDER=new IE;var TE=function(t,e){this.path=t,this.readTime=e},SE=function(t,e){this.path=t,this.version=e},kE=function(t,e,n,r,i,o){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r,this.readTime=i,this.parentPath=o};kE.store="remoteDocuments",kE.readTimeIndex="readTimeIndex",kE.readTimeIndexPath="readTime",kE.collectionReadTimeIndex="collectionReadTimeIndex",kE.collectionReadTimeIndexPath=["parentPath","readTime"];var xE=function(t){this.byteSize=t};xE.store="remoteDocumentGlobal",xE.key="remoteDocumentGlobalKey";var AE=function(t,e,n,r,i,o,s){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.lastLimboFreeSnapshotVersion=o,this.query=s};AE.store="targets",AE.keyPath="targetId",AE.queryTargetsIndexName="queryTargetsIndex",AE.queryTargetsKeyPath=["canonicalId","targetId"];var NE=function(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n};NE.store="targetDocuments",NE.keyPath=["targetId","path"],NE.documentTargetsIndex="documentTargetsIndex",NE.documentTargetsKeyPath=["path","targetId"];var OE=function(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r};OE.key="targetGlobalKey",OE.store="targetGlobal";var RE=function(t,e){this.collectionId=t,this.parent=e};function DE(t){t.createObjectStore(NE.store,{keyPath:NE.keyPath}).createIndex(NE.documentTargetsIndex,NE.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(AE.store,{keyPath:AE.keyPath}).createIndex(AE.queryTargetsIndexName,AE.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(OE.store)}RE.store="collectionParents",RE.keyPath=["collectionId","parent"];var PE=function(t,e,n,r){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r};PE.store="clientMetadata",PE.keyPath="clientId";var ME=R(R(R([EE.store,CE.store,IE.store,kE.store,AE.store,_E.store,OE.store,NE.store],[PE.store]),[xE.store]),[RE.store]),LE=function(){function t(){this.Xr=new mE}return t.prototype.Ar=function(t,e){var n=this;if(!this.Xr.has(e)){var r=e.S(),i=e.p();t.Qn((function(){n.Xr.add(e)}));var o={collectionId:r,parent:K_(i)};return FE(t).put(o)}return y_.resolve()},t.prototype.os=function(t,e){var n=[],r=IDBKeyRange.bound([e,""],[em(e),""],!1,!0);return FE(t).zs(r).next((function(t){for(var r=0,i=t;r<i.length;r++){var o=i[r];if(o.collectionId!==e)break;n.push(Y_(o.parent))}return n}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FE(t){return WE.Ms(t,RE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jE=function(){function t(t){this.Zr=t}return t.prototype.next=function(){return this.Zr+=2,this.Zr},t.to=function(){return new t(0)},t.eo=function(){return new t(-1)},t}(),VE=function(){function t(t,e){this.dr=t,this.serializer=e}return t.prototype.no=function(t){var e=this;return this.so(t).next((function(n){var r=new jE(n.highestTargetId);return n.highestTargetId=r.next(),e.io(t,n).next((function(){return n.highestTargetId}))}))},t.prototype.ro=function(t){return this.so(t).next((function(t){return hm.I(new lm(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))}))},t.prototype.oo=function(t){return this.so(t).next((function(t){return t.highestListenSequenceNumber}))},t.prototype.ho=function(t,e,n){var r=this;return this.so(t).next((function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.A()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.io(t,i)}))},t.prototype.ao=function(t,e){var n=this;return this.uo(t,e).next((function(){return n.so(t).next((function(r){return r.targetCount+=1,n.co(e,r),n.io(t,r)}))}))},t.prototype.lo=function(t,e){return this.uo(t,e)},t.prototype._o=function(t,e){var n=this;return this.fo(t,e.targetId).next((function(){return UE(t).delete(e.targetId)})).next((function(){return n.so(t)})).next((function(e){return Yy(e.targetCount>0),e.targetCount-=1,n.io(t,e)}))},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return UE(t).Xs((function(s,a){var u=iE(a);u.sequenceNumber<=e&&null===n.get(u.targetId)&&(i++,o.push(r._o(t,u)))})).next((function(){return y_.Dn(o)})).next((function(){return i}))},t.prototype.pe=function(t,e){return UE(t).Xs((function(t,n){var r=iE(n);e(r)}))},t.prototype.so=function(t){return BE(t).get(OE.key).next((function(t){return Yy(null!==t),t}))},t.prototype.io=function(t,e){return BE(t).put(OE.key,e)},t.prototype.uo=function(t,e){return UE(t).put(oE(this.serializer,e))},t.prototype.co=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.do=function(t){return this.so(t).next((function(t){return t.targetCount}))},t.prototype.wo=function(t,e){var n=Em(e),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return UE(t).Xs({range:r,index:AE.queryTargetsIndexName},(function(t,n,r){var o=iE(n);Cm(e,o.target)&&(i=o,r.done())})).next((function(){return i}))},t.prototype.To=function(t,e,n){var r=this,i=[],o=HE(t);return e.forEach((function(e){var s=K_(e.path);i.push(o.put(new NE(n,s))),i.push(r.dr.Eo(t,n,e))})),y_.Dn(i)},t.prototype.Io=function(t,e,n){var r=this,i=HE(t);return y_.forEach(e,(function(e){var o=K_(e.path);return y_.Dn([i.delete([n,o]),r.dr.mo(t,n,e)])}))},t.prototype.fo=function(t,e){var n=HE(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.Ao=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=HE(t),i=qm();return r.Xs({range:n,Js:!0},(function(t,e,n){var r=Y_(t[1]),o=new gm(r);i=i.add(o)})).next((function(){return i}))},t.prototype.Nr=function(t,e){var n=K_(e.path),r=IDBKeyRange.bound([n],[em(n)],!1,!0),i=0;return HE(t).Xs({index:NE.documentTargetsIndex,Js:!0,range:r},(function(t,e,n){var r=t[0];t[1],0!==r&&(i++,n.done())})).next((function(){return i>0}))},t.prototype.Me=function(t,e){return UE(t).get(e).next((function(t){return t?iE(t):null}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(t){return WE.Ms(t,AE.store)}function BE(t){return WE.Ms(t,OE.store)}function HE(t){return WE.Ms(t,NE.store)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zE="Failed to obtain exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `synchronizeTabs:true` in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",qE=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).vr=e,r.Ro=n,r}return T(e,t),e}(w_),WE=function(){function t(e,n,r,i,o,s,a,u,c,l){if(this.allowTabSynchronization=e,this.persistenceKey=n,this.clientId=r,this.Es=o,this.window=s,this.document=a,this.Po=c,this.Vo=l,this.yo=null,this.po=!1,this.isPrimary=!1,this.networkEnabled=!0,this.bo=null,this.inForeground=!1,this.vo=null,this.So=null,this.Do=Number.NEGATIVE_INFINITY,this.Co=function(t){return Promise.resolve()},!t.Fs())throw new cm(um.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.dr=new XE(this,i),this.No=n+"main",this.serializer=new Q_(u),this.Fo=new S_(this.No,10,new bE(this.serializer)),this.ko=new VE(this.dr,this.serializer),this.Gn=new LE,this.jn=new fE(this.serializer,this.Gn),this.window&&this.window.localStorage?this.xo=this.window.localStorage:(this.xo=null,!1===l&&Wy("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return t.Ms=function(t,e){if(t instanceof qE)return S_.Ms(t.vr,e);throw Xy()},t.prototype.start=function(){var t=this;return this.$o().then((function(){if(!t.isPrimary&&!t.allowTabSynchronization)throw new cm(um.FAILED_PRECONDITION,zE);return t.Mo(),t.Oo(),t.Lo(),t.runTransaction("getHighestListenSequenceNumber","readonly",(function(e){return t.ko.oo(e)}))})).then((function(e){t.yo=new C_(e,t.Po)})).then((function(){t.po=!0})).catch((function(e){return t.Fo&&t.Fo.close(),Promise.reject(e)}))},t.prototype.qo=function(t){var e=this;return this.Co=function(n){return k(e,void 0,void 0,(function(){return x(this,(function(e){return this.tr?[2,t(n)]:[2]}))}))},t(this.isPrimary)},t.prototype.Bo=function(t){var e=this;this.Fo.qs((function(n){return k(e,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return null===n.newVersion?[4,t()]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))}))}))},t.prototype.Uo=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.Es.hi((function(){return k(e,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.tr?[4,this.$o()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))})))},t.prototype.$o=function(){var t=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(e){return GE(e).put(new PE(t.clientId,Date.now(),t.networkEnabled,t.inForeground)).next((function(){if(t.isPrimary)return t.Qo(e).next((function(e){e||(t.isPrimary=!1,t.Es.Vi((function(){return t.Co(!1)})))}))})).next((function(){return t.Wo(e)})).next((function(n){return t.isPrimary&&!n?t.jo(e).next((function(){return!1})):!!n&&t.Ko(e).next((function(){return!0}))}))})).catch((function(e){if(A_(e))return qy("IndexedDbPersistence","Failed to extend owner lease: ",e),t.isPrimary;if(!t.allowTabSynchronization)throw e;return qy("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((function(e){t.isPrimary!==e&&t.Es.Vi((function(){return t.Co(e)})),t.isPrimary=e}))},t.prototype.Qo=function(t){var e=this;return KE(t).get(_E.key).next((function(t){return y_.resolve(e.Go(t))}))},t.prototype.zo=function(t){return GE(t).delete(this.clientId)},t.prototype.Ho=function(){return k(this,void 0,void 0,(function(){var e,n,r,i,o=this;return x(this,(function(s){switch(s.label){case 0:return!this.isPrimary||this.Yo(this.Do,18e5)?[3,2]:(this.Do=Date.now(),[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var n=t.Ms(e,PE.store);return n.zs().next((function(t){var e=o.Jo(t,18e5),r=t.filter((function(t){return-1===e.indexOf(t)}));return y_.forEach(r,(function(t){return n.delete(t.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}))]);case 1:if(e=s.sent(),this.xo)for(n=0,r=e;n<r.length;n++)i=r[n],this.xo.removeItem(this.Xo(i.clientId));s.label=2;case 2:return[2]}}))}))},t.prototype.Lo=function(){var t=this;this.So=this.Es.vs("client_metadata_refresh",4e3,(function(){return t.$o().then((function(){return t.Ho()})).then((function(){return t.Lo()}))}))},t.prototype.Go=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.Wo=function(t){var e=this;return this.Vo?y_.resolve(!0):KE(t).get(_E.key).next((function(n){if(null!==n&&e.Yo(n.leaseTimestampMs,5e3)&&!e.Zo(n.ownerId)){if(e.Go(n)&&e.networkEnabled)return!0;if(!e.Go(n)){if(!n.allowTabSynchronization)throw new cm(um.FAILED_PRECONDITION,zE);return!1}}return!(!e.networkEnabled||!e.inForeground)||GE(t).zs().next((function(t){return void 0===e.Jo(t,5e3).find((function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(t){return e.isPrimary!==t&&qy("IndexedDbPersistence","Client "+(t?"is":"is not")+" eligible for a primary lease."),t}))},t.prototype.th=function(){return k(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){switch(e.label){case 0:return this.po=!1,this.eh(),this.So&&(this.So.cancel(),this.So=null),this.nh(),this.sh(),[4,this.runTransaction("shutdown","readwrite",(function(e){return t.jo(e).next((function(){return t.zo(e)}))})).catch((function(t){qy("IndexedDbPersistence","Proceeding with shutdown despite failure: ",t)}))];case 1:return e.sent(),this.Fo.close(),this.ih(),[2]}}))}))},t.prototype.Jo=function(t,e){var n=this;return t.filter((function(t){return n.Yo(t.updateTimeMs,e)&&!n.Zo(t.clientId)}))},t.prototype.rh=function(){var t=this;return this.runTransaction("getActiveClients","readonly",(function(e){return GE(e).zs().next((function(e){return t.Jo(e,18e5).map((function(t){return t.clientId}))}))}))},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.oh=function(t){return sE.Tr(t,this.serializer,this.Gn,this.dr)},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.jn},t.prototype.uh=function(){return this.Gn},t.prototype.runTransaction=function(t,e,n){var r=this;qy("IndexedDbPersistence","Starting transaction:",t);var i,o="readonly"===e?"readonly":"readwrite";return this.Fo.runTransaction(o,ME,(function(o){return i=new qE(o,r.yo?r.yo.next():C_.Ts),"readwrite-primary"===e?r.Qo(i).next((function(t){return!!t||r.Wo(i)})).next((function(e){if(!e)throw Wy("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.Es.Vi((function(){return r.Co(!1)})),new cm(um.FAILED_PRECONDITION,b_);return n(i)})).next((function(t){return r.Ko(i).next((function(){return t}))})):r.lh(i).next((function(){return n(i)}))})).then((function(t){return i.Wn(),t}))},t.prototype.lh=function(t){var e=this;return KE(t).get(_E.key).next((function(t){if(null!==t&&e.Yo(t.leaseTimestampMs,5e3)&&!e.Zo(t.ownerId)&&!e.Go(t)&&!(e.Vo||e.allowTabSynchronization&&t.allowTabSynchronization))throw new cm(um.FAILED_PRECONDITION,zE)}))},t.prototype.Ko=function(t){var e=new _E(this.clientId,this.allowTabSynchronization,Date.now());return KE(t).put(_E.key,e)},t.Fs=function(){return S_.Fs()},t.prototype.jo=function(t){var e=this,n=KE(t);return n.get(_E.key).next((function(t){return e.Go(t)?(qy("IndexedDbPersistence","Releasing primary lease."),n.delete(_E.key)):y_.resolve()}))},t.prototype.Yo=function(t,e){var n=Date.now();return!(t<n-e||t>n&&(Wy("Detected an update time that is in the future: "+t+" > "+n),1))},t.prototype.Mo=function(){var t=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.vo=function(){t.Es.hi((function(){return t.inForeground="visible"===t.document.visibilityState,t.$o()}))},this.document.addEventListener("visibilitychange",this.vo),this.inForeground="visible"===this.document.visibilityState)},t.prototype.nh=function(){this.vo&&(this.document.removeEventListener("visibilitychange",this.vo),this.vo=null)},t.prototype.Oo=function(){var t,e=this;"function"==typeof(null===(t=this.window)||void 0===t?void 0:t.addEventListener)&&(this.bo=function(){e.eh(),e.Es.hi((function(){return e.th()}))},this.window.addEventListener("unload",this.bo))},t.prototype.sh=function(){this.bo&&(this.window.removeEventListener("unload",this.bo),this.bo=null)},t.prototype.Zo=function(t){var e;try{var n=null!==(null===(e=this.xo)||void 0===e?void 0:e.getItem(this.Xo(t)));return qy("IndexedDbPersistence","Client '"+t+"' "+(n?"is":"is not")+" zombied in LocalStorage"),n}catch(t){return Wy("IndexedDbPersistence","Failed to get zombied client id.",t),!1}},t.prototype.eh=function(){if(this.xo)try{this.xo.setItem(this.Xo(this.clientId),String(Date.now()))}catch(t){Wy("Failed to set zombie client id.",t)}},t.prototype.ih=function(){if(this.xo)try{this.xo.removeItem(this.Xo(this.clientId))}catch(t){}},t.prototype.Xo=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t}();function KE(t){return WE.Ms(t,_E.store)}function GE(t){return WE.Ms(t,PE.store)}var XE=function(){function t(t,e){this.db=t,this.Yi=new W_(this,e)}return t.prototype.ir=function(t){var e=this._h(t);return this.db.hh().do(t).next((function(t){return e.next((function(e){return t+e}))}))},t.prototype._h=function(t){var e=0;return this.or(t,(function(t){e++})).next((function(){return e}))},t.prototype.pe=function(t,e){return this.db.hh().pe(t,e)},t.prototype.or=function(t,e){return this.fh(t,(function(t,n){return e(n)}))},t.prototype.Eo=function(t,e,n){return YE(t,n)},t.prototype.mo=function(t,e,n){return YE(t,n)},t.prototype.hr=function(t,e,n){return this.db.hh().hr(t,e,n)},t.prototype.Dr=function(t,e){return YE(t,e)},t.prototype.dh=function(t,e){return function(t,e){var n=!1;return hE(t).Zs((function(r){return aE(t,r,e).next((function(t){return t&&(n=!0),y_.resolve(!t)}))})).next((function(){return n}))}(t,e)},t.prototype.ar=function(t,e){var n=this,r=this.db.ah().jr(),i=[],o=0;return this.fh(t,(function(s,a){if(a<=e){var u=n.dh(t,s).next((function(e){if(!e)return o++,r.On(t,s).next((function(){return r.Mn(s),HE(t).delete([0,K_(s.path)])}))}));i.push(u)}})).next((function(){return y_.Dn(i)})).next((function(){return r.apply(t)})).next((function(){return o}))},t.prototype.removeTarget=function(t,e){var n=e.Z(t.Ro);return this.db.hh().lo(t,n)},t.prototype.wh=function(t,e){return YE(t,e)},t.prototype.fh=function(t,e){var n,r=HE(t),i=C_.Ts;return r.Xs({index:NE.documentTargetsIndex},(function(t,r){var o=t[0],s=(t[1],r.path),a=r.sequenceNumber;0===o?(i!==C_.Ts&&e(new gm(Y_(n)),i),i=a,n=s):i=C_.Ts})).next((function(){i!==C_.Ts&&e(new gm(Y_(n)),i)}))},t.prototype.cr=function(t){return this.db.ah().zr(t)},t}();function YE(t,e){return HE(t).put(function(t,e){return new NE(0,K_(t.path),e)}(e,t.Ro))}function QE(t,e){var n=t.projectId;return t.i||(n+="."+t.database),"firestore/"+e+"/"+n+"/"}var ZE=function(){function t(t,e,n){this.persistence=t,this.Th=e,this.Eh=new Rm($y),this.Ih=new am((function(t){return Em(t)}),Cm),this.mh=hm.min(),this.Kn=t.oh(n),this.Ah=t.ah(),this.ko=t.hh(),this.Rh=new __(this.Ah,this.Kn,this.persistence.uh()),this.Th.Ph(this.Rh)}return t.prototype.Vh=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i=this;return x(this,(function(o){switch(o.label){case 0:return e=this.Kn,n=this.Rh,[4,this.persistence.runTransaction("Handle user change","readonly",(function(r){var o;return i.Kn.yr(r).next((function(s){return o=s,e=i.persistence.oh(t),n=new __(i.Ah,e,i.persistence.uh()),e.yr(r)})).next((function(t){for(var e=[],i=[],s=qm(),a=0,u=o;a<u.length;a++){var c=u[a];e.push(c.batchId);for(var l=0,h=c.mutations;l<h.length;l++){var f=h[l];s=s.add(f.key)}}for(var p=0,d=t;p<d.length;p++){var v=d[p];i.push(v.batchId);for(var g=0,y=v.mutations;g<y.length;g++){var m=y[g];s=s.add(m.key)}}return n.Xn(r,s).next((function(t){return{gh:t,yh:e,ph:i}}))}))}))];case 1:return r=o.sent(),[2,(this.Kn=e,this.Rh=n,this.Th.Ph(this.Rh),r)]}}))}))},t.prototype.bh=function(t){var e,n=this,r=lm.now(),i=t.reduce((function(t,e){return t.add(e.key)}),qm());return this.persistence.runTransaction("Locally write mutations","readwrite",(function(o){return n.Rh.Xn(o,i).next((function(i){e=i;for(var s=[],a=0,u=t;a<u.length;a++){var c=u[a],l=ww(c,e.get(c.key));null!=l&&s.push(new Iw(c.key,l,Dw(l.proto.mapValue),vw.exists(!0)))}return n.Kn.mr(o,r,s,t)}))})).then((function(t){var n=t.mn(e);return{batchId:t.batchId,Nn:n}}))},t.prototype.vh=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(n){var r=t.batch.keys(),i=e.Ah.jr({Gr:!0});return e.Sh(n,t,i).next((function(){return i.apply(n)})).next((function(){return e.Kn.Cr(n)})).next((function(){return e.Rh.Xn(n,r)}))}))},t.prototype.Dh=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",(function(n){var r;return e.Kn.Rr(n,t).next((function(t){return Yy(null!==t),r=t.keys(),e.Kn.br(n,t)})).next((function(){return e.Kn.Cr(n)})).next((function(){return e.Rh.Xn(n,r)}))}))},t.prototype.gr=function(){var t=this;return this.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Kn.gr(e)}))},t.prototype.ro=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.ko.ro(e)}))},t.prototype.Ch=function(e){var n=this,r=e.X,i=this.Eh;return this.persistence.runTransaction("Apply remote event","readwrite-primary",(function(o){var s=n.Ah.jr({Gr:!0});i=n.Eh;var a=[];e.Qt.forEach((function(e,s){var u=i.get(s);if(u){a.push(n.ko.Io(o,e.Xt,s).next((function(){return n.ko.To(o,e.Yt,s)})));var c=e.resumeToken;if(c.H()>0){var l=u.tt(c,r).Z(o.Ro);i=i.nt(s,l),t.Nh(u,l,e)&&a.push(n.ko.lo(o,l))}}}));var u=jm(),c=qm();if(e.jt.forEach((function(t,e){c=c.add(t)})),a.push(s.getEntries(o,c).next((function(t){e.jt.forEach((function(i,c){var l=t.get(i);c instanceof Lw&&c.version.isEqual(hm.min())?(s.Mn(i,r),u=u.nt(i,c)):null==l||c.version.o(l.version)>0||0===c.version.o(l.version)&&l.hasPendingWrites?(s.xn(c,r),u=u.nt(i,c)):qy("LocalStore","Ignoring outdated watch update for ",i,". Current version:",l.version," Watch version:",c.version),e.Kt.has(i)&&a.push(n.persistence.dr.wh(o,i))}))}))),!r.isEqual(hm.min())){var l=n.ko.ro(o).next((function(t){return n.ko.ho(o,o.Ro,r)}));a.push(l)}return y_.Dn(a).next((function(){return s.apply(o)})).next((function(){return n.Rh.Zn(o,u)}))})).then((function(t){return n.Eh=i,t}))},t.Nh=function(t,e,n){return Yy(e.resumeToken.H()>0),0===t.resumeToken.H()||e.X.m()-t.X.m()>=this.Fh||n.Yt.size+n.Jt.size+n.Xt.size>0},t.prototype.kh=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c=this;return x(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,this.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return y_.forEach(t,(function(t){return y_.forEach(t.us,(function(n){return c.persistence.dr.Eo(e,t.targetId,n)})).next((function(){return y_.forEach(t.cs,(function(n){return c.persistence.dr.mo(e,t.targetId,n)}))}))}))}))];case 1:return l.sent(),[3,3];case 2:if(!A_(e=l.sent()))throw e;return qy("LocalStore","Failed to update sequence numbers: "+e),[3,3];case 3:for(n=0,r=t;n<r.length;n++)i=r[n],o=i.targetId,i.fromCache||(s=this.Eh.get(o),a=s.X,u=s.et(a),this.Eh=this.Eh.nt(o,u));return[2]}}))}))},t.prototype.xh=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",(function(n){return void 0===t&&(t=-1),e.Kn.Vr(n,t)}))},t.prototype.$h=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",(function(n){return e.Rh.zn(n,t)}))},t.prototype.Mh=function(t){var e=this;return this.persistence.runTransaction("Allocate target","readwrite",(function(n){var r;return e.ko.wo(n,t).next((function(i){return i?(r=i,y_.resolve(r)):e.ko.no(n).next((function(i){return r=new xm(t,i,0,n.Ro),e.ko.ao(n,r).next((function(){return r}))}))}))})).then((function(n){var r=e.Eh.get(n.targetId);return(null===r||n.X.o(r.X)>0)&&(e.Eh=e.Eh.nt(n.targetId,n),e.Ih.set(t,n.targetId)),n}))},t.prototype.wo=function(t,e){var n=this.Ih.get(e);return void 0!==n?y_.resolve(this.Eh.get(n)):this.ko.wo(t,e)},t.prototype.Oh=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o=this;return x(this,(function(s){switch(s.label){case 0:n=this.Eh.get(t),r=e?"readwrite":"readwrite-primary",s.label=1;case 1:return s.trys.push([1,4,,5]),e?[3,3]:[4,this.persistence.runTransaction("Release target",r,(function(t){return o.persistence.dr.removeTarget(t,n)}))];case 2:s.sent(),s.label=3;case 3:return[3,5];case 4:if(!A_(i=s.sent()))throw i;return qy("LocalStore","Failed to update sequence numbers for target "+t+": "+i),[3,5];case 5:return this.Eh=this.Eh.remove(t),this.Ih.delete(n.target),[2]}}))}))},t.prototype.Lh=function(t,e){var n=this,r=hm.min(),i=qm();return this.persistence.runTransaction("Execute query","readonly",(function(o){return n.wo(o,qw(t)).next((function(t){if(t)return r=t.lastLimboFreeSnapshotVersion,n.ko.Ao(o,t.targetId).next((function(t){i=t}))})).next((function(){return n.Th.es(o,t,e?r:hm.min(),e?i:qm())})).next((function(t){return{documents:t,qh:i}}))}))},t.prototype.Sh=function(t,e,n){var r=this,i=e.batch,o=i.keys(),s=y_.resolve();return o.forEach((function(r){s=s.next((function(){return n.On(t,r)})).next((function(t){var o=t,s=e.Rn.get(r);Yy(null!==s),(!o||o.version.o(s)<0)&&(o=i.Tn(r,o,e))&&n.xn(o,e.An)}))})),s.next((function(){return r.Kn.br(t,i)}))},t.prototype.er=function(t){var e=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return t.ur(n,e.Eh)}))},t}();function JE(t,e){var n=Qy(t),r=Qy(n.ko),i=n.Eh.get(e);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(t){return r.Me(t,e).next((function(t){return t?t.target:null}))}))}function $E(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){if(t.code!==um.FAILED_PRECONDITION||t.message!==b_)throw t;return qy("LocalStore","Unexpectedly lost primary lease"),[2]}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ZE.Fh=3e8;var tC=function(){function t(){this.Bh=new Mm(eC.Uh),this.Qh=new Mm(eC.Wh)}return t.prototype._=function(){return this.Bh._()},t.prototype.Eo=function(t,e){var n=new eC(t,e);this.Bh=this.Bh.add(n),this.Qh=this.Qh.add(n)},t.prototype.jh=function(t,e){var n=this;t.forEach((function(t){return n.Eo(t,e)}))},t.prototype.mo=function(t,e){this.Kh(new eC(t,e))},t.prototype.Gh=function(t,e){var n=this;t.forEach((function(t){return n.mo(t,e)}))},t.prototype.zh=function(t){var e=this,n=new gm(new pm([])),r=new eC(n,t),i=new eC(n,t+1),o=[];return this.Qh.vt([r,i],(function(t){e.Kh(t),o.push(t.key)})),o},t.prototype.Hh=function(){var t=this;this.Bh.forEach((function(e){return t.Kh(e)}))},t.prototype.Kh=function(t){this.Bh=this.Bh.delete(t),this.Qh=this.Qh.delete(t)},t.prototype.Yh=function(t){var e=new gm(new pm([])),n=new eC(e,t),r=new eC(e,t+1),i=qm();return this.Qh.vt([n,r],(function(t){i=i.add(t.key)})),i},t.prototype.Nr=function(t){var e=new eC(t,0),n=this.Bh.Dt(e);return null!==n&&t.isEqual(n.key)},t}(),eC=function(){function t(t,e){this.key=t,this.Jh=e}return t.Uh=function(t,e){return gm.P(t.key,e.key)||$y(t.Jh,e.Jh)},t.Wh=function(t,e){return $y(t.Jh,e.Jh)||gm.P(t.key,e.key)},t}(),nC=function(){function t(t){this.uid=t}return t.prototype.Er=function(){return null!=this.uid},t.prototype.Xh=function(){return this.Er()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t}();nC.UNAUTHENTICATED=new nC(null),nC.Zh=new nC("google-credentials-uid"),nC.ta=new nC("first-party-uid");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var rC=function(t,e){this.user=e,this.type="OAuth",this.ea={},this.ea.Authorization="Bearer "+t},iC=function(){function t(){this.na=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.sa=function(){},t.prototype.ia=function(t){this.na=t,t(nC.UNAUTHENTICATED)},t.prototype.ra=function(){this.na=null},t}(),oC=function(){function t(t){var e=this;this.oa=null,this.currentUser=nC.UNAUTHENTICATED,this.ha=!1,this.aa=0,this.na=null,this.forceRefresh=!1,this.oa=function(){e.aa++,e.currentUser=e.ua(),e.ha=!0,e.na&&e.na(e.currentUser)},this.aa=0,this.auth=t.getImmediate({optional:!0}),this.auth?this.auth.addAuthTokenListener(this.oa):(this.oa(null),t.get().then((function(t){e.auth=t,e.oa&&e.auth.addAuthTokenListener(e.oa)}),(function(){})))}return t.prototype.getToken=function(){var t=this,e=this.aa,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return t.aa!==e?(qy("FirebaseCredentialsProvider","getToken aborted due to token change."),t.getToken()):n?(Yy("string"==typeof n.accessToken),new rC(n.accessToken,t.currentUser)):null})):Promise.resolve(null)},t.prototype.sa=function(){this.forceRefresh=!0},t.prototype.ia=function(t){this.na=t,this.ha&&t(this.currentUser)},t.prototype.ra=function(){this.auth&&this.auth.removeAuthTokenListener(this.oa),this.oa=null,this.na=null},t.prototype.ua=function(){var t=this.auth&&this.auth.getUid();return Yy(null===t||"string"==typeof t),new nC(t)},t}(),sC=function(){function t(t,e){this.ca=t,this.la=e,this.type="FirstParty",this.user=nC.ta}return Object.defineProperty(t.prototype,"ea",{get:function(){var t={"X-Goog-AuthUser":this.la},e=this.ca.auth._a([]);return e&&(t.Authorization=e),t},enumerable:!1,configurable:!0}),t}(),aC=function(){function t(t,e){this.ca=t,this.la=e}return t.prototype.getToken=function(){return Promise.resolve(new sC(this.ca,this.la))},t.prototype.ia=function(t){t(nC.ta)},t.prototype.ra=function(){},t.prototype.sa=function(){},t}(),uC=function(){function t(t,e,n,r,i,o){this.Es=t,this.fa=n,this.da=r,this.wa=i,this.listener=o,this.state=0,this.Ta=0,this.Ea=null,this.stream=null,this.wi=new T_(t,e)}return t.prototype.Ia=function(){return 1===this.state||2===this.state||4===this.state},t.prototype.ma=function(){return 2===this.state},t.prototype.start=function(){3!==this.state?this.auth():this.Aa()},t.prototype.stop=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.Ia()?[4,this.close(0)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.Ra=function(){this.state=0,this.wi.reset()},t.prototype.Pa=function(){var t=this;this.ma()&&null===this.Ea&&(this.Ea=this.Es.vs(this.fa,6e4,(function(){return t.Va()})))},t.prototype.ga=function(t){this.ya(),this.stream.send(t)},t.prototype.Va=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){return this.ma()?[2,this.close(0)]:[2]}))}))},t.prototype.ya=function(){this.Ea&&(this.Ea.cancel(),this.Ea=null)},t.prototype.close=function(t,e){return k(this,void 0,void 0,(function(){return x(this,(function(n){switch(n.label){case 0:return this.ya(),this.wi.cancel(),this.Ta++,3!==t?this.wi.reset():e&&e.code===um.RESOURCE_EXHAUSTED?(Wy(e.toString()),Wy("Using maximum backoff delay to prevent overloading the backend."),this.wi.ys()):e&&e.code===um.UNAUTHENTICATED&&this.wa.sa(),null!==this.stream&&(this.pa(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.ba(e)];case 1:return n.sent(),[2]}}))}))},t.prototype.pa=function(){},t.prototype.auth=function(){var t=this;this.state=1;var e=this.va(this.Ta),n=this.Ta;this.wa.getToken().then((function(e){t.Ta===n&&t.Sa(e)}),(function(n){e((function(){var e=new cm(um.UNKNOWN,"Fetching auth token failed: "+n.message);return t.Da(e)}))}))},t.prototype.Sa=function(t){var e=this,n=this.va(this.Ta);this.stream=this.Ca(t),this.stream.Na((function(){n((function(){return e.state=2,e.listener.Na()}))})),this.stream.ba((function(t){n((function(){return e.Da(t)}))})),this.stream.onMessage((function(t){n((function(){return e.onMessage(t)}))}))},t.prototype.Aa=function(){var t=this;this.state=4,this.wi.ps((function(){return k(t,void 0,void 0,(function(){return x(this,(function(t){return this.state=0,this.start(),[2]}))}))}))},t.prototype.Da=function(t){return qy("PersistentStream","close with error: "+t),this.stream=null,this.close(3,t)},t.prototype.va=function(t){var e=this;return function(n){e.Es.hi((function(){return e.Ta===t?n():(qy("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}},t}(),cC=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle",n,r,o)||this).serializer=i,s}return T(e,t),e.prototype.Ca=function(t){return this.da.Fa("Listen",t)},e.prototype.onMessage=function(t){this.wi.reset();var e=function(t,e){var n;if("targetChange"in e){e.targetChange;var r=function(t){return"NO_CHANGE"===t?0:"ADD"===t?1:"REMOVE"===t?2:"CURRENT"===t?3:"RESET"===t?4:Xy()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(t,e){return t.Oe?(Yy(void 0===e||"string"==typeof e),Tm.fromBase64String(e||"")):(Yy(void 0===e||e instanceof Uint8Array),Tm.fromUint8Array(e||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(t){var e=void 0===t.code?um.UNKNOWN:Om(t.code);return new cm(e,t.message||"")}(s);n=new tb(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;var u=e.documentChange;u.document,u.document.name,u.document.updateTime;var c=Lb(t,u.document.name),l=Rb(u.document.updateTime),h=new Ow({mapValue:{fields:u.document.fields}}),f=new Mw(c,l,h,{}),p=u.targetIds||[],d=u.removedTargetIds||[];n=new Jm(p,d,f.key,f)}else if("documentDelete"in e){e.documentDelete;var v=e.documentDelete;v.document;var g=Lb(t,v.document),y=v.readTime?Rb(v.readTime):hm.min(),m=new Lw(g,y),b=v.removedTargetIds||[];n=new Jm([],b,m.key,m)}else if("documentRemove"in e){e.documentRemove;var w=e.documentRemove;w.document;var _=Lb(t,w.document),E=w.removedTargetIds||[];n=new Jm([],E,_,null)}else{if(!("filter"in e))return Xy();e.filter;var C=e.filter;C.targetId;var I=C.count||0,T=new Am(I),S=C.targetId;n=new $m(S,T)}return n}(this.serializer,t),n=function(t){if(!("targetChange"in t))return hm.min();var e=t.targetChange;return e.targetIds&&e.targetIds.length?hm.min():e.readTime?Rb(e.readTime):hm.min()}(t);return this.listener.ka(e,n)},e.prototype.xa=function(t){var e={};e.database=Vb(this.serializer),e.addTarget=function(t,e){var n,r=e.target;return(n=Im(r)?{documents:qb(t,r)}:{query:Wb(t,r)}).targetId=e.targetId,e.resumeToken.H()>0&&(n.resumeToken=Nb(t,e.resumeToken)),n}(this.serializer,t);var n=function(t,e){var n=function(t,e){switch(e){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return Xy()}}(0,e.J);return null==n?null:{"goog-listen-tags":n}}(this.serializer,t);n&&(e.labels=n),this.ga(e)},e.prototype.$a=function(t){var e={};e.database=Vb(this.serializer),e.removeTarget=t,this.ga(e)},e}(uC),lC=function(t){function e(e,n,r,i,o){var s=this;return(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle",n,r,o)||this).serializer=i,s.Ma=!1,s}return T(e,t),Object.defineProperty(e.prototype,"Oa",{get:function(){return this.Ma},enumerable:!1,configurable:!0}),e.prototype.start=function(){this.Ma=!1,this.lastStreamToken=void 0,t.prototype.start.call(this)},e.prototype.pa=function(){this.Ma&&this.La([])},e.prototype.Ca=function(t){return this.da.Fa("Write",t)},e.prototype.onMessage=function(t){if(Yy(!!t.streamToken),this.lastStreamToken=t.streamToken,this.Ma){this.wi.reset();var e=function(t,e){return t&&t.length>0?(Yy(void 0!==e),t.map((function(t){return function(t,e){var n=t.updateTime?Rb(t.updateTime):Rb(e);n.isEqual(hm.min())&&(n=Rb(e));var r=null;return t.transformResults&&t.transformResults.length>0&&(r=t.transformResults),new dw(n,r)}(t,e)}))):[]}(t.writeResults,t.commitTime),n=Rb(t.commitTime);return this.listener.qa(n,e)}return Yy(!t.writeResults||0===t.writeResults.length),this.Ma=!0,this.listener.Ba()},e.prototype.Ua=function(){var t={};t.database=Vb(this.serializer),this.ga(t)},e.prototype.La=function(t){var e=this,n={streamToken:this.lastStreamToken,writes:t.map((function(t){return Hb(e.serializer,t)}))};this.ga(n)},e}(uC),hC=function(t){function e(e,n,r){var i=this;return(i=t.call(this)||this).credentials=e,i.da=n,i.serializer=r,i.Qa=!1,i}return T(e,t),e.prototype.Wa=function(){if(this.Qa)throw new cm(um.FAILED_PRECONDITION,"The client has already been terminated.")},e.prototype.ja=function(t,e,n){var r=this;return this.Wa(),this.credentials.getToken().then((function(i){return r.da.ja(t,e,n,i)})).catch((function(t){throw t.code===um.UNAUTHENTICATED&&r.credentials.sa(),t}))},e.prototype.Ka=function(t,e,n){var r=this;return this.Wa(),this.credentials.getToken().then((function(i){return r.da.Ka(t,e,n,i)})).catch((function(t){throw t.code===um.UNAUTHENTICATED&&r.credentials.sa(),t}))},e.prototype.terminate=function(){this.Qa=!1},e}((function(){})),fC=function(){function t(t,e){this.ti=t,this.Ga=e,this.state="Unknown",this.za=0,this.Ha=null,this.Ya=!0}return t.prototype.Ja=function(){var t=this;0===this.za&&(this.Xa("Unknown"),this.Ha=this.ti.vs("online_state_timeout",1e4,(function(){return t.Ha=null,t.Za("Backend didn't respond within 10 seconds."),t.Xa("Offline"),Promise.resolve()})))},t.prototype.tu=function(t){"Online"===this.state?this.Xa("Unknown"):(this.za++,this.za>=1&&(this.eu(),this.Za("Connection failed 1 times. Most recent error: "+t.toString()),this.Xa("Offline")))},t.prototype.set=function(t){this.eu(),this.za=0,"Online"===t&&(this.Ya=!1),this.Xa(t)},t.prototype.Xa=function(t){t!==this.state&&(this.state=t,this.Ga(t))},t.prototype.Za=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.Ya?(Wy(e),this.Ya=!1):qy("OnlineStateTracker",e)},t.prototype.eu=function(){null!==this.Ha&&(this.Ha.cancel(),this.Ha=null)},t}(),pC=function(){function t(t,e,n,r,i){var o=this;this.nu=t,this.su=e,this.ti=n,this.iu=[],this.ru=new Map,this.ou=null,this.hu=new Set,this.au=i,this.au.uu((function(t){n.hi((function(){return k(o,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.cu()?(qy("RemoteStore","Restarting streams for network reachability change."),[4,this.lu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))}))})),this._u=new fC(n,r),this.fu=function(t,e,n){var r=Qy(t);return r.Wa(),new cC(e,r.da,r.credentials,r.serializer,n)}(this.su,n,{Na:this.du.bind(this),ba:this.wu.bind(this),ka:this.Tu.bind(this)}),this.Eu=function(t,e,n){var r=Qy(t);return r.Wa(),new lC(e,r.da,r.credentials,r.serializer,n)}(this.su,n,{Na:this.Iu.bind(this),ba:this.mu.bind(this),Ba:this.Au.bind(this),qa:this.qa.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return this.hu.delete(0),this.Ru()},t.prototype.Ru=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.cu()?(this.Pu()?this.Vu():this._u.set("Unknown"),[4,this.gu()]):[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}}))}))},t.prototype.disableNetwork=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.hu.add(0),[4,this.yu()];case 1:return t.sent(),this._u.set("Offline"),[2]}}))}))},t.prototype.yu=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return[4,this.Eu.stop()];case 1:return t.sent(),[4,this.fu.stop()];case 2:return t.sent(),this.iu.length>0&&(qy("RemoteStore","Stopping write stream with "+this.iu.length+" pending writes"),this.iu=[]),this.pu(),[2]}}))}))},t.prototype.th=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return qy("RemoteStore","RemoteStore shutting down."),this.hu.add(5),[4,this.yu()];case 1:return t.sent(),this.au.th(),this._u.set("Unknown"),[2]}}))}))},t.prototype.listen=function(t){this.ru.has(t.targetId)||(this.ru.set(t.targetId,t),this.Pu()?this.Vu():this.fu.ma()&&this.bu(t))},t.prototype.vu=function(t){this.ru.delete(t),this.fu.ma()&&this.Su(t),0===this.ru.size&&(this.fu.ma()?this.fu.Pa():this.cu()&&this._u.set("Unknown"))},t.prototype.Me=function(t){return this.ru.get(t)||null},t.prototype.$e=function(t){return this.Du.$e(t)},t.prototype.bu=function(t){this.ou.de(t.targetId),this.fu.xa(t)},t.prototype.Su=function(t){this.ou.de(t),this.fu.$a(t)},t.prototype.Vu=function(){this.ou=new nb(this),this.fu.start(),this._u.Ja()},t.prototype.Pu=function(){return this.cu()&&!this.fu.Ia()&&this.ru.size>0},t.prototype.cu=function(){return 0===this.hu.size},t.prototype.pu=function(){this.ou=null},t.prototype.du=function(){return k(this,void 0,void 0,(function(){var t=this;return x(this,(function(e){return this.ru.forEach((function(e,n){t.bu(e)})),[2]}))}))},t.prototype.wu=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return this.pu(),this.Pu()?(this._u.tu(t),this.Vu()):this._u.set("Unknown"),[2]}))}))},t.prototype.Tu=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){switch(o.label){case 0:if(this._u.set("Online"),!(t instanceof tb&&2===t.state&&t.cause))return[3,6];o.label=1;case 1:return o.trys.push([1,3,,5]),[4,this.Cu(t)];case 2:return o.sent(),[3,5];case 3:return n=o.sent(),qy("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),[4,this.Nu(n)];case 4:return o.sent(),[3,5];case 5:return[3,13];case 6:if(t instanceof Jm?this.ou.Pe(t):t instanceof $m?this.ou.De(t):this.ou.ye(t),e.isEqual(hm.min()))return[3,13];o.label=7;case 7:return o.trys.push([7,11,,13]),[4,this.nu.ro()];case 8:return r=o.sent(),e.o(r)>=0?[4,this.Fu(e)]:[3,10];case 9:o.sent(),o.label=10;case 10:return[3,13];case 11:return qy("RemoteStore","Failed to raise snapshot:",i=o.sent()),[4,this.Nu(i)];case 12:return o.sent(),[3,13];case 13:return[2]}}))}))},t.prototype.Nu=function(t,e){return k(this,void 0,void 0,(function(){var n=this;return x(this,(function(r){switch(r.label){case 0:if(!A_(t))throw t;return this.hu.add(1),[4,this.yu()];case 1:return r.sent(),this._u.set("Offline"),e||(e=function(){return n.nu.ro()}),this.ti.Vi((function(){return k(n,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return qy("RemoteStore","Retrying IndexedDB access"),[4,e()];case 1:return t.sent(),this.hu.delete(1),[4,this.Ru()];case 2:return t.sent(),[2]}}))}))})),[2]}}))}))},t.prototype.ku=function(t){var e=this;return t().catch((function(n){return e.Nu(n,t)}))},t.prototype.Fu=function(t){var e=this,n=this.ou.Fe(t);return n.Qt.forEach((function(n,r){if(n.resumeToken.H()>0){var i=e.ru.get(r);i&&e.ru.set(r,i.tt(n.resumeToken,t))}})),n.Wt.forEach((function(t){var n=e.ru.get(t);if(n){e.ru.set(t,n.tt(Tm.Y,n.X)),e.Su(t);var r=new xm(n.target,t,1,n.sequenceNumber);e.bu(r)}})),this.Du.Ch(n)},t.prototype.Cu=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i;return x(this,(function(o){switch(o.label){case 0:e=t.cause,n=0,r=t.targetIds,o.label=1;case 1:return n<r.length?(i=r[n],this.ru.has(i)?[4,this.Du.xu(i,e)]:[3,3]):[3,5];case 2:o.sent(),this.ru.delete(i),this.ou.removeTarget(i),o.label=3;case 3:o.label=4;case 4:return n++,[3,1];case 5:return[2]}}))}))},t.prototype.gu=function(){return k(this,void 0,void 0,(function(){var t,e,n;return x(this,(function(r){switch(r.label){case 0:t=this.iu.length>0?this.iu[this.iu.length-1].batchId:-1,r.label=1;case 1:if(!this.$u())return[3,7];r.label=2;case 2:return r.trys.push([2,4,,6]),[4,this.nu.xh(t)];case 3:return null===(e=r.sent())?(0===this.iu.length&&this.Eu.Pa(),[3,7]):(t=e.batchId,this.Mu(e),[3,6]);case 4:return n=r.sent(),[4,this.Nu(n)];case 5:return r.sent(),[3,6];case 6:return[3,1];case 7:return this.Ou()&&this.Lu(),[2]}}))}))},t.prototype.$u=function(){return this.cu()&&this.iu.length<10},t.prototype.qu=function(){return this.iu.length},t.prototype.Mu=function(t){this.iu.push(t),this.Eu.ma()&&this.Eu.Oa&&this.Eu.La(t.mutations)},t.prototype.Ou=function(){return this.cu()&&!this.Eu.Ia()&&this.iu.length>0},t.prototype.Lu=function(){this.Eu.start()},t.prototype.Iu=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){return this.Eu.Ua(),[2]}))}))},t.prototype.Au=function(){return k(this,void 0,void 0,(function(){var t,e,n;return x(this,(function(r){for(t=0,e=this.iu;t<e.length;t++)n=e[t],this.Eu.La(n.mutations);return[2]}))}))},t.prototype.qa=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i=this;return x(this,(function(o){switch(o.label){case 0:return n=this.iu.shift(),r=g_.from(n,t,e),[4,this.ku((function(){return i.Du.Bu(r)}))];case 1:return o.sent(),[4,this.gu()];case 2:return o.sent(),[2]}}))}))},t.prototype.mu=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return t&&this.Eu.Oa?[4,this.Uu(t)]:[3,2];case 1:e.sent(),e.label=2;case 2:return this.Ou()&&this.Lu(),[2]}}))}))},t.prototype.Uu=function(t){return k(this,void 0,void 0,(function(){var e,n,r=this;return x(this,(function(i){switch(i.label){case 0:return Nm(n=t.code)&&n!==um.ABORTED?(e=this.iu.shift(),this.Eu.Ra(),[4,this.ku((function(){return r.Du.Qu(e.batchId,t)}))]):[3,3];case 1:return i.sent(),[4,this.gu()];case 2:i.sent(),i.label=3;case 3:return[2]}}))}))},t.prototype.lu=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.hu.add(4),[4,this.yu()];case 1:return t.sent(),this._u.set("Unknown"),this.Eu.Ra(),this.fu.Ra(),this.hu.delete(4),[4,this.Ru()];case 2:return t.sent(),[2]}}))}))},t.prototype.Wu=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return this.ti.pi(),qy("RemoteStore","RemoteStore received new credentials"),this.hu.add(3),[4,this.yu()];case 1:return e.sent(),this._u.set("Unknown"),[4,this.Du.Wu(t)];case 2:return e.sent(),this.hu.delete(3),[4,this.Ru()];case 3:return e.sent(),[2]}}))}))},t.prototype.ju=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return t?(this.hu.delete(2),[4,this.Ru()]):[3,2];case 1:return e.sent(),[3,5];case 2:return t?[3,4]:(this.hu.add(2),[4,this.yu()]);case 3:e.sent(),this._u.set("Unknown"),e.label=4;case 4:e.label=5;case 5:return[2]}}))}))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dC(t,e){return"firestore_clients_"+t+"_"+e}function vC(t,e,n){var r="firestore_mutations_"+t+"_"+n;return e.Er()&&(r+="_"+e.uid),r}function gC(t,e){return"firestore_targets_"+t+"_"+e}var yC=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r}return t.Ku=function(e,n,r){var i=JSON.parse(r),o="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error),s=void 0;return o&&i.error&&(o="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(s=new cm(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(Wy("SharedClientState","Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.Gu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),mC=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n}return t.Ku=function(e,n){var r=JSON.parse(n),i="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error),o=void 0;return i&&r.error&&(i="string"==typeof r.error.message&&"string"==typeof r.error.code)&&(o=new cm(r.error.code,r.error.message)),i?new t(e,r.state,o):(Wy("SharedClientState","Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.Gu=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),bC=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.Ku=function(e,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,o=Km(),s=0;i&&s<r.activeTargetIds.length;++s)i=bm(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(Wy("SharedClientState","Failed to parse client data for instance '"+e+"': "+n),null)},t}(),wC=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.Ku=function(e){var n=JSON.parse(e);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new t(n.clientId,n.onlineState):(Wy("SharedClientState","Failed to parse online state: "+e),null)},t}(),_C=function(){function t(){this.activeTargetIds=Km()}return t.prototype.zu=function(t){this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.Hu=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.Gu=function(){var t={activeTargetIds:this.activeTargetIds.N(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),EC=function(){function t(t,e,n,r,i){this.window=t,this.Es=e,this.persistenceKey=n,this.Yu=r,this.Du=null,this.Ga=null,this._s=null,this.Ju=this.Xu.bind(this),this.Zu=new Rm($y),this.tr=!1,this.tc=[];var o=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.ec=dC(this.persistenceKey,this.Yu),this.nc=function(t){return"firestore_sequence_number_"+t}(this.persistenceKey),this.Zu=this.Zu.nt(this.Yu,new _C),this.sc=new RegExp("^firestore_clients_"+o+"_([^_]*)$"),this.ic=new RegExp("^firestore_mutations_"+o+"_(\\d+)(?:_(.*))?$"),this.rc=new RegExp("^firestore_targets_"+o+"_(\\d+)$"),this.oc=function(t){return"firestore_online_state_"+t}(this.persistenceKey),this.window.addEventListener("storage",this.Ju)}return t.Fs=function(t){return!(!t||!t.localStorage)},t.prototype.start=function(){return k(this,void 0,void 0,(function(){var t,e,n,r,i,o,s,a,u,c,l,h=this;return x(this,(function(f){switch(f.label){case 0:return[4,this.Du.rh()];case 1:for(t=f.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.Yu&&(i=this.getItem(dC(this.persistenceKey,r)))&&(o=bC.Ku(r,i))&&(this.Zu=this.Zu.nt(o.clientId,o));for(this.hc(),(s=this.storage.getItem(this.oc))&&(a=this.ac(s))&&this.uc(a),u=0,c=this.tc;u<c.length;u++)l=c[u],this.Xu(l);return this.tc=[],this.window.addEventListener("unload",(function(){return h.th()})),this.tr=!0,[2]}}))}))},t.prototype.ws=function(t){this.setItem(this.nc,JSON.stringify(t))},t.prototype.cc=function(){return this.lc(this.Zu)},t.prototype._c=function(t){var e=!1;return this.Zu.forEach((function(n,r){r.activeTargetIds.has(t)&&(e=!0)})),e},t.prototype.fc=function(t){this.dc(t,"pending")},t.prototype.wc=function(t,e,n){this.dc(t,e,n),this.Tc(t)},t.prototype.Ec=function(t){var e="not-current";if(this._c(t)){var n=this.storage.getItem(gC(this.persistenceKey,t));if(n){var r=mC.Ku(t,n);r&&(e=r.state)}}return this.Ic.zu(t),this.hc(),e},t.prototype.mc=function(t){this.Ic.Hu(t),this.hc()},t.prototype.Ac=function(t){return this.Ic.activeTargetIds.has(t)},t.prototype.Rc=function(t){this.removeItem(gC(this.persistenceKey,t))},t.prototype.Pc=function(t,e,n){this.Vc(t,e,n)},t.prototype.Vh=function(t,e,n){var r=this;e.forEach((function(t){r.Tc(t)})),this.currentUser=t,n.forEach((function(t){r.fc(t)}))},t.prototype.gc=function(t){this.yc(t)},t.prototype.th=function(){this.tr&&(this.window.removeEventListener("storage",this.Ju),this.removeItem(this.ec),this.tr=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return qy("SharedClientState","READ",t,e),e},t.prototype.setItem=function(t,e){qy("SharedClientState","SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){qy("SharedClientState","REMOVE",t),this.storage.removeItem(t)},t.prototype.Xu=function(t){var e=this,n=t;if(n.storageArea===this.storage){if(qy("SharedClientState","EVENT",n.key,n.newValue),n.key===this.ec)return void Wy("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Es.Vi((function(){return k(e,void 0,void 0,(function(){var t,e,r,i,o,s;return x(this,(function(a){if(this.tr){if(null!==n.key)if(this.sc.test(n.key)){if(null==n.newValue)return t=this.pc(n.key),[2,this.bc(t,null)];if(e=this.vc(n.key,n.newValue))return[2,this.bc(e.clientId,e)]}else if(this.ic.test(n.key)){if(null!==n.newValue&&(r=this.Sc(n.key,n.newValue)))return[2,this.Dc(r)]}else if(this.rc.test(n.key)){if(null!==n.newValue&&(i=this.Cc(n.key,n.newValue)))return[2,this.Nc(i)]}else if(n.key===this.oc){if(null!==n.newValue&&(o=this.ac(n.newValue)))return[2,this.uc(o)]}else n.key===this.nc&&(s=function(t){var e=C_.Ts;if(null!=t)try{var n=JSON.parse(t);Yy("number"==typeof n),e=n}catch(t){Wy("SharedClientState","Failed to read sequence number from WebStorage",t)}return e}(n.newValue))!==C_.Ts&&this._s(s)}else this.tc.push(n);return[2]}))}))}))}},Object.defineProperty(t.prototype,"Ic",{get:function(){return this.Zu.get(this.Yu)},enumerable:!1,configurable:!0}),t.prototype.hc=function(){this.setItem(this.ec,this.Ic.Gu())},t.prototype.dc=function(t,e,n){var r=new yC(this.currentUser,t,e,n),i=vC(this.persistenceKey,this.currentUser,t);this.setItem(i,r.Gu())},t.prototype.Tc=function(t){var e=vC(this.persistenceKey,this.currentUser,t);this.removeItem(e)},t.prototype.yc=function(t){var e={clientId:this.Yu,onlineState:t};this.storage.setItem(this.oc,JSON.stringify(e))},t.prototype.Vc=function(t,e,n){var r=gC(this.persistenceKey,t),i=new mC(t,e,n);this.setItem(r,i.Gu())},t.prototype.pc=function(t){var e=this.sc.exec(t);return e?e[1]:null},t.prototype.vc=function(t,e){var n=this.pc(t);return bC.Ku(n,e)},t.prototype.Sc=function(t,e){var n=this.ic.exec(t),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return yC.Ku(new nC(i),r,e)},t.prototype.Cc=function(t,e){var n=this.rc.exec(t),r=Number(n[1]);return mC.Ku(r,e)},t.prototype.ac=function(t){return wC.Ku(t)},t.prototype.Dc=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return t.user.uid===this.currentUser.uid?[2,this.Du.Fc(t.batchId,t.state,t.error)]:(qy("SharedClientState","Ignoring mutation for non-active user "+t.user.uid),[2])}))}))},t.prototype.Nc=function(t){return this.Du.kc(t.targetId,t.state,t.error)},t.prototype.bc=function(t,e){var n=this,r=e?this.Zu.nt(t,e):this.Zu.remove(t),i=this.lc(this.Zu),o=this.lc(r),s=[],a=[];return o.forEach((function(t){i.has(t)||s.push(t)})),i.forEach((function(t){o.has(t)||a.push(t)})),this.Du.xc(s,a).then((function(){n.Zu=r}))},t.prototype.uc=function(t){this.Zu.get(t.clientId)&&this.Ga(t.onlineState)},t.prototype.lc=function(t){var e=Km();return t.forEach((function(t,n){e=e.Ct(n.activeTargetIds)})),e},t}(),CC=function(){function t(){this.$c=new _C,this.Mc={},this.Ga=null,this._s=null}return t.prototype.fc=function(t){},t.prototype.wc=function(t,e,n){},t.prototype.Ec=function(t){return this.$c.zu(t),this.Mc[t]||"not-current"},t.prototype.Pc=function(t,e,n){this.Mc[t]=e},t.prototype.mc=function(t){this.$c.Hu(t)},t.prototype.Ac=function(t){return this.$c.activeTargetIds.has(t)},t.prototype.Rc=function(t){delete this.Mc[t]},t.prototype.cc=function(){return this.$c.activeTargetIds},t.prototype._c=function(t){return this.$c.activeTargetIds.has(t)},t.prototype.start=function(){return this.$c=new _C,Promise.resolve()},t.prototype.Vh=function(t,e,n){},t.prototype.gc=function(t){},t.prototype.th=function(){},t.prototype.ws=function(t){},t}(),IC=function(t){this.key=t},TC=function(t){this.key=t},SC=function(){function t(t,e){this.query=t,this.Oc=e,this.Lc=null,this.Ht=!1,this.qc=qm(),this.Lt=qm(),this.Bc=Jw(t),this.Uc=new Gm(this.Bc)}return Object.defineProperty(t.prototype,"Qc",{get:function(){return this.Oc},enumerable:!1,configurable:!0}),t.prototype.Wc=function(t,e){var n=this,r=e?e.jc:new Xm,i=e?e.Uc:this.Uc,o=e?e.Lt:this.Lt,s=i,a=!1,u=this.query.hn()&&i.size===this.query.limit?i.last():null,c=this.query.an()&&i.size===this.query.limit?i.first():null;if(t.ot((function(t,e){var l=i.get(t),h=e instanceof Mw?e:null;h&&(h=Zw(n.query,h)?h:null);var f=!!l&&n.Lt.has(l.key),p=!!h&&(h.Ke||n.Lt.has(h.key)&&h.hasCommittedMutations),d=!1;l&&h?l.data().isEqual(h.data())?f!==p&&(r.track({type:3,doc:h}),d=!0):n.Kc(l,h)||(r.track({type:2,doc:h}),d=!0,(u&&n.Bc(h,u)>0||c&&n.Bc(h,c)<0)&&(a=!0)):!l&&h?(r.track({type:0,doc:h}),d=!0):l&&!h&&(r.track({type:1,doc:l}),d=!0,(u||c)&&(a=!0)),d&&(h?(s=s.add(h),o=p?o.add(t):o.delete(t)):(s=s.delete(t),o=o.delete(t)))})),this.query.hn()||this.query.an())for(;s.size>this.query.limit;){var l=this.query.hn()?s.last():s.first();s=s.delete(l.key),o=o.delete(l.key),r.track({type:1,doc:l})}return{Uc:s,jc:r,Gc:a,Lt:o}},t.prototype.Kc=function(t,e){return t.Ke&&e.hasCommittedMutations&&!e.Ke},t.prototype.Bn=function(t,e,n){var r=this,i=this.Uc;this.Uc=t.Uc,this.Lt=t.Lt;var o=t.jc.Mt();o.sort((function(t,e){return function(t,e){var n=function(t){switch(t){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Xy()}};return n(t)-n(e)}(t.type,e.type)||r.Bc(t.doc,e.doc)})),this.zc(n);var s=e?this.Hc():[],a=0===this.qc.size&&this.Ht?1:0,u=a!==this.Lc;return this.Lc=a,0!==o.length||u?{snapshot:new Ym(this.query,t.Uc,i,o,t.Lt,0===a,u,!1),Yc:s}:{Yc:s}},t.prototype.Jc=function(t){return this.Ht&&"Offline"===t?(this.Ht=!1,this.Bn({Uc:this.Uc,jc:new Xm,Lt:this.Lt,Gc:!1},!1)):{Yc:[]}},t.prototype.Xc=function(t){return!this.Oc.has(t)&&!!this.Uc.has(t)&&!this.Uc.get(t).Ke},t.prototype.zc=function(t){var e=this;t&&(t.Yt.forEach((function(t){return e.Oc=e.Oc.add(t)})),t.Jt.forEach((function(t){})),t.Xt.forEach((function(t){return e.Oc=e.Oc.delete(t)})),this.Ht=t.Ht)},t.prototype.Hc=function(){var t=this;if(!this.Ht)return[];var e=this.qc;this.qc=qm(),this.Uc.forEach((function(e){t.Xc(e.key)&&(t.qc=t.qc.add(e.key))}));var n=[];return e.forEach((function(e){t.qc.has(e)||n.push(new TC(e))})),this.qc.forEach((function(t){e.has(t)||n.push(new IC(t))})),n},t.prototype.Zc=function(t){this.Oc=t.qh,this.qc=qm();var e=this.Wc(t.documents);return this.Bn(e,!0)},t.prototype.tl=function(){return Ym.Ut(this.query,this.Uc,this.Lt,0===this.Lc)},t}(),kC=function(t,e,n){this.query=t,this.targetId=e,this.view=n},xC=function(t){this.key=t,this.el=!1},AC=function(){function t(t,e,n,r,i,o){this.nu=t,this.nl=e,this.su=n,this.sl=r,this.currentUser=i,this.il=o,this.rl=null,this.ol=new am((function(t){return Yw(t)}),Xw),this.hl=new Map,this.al=[],this.ul=new Rm(gm.P),this.cl=new Map,this.ll=new tC,this._l={},this.fl=new Map,this.dl=jE.eo(),this.onlineState="Unknown",this.wl=void 0}return Object.defineProperty(t.prototype,"Tl",{get:function(){return!0===this.wl},enumerable:!1,configurable:!0}),t.prototype.subscribe=function(t){this.rl=t},t.prototype.listen=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i,o;return x(this,(function(s){switch(s.label){case 0:return this.El("listen()"),(r=this.ol.get(t))?(e=r.targetId,this.sl.Ec(e),n=r.view.tl(),[3,4]):[3,1];case 1:return[4,this.nu.Mh(qw(t))];case 2:return i=s.sent(),o=this.sl.Ec(i.targetId),e=i.targetId,[4,this.Il(t,e,"current"===o)];case 3:n=s.sent(),this.Tl&&this.nl.listen(i),s.label=4;case 4:return[2,n]}}))}))},t.prototype.Il=function(t,e,n){return k(this,void 0,void 0,(function(){var r,i,o,s,a,u;return x(this,(function(c){switch(c.label){case 0:return[4,this.nu.Lh(t,!0)];case 1:return r=c.sent(),i=new SC(t,r.qh),o=i.Wc(r.documents),s=Zm.zt(e,n&&"Offline"!==this.onlineState),a=i.Bn(o,this.Tl,s),this.ml(e,a.Yc),u=new kC(t,e,i),[2,(this.ol.set(t,u),this.hl.has(e)?this.hl.get(e).push(t):this.hl.set(e,[t]),a.snapshot)]}}))}))},t.prototype.vu=function(t){return k(this,void 0,void 0,(function(){var e,n,r=this;return x(this,(function(i){switch(i.label){case 0:return this.El("unlisten()"),e=this.ol.get(t),(n=this.hl.get(e.targetId)).length>1?[2,(this.hl.set(e.targetId,n.filter((function(e){return!Xw(e,t)}))),void this.ol.delete(t))]:this.Tl?(this.sl.mc(e.targetId),this.sl._c(e.targetId)?[3,2]:[4,this.nu.Oh(e.targetId,!1).then((function(){r.sl.Rc(e.targetId),r.nl.vu(e.targetId),r.Al(e.targetId)})).catch($E)]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.Al(e.targetId),[4,this.nu.Oh(e.targetId,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}}))}))},t.prototype.write=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){switch(o.label){case 0:this.El("write()"),o.label=1;case 1:return o.trys.push([1,5,,6]),[4,this.nu.bh(t)];case 2:return n=o.sent(),this.sl.fc(n.batchId),this.Rl(n.batchId,e),[4,this.Pl(n.Nn)];case 3:return o.sent(),[4,this.nl.gu()];case 4:return o.sent(),[3,6];case 5:return r=o.sent(),i=V_(r,"Failed to persist write"),e.reject(i),[3,6];case 6:return[2]}}))}))},t.prototype.Ch=function(t){return k(this,void 0,void 0,(function(){var e,n=this;return x(this,(function(r){switch(r.label){case 0:this.El("applyRemoteEvent()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.Ch(t)];case 2:return e=r.sent(),t.Qt.forEach((function(t,e){var r=n.cl.get(e);r&&(Yy(t.Yt.size+t.Jt.size+t.Xt.size<=1),t.Yt.size>0?r.el=!0:t.Jt.size>0?Yy(r.el):t.Xt.size>0&&(Yy(r.el),r.el=!1))})),[4,this.Pl(e,t)];case 3:return r.sent(),[3,6];case 4:return[4,$E(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Jc=function(t,e){if(this.Tl&&0===e||!this.Tl&&1===e){this.El("applyOnlineStateChange()");var n=[];this.ol.forEach((function(e,r){var i=r.view.Jc(t);i.snapshot&&n.push(i.snapshot)})),this.rl.Vl(t),this.rl.ka(n),this.onlineState=t,this.Tl&&this.sl.gc(t)}},t.prototype.xu=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s,a=this;return x(this,(function(u){switch(u.label){case 0:return this.El("rejectListens()"),this.sl.Pc(t,"rejected",e),n=this.cl.get(t),(r=n&&n.key)?(i=(i=new Rm(gm.P)).nt(r,new Lw(r,hm.min())),o=qm().add(r),s=new Qm(hm.min(),new Map,new Mm($y),i,o),[4,this.Ch(s)]):[3,2];case 1:return u.sent(),this.ul=this.ul.remove(r),this.cl.delete(t),this.gl(),[3,4];case 2:return[4,this.nu.Oh(t,!1).then((function(){return a.Al(t,e)})).catch($E)];case 3:u.sent(),u.label=4;case 4:return[2]}}))}))},t.prototype.Bu=function(t){return k(this,void 0,void 0,(function(){var e,n;return x(this,(function(r){switch(r.label){case 0:this.El("applySuccessfulWrite()"),e=t.batch.batchId,r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.vh(t)];case 2:return n=r.sent(),this.yl(e,null),this.pl(e),this.sl.wc(e,"acknowledged"),[4,this.Pl(n)];case 3:return r.sent(),[3,6];case 4:return[4,$E(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.Qu=function(t,e){return k(this,void 0,void 0,(function(){var n;return x(this,(function(r){switch(r.label){case 0:this.El("rejectFailedWrite()"),r.label=1;case 1:return r.trys.push([1,4,,6]),[4,this.nu.Dh(t)];case 2:return n=r.sent(),this.yl(t,e),this.pl(t),this.sl.wc(t,"rejected",e),[4,this.Pl(n)];case 3:return r.sent(),[3,6];case 4:return[4,$E(r.sent())];case 5:return r.sent(),[3,6];case 6:return[2]}}))}))},t.prototype.bl=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i;return x(this,(function(o){switch(o.label){case 0:this.nl.cu()||qy("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,this.nu.gr()];case 2:return-1===(e=o.sent())?[2,void t.resolve()]:((n=this.fl.get(e)||[]).push(t),this.fl.set(e,n),[3,4]);case 3:return r=o.sent(),i=V_(r,"Initialization of waitForPendingWrites() operation failed"),t.reject(i),[3,4];case 4:return[2]}}))}))},t.prototype.pl=function(t){(this.fl.get(t)||[]).forEach((function(t){t.resolve()})),this.fl.delete(t)},t.prototype.vl=function(t){this.fl.forEach((function(e){e.forEach((function(e){e.reject(new cm(um.CANCELLED,t))}))})),this.fl.clear()},t.prototype.Rl=function(t,e){var n=this._l[this.currentUser.Xh()];n||(n=new Rm($y)),n=n.nt(t,e),this._l[this.currentUser.Xh()]=n},t.prototype.yl=function(t,e){var n=this._l[this.currentUser.Xh()];if(n){var r=n.get(t);r&&(e?r.reject(e):r.resolve(),n=n.remove(t)),this._l[this.currentUser.Xh()]=n}},t.prototype.Al=function(t,e){var n=this;void 0===e&&(e=null),this.sl.mc(t);for(var r=0,i=this.hl.get(t);r<i.length;r++){var o=i[r];this.ol.delete(o),e&&this.rl.Sl(o,e)}this.hl.delete(t),this.Tl&&this.ll.zh(t).forEach((function(t){n.ll.Nr(t)||n.Dl(t)}))},t.prototype.Dl=function(t){var e=this.ul.get(t);null!==e&&(this.nl.vu(e),this.ul=this.ul.remove(t),this.cl.delete(e),this.gl())},t.prototype.ml=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];i instanceof IC?(this.ll.Eo(i.key,t),this.Cl(i)):i instanceof TC?(qy("SyncEngine","Document no longer in limbo: "+i.key),this.ll.mo(i.key,t),this.ll.Nr(i.key)||this.Dl(i.key)):Xy()}},t.prototype.Cl=function(t){var e=t.key;this.ul.get(e)||(qy("SyncEngine","New document in limbo: "+e),this.al.push(e),this.gl())},t.prototype.gl=function(){for(;this.al.length>0&&this.ul.size<this.il;){var t=this.al.shift(),e=this.dl.next();this.cl.set(e,new xC(t)),this.ul=this.ul.nt(t,e),this.nl.listen(new xm(qw(Bw(t.path)),e,2,C_.Ts))}},t.prototype.Nl=function(){return this.ul},t.prototype.Fl=function(){return this.al},t.prototype.Pl=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o=this;return x(this,(function(s){switch(s.label){case 0:return n=[],r=[],i=[],this.ol.forEach((function(s,a){i.push(Promise.resolve().then((function(){var e=a.view.Wc(t);return e.Gc?o.nu.Lh(a.query,!1).then((function(t){var n=t.documents;return a.view.Wc(n,e)})):e})).then((function(t){var i=e&&e.Qt.get(a.targetId),s=a.view.Bn(t,o.Tl,i);if(o.ml(a.targetId,s.Yc),s.snapshot){o.Tl&&o.sl.Pc(a.targetId,s.snapshot.fromCache?"not-current":"current"),n.push(s.snapshot);var u=E_.ls(a.targetId,s.snapshot);r.push(u)}})))})),[4,Promise.all(i)];case 1:return s.sent(),this.rl.ka(n),[4,this.nu.kh(r)];case 2:return s.sent(),[2]}}))}))},t.prototype.El=function(t){},t.prototype.Wu=function(t){return k(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return this.currentUser.isEqual(t)?[3,3]:(qy("SyncEngine","User change. New user:",t.Xh()),[4,this.nu.Vh(t)]);case 1:return e=n.sent(),this.currentUser=t,this.vl("'waitForPendingWrites' promise is rejected due to a user change."),this.sl.Vh(t,e.yh,e.ph),[4,this.Pl(e.gh)];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))},t.prototype.$e=function(t){var e=this.cl.get(t);if(e&&e.el)return qm().add(e.key);var n=qm(),r=this.hl.get(t);if(!r)return n;for(var i=0,o=r;i<o.length;i++){var s=o[i],a=this.ol.get(s);n=n.Ct(a.view.Qc)}return n},t}();function NC(t,e){return k(this,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){switch(o.label){case 0:return[4,(n=Qy(t)).nu.Lh(e.query,!0)];case 1:return r=o.sent(),i=e.view.Zc(r),[2,(n.Tl&&n.ml(e.targetId,i.Yc),i)]}}))}))}function OC(t,e,n,r){return k(this,void 0,void 0,(function(){var i,o;return x(this,(function(s){switch(s.label){case 0:return(i=Qy(t)).El("applyBatchState()"),[4,function(t,e){var n=Qy(t),r=Qy(n.Kn);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(t){return r.Pr(t,e).next((function(e){return e?n.Rh.Xn(t,e):y_.resolve(null)}))}))}(i.nu,e)];case 1:return null===(o=s.sent())?[3,6]:"pending"!==n?[3,3]:[4,i.nl.gu()];case 2:return s.sent(),[3,4];case 3:"acknowledged"===n||"rejected"===n?(i.yl(e,r||null),function(t,e){Qy(Qy(t).Kn).Sr(e)}(i.nu,e)):Xy(),s.label=4;case 4:return[4,i.Pl(o)];case 5:return s.sent(),[3,7];case 6:qy("SyncEngine","Cannot apply mutation batch with id: "+e),s.label=7;case 7:return[2]}}))}))}function RC(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c;return x(this,(function(l){switch(l.label){case 0:return n=Qy(t),!0!==e||!0===n.wl?[3,3]:(r=n.sl.cc(),[4,DC(n,r.N())]);case 1:return i=l.sent(),n.wl=!0,[4,n.nl.ju(!0)];case 2:for(l.sent(),o=0,s=i;o<s.length;o++)a=s[o],n.nl.listen(a);return[3,7];case 3:return!1!==e||!1===n.wl?[3,7]:(u=[],c=Promise.resolve(),n.hl.forEach((function(t,e){n.sl.Ac(e)?u.push(e):c=c.then((function(){return n.Al(e),n.nu.Oh(e,!0)})),n.nl.vu(e)})),[4,c]);case 4:return l.sent(),[4,DC(n,u)];case 5:return l.sent(),function(t){var e=Qy(t);e.cl.forEach((function(t,n){e.nl.vu(n)})),e.ll.Hh(),e.cl=new Map,e.ul=new Rm(gm.P)}(n),n.wl=!1,[4,n.nl.ju(!1)];case 6:l.sent(),l.label=7;case 7:return[2]}}))}))}function DC(t,e,n){return k(this,void 0,void 0,(function(){var n,r,i,o,s,a,u,c,l,h,f,p,d,v;return x(this,(function(g){switch(g.label){case 0:n=Qy(t),r=[],i=[],o=0,s=e,g.label=1;case 1:return o<s.length?(a=s[o],u=void 0,(c=n.hl.get(a))&&0!==c.length?[4,n.nu.Mh(qw(c[0]))]:[3,7]):[3,13];case 2:u=g.sent(),l=0,h=c,g.label=3;case 3:return l<h.length?(f=h[l],p=n.ol.get(f),[4,NC(n,p)]):[3,6];case 4:(d=g.sent()).snapshot&&i.push(d.snapshot),g.label=5;case 5:return l++,[3,3];case 6:return[3,11];case 7:return[4,JE(n.nu,a)];case 8:return v=g.sent(),[4,n.nu.Mh(v)];case 9:return u=g.sent(),[4,n.Il(PC(v),a,!1)];case 10:g.sent(),g.label=11;case 11:r.push(u),g.label=12;case 12:return o++,[3,1];case 13:return[2,(n.rl.ka(i),r)]}}))}))}function PC(t){return Uw(t.path,t.collectionGroup,t.orderBy,t.filters,t.limit,"F",t.startAt,t.endAt)}function MC(t){var e=Qy(t);return Qy(Qy(e.nu).persistence).rh()}function LC(t,e,n,r){return k(this,void 0,void 0,(function(){var i,o,s;return x(this,(function(a){switch(a.label){case 0:return(i=Qy(t)).wl?(qy("SyncEngine","Ignoring unexpected query state notification."),[3,8]):[3,1];case 1:if(!i.hl.has(e))return[3,8];switch(n){case"current":case"not-current":return[3,2];case"rejected":return[3,5]}return[3,7];case 2:return[4,function(t){var e=Qy(t),n=Qy(e.Ah);return e.persistence.runTransaction("Get new document changes","readonly",(function(t){return n.Ur(t,e.mh)})).then((function(t){var n=t.Qr,r=t.readTime;return e.mh=r,n}))}(i.nu)];case 3:return o=a.sent(),s=Qm.Gt(e,"current"===n),[4,i.Pl(o,s)];case 4:return a.sent(),[3,8];case 5:return[4,i.nu.Oh(e,!0)];case 6:return a.sent(),i.Al(e,r),[3,8];case 7:Xy(),a.label=8;case 8:return[2]}}))}))}function FC(t,e,n){return k(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f;return x(this,(function(p){switch(p.label){case 0:if(!(r=Qy(t)).wl)return[3,10];i=0,o=e,p.label=1;case 1:return i<o.length?(s=o[i],r.hl.has(s)?(qy("SyncEngine","Adding an already active target "+s),[3,5]):[4,JE(r.nu,s)]):[3,6];case 2:return a=p.sent(),[4,r.nu.Mh(a)];case 3:return u=p.sent(),[4,r.Il(PC(a),u.targetId,!1)];case 4:p.sent(),r.nl.listen(u),p.label=5;case 5:return i++,[3,1];case 6:c=function(t){return x(this,(function(e){switch(e.label){case 0:return r.hl.has(t)?[4,r.nu.Oh(t,!1).then((function(){r.nl.vu(t),r.Al(t)})).catch($E)]:[3,2];case 1:e.sent(),e.label=2;case 2:return[2]}}))},l=0,h=n,p.label=7;case 7:return l<h.length?(f=h[l],[5,c(f)]):[3,10];case 8:p.sent(),p.label=9;case 9:return l++,[3,7];case 10:return[2]}}))}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var jC=function(){this.kl=void 0,this.listeners=[]},VC=function(){function t(t){this.Du=t,this.xl=new am((function(t){return Yw(t)}),Xw),this.onlineState="Unknown",this.$l=new Set,this.Du.subscribe(this)}return t.prototype.listen=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i,o,s;return x(this,(function(a){switch(a.label){case 0:if(e=t.query,n=!1,(r=this.xl.get(e))||(n=!0,r=new jC),!n)return[3,4];a.label=1;case 1:return a.trys.push([1,3,,4]),i=r,[4,this.Du.listen(e)];case 2:return i.kl=a.sent(),[3,4];case 3:return o=a.sent(),s=V_(o,"Initialization of query '"+Qw(t.query)+"' failed"),[2,void t.onError(s)];case 4:return this.xl.set(e,r),r.listeners.push(t),t.Jc(this.onlineState),r.kl&&t.Ml(r.kl)&&this.Ol(),[2]}}))}))},t.prototype.vu=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i;return x(this,(function(o){return e=t.query,n=!1,(r=this.xl.get(e))&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?[2,(this.xl.delete(e),this.Du.vu(e))]:[2]}))}))},t.prototype.ka=function(t){for(var e=!1,n=0,r=t;n<r.length;n++){var i=r[n],o=i.query,s=this.xl.get(o);if(s){for(var a=0,u=s.listeners;a<u.length;a++)u[a].Ml(i)&&(e=!0);s.kl=i}}e&&this.Ol()},t.prototype.Sl=function(t,e){var n=this.xl.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++)i[r].onError(e);this.xl.delete(t)},t.prototype.Vl=function(t){this.onlineState=t;var e=!1;this.xl.forEach((function(n,r){for(var i=0,o=r.listeners;i<o.length;i++)o[i].Jc(t)&&(e=!0)})),e&&this.Ol()},t.prototype.Ll=function(t){this.$l.add(t),t.next()},t.prototype.ql=function(t){this.$l.delete(t)},t.prototype.Ol=function(){this.$l.forEach((function(t){t.next()}))},t}(),UC=function(){function t(t,e,n){this.query=t,this.Bl=e,this.Ul=!1,this.Ql=null,this.onlineState="Unknown",this.options=n||{}}return t.prototype.Ml=function(t){if(!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];3!==i.type&&e.push(i)}t=new Ym(t.query,t.docs,t.Ot,e,t.Lt,t.fromCache,t.qt,!0)}var o=!1;return this.Ul?this.Wl(t)&&(this.Bl.next(t),o=!0):this.jl(t,this.onlineState)&&(this.Kl(t),o=!0),this.Ql=t,o},t.prototype.onError=function(t){this.Bl.error(t)},t.prototype.Jc=function(t){this.onlineState=t;var e=!1;return this.Ql&&!this.Ul&&this.jl(this.Ql,t)&&(this.Kl(this.Ql),e=!0),e},t.prototype.jl=function(t,e){if(!t.fromCache)return!0;var n="Offline"!==e;return!(this.options.Gl&&n||t.docs._()&&"Offline"!==e)},t.prototype.Wl=function(t){if(t.docChanges.length>0)return!0;var e=this.Ql&&this.Ql.hasPendingWrites!==t.hasPendingWrites;return!(!t.qt&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.Kl=function(t){t=Ym.Ut(t.query,t.docs,t.Lt,t.fromCache),this.Ul=!0,this.Bl.next(t)},t}(),BC=function(){function t(){}return t.prototype.Ph=function(t){this.zl=t},t.prototype.es=function(t,e,n,r){var i=this;return e.on()||n.isEqual(hm.min())?this.Hl(t,e):this.zl.Xn(t,r).next((function(o){var s=i.Yl(e,o);return(e.hn()||e.an())&&i.Gc(e.en,s,r,n)?i.Hl(t,e):(zy()<=cl.DEBUG&&qy("IndexFreeQueryEngine","Re-using previous result from %s to execute query: %s",n.toString(),Qw(e)),i.zl.es(t,e,n).next((function(t){return s.forEach((function(e){t=t.nt(e.key,e)})),t})))}))},t.prototype.Yl=function(t,e){var n=new Mm(Jw(t));return e.forEach((function(e,r){r instanceof Mw&&Zw(t,r)&&(n=n.add(r))})),n},t.prototype.Gc=function(t,e,n,r){if(n.size!==e.size)return!0;var i="F"===t?e.last():e.first();return!!i&&(i.hasPendingWrites||i.version.o(r)>0)},t.prototype.Hl=function(t,e){return zy()<=cl.DEBUG&&qy("IndexFreeQueryEngine","Using full collection scan to execute query:",Qw(e)),this.zl.es(t,e,hm.min())},t}(),HC=function(){function t(t,e){this.Gn=t,this.dr=e,this.Kn=[],this.Jl=1,this.Xl=new Mm(eC.Uh)}return t.prototype.Ir=function(t){return y_.resolve(0===this.Kn.length)},t.prototype.mr=function(t,e,n,r){var i=this.Jl;this.Jl++,this.Kn.length>0&&this.Kn[this.Kn.length-1];var o=new v_(i,e,n,r);this.Kn.push(o);for(var s=0,a=r;s<a.length;s++){var u=a[s];this.Xl=this.Xl.add(new eC(u.key,i)),this.Gn.Ar(t,u.key.path.p())}return y_.resolve(o)},t.prototype.Rr=function(t,e){return y_.resolve(this.Zl(e))},t.prototype.Vr=function(t,e){var n=e+1,r=this.t_(n),i=r<0?0:r;return y_.resolve(this.Kn.length>i?this.Kn[i]:null)},t.prototype.gr=function(){return y_.resolve(0===this.Kn.length?-1:this.Jl-1)},t.prototype.yr=function(t){return y_.resolve(this.Kn.slice())},t.prototype.Hn=function(t,e){var n=this,r=new eC(e,0),i=new eC(e,Number.POSITIVE_INFINITY),o=[];return this.Xl.vt([r,i],(function(t){var e=n.Zl(t.Jh);o.push(e)})),y_.resolve(o)},t.prototype.ts=function(t,e){var n=this,r=new Mm($y);return e.forEach((function(t){var e=new eC(t,0),i=new eC(t,Number.POSITIVE_INFINITY);n.Xl.vt([e,i],(function(t){r=r.add(t.Jh)}))})),y_.resolve(this.e_(r))},t.prototype.hs=function(t,e){var n=e.path,r=n.length+1,i=n;gm.W(i)||(i=i.child(""));var o=new eC(new gm(i),0),s=new Mm($y);return this.Xl.St((function(t){var e=t.key.path;return!!n.D(e)&&(e.length===r&&(s=s.add(t.Jh)),!0)}),o),y_.resolve(this.e_(s))},t.prototype.e_=function(t){var e=this,n=[];return t.forEach((function(t){var r=e.Zl(t);null!==r&&n.push(r)})),n},t.prototype.br=function(t,e){var n=this;Yy(0===this.n_(e.batchId,"removed")),this.Kn.shift();var r=this.Xl;return y_.forEach(e.mutations,(function(i){var o=new eC(i.key,e.batchId);return r=r.delete(o),n.dr.Dr(t,i.key)})).next((function(){n.Xl=r}))},t.prototype.Sr=function(t){},t.prototype.Nr=function(t,e){var n=new eC(e,0),r=this.Xl.Dt(n);return y_.resolve(e.isEqual(r&&r.key))},t.prototype.Cr=function(t){return this.Kn.length,y_.resolve()},t.prototype.n_=function(t,e){return this.t_(t)},t.prototype.t_=function(t){return 0===this.Kn.length?0:t-this.Kn[0].batchId},t.prototype.Zl=function(t){var e=this.t_(t);return e<0||e>=this.Kn.length?null:this.Kn[e]},t}(),zC=function(){function t(t,e){this.Gn=t,this.s_=e,this.docs=new Rm(gm.P),this.size=0}return t.prototype.xn=function(t,e,n){var r=e.key,i=this.docs.get(r),o=i?i.size:0,s=this.s_(e);return this.docs=this.docs.nt(r,{Mr:e,size:s,readTime:n}),this.size+=s-o,this.Gn.Ar(t,r.path.p())},t.prototype.Mn=function(t){var e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)},t.prototype.On=function(t,e){var n=this.docs.get(e);return y_.resolve(n?n.Mr:null)},t.prototype.getEntries=function(t,e){var n=this,r=Vm();return e.forEach((function(t){var e=n.docs.get(t);r=r.nt(t,e?e.Mr:null)})),y_.resolve(r)},t.prototype.es=function(t,e,n){for(var r=Bm(),i=new gm(e.path.child("")),o=this.docs.ut(i);o.wt();){var s=o.dt(),a=s.key,u=s.value,c=u.Mr,l=u.readTime;if(!e.path.D(a.path))break;l.o(n)<=0||c instanceof Mw&&Zw(e,c)&&(r=r.nt(c.key,c))}return y_.resolve(r)},t.prototype.i_=function(t,e){return y_.forEach(this.docs,(function(t){return e(t)}))},t.prototype.jr=function(e){return new t.Kr(this)},t.prototype.zr=function(t){return y_.resolve(this.size)},t}();zC.Kr=function(t){function e(e){var n=this;return(n=t.call(this)||this).Hr=e,n}return T(e,t),e.prototype.Bn=function(t){var e=this,n=[];return this.Nn.forEach((function(r,i){i?n.push(e.Hr.xn(t,i,e.readTime)):e.Hr.Mn(r)})),y_.Dn(n)},e.prototype.Ln=function(t,e){return this.Hr.On(t,e)},e.prototype.qn=function(t,e){return this.Hr.getEntries(t,e)},e}(m_);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var qC=function(){function t(t){this.persistence=t,this.r_=new am((function(t){return Em(t)}),Cm),this.lastRemoteSnapshotVersion=hm.min(),this.highestTargetId=0,this.o_=0,this.h_=new tC,this.targetCount=0,this.a_=jE.to()}return t.prototype.pe=function(t,e){return this.r_.forEach((function(t,n){return e(n)})),y_.resolve()},t.prototype.ro=function(t){return y_.resolve(this.lastRemoteSnapshotVersion)},t.prototype.oo=function(t){return y_.resolve(this.o_)},t.prototype.no=function(t){return this.highestTargetId=this.a_.next(),y_.resolve(this.highestTargetId)},t.prototype.ho=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.o_&&(this.o_=e),y_.resolve()},t.prototype.uo=function(t){this.r_.set(t.target,t);var e=t.targetId;e>this.highestTargetId&&(this.a_=new jE(e),this.highestTargetId=e),t.sequenceNumber>this.o_&&(this.o_=t.sequenceNumber)},t.prototype.ao=function(t,e){return this.uo(e),this.targetCount+=1,y_.resolve()},t.prototype.lo=function(t,e){return this.uo(e),y_.resolve()},t.prototype._o=function(t,e){return this.r_.delete(e.target),this.h_.zh(e.targetId),this.targetCount-=1,y_.resolve()},t.prototype.hr=function(t,e,n){var r=this,i=0,o=[];return this.r_.forEach((function(s,a){a.sequenceNumber<=e&&null===n.get(a.targetId)&&(r.r_.delete(s),o.push(r.fo(t,a.targetId)),i++)})),y_.Dn(o).next((function(){return i}))},t.prototype.do=function(t){return y_.resolve(this.targetCount)},t.prototype.wo=function(t,e){var n=this.r_.get(e)||null;return y_.resolve(n)},t.prototype.To=function(t,e,n){return this.h_.jh(e,n),y_.resolve()},t.prototype.Io=function(t,e,n){this.h_.Gh(e,n);var r=this.persistence.dr,i=[];return r&&e.forEach((function(e){i.push(r.Dr(t,e))})),y_.Dn(i)},t.prototype.fo=function(t,e){return this.h_.zh(e),y_.resolve()},t.prototype.Ao=function(t,e){var n=this.h_.Yh(e);return y_.resolve(n)},t.prototype.Nr=function(t,e){return y_.resolve(this.h_.Nr(e))},t}(),WC=function(){function t(t){var e=this;this.u_={},this.yo=new C_(0),this.po=!1,this.po=!0,this.dr=t(this),this.ko=new qC(this),this.Gn=new yE,this.jn=new zC(this.Gn,(function(t){return e.dr.c_(t)}))}return t.prototype.start=function(){return Promise.resolve()},t.prototype.th=function(){return this.po=!1,Promise.resolve()},Object.defineProperty(t.prototype,"tr",{get:function(){return this.po},enumerable:!1,configurable:!0}),t.prototype.Bo=function(){},t.prototype.Uo=function(){},t.prototype.uh=function(){return this.Gn},t.prototype.oh=function(t){var e=this.u_[t.Xh()];return e||(e=new HC(this.Gn,this.dr),this.u_[t.Xh()]=e),e},t.prototype.hh=function(){return this.ko},t.prototype.ah=function(){return this.jn},t.prototype.runTransaction=function(t,e,n){var r=this;qy("MemoryPersistence","Starting transaction:",t);var i=new KC(this.yo.next());return this.dr.l_(),n(i).next((function(t){return r.dr.__(i).next((function(){return t}))})).vn().then((function(t){return i.Wn(),t}))},t.prototype.f_=function(t,e){return y_.Cn(Object.values(this.u_).map((function(n){return function(){return n.Nr(t,e)}})))},t}(),KC=function(t){function e(e){var n=this;return(n=t.call(this)||this).Ro=e,n}return T(e,t),e}(w_),GC=function(){function t(t){this.persistence=t,this.d_=new tC,this.w_=null}return t.T_=function(e){return new t(e)},Object.defineProperty(t.prototype,"E_",{get:function(){if(this.w_)return this.w_;throw Xy()},enumerable:!1,configurable:!0}),t.prototype.Eo=function(t,e,n){return this.d_.Eo(n,e),this.E_.delete(n),y_.resolve()},t.prototype.mo=function(t,e,n){return this.d_.mo(n,e),this.E_.add(n),y_.resolve()},t.prototype.Dr=function(t,e){return this.E_.add(e),y_.resolve()},t.prototype.removeTarget=function(t,e){var n=this;this.d_.zh(e.targetId).forEach((function(t){return n.E_.add(t)}));var r=this.persistence.hh();return r.Ao(t,e.targetId).next((function(t){t.forEach((function(t){return n.E_.add(t)}))})).next((function(){return r._o(t,e)}))},t.prototype.l_=function(){this.w_=new Set},t.prototype.__=function(t){var e=this,n=this.persistence.ah().jr();return y_.forEach(this.E_,(function(r){return e.I_(t,r).next((function(t){t||n.Mn(r)}))})).next((function(){return e.w_=null,n.apply(t)}))},t.prototype.wh=function(t,e){var n=this;return this.I_(t,e).next((function(t){t?n.E_.delete(e):n.E_.add(e)}))},t.prototype.c_=function(t){return 0},t.prototype.I_=function(t,e){var n=this;return y_.Cn([function(){return y_.resolve(n.d_.Nr(e))},function(){return n.persistence.hh().Nr(t,e)},function(){return n.persistence.f_(t,e)}])},t}(),XC=function(){function t(t){this.m_=t.m_,this.A_=t.A_}return t.prototype.Na=function(t){this.R_=t},t.prototype.ba=function(t){this.P_=t},t.prototype.onMessage=function(t){this.V_=t},t.prototype.close=function(){this.A_()},t.prototype.send=function(t){this.m_(t)},t.prototype.g_=function(){this.R_()},t.prototype.y_=function(t){this.P_(t)},t.prototype.p_=function(t){this.V_(t)},t}(),YC={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},QC=function(t){function e(e){var n=this;return(n=t.call(this,e)||this).forceLongPolling=e.forceLongPolling,n}return T(e,t),e.prototype.N_=function(t,e,n,r){return new Promise((function(i,o){var s=new By;s.listenOnce(Vy.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case jy.NO_ERROR:var e=s.getResponseJson();qy("Connection","XHR received:",JSON.stringify(e)),i(e);break;case jy.TIMEOUT:qy("Connection",'RPC "'+t+'" timed out'),o(new cm(um.DEADLINE_EXCEEDED,"Request time out"));break;case jy.HTTP_ERROR:var n=s.getStatus();if(qy("Connection",'RPC "'+t+'" failed with status:',n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson().error;if(r&&r.status&&r.message){var a=function(t){var e=t.toLowerCase().replace("_","-");return Object.values(um).indexOf(e)>=0?e:um.UNKNOWN}(r.status);o(new cm(a,r.message))}else o(new cm(um.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new cm(um.UNAVAILABLE,"Connection failed."));break;default:Xy()}}finally{qy("Connection",'RPC "'+t+'" completed.')}}));var a=JSON.stringify(r);s.send(e,"POST",a,n,15)}))},e.prototype.Fa=function(t,e){var n=[this.v_,"/","google.firestore.v1.Firestore","/",t,"/channel"],r=Fy(),i={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.s.projectId+"/databases/"+this.s.database},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling};this.C_(i.initMessageHeaders,e),Nc()||Dc()||Ac().indexOf("Electron/")>=0||function(){var t=Ac();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}()||Ac().indexOf("MSAppHost/")>=0||Rc()||(i.httpHeadersOverwriteParam="$httpHeaders");var o=n.join("");qy("Connection","Creating WebChannel: "+o,i);var s=r.createWebChannel(o,i),a=!1,u=!1,c=new XC({m_:function(t){u?qy("Connection","Not sending because WebChannel is closed:",t):(a||(qy("Connection","Opening WebChannel transport."),s.open(),a=!0),qy("Connection","WebChannel sending:",t),s.send(t))},A_:function(){return s.close()}}),l=function(t,e){s.listen(t,(function(t){try{e(t)}catch(t){setTimeout((function(){throw t}),0)}}))};return l(Uy.EventType.OPEN,(function(){u||qy("Connection","WebChannel transport opened.")})),l(Uy.EventType.CLOSE,(function(){u||(u=!0,qy("Connection","WebChannel transport closed"),c.y_())})),l(Uy.EventType.ERROR,(function(t){u||(u=!0,Ky("Connection","WebChannel transport errored:",t),c.y_(new cm(um.UNAVAILABLE,"The operation could not be completed")))})),l(Uy.EventType.MESSAGE,(function(t){var e;if(!u){var n=t.data[0];Yy(!!n);var r=n,i=r.error||(null===(e=r[0])||void 0===e?void 0:e.error);if(i){qy("Connection","WebChannel received error:",i);var o=i.status,a=function(t){var e=Sm[t];if(void 0!==e)return Om(e)}(o),l=i.message;void 0===a&&(a=um.INTERNAL,l="Unknown error status: "+o+" with message "+i.message),u=!0,c.y_(new cm(a,l)),s.close()}else qy("Connection","WebChannel received:",n),c.p_(n)}})),setTimeout((function(){c.g_()}),0),c},e}(function(){function t(t){this.b_=t,this.s=t.s;var e=t.ssl?"https":"http";this.v_=e+"://"+t.host,this.S_="projects/"+this.s.projectId+"/databases/"+this.s.database+"/documents"}return t.prototype.ja=function(t,e,n,r){var i=this.D_(t,e);qy("RestConnection","Sending: ",i,n);var o={};return this.C_(o,r),this.N_(t,i,o,n).then((function(t){return qy("RestConnection","Received: ",t),t}),(function(e){throw Ky("RestConnection",t+" failed with error: ",e,"url: ",i,"request:",n),e}))},t.prototype.Ka=function(t,e,n,r){return this.ja(t,e,n,r)},t.prototype.C_=function(t,e){if(t["X-Goog-Api-Client"]="gl-js/ fire/7.18.0",t["Content-Type"]="text/plain",e)for(var n in e.ea)e.ea.hasOwnProperty(n)&&(t[n]=e.ea[n])},t.prototype.D_=function(t,e){var n=YC[t];return this.v_+"/v1/"+e+":"+n},t}()),ZC=function(){function t(){var t=this;this.F_=function(){return t.k_()},this.x_=function(){return t.M_()},this.O_=[],this.L_()}return t.prototype.uu=function(t){this.O_.push(t)},t.prototype.th=function(){window.removeEventListener("online",this.F_),window.removeEventListener("offline",this.x_)},t.prototype.L_=function(){window.addEventListener("online",this.F_),window.addEventListener("offline",this.x_)},t.prototype.k_=function(){qy("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(var t=0,e=this.O_;t<e.length;t++)(0,e[t])(0)},t.prototype.M_=function(){qy("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(var t=0,e=this.O_;t<e.length;t++)(0,e[t])(1)},t.Fs=function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener},t}(),JC=function(){function t(){}return t.prototype.uu=function(t){},t.prototype.th=function(){},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $C(t){return new Tb(t,!0)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tI="You are using the memory-only build of Firestore. Persistence support is only available via the @firebase/firestore bundle or the firebase-firestore.js build.",eI=function(){function t(){}return t.prototype.initialize=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return this.sl=this.q_(t),this.persistence=this.B_(t),[4,this.persistence.start()];case 1:return e.sent(),this.U_=this.Q_(t),this.nu=this.W_(t),[2]}}))}))},t.prototype.Q_=function(t){return null},t.prototype.W_=function(t){return e=this.persistence,n=new BC,r=t.j_,new ZE(e,n,r);var e,n,r},t.prototype.B_=function(t){if(t.G_.K_)throw new cm(um.FAILED_PRECONDITION,tI);return new WC(GC.T_)},t.prototype.q_=function(t){return new CC},t.prototype.terminate=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.U_&&this.U_.stop(),[4,this.sl.th()];case 1:return t.sent(),[4,this.persistence.th()];case 2:return t.sent(),[2]}}))}))},t.prototype.clearPersistence=function(t,e){throw new cm(um.FAILED_PRECONDITION,tI)},t}(),nI=function(t){function e(e){var n=this;return(n=t.call(this)||this).z_=e,n}return T(e,t),e.prototype.initialize=function(e){return k(this,void 0,void 0,(function(){var n,r=this;return x(this,(function(i){switch(i.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return i.sent(),[4,this.z_.initialize(this,e)];case 2:return i.sent(),n=this.z_.Du,this.sl instanceof EC?(this.sl.Du={Fc:OC.bind(null,n),kc:LC.bind(null,n),xc:FC.bind(null,n),rh:MC.bind(null,n)},[4,this.sl.start()]):[3,4];case 3:i.sent(),i.label=4;case 4:return[4,this.persistence.qo((function(t){return k(r,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return[4,RC(this.z_.Du,t)];case 1:return e.sent(),this.U_&&(t&&!this.U_.tr?this.U_.start(this.nu):t||this.U_.stop()),[2]}}))}))}))];case 5:return i.sent(),[2]}}))}))},e.prototype.q_=function(t){if(t.G_.K_&&t.G_.synchronizeTabs){var e=M_();if(!EC.Fs(e))throw new cm(um.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=QE(t.b_.s,t.b_.persistenceKey);return new EC(e,t.ti,n,t.clientId,t.j_)}return new CC},e}(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.initialize=function(e){return k(this,void 0,void 0,(function(){return x(this,(function(n){switch(n.label){case 0:return[4,t.prototype.initialize.call(this,e)];case 1:return n.sent(),[4,function(t){return k(this,void 0,void 0,(function(){var e,n;return x(this,(function(r){return e=Qy(t),n=Qy(e.Ah),[2,e.persistence.runTransaction("Synchronize last document change read time","readonly",(function(t){return n.Wr(t)})).then((function(t){e.mh=t}))]}))}))}(this.nu)];case 2:return n.sent(),[2]}}))}))},e.prototype.Q_=function(t){var e=this.persistence.dr.Yi;return new q_(e,t.ti)},e.prototype.B_=function(t){var e=QE(t.b_.s,t.b_.persistenceKey),n=$C(t.b_.s);return new WE(t.G_.synchronizeTabs,e,t.clientId,z_.Ui(t.G_.cacheSizeBytes),t.ti,M_(),L_(),n,this.sl,t.G_.Vo)},e.prototype.q_=function(t){return new CC},e.prototype.clearPersistence=function(t,e){return function(t){return k(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return S_.Fs()?(e=t+"main",[4,S_.delete(e)]):[2,Promise.resolve()];case 1:return n.sent(),[2]}}))}))}(QE(t,e))},e}(eI)),rI=function(){function t(){}return t.prototype.initialize=function(t,e){return k(this,void 0,void 0,(function(){var n=this;return x(this,(function(r){switch(r.label){case 0:return this.nu?[3,3]:(this.nu=t.nu,this.sl=t.sl,this.su=this.H_(e),this.nl=this.Y_(e),this.Du=this.J_(e),this.X_=this.Z_(e),this.sl.Ga=function(t){return n.Du.Jc(t,1)},this.nl.Du=this.Du,[4,this.nl.start()]);case 1:return r.sent(),[4,this.nl.ju(this.Du.Tl)];case 2:r.sent(),r.label=3;case 3:return[2]}}))}))},t.prototype.Z_=function(t){return new VC(this.Du)},t.prototype.H_=function(t){var e,n=$C(t.b_.s),r=(e=t.b_,new QC(e));return function(t,e,n){return new hC(t,e,n)}(t.credentials,r,n)},t.prototype.Y_=function(t){var e=this;return new pC(this.nu,this.su,t.ti,(function(t){return e.Du.Jc(t,0)}),ZC.Fs()?new ZC:new JC)},t.prototype.J_=function(t){return function(t,e,n,r,i,o,s){var a=new AC(t,e,n,r,i,o);return s&&(a.wl=!0),a}(this.nu,this.nl,this.su,this.sl,t.j_,t.il,!t.G_.K_||!t.G_.synchronizeTabs)},t.prototype.terminate=function(){return this.nl.th()},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iI(t){return function(t,e){if("object"!=typeof t||null===t)return!1;for(var n=t,r=0,i=["next","error","complete"];r<i.length;r++){var o=i[r];if(o in n&&"function"==typeof n[o])return!0}return!1}(t)}var oI=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.observer.next&&this.tf(this.observer.next,t)},t.prototype.error=function(t){this.observer.error?this.tf(this.observer.error,t):console.error("Uncaught Error in snapshot listener:",t)},t.prototype.ef=function(){this.muted=!0},t.prototype.tf=function(t,e){var n=this;this.muted||setTimeout((function(){n.muted||t(e)}),0)},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sI(t,e){if(0!==e.length)throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() does not support arguments, but was called with "+II(e.length,"argument")+".")}function aI(t,e,n){if(e.length!==n)throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires "+II(n,"argument")+", but was called with "+II(e.length,"argument")+".")}function uI(t,e,n){if(e.length<n)throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires at least "+II(n,"argument")+", but was called with "+II(e.length,"argument")+".")}function cI(t,e,n,r){if(e.length<n||e.length>r)throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+II(e.length,"argument")+".")}function lI(t,e,n,r){gI(t,e,CI(n)+" argument",r)}function hI(t,e,n,r){void 0!==r&&lI(t,e,n,r)}function fI(t,e,n,r){gI(t,e,n+" option",r)}function pI(t,e,n,r){void 0!==r&&fI(t,e,n,r)}function dI(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){for(var o=[],s=0,a=i;s<a.length;s++){var u=a[s];if(u===r)return;o.push(mI(u))}var c=mI(r);throw new cm(um.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}(t,0,n,r,i)}function vI(t,e,n,r){if(!e.some((function(t){return t===r})))throw new cm(um.INVALID_ARGUMENT,"Invalid value "+mI(r)+" provided to function "+t+"() for its "+CI(n)+" argument. Acceptable values: "+e.join(", "));return r}function gI(t,e,n,r){if(!("object"===e?yI(r):"non-empty string"===e?"string"==typeof r&&""!==r:typeof r===e)){var i=mI(r);throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function yI(t){return"object"==typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function mI(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"==typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"==typeof t||"boolean"==typeof t)return""+t;if("object"==typeof t){if(t instanceof Array)return"an array";var e=function(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/.exec(t.constructor.toString());if(e&&e.length>1)return e[1]}return null}(t);return e?"a custom "+e+" object":"an object"}return"function"==typeof t?"a function":Xy()}function bI(t,e,n){if(void 0===n)throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+CI(e)+" argument, but it was undefined.")}function wI(t,e,n){om(e,(function(e,r){if(n.indexOf(e)<0)throw new cm(um.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))}))}function _I(t,e,n,r){var i=mI(r);return new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires its "+CI(n)+" argument to be a "+e+", but it was: "+i)}function EI(t,e,n){if(n<=0)throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires its "+CI(e)+" argument to be a positive number, but it was: "+n+".")}function CI(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function II(t,e){return t+" "+e+(1===t?"":"s")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){if("undefined"==typeof Uint8Array)throw new cm(um.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function SI(){if("undefined"==typeof atob)throw new cm(um.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}var kI=function(){function t(t){SI(),this.nf=t}return t.fromBase64String=function(e){aI("Blob.fromBase64String",arguments,1),lI("Blob.fromBase64String","string",1,e),SI();try{return new t(Tm.fromBase64String(e))}catch(e){throw new cm(um.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+e)}},t.fromUint8Array=function(e){if(aI("Blob.fromUint8Array",arguments,1),TI(),!(e instanceof Uint8Array))throw _I("Blob.fromUint8Array","Uint8Array",1,e);return new t(Tm.fromUint8Array(e))},t.prototype.toBase64=function(){return aI("Blob.toBase64",arguments,0),SI(),this.nf.toBase64()},t.prototype.toUint8Array=function(){return aI("Blob.toUint8Array",arguments,0),TI(),this.nf.toUint8Array()},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this.nf.isEqual(t.nf)},t}(),xI=function(t){!function(t,e,n,r){if(!(e instanceof Array)||e.length<1)throw new cm(um.INVALID_ARGUMENT,"Function FieldPath() requires its fieldNames argument to be an array with at least "+II(1,"element")+".")}(0,t);for(var e=0;e<t.length;++e)if(lI("FieldPath","string",e,t[e]),0===t[e].length)throw new cm(um.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this.sf=new vm(t)},AI=function(t){function e(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.call(this,e)||this}return T(e,t),e.documentId=function(){return new e(vm.L().F())},e.prototype.isEqual=function(t){if(!(t instanceof e))throw _I("isEqual","FieldPath",1,t);return this.sf.isEqual(t.sf)},e}(xI),NI=new RegExp("[~\\*/\\[\\]]"),OI=function(){this.if=this},RI=function(t){function e(e){var n=this;return(n=t.call(this)||this).rf=e,n}return T(e,t),e.prototype.hf=function(t){if(2!==t.af)throw 1===t.af?t.uf(this.rf+"() can only appear at the top level of your update data"):t.uf(this.rf+"() cannot be used with set() unless you pass {merge:true}");return t.Le.push(t.path),null},e.prototype.isEqual=function(t){return t instanceof e},e}(OI);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DI(t,e,n){return new KI({af:3,cf:e.settings.cf,methodName:t.rf,lf:n},e.s,e.serializer,e.ignoreUndefinedProperties)}var PI=function(t){function e(e){var n=this;return(n=t.call(this)||this).rf=e,n}return T(e,t),e.prototype.hf=function(t){return new pw(t.path,new iw)},e.prototype.isEqual=function(t){return t instanceof e},e}(OI),MI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r._f=n,r}return T(e,t),e.prototype.hf=function(t){var e=DI(this,t,!0),n=this._f.map((function(t){return JI(t,e)})),r=new ow(n);return new pw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(OI),LI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r._f=n,r}return T(e,t),e.prototype.hf=function(t){var e=DI(this,t,!0),n=this._f.map((function(t){return JI(t,e)})),r=new aw(n);return new pw(t.path,r)},e.prototype.isEqual=function(t){return this===t},e}(OI),FI=function(t){function e(e,n){var r=this;return(r=t.call(this)||this).rf=e,r.ff=n,r}return T(e,t),e.prototype.hf=function(t){var e=new cw(t.serializer,xb(t.serializer,this.ff));return new pw(t.path,e)},e.prototype.isEqual=function(t){return this===t},e}(OI),jI=function(t){function e(){return t.call(this)||this}return T(e,t),e.delete=function(){return sI("FieldValue.delete",arguments),new VI(new RI("FieldValue.delete"))},e.serverTimestamp=function(){return sI("FieldValue.serverTimestamp",arguments),new VI(new PI("FieldValue.serverTimestamp"))},e.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uI("FieldValue.arrayUnion",arguments,1),new VI(new MI("FieldValue.arrayUnion",t))},e.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return uI("FieldValue.arrayRemove",arguments,1),new VI(new LI("FieldValue.arrayRemove",t))},e.increment=function(t){return lI("FieldValue.increment","number",1,t),aI("FieldValue.increment",arguments,1),new VI(new FI("FieldValue.increment",t))},e}(OI),VI=function(t){function e(e){var n=this;return(n=t.call(this)||this).if=e,n.rf=e.rf,n}return T(e,t),e.prototype.hf=function(t){return this.if.hf(t)},e.prototype.isEqual=function(t){return t instanceof e&&this.if.isEqual(t.if)},e}(jI),UI=function(){function t(t,e){if(aI("GeoPoint",arguments,2),lI("GeoPoint","number",1,t),lI("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new cm(um.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new cm(um.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this.df=t,this.wf=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this.df},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this.wf},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(t){return this.df===t.df&&this.wf===t.wf},t.prototype.T=function(t){return $y(this.df,t.df)||$y(this.wf,t.wf)},t}(),BI=/^__.*__$/,HI=function(t,e,n){this.Tf=t,this.Ef=e,this.If=n},zI=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.mf=function(t,e){var n=[];return null!==this.Le?n.push(new Iw(t,this.data,this.Le,e)):n.push(new Cw(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Sw(t,this.fieldTransforms)),n},t}(),qI=function(){function t(t,e,n){this.data=t,this.Le=e,this.fieldTransforms=n}return t.prototype.mf=function(t,e){var n=[new Iw(t,this.data,this.Le,e)];return this.fieldTransforms.length>0&&n.push(new Sw(t,this.fieldTransforms)),n},t}();function WI(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Xy()}}var KI=function(){function t(t,e,n,r,i,o){this.settings=t,this.s=e,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.Af(),this.fieldTransforms=i||[],this.Le=o||[]}return Object.defineProperty(t.prototype,"path",{get:function(){return this.settings.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"af",{get:function(){return this.settings.af},enumerable:!1,configurable:!0}),t.prototype.Rf=function(e){return new t(Object.assign(Object.assign({},this.settings),e),this.s,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.Le)},t.prototype.Pf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Rf({path:n,lf:!1});return r.Vf(t),r},t.prototype.gf=function(t){var e,n=null===(e=this.path)||void 0===e?void 0:e.child(t),r=this.Rf({path:n,lf:!1});return r.Af(),r},t.prototype.yf=function(t){return this.Rf({path:void 0,lf:!0})},t.prototype.uf=function(t){return iT(t,this.settings.methodName,this.settings.pf||!1,this.path,this.settings.cf)},t.prototype.contains=function(t){return void 0!==this.Le.find((function(e){return t.D(e)}))||void 0!==this.fieldTransforms.find((function(e){return t.D(e.field)}))},t.prototype.Af=function(){if(this.path)for(var t=0;t<this.path.length;t++)this.Vf(this.path.get(t))},t.prototype.Vf=function(t){if(0===t.length)throw this.uf("Document fields must not be empty");if(WI(this.af)&&BI.test(t))throw this.uf('Document fields cannot begin and end with "__"')},t}(),GI=function(){function t(t,e,n){this.s=t,this.ignoreUndefinedProperties=e,this.serializer=n||$C(t)}return t.prototype.bf=function(t,e,n,r){return void 0===r&&(r=!1),new KI({af:t,methodName:e,cf:n,path:vm.$(),lf:!1,pf:r},this.s,this.serializer,this.ignoreUndefinedProperties)},t}();function XI(t,e,n,r,i,o){void 0===o&&(o={});var s=t.bf(o.merge||o.mergeFields?2:0,e,n,i);eT("Data must be an object, but it was:",s,r);var a,u,c=$I(r,s);if(o.merge)a=new fw(s.Le),u=s.fieldTransforms;else if(o.mergeFields){for(var l=[],h=0,f=o.mergeFields;h<f.length;h++){var p=f[h],d=void 0;if(p instanceof xI)d=p.sf;else{if("string"!=typeof p)throw Xy();d=rT(e,p,n)}if(!s.contains(d))throw new cm(um.INVALID_ARGUMENT,"Field '"+d+"' is specified in your field mask but missing from your input data.");oT(l,d)||l.push(d)}a=new fw(l),u=s.fieldTransforms.filter((function(t){return a.je(t.field)}))}else a=null,u=s.fieldTransforms;return new zI(new Ow(c),a,u)}function YI(t,e,n,r){var i=t.bf(1,e,n);eT("Data must be an object, but it was:",i,r);var o=[],s=new Rw;om(r,(function(t,r){var a=rT(e,t,n),u=i.gf(a);if(r instanceof OI&&r.if instanceof RI)o.push(a);else{var c=JI(r,u);null!=c&&(o.push(a),s.set(a,c))}}));var a=new fw(o);return new qI(s.Ge(),a,i.fieldTransforms)}function QI(t,e,n,r,i,o){var s=t.bf(1,e,n),a=[nT(e,r,n)],u=[i];if(o.length%2!=0)throw new cm(um.INVALID_ARGUMENT,"Function "+e+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var c=0;c<o.length;c+=2)a.push(nT(e,o[c])),u.push(o[c+1]);for(var l=[],h=new Rw,f=a.length-1;f>=0;--f)if(!oT(l,a[f])){var p=a[f],d=u[f],v=s.gf(p);if(d instanceof OI&&d.if instanceof RI)l.push(p);else{var g=JI(d,v);null!=g&&(l.push(p),h.set(p,g))}}var y=new fw(l);return new qI(h.Ge(),y,s.fieldTransforms)}function ZI(t,e,n,r){return void 0===r&&(r=!1),JI(n,t.bf(r?4:3,e))}function JI(t,e){if(tT(t))return eT("Unsupported field value:",e,t),$I(t,e);if(t instanceof OI)return function(t,e){if(!WI(e.af))throw e.uf(t.rf+"() can only be used with update() and set()");if(!e.path)throw e.uf(t.rf+"() is not currently supported inside arrays");var n=t.hf(e);n&&e.fieldTransforms.push(n)}(t,e),null;if(e.path&&e.Le.push(e.path),t instanceof Array){if(e.settings.lf&&4!==e.af)throw e.uf("Nested arrays are not supported");return function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var s=JI(o[i],e.yf(r));null==s&&(s={nullValue:"NULL_VALUE"}),n.push(s),r++}return{arrayValue:{values:n}}}(t,e)}return function(t,e){if(null===t)return{nullValue:"NULL_VALUE"};if("number"==typeof t)return xb(e.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){var n=lm.fromDate(t);return{timestampValue:Ab(e.serializer,n)}}if(t instanceof lm){var r=new lm(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ab(e.serializer,r)}}if(t instanceof UI)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof kI)return{bytesValue:Nb(e.serializer,t)};if(t instanceof HI){var i=e.s,o=t.Tf;if(!o.isEqual(i))throw e.uf("Document reference is for database "+o.projectId+"/"+o.database+" but should be for database "+i.projectId+"/"+i.database);return{referenceValue:Db(t.Tf||e.s,t.Ef.path)}}if(void 0===t&&e.ignoreUndefinedProperties)return null;throw e.uf("Unsupported field value: "+mI(t))}(t,e)}function $I(t,e){var n={};return sm(t)?e.path&&e.path.length>0&&e.Le.push(e.path):om(t,(function(t,r){var i=JI(r,e.Pf(t));null!=i&&(n[t]=i)})),{mapValue:{fields:n}}}function tT(t){return!("object"!=typeof t||null===t||t instanceof Array||t instanceof Date||t instanceof lm||t instanceof UI||t instanceof kI||t instanceof HI||t instanceof OI)}function eT(t,e,n){if(!tT(n)||!yI(n)){var r=mI(n);throw"an object"===r?e.uf(t+" a custom object"):e.uf(t+" "+r)}}function nT(t,e,n){if(e instanceof xI)return e.sf;if("string"==typeof e)return rT(t,e);throw iT("Field path arguments must be of type string or FieldPath.",t,!1,void 0,n)}function rT(t,e,n){try{return function(t){if(t.search(NI)>=0)throw new cm(um.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(AI.bind.apply(AI,R([void 0],t.split("."))))}catch(e){throw new cm(um.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}(e).sf}catch(e){throw iT((r=e)instanceof Error?r.message:r.toString(),t,!1,void 0,n)}var r}function iT(t,e,n,r,i){var o=r&&!r._(),s=void 0!==i,a="Function "+e+"() called with invalid data";n&&(a+=" (via `toFirestore()`)");var u="";return(o||s)&&(u+=" (found",o&&(u+=" in field "+r),s&&(u+=" in document "+i),u+=")"),new cm(um.INVALID_ARGUMENT,(a+=". ")+t+u)}function oT(t,e){return t.some((function(t){return t.isEqual(e)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sT=function(){function t(t){this.su=t,this.vf=new Map,this.mutations=[],this.Sf=!1,this.Df=null,this.Cf=new Set}return t.prototype.Nf=function(t){return k(this,void 0,void 0,(function(){var e,n=this;return x(this,(function(r){switch(r.label){case 0:if(this.Ff(),this.mutations.length>0)throw new cm(um.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");return[4,function(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s,a;return x(this,(function(u){switch(u.label){case 0:return n=Qy(t),r=Vb(n.serializer)+"/documents",i={documents:e.map((function(t){return Mb(n.serializer,t)}))},[4,n.Ka("BatchGetDocuments",r,i)];case 1:return o=u.sent(),s=new Map,o.forEach((function(t){var e=function(t,e){return"found"in e?function(t,e){Yy(!!e.found),e.found.name,e.found.updateTime;var n=Lb(t,e.found.name),r=Rb(e.found.updateTime),i=new Ow({mapValue:{fields:e.found.fields}});return new Mw(n,r,i,{})}(t,e):"missing"in e?function(t,e){Yy(!!e.missing),Yy(!!e.readTime);var n=Lb(t,e.missing),r=Rb(e.readTime);return new Lw(n,r)}(t,e):Xy()}(n.serializer,t);s.set(e.key.toString(),e)})),a=[],[2,(e.forEach((function(t){var e=s.get(t.toString());Yy(!!e),a.push(e)})),a)]}}))}))}(this.su,t)];case 1:return[2,((e=r.sent()).forEach((function(t){t instanceof Lw||t instanceof Mw?n.kf(t):Xy()})),e)]}}))}))},t.prototype.set=function(t,e){this.write(e.mf(t,this.Ue(t))),this.Cf.add(t)},t.prototype.update=function(t,e){try{this.write(e.mf(t,this.xf(t)))}catch(t){this.Df=t}this.Cf.add(t)},t.prototype.delete=function(t){this.write([new Aw(t,this.Ue(t))]),this.Cf.add(t)},t.prototype.commit=function(){return k(this,void 0,void 0,(function(){var t,e=this;return x(this,(function(n){switch(n.label){case 0:if(this.Ff(),this.Df)throw this.Df;return t=this.vf,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(t,n){var r=new gm(pm.k(n));e.mutations.push(new Nw(r,e.Ue(r)))})),[4,function(t,e){return k(this,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){switch(o.label){case 0:return n=Qy(t),r=Vb(n.serializer)+"/documents",i={writes:e.map((function(t){return Hb(n.serializer,t)}))},[4,n.ja("Commit",r,i)];case 1:return o.sent(),[2]}}))}))}(this.su,this.mutations)];case 1:return n.sent(),this.Sf=!0,[2]}}))}))},t.prototype.kf=function(t){var e;if(t instanceof Mw)e=t.version;else{if(!(t instanceof Lw))throw Xy();e=hm.min()}var n=this.vf.get(t.key.toString());if(n){if(!e.isEqual(n))throw new cm(um.ABORTED,"Document version changed between two reads.")}else this.vf.set(t.key.toString(),e)},t.prototype.Ue=function(t){var e=this.vf.get(t.toString());return!this.Cf.has(t)&&e?vw.updateTime(e):vw.Qe()},t.prototype.xf=function(t){var e=this.vf.get(t.toString());if(!this.Cf.has(t)&&e){if(e.isEqual(hm.min()))throw new cm(um.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return vw.updateTime(e)}return vw.exists(!0)},t.prototype.write=function(t){this.Ff(),this.mutations=this.mutations.concat(t)},t.prototype.Ff=function(){},t}(),aT=function(){function t(t,e,n,r){this.ti=t,this.su=e,this.updateFunction=n,this.si=r,this.$f=5,this.wi=new T_(this.ti,"transaction_retry")}return t.prototype.run=function(){this.Mf()},t.prototype.Mf=function(){var t=this;this.wi.ps((function(){return k(t,void 0,void 0,(function(){var t,e,n=this;return x(this,(function(r){return t=new sT(this.su),(e=this.Of(t))&&e.then((function(e){n.ti.hi((function(){return t.commit().then((function(){n.si.resolve(e)})).catch((function(t){n.Lf(t)}))}))})).catch((function(t){n.Lf(t)})),[2]}))}))}))},t.prototype.Of=function(t){try{var e=this.updateFunction(t);return!ym(e)&&e.catch&&e.then?e:(this.si.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.si.reject(t),null}},t.prototype.Lf=function(t){var e=this;this.$f>0&&this.qf(t)?(this.$f-=1,this.ti.hi((function(){return e.Mf(),Promise.resolve()}))):this.si.reject(t)},t.prototype.qf=function(t){if("FirebaseError"===t.name){var e=t.code;return"aborted"===e||"failed-precondition"===e||!Nm(e)}return!1},t}(),uT=function(){function t(t,e){this.credentials=t,this.ti=e,this.clientId=Jy.t(),this.Bf=new I_}return t.prototype.start=function(t,e,n,r){var i=this;this.Uf(),this.b_=t;var o=new I_,s=!1;return this.credentials.ia((function(t){if(!s)return s=!0,qy("FirestoreClient","Initializing. user=",t.uid),i.Qf(e,n,r,t,o).then(i.Bf.resolve,i.Bf.reject);i.ti.Vi((function(){return i.nl.Wu(t)}))})),this.ti.hi((function(){return i.Bf.promise})),o.promise},t.prototype.enableNetwork=function(){var t=this;return this.Uf(),this.ti.enqueue((function(){return t.persistence.Uo(!0),t.nl.enableNetwork()}))},t.prototype.Qf=function(t,e,n,r,i){return k(this,void 0,void 0,(function(){var o,s,a=this;return x(this,(function(u){switch(u.label){case 0:return u.trys.push([0,3,,4]),o={ti:this.ti,b_:this.b_,clientId:this.clientId,credentials:this.credentials,j_:r,il:100,G_:n},[4,t.initialize(o)];case 1:return u.sent(),[4,e.initialize(t,o)];case 2:return u.sent(),this.persistence=t.persistence,this.sl=t.sl,this.nu=t.nu,this.U_=t.U_,this.su=e.su,this.nl=e.nl,this.Du=e.Du,this.Wf=e.X_,this.persistence.Bo((function(){return k(a,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return[4,this.terminate()];case 1:return t.sent(),[2]}}))}))})),i.resolve(),[3,4];case 3:if(s=u.sent(),i.reject(s),!this.jf(s))throw s;return[2,(console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+s),this.Qf(new eI,new rI,{K_:!1},r,i))];case 4:return[2]}}))}))},t.prototype.jf=function(t){return"FirebaseError"===t.name?t.code===um.FAILED_PRECONDITION||t.code===um.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&t instanceof DOMException)||22===t.code||20===t.code||11===t.code},t.prototype.Uf=function(){if(this.ti.Ei)throw new cm(um.FAILED_PRECONDITION,"The client has already been terminated.")},t.prototype.disableNetwork=function(){var t=this;return this.Uf(),this.ti.enqueue((function(){return t.persistence.Uo(!1),t.nl.disableNetwork()}))},t.prototype.terminate=function(){var t=this;return this.ti.Pi((function(){return k(t,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.U_&&this.U_.stop(),[4,this.nl.th()];case 1:return t.sent(),[4,this.sl.th()];case 2:return t.sent(),[4,this.persistence.th()];case 3:return t.sent(),this.credentials.ra(),[2]}}))}))}))},t.prototype.waitForPendingWrites=function(){var t=this;this.Uf();var e=new I_;return this.ti.hi((function(){return t.Du.bl(e)})),e.promise},t.prototype.listen=function(t,e,n){var r=this;this.Uf();var i=new oI(n),o=new UC(t,i,e);return this.ti.hi((function(){return r.Wf.listen(o)})),function(){i.ef(),r.ti.hi((function(){return r.Wf.vu(o)}))}},t.prototype.Kf=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(e.sent(),function(t,e,n){return k(this,void 0,void 0,(function(){var r,i=this;return x(this,(function(o){switch(o.label){case 0:return r=new I_,[4,t.enqueue((function(){return k(i,void 0,void 0,(function(){var t,i,o;return x(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,e.$h(n)];case 1:return(t=s.sent())instanceof Mw?r.resolve(t):t instanceof Lw?r.resolve(null):r.reject(new cm(um.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),[3,3];case 2:return i=s.sent(),o=V_(i,"Failed to get document '"+n+" from cache"),r.reject(o),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),r.promise)]}}))}))}(this.ti,this.nu,t))]}}))}))},t.prototype.Gf=function(t,e){return k(this,void 0,void 0,(function(){return x(this,(function(n){switch(n.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new I_,o=cT(t,e,Bw(n.path),{includeMetadataChanges:!0,Gl:!0},{next:function(t){o();var e=t.docs.has(n);!e&&t.fromCache?i.reject(new cm(um.UNAVAILABLE,"Failed to get document because the client is offline.")):e&&t.fromCache&&r&&"server"===r.source?i.reject(new cm(um.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ti,this.Wf,t,e))]}}))}))},t.prototype.zf=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(e.sent(),function(t,e,n){return k(this,void 0,void 0,(function(){var r,i=this;return x(this,(function(o){switch(o.label){case 0:return r=new I_,[4,t.enqueue((function(){return k(i,void 0,void 0,(function(){var t,i,o,s,a,u;return x(this,(function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,e.Lh(n,!0)];case 1:return t=c.sent(),i=new SC(n,t.qh),o=i.Wc(t.documents),s=i.Bn(o,!1),r.resolve(s.snapshot),[3,3];case 2:return a=c.sent(),u=V_(a,"Failed to execute query '"+n+" against cache"),r.reject(u),[3,3];case 3:return[2]}}))}))}))];case 1:return[2,(o.sent(),r.promise)]}}))}))}(this.ti,this.nu,t))]}}))}))},t.prototype.Hf=function(t,e){return k(this,void 0,void 0,(function(){return x(this,(function(n){switch(n.label){case 0:return this.Uf(),[4,this.Bf.promise];case 1:return[2,(n.sent(),function(t,e,n,r){var i=new I_,o=cT(t,e,n,{includeMetadataChanges:!0,Gl:!0},{next:function(t){o(),t.fromCache&&r&&"server"===r.source?i.reject(new cm(um.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(t)},error:function(t){return i.reject(t)}});return i.promise}(this.ti,this.Wf,t,e))]}}))}))},t.prototype.write=function(t){var e=this;this.Uf();var n=new I_;return this.ti.hi((function(){return e.Du.write(t,n)})),n.promise},t.prototype.s=function(){return this.b_.s},t.prototype.Ll=function(t){var e=this;this.Uf();var n=new oI(t);return this.ti.hi((function(){return k(e,void 0,void 0,(function(){return x(this,(function(t){return[2,this.Wf.Ll(n)]}))}))})),function(){n.ef(),e.ti.hi((function(){return k(e,void 0,void 0,(function(){return x(this,(function(t){return[2,this.Wf.ql(n)]}))}))}))}},Object.defineProperty(t.prototype,"Yf",{get:function(){return this.ti.Ei},enumerable:!1,configurable:!0}),t.prototype.transaction=function(t){var e=this;this.Uf();var n=new I_;return this.ti.hi((function(){return new aT(e.ti,e.su,t,n).run(),Promise.resolve()})),n.promise},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cT(t,e,n,r,i){var o=new oI(i),s=new UC(n,o,r);return t.hi((function(){return e.listen(s)})),function(){o.ef(),t.hi((function(){return e.vu(s)}))}}var lT=function(){function t(t,e,n,r){this.s=t,this.timestampsInSnapshots=e,this.Jf=n,this.Xf=r}return t.prototype.Zf=function(t){switch(ub(t)){case 0:return null;case 1:return t.booleanValue;case 2:return vb(t.integerValue||t.doubleValue);case 3:return this.td(t.timestampValue);case 4:return this.ed(t);case 5:return t.stringValue;case 6:return new kI(gb(t.bytesValue));case 7:return this.nd(t.referenceValue);case 8:return this.sd(t.geoPointValue);case 9:return this.rd(t.arrayValue);case 10:return this.od(t.mapValue);default:throw Xy()}},t.prototype.od=function(t){var e=this,n={};return om(t.fields||{},(function(t,r){n[t]=e.Zf(r)})),n},t.prototype.sd=function(t){return new UI(vb(t.latitude),vb(t.longitude))},t.prototype.rd=function(t){var e=this;return(t.values||[]).map((function(t){return e.Zf(t)}))},t.prototype.ed=function(t){switch(this.Jf){case"previous":var e=function t(e){var n=e.mapValue.fields.__previous_value__;return ob(n)?t(n):n}(t);return null==e?null:this.Zf(e);case"estimate":return this.td(sb(t));default:return null}},t.prototype.td=function(t){var e=db(t),n=new lm(e.seconds,e.nanos);return this.timestampsInSnapshots?n:n.toDate()},t.prototype.nd=function(t){var e=pm.k(t);Yy($b(e));var n=new rm(e.get(1),e.get(3)),r=new gm(e.g(5));return n.isEqual(this.s)||Wy("Document "+r+" contains a document reference within a different database ("+n.projectId+"/"+n.database+") which is not supported. It will be treated as a reference in the current database ("+this.s.projectId+"/"+this.s.database+") instead."),this.Xf(r)},t}(),hT=z_.ji,fT=function(){function t(t){var e,n,r,i;if(void 0===t.host){if(void 0!==t.ssl)throw new cm(um.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else fI("settings","non-empty string","host",t.host),this.host=t.host,pI("settings","boolean","ssl",t.ssl),this.ssl=null===(e=t.ssl)||void 0===e||e;if(wI("settings",t,["host","ssl","credentials","timestampsInSnapshots","cacheSizeBytes","experimentalForceLongPolling","ignoreUndefinedProperties"]),pI("settings","object","credentials",t.credentials),this.credentials=t.credentials,pI("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),pI("settings","boolean","ignoreUndefinedProperties",t.ignoreUndefinedProperties),!0===t.timestampsInSnapshots?Wy("The setting 'timestampsInSnapshots: true' is no longer required and should be removed."):!1===t.timestampsInSnapshots&&Wy("Support for 'timestampsInSnapshots: false' will be removed soon. You must update your code to handle Timestamp objects."),this.timestampsInSnapshots=null===(n=t.timestampsInSnapshots)||void 0===n||n,this.ignoreUndefinedProperties=null!==(r=t.ignoreUndefinedProperties)&&void 0!==r&&r,pI("settings","number","cacheSizeBytes",t.cacheSizeBytes),void 0===t.cacheSizeBytes)this.cacheSizeBytes=z_.Gi;else{if(t.cacheSizeBytes!==hT&&t.cacheSizeBytes<z_.Ki)throw new cm(um.INVALID_ARGUMENT,"cacheSizeBytes must be at least "+z_.Ki);this.cacheSizeBytes=t.cacheSizeBytes}pI("settings","boolean","experimentalForceLongPolling",t.experimentalForceLongPolling),this.forceLongPolling=null!==(i=t.experimentalForceLongPolling)&&void 0!==i&&i}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.forceLongPolling===t.forceLongPolling&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties},t}(),pT=function(){function t(e,n,r,i){var o=this;if(void 0===r&&(r=new eI),void 0===i&&(i=new rI),this.hd=r,this.ad=i,this.ud=null,this.ld=new j_,this.INTERNAL={delete:function(){return k(o,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this._d(),[4,this.fd.terminate()];case 1:return t.sent(),[2]}}))}))}},"object"==typeof e.options){var s=e;this.ud=s,this.Tf=t.dd(s),this.wd=s.name,this.Td=new oC(n)}else{var a=e;if(!a.projectId)throw new cm(um.INVALID_ARGUMENT,"Must provide projectId");this.Tf=new rm(a.projectId,a.database),this.wd="[DEFAULT]",this.Td=new iC}this.Ed=new fT({})}return Object.defineProperty(t.prototype,"Id",{get:function(){return this.md||(this.md=new GI(this.Tf,this.Ed.ignoreUndefinedProperties)),this.md},enumerable:!1,configurable:!0}),t.prototype.settings=function(t){aI("Firestore.settings",arguments,1),lI("Firestore.settings","object",1,t);var e=new fT(t);if(this.fd&&!this.Ed.isEqual(e))throw new cm(um.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this.Ed=e,void 0!==e.credentials&&(this.Td=function(t){if(!t)return new iC;switch(t.type){case"gapi":var e=t.Ad;return Yy(!("object"!=typeof e||null===e||!e.auth||!e.auth.getAuthHeaderValueForFirstParty)),new aC(e,t.la||"0");case"provider":return t.Ad;default:throw new cm(um.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}(e.credentials))},t.prototype.enableNetwork=function(){return this._d(),this.fd.enableNetwork()},t.prototype.disableNetwork=function(){return this._d(),this.fd.disableNetwork()},t.prototype.enablePersistence=function(t){var e,n;if(this.fd)throw new cm(um.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");var r=!1,i=!1;if(t&&(void 0!==t.experimentalTabSynchronization&&Wy("The 'experimentalTabSynchronization' setting will be removed. Use 'synchronizeTabs' instead."),r=null!==(n=null!==(e=t.synchronizeTabs)&&void 0!==e?e:t.experimentalTabSynchronization)&&void 0!==n&&n,i=!!t.experimentalForceOwningTab&&t.experimentalForceOwningTab,r&&i))throw new cm(um.INVALID_ARGUMENT,"The 'experimentalForceOwningTab' setting cannot be used with 'synchronizeTabs'.");return this.Rd(this.hd,this.ad,{K_:!0,cacheSizeBytes:this.Ed.cacheSizeBytes,synchronizeTabs:r,Vo:i})},t.prototype.clearPersistence=function(){return k(this,void 0,void 0,(function(){var t,e=this;return x(this,(function(n){if(void 0!==this.fd&&!this.fd.Yf)throw new cm(um.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");return t=new I_,[2,(this.ld.Ii((function(){return k(e,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.hd.clearPersistence(this.Tf,this.wd)];case 1:return n.sent(),t.resolve(),[3,3];case 2:return e=n.sent(),t.reject(e),[3,3];case 3:return[2]}}))}))})),t.promise)]}))}))},t.prototype.terminate=function(){return this.app._removeServiceInstance("firestore"),this.INTERNAL.delete()},Object.defineProperty(t.prototype,"Pd",{get:function(){return this._d(),this.fd.Yf},enumerable:!1,configurable:!0}),t.prototype.waitForPendingWrites=function(){return this._d(),this.fd.waitForPendingWrites()},t.prototype.onSnapshotsInSync=function(t){if(this._d(),iI(t))return this.fd.Ll(t);lI("Firestore.onSnapshotsInSync","function",1,t);var e={next:t};return this.fd.Ll(e)},t.prototype._d=function(){return this.fd||this.Rd(new eI,new rI,{K_:!1}),this.fd},t.prototype.Vd=function(){return new nm(this.Tf,this.wd,this.Ed.host,this.Ed.ssl,this.Ed.forceLongPolling)},t.prototype.Rd=function(t,e,n){var r=this.Vd();return this.fd=new uT(this.Td,this.ld),this.fd.start(r,t,e,n)},t.dd=function(t){if(e=t.options,!Object.prototype.hasOwnProperty.call(e,"projectId"))throw new cm(um.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var e,n=t.options.projectId;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(!n||"string"!=typeof n)throw new cm(um.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new rm(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this.ud)throw new cm(um.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this.ud},enumerable:!1,configurable:!0}),t.prototype.collection=function(t){return aI("Firestore.collection",arguments,1),lI("Firestore.collection","non-empty string",1,t),this._d(),new xT(pm.k(t),this,null)},t.prototype.doc=function(t){return aI("Firestore.doc",arguments,1),lI("Firestore.doc","non-empty string",1,t),this._d(),gT.gd(pm.k(t),this,null)},t.prototype.collectionGroup=function(t){if(aI("Firestore.collectionGroup",arguments,1),lI("Firestore.collectionGroup","non-empty string",1,t),t.indexOf("/")>=0)throw new cm(um.INVALID_ARGUMENT,"Invalid collection ID '"+t+"' passed to function Firestore.collectionGroup(). Collection IDs must not contain '/'.");return this._d(),new ST(function(t){return new Vw(pm.$(),t)}(t),this,null)},t.prototype.runTransaction=function(t){var e=this;return aI("Firestore.runTransaction",arguments,1),lI("Firestore.runTransaction","function",1,t),this._d().transaction((function(n){return t(new dT(e,n))}))},t.prototype.batch=function(){return this._d(),new vT(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(zy()){case cl.DEBUG:return"debug";case cl.ERROR:return"error";case cl.SILENT:return"silent";case cl.WARN:return"warn";case cl.INFO:return"info";case cl.VERBOSE:return"verbose";default:return"error"}},enumerable:!1,configurable:!0}),t.setLogLevel=function(t){var e;aI("Firestore.setLogLevel",arguments,1),vI("setLogLevel",["debug","error","silent","warn","info","verbose"],1,t),e=t,Hy.setLogLevel(e)},t.prototype.yd=function(){return this.Ed.timestampsInSnapshots},t}(),dT=function(){function t(t,e){this.pd=t,this.bd=e}return t.prototype.get=function(t){var e=this;aI("Transaction.get",arguments,1);var n=RT("Transaction.get",t,this.pd);return this.bd.Nf([n.Ef]).then((function(t){if(!t||1!==t.length)return Xy();var r=t[0];if(r instanceof Lw)return new mT(e.pd,n.Ef,null,!1,!1,n.If);if(r instanceof Mw)return new mT(e.pd,n.Ef,r,!1,!1,n.If);throw Xy()}))},t.prototype.set=function(t,e,n){cI("Transaction.set",arguments,2,3);var r=RT("Transaction.set",t,this.pd);n=AT("Transaction.set",n);var i=PT(r.If,e,n),o=XI(this.pd.Id,"Transaction.set",r.Ef,i,null!==r.If,n);return this.bd.set(r.Ef,o),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return"string"==typeof e||e instanceof AI?(uI("Transaction.update",arguments,3),r=RT("Transaction.update",t,this.pd),i=QI(this.pd.Id,"Transaction.update",r.Ef,e,n,o)):(aI("Transaction.update",arguments,2),r=RT("Transaction.update",t,this.pd),i=YI(this.pd.Id,"Transaction.update",r.Ef,e)),this.bd.update(r.Ef,i),this},t.prototype.delete=function(t){aI("Transaction.delete",arguments,1);var e=RT("Transaction.delete",t,this.pd);return this.bd.delete(e.Ef),this},t}(),vT=function(){function t(t){this.pd=t,this.vd=[],this.Sd=!1}return t.prototype.set=function(t,e,n){cI("WriteBatch.set",arguments,2,3),this.Dd();var r=RT("WriteBatch.set",t,this.pd);n=AT("WriteBatch.set",n);var i=PT(r.If,e,n),o=XI(this.pd.Id,"WriteBatch.set",r.Ef,i,null!==r.If,n);return this.vd=this.vd.concat(o.mf(r.Ef,vw.Qe())),this},t.prototype.update=function(t,e,n){for(var r,i,o=[],s=3;s<arguments.length;s++)o[s-3]=arguments[s];return this.Dd(),"string"==typeof e||e instanceof AI?(uI("WriteBatch.update",arguments,3),r=RT("WriteBatch.update",t,this.pd),i=QI(this.pd.Id,"WriteBatch.update",r.Ef,e,n,o)):(aI("WriteBatch.update",arguments,2),r=RT("WriteBatch.update",t,this.pd),i=YI(this.pd.Id,"WriteBatch.update",r.Ef,e)),this.vd=this.vd.concat(i.mf(r.Ef,vw.exists(!0))),this},t.prototype.delete=function(t){aI("WriteBatch.delete",arguments,1),this.Dd();var e=RT("WriteBatch.delete",t,this.pd);return this.vd=this.vd.concat(new Aw(e.Ef,vw.Qe())),this},t.prototype.commit=function(){return this.Dd(),this.Sd=!0,this.vd.length>0?this.pd._d().write(this.vd):Promise.resolve()},t.prototype.Dd=function(){if(this.Sd)throw new cm(um.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),gT=function(t){function e(e,n,r){var i=this;return(i=t.call(this,n.Tf,e,r)||this).Ef=e,i.firestore=n,i.If=r,i.fd=i.firestore._d(),i}return T(e,t),e.gd=function(t,n,r){if(t.length%2!=0)throw new cm(um.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+t.F()+" has "+t.length);return new e(new gm(t),n,r)},Object.defineProperty(e.prototype,"id",{get:function(){return this.Ef.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return new xT(this.Ef.path.p(),this.firestore,this.If)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.Ef.path.F()},enumerable:!1,configurable:!0}),e.prototype.collection=function(t){if(aI("DocumentReference.collection",arguments,1),lI("DocumentReference.collection","non-empty string",1,t),!t)throw new cm(um.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=pm.k(t);return new xT(this.Ef.path.child(e),this.firestore,null)},e.prototype.isEqual=function(t){if(!(t instanceof e))throw _I("isEqual","DocumentReference",1,t);return this.firestore===t.firestore&&this.Ef.isEqual(t.Ef)&&this.If===t.If},e.prototype.set=function(t,e){cI("DocumentReference.set",arguments,1,2),e=AT("DocumentReference.set",e);var n=PT(this.If,t,e),r=XI(this.firestore.Id,"DocumentReference.set",this.Ef,n,null!==this.If,e);return this.fd.write(r.mf(this.Ef,vw.Qe()))},e.prototype.update=function(t,e){for(var n,r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];return"string"==typeof t||t instanceof AI?(uI("DocumentReference.update",arguments,2),n=QI(this.firestore.Id,"DocumentReference.update",this.Ef,t,e,r)):(aI("DocumentReference.update",arguments,1),n=YI(this.firestore.Id,"DocumentReference.update",this.Ef,t)),this.fd.write(n.mf(this.Ef,vw.exists(!0)))},e.prototype.delete=function(){return aI("DocumentReference.delete",arguments,0),this.fd.write([new Aw(this.Ef,vw.Qe())])},e.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];cI("DocumentReference.onSnapshot",arguments,1,4);var s={includeMetadataChanges:!1},a=0;"object"!=typeof i[a]||iI(i[a])||(wI("DocumentReference.onSnapshot",s=i[a],["includeMetadataChanges"]),pI("DocumentReference.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++);var u={includeMetadataChanges:s.includeMetadataChanges};if(iI(i[a])){var c=i[a];i[a]=null===(t=c.next)||void 0===t?void 0:t.bind(c),i[a+1]=null===(e=c.error)||void 0===e?void 0:e.bind(c),i[a+2]=null===(n=c.complete)||void 0===n?void 0:n.bind(c)}else lI("DocumentReference.onSnapshot","function",a,i[a]),hI("DocumentReference.onSnapshot","function",a+1,i[a+1]),hI("DocumentReference.onSnapshot","function",a+2,i[a+2]);var l={next:function(t){i[a]&&i[a](r.Cd(t))},error:i[a+1],complete:i[a+2]};return this.fd.listen(Bw(this.Ef.path),u,l)},e.prototype.get=function(t){var e=this;cI("DocumentReference.get",arguments,0,1),OT("DocumentReference.get",t);var n=this.firestore._d();return t&&"cache"===t.source?n.Kf(this.Ef).then((function(t){return new mT(e.firestore,e.Ef,t,!0,t instanceof Mw&&t.Ke,e.If)})):n.Gf(this.Ef,t).then((function(t){return e.Cd(t)}))},e.prototype.withConverter=function(t){return new e(this.Ef,this.firestore,t)},e.prototype.Cd=function(t){var e=t.docs.get(this.Ef);return new mT(this.firestore,this.Ef,e,t.fromCache,t.hasPendingWrites,this.If)},e}(HI),yT=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),mT=function(){function t(t,e,n,r,i,o){this.pd=t,this.Ef=e,this.Nd=n,this.Fd=r,this.kd=i,this.If=o}return t.prototype.data=function(t){var e=this;if(cI("DocumentSnapshot.data",arguments,0,1),t=NT("DocumentSnapshot.data",t),this.Nd){if(this.If){var n=new bT(this.pd,this.Ef,this.Nd,this.Fd,this.kd,null);return this.If.fromFirestore(n,t)}return new lT(this.pd.Tf,this.pd.yd(),t.serverTimestamps||"none",(function(t){return new gT(t,e.pd,null)})).Zf(this.Nd.Ze())}},t.prototype.get=function(t,e){var n=this;if(cI("DocumentSnapshot.get",arguments,1,2),e=NT("DocumentSnapshot.get",e),this.Nd){var r=this.Nd.data().field(nT("DocumentSnapshot.get",t,this.Ef));if(null!==r)return new lT(this.pd.Tf,this.pd.yd(),e.serverTimestamps||"none",(function(t){return new gT(t,n.pd,n.If)})).Zf(r)}},Object.defineProperty(t.prototype,"id",{get:function(){return this.Ef.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new gT(this.Ef,this.pd,this.If)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this.Nd},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new yT(this.kd,this.Fd)},enumerable:!1,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw _I("isEqual","DocumentSnapshot",1,e);return this.pd===e.pd&&this.Fd===e.Fd&&this.Ef.isEqual(e.Ef)&&(null===this.Nd?null===e.Nd:this.Nd.isEqual(e.Nd))&&this.If===e.If},t}(),bT=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.data=function(e){return t.prototype.data.call(this,e)},e}(mT);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wT(t,e,n,r,i,o,s){var a;if(i.O()){if("array-contains"===o||"array-contains-any"===o)throw new cm(um.INVALID_ARGUMENT,"Invalid Query. You can't perform '"+o+"' queries on FieldPath.documentId().");if("in"===o||"not-in"===o){CT(s,o);for(var u=[],c=0,l=s;c<l.length;c++){var h=l[c];u.push(ET(r,t,h))}a={arrayValue:{values:u}}}else a=ET(r,t,s)}else"in"!==o&&"not-in"!==o&&"array-contains-any"!==o||CT(s,o),a=ZI(n,e,s,"in"===o||"not-in"===o);var f=$w.create(i,o,a);return function(t,e){if(e.ln()){var n=t.cn();if(null!==n&&!n.isEqual(e.field))throw new cm(um.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+n.toString()+"' and '"+e.field.toString()+"'");var r=t.un();null!==r&&IT(t,e.field,r)}var i=t._n(function(t){switch(t){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==i)throw i===e.op?new cm(um.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '"+e.op.toString()+"' filter."):new cm(um.INVALID_ARGUMENT,"Invalid query. You cannot use '"+e.op.toString()+"' filters with '"+i.toString()+"' filters.")}(t,f),f}function _T(t,e,n){if(null!==t.startAt)throw new cm(um.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==t.endAt)throw new cm(um.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new f_(e,n);return function(t,e){if(null===t.un()){var n=t.cn();null!==n&&IT(t,n,e.field)}}(t,r),r}function ET(t,e,n){if("string"==typeof n){if(""===n)throw new cm(um.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid document ID, but it was an empty string.");if(!Hw(e)&&-1!==n.indexOf("/"))throw new cm(um.INVALID_ARGUMENT,"Invalid query. When querying a collection by FieldPath.documentId(), you must provide a plain document ID, but '"+n+"' contains a '/' character.");var r=e.path.child(pm.k(n));if(!gm.W(r))throw new cm(um.INVALID_ARGUMENT,"Invalid query. When querying a collection group by FieldPath.documentId(), the value provided must result in a valid document path, but '"+r+"' is not because it has an odd number of segments ("+r.length+").");return yb(t,new gm(r))}if(n instanceof HI)return yb(t,n.Ef);throw new cm(um.INVALID_ARGUMENT,"Invalid query. When querying with FieldPath.documentId(), you must provide a valid string or a DocumentReference, but it was: "+mI(n)+".")}function CT(t,e){if(!Array.isArray(t)||0===t.length)throw new cm(um.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '"+e.toString()+"' filters.");if(t.length>10)throw new cm(um.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters support a maximum of 10 elements in the value array.");if("in"===e||"array-contains-any"===e){if(t.indexOf(null)>=0)throw new cm(um.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'null' in the value array.");if(t.filter((function(t){return Number.isNaN(t)})).length>0)throw new cm(um.INVALID_ARGUMENT,"Invalid Query. '"+e.toString()+"' filters cannot contain 'NaN' in the value array.")}}function IT(t,e,n){if(!n.isEqual(e))throw new cm(um.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+e.toString()+"' and so you must also use '"+e.toString()+"' as your first orderBy(), but your first orderBy() is on field '"+n.toString()+"' instead.")}function TT(t){if(t.an()&&0===t.tn.length)throw new cm(um.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var ST=function(){function t(t,e,n){this.xd=t,this.firestore=e,this.If=n}return t.prototype.where=function(e,n,r){var i;aI("Query.where",arguments,3),bI("Query.where",3,r),i="not-in"===n||"!="===n?n:vI("Query.where",["<","<=","==",">=",">","array-contains","in","array-contains-any"],2,n);var o=nT("Query.where",e),s=wT(this.xd,"Query.where",this.firestore.Id,this.firestore.Tf,o,i,r);return new t(function(t,e){var n=t.filters.concat([e]);return new Vw(t.path,t.collectionGroup,t.tn.slice(),n,t.limit,t.en,t.startAt,t.endAt)}(this.xd,s),this.firestore,this.If)},t.prototype.orderBy=function(e,n){var r;if(cI("Query.orderBy",arguments,1,2),hI("Query.orderBy","non-empty string",2,n),void 0===n||"asc"===n)r="asc";else{if("desc"!==n)throw new cm(um.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r="desc"}var i=nT("Query.orderBy",e),o=_T(this.xd,i,r);return new t(function(t,e){var n=t.tn.concat([e]);return new Vw(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.en,t.startAt,t.endAt)}(this.xd,o),this.firestore,this.If)},t.prototype.limit=function(e){return aI("Query.limit",arguments,1),lI("Query.limit","number",1,e),EI("Query.limit",1,e),new t(Ww(this.xd,e,"F"),this.firestore,this.If)},t.prototype.limitToLast=function(e){return aI("Query.limitToLast",arguments,1),lI("Query.limitToLast","number",1,e),EI("Query.limitToLast",1,e),new t(Ww(this.xd,e,"L"),this.firestore,this.If)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];uI("Query.startAt",arguments,1);var i=this.$d("Query.startAt",e,n,!0);return new t(Kw(this.xd,i),this.firestore,this.If)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];uI("Query.startAfter",arguments,1);var i=this.$d("Query.startAfter",e,n,!1);return new t(Kw(this.xd,i),this.firestore,this.If)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];uI("Query.endBefore",arguments,1);var i=this.$d("Query.endBefore",e,n,!0);return new t(Gw(this.xd,i),this.firestore,this.If)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];uI("Query.endAt",arguments,1);var i=this.$d("Query.endAt",e,n,!1);return new t(Gw(this.xd,i),this.firestore,this.If)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw _I("isEqual","Query",1,e);return this.firestore===e.firestore&&Xw(this.xd,e.xd)&&this.If===e.If},t.prototype.withConverter=function(e){return new t(this.xd,this.firestore,e)},t.prototype.$d=function(t,e,n,r){if(bI(t,1,e),e instanceof mT)return aI(t,R([e],n),1),function(t,e,n,r,i){if(!r)throw new cm(um.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+n+"().");for(var o=[],s=0,a=zw(t);s<a.length;s++){var u=a[s];if(u.field.O())o.push(yb(e,r.key));else{var c=r.field(u.field);if(ob(c))throw new cm(um.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+u.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=u.field.F();throw new cm(um.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+l+"' (used as the orderBy) does not exist.")}o.push(c)}}return new u_(o,i)}(this.xd,this.firestore.Tf,t,e.Nd,r);var i=[e].concat(n);return function(t,e,n,r,i,o){var s=t.tn;if(i.length>s.length)throw new cm(um.INVALID_ARGUMENT,"Too many arguments provided to "+r+"(). The number of arguments must be less than or equal to the number of orderBy() clauses");for(var a=[],u=0;u<i.length;u++){var c=i[u];if(s[u].field.O()){if("string"!=typeof c)throw new cm(um.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+r+"(), but got a "+typeof c);if(!Hw(t)&&-1!==c.indexOf("/"))throw new cm(um.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by FieldPath.documentId(), the value passed to "+r+"() must be a plain document ID, but '"+c+"' contains a slash.");var l=t.path.child(pm.k(c));if(!gm.W(l))throw new cm(um.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by FieldPath.documentId(), the value passed to "+r+"() must result in a valid document path, but '"+l+"' is not because it contains an odd number of segments.");var h=new gm(l);a.push(yb(e,h))}else{var f=ZI(n,r,c);a.push(f)}}return new u_(a,o)}(this.xd,this.firestore.Tf,this.firestore.Id,t,i,r)},t.prototype.onSnapshot=function(){for(var t,e,n,r=this,i=[],o=0;o<arguments.length;o++)i[o]=arguments[o];cI("Query.onSnapshot",arguments,1,4);var s={},a=0;if("object"!=typeof i[a]||iI(i[a])||(wI("Query.onSnapshot",s=i[a],["includeMetadataChanges"]),pI("Query.onSnapshot","boolean","includeMetadataChanges",s.includeMetadataChanges),a++),iI(i[a])){var u=i[a];i[a]=null===(t=u.next)||void 0===t?void 0:t.bind(u),i[a+1]=null===(e=u.error)||void 0===e?void 0:e.bind(u),i[a+2]=null===(n=u.complete)||void 0===n?void 0:n.bind(u)}else lI("Query.onSnapshot","function",a,i[a]),hI("Query.onSnapshot","function",a+1,i[a+1]),hI("Query.onSnapshot","function",a+2,i[a+2]);var c={next:function(t){i[a]&&i[a](new kT(r.firestore,r.xd,t,r.If))},error:i[a+1],complete:i[a+2]};return TT(this.xd),this.firestore._d().listen(this.xd,s,c)},t.prototype.get=function(t){var e=this;cI("Query.get",arguments,0,1),OT("Query.get",t),TT(this.xd);var n=this.firestore._d();return(t&&"cache"===t.source?n.zf(this.xd):n.Hf(this.xd,t)).then((function(t){return new kT(e.firestore,e.xd,t,e.If)}))},t}(),kT=function(){function t(t,e,n,r){this.pd=t,this.Md=e,this.Od=n,this.If=r,this.Ld=null,this.qd=null,this.metadata=new yT(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach((function(e){return t.push(e)})),t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this.Od.docs._()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this.Od.docs.size},enumerable:!1,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;cI("QuerySnapshot.forEach",arguments,1,2),lI("QuerySnapshot.forEach","function",1,t),this.Od.docs.forEach((function(r){t.call(e,n.Bd(r,n.metadata.fromCache,n.Od.Lt.has(r.key)))}))},Object.defineProperty(t.prototype,"query",{get:function(){return new ST(this.Md,this.pd,this.If)},enumerable:!1,configurable:!0}),t.prototype.docChanges=function(t){t&&(wI("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),pI("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this.Od.Bt)throw new cm(um.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this.Ld&&this.qd===e||(this.Ld=function(t,e,n){if(t.Ot._()){var r=0;return t.docChanges.map((function(e){var i=n(e.doc,t.fromCache,t.Lt.has(e.doc.key));return e.doc,{type:"added",doc:i,oldIndex:-1,newIndex:r++}}))}var i=t.Ot;return t.docChanges.filter((function(t){return e||3!==t.type})).map((function(e){var r=n(e.doc,t.fromCache,t.Lt.has(e.doc.key)),o=-1,s=-1;return 0!==e.type&&(o=i.indexOf(e.doc.key),i=i.delete(e.doc.key)),1!==e.type&&(s=(i=i.add(e.doc)).indexOf(e.doc.key)),{type:DT(e.type),doc:r,oldIndex:o,newIndex:s}}))}(this.Od,e,this.Bd.bind(this)),this.qd=e),this.Ld},t.prototype.isEqual=function(e){if(!(e instanceof t))throw _I("isEqual","QuerySnapshot",1,e);return this.pd===e.pd&&Xw(this.Md,e.Md)&&this.Od.isEqual(e.Od)&&this.If===e.If},t.prototype.Bd=function(t,e,n){return new bT(this.pd,t.key,t,e,n,this.If)},t}(),xT=function(t){function e(e,n,r){var i=this;if((i=t.call(this,Bw(e),n,r)||this).Ud=e,e.length%2!=1)throw new cm(um.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.F()+" has "+e.length);return i}return T(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this.xd.path.S()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this.xd.path.p();return t._()?null:new gT(new gm(t),this.firestore,null)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this.xd.path.F()},enumerable:!1,configurable:!0}),e.prototype.doc=function(t){cI("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Jy.t()),lI("CollectionReference.doc","non-empty string",1,t);var e=pm.k(t);return gT.gd(this.xd.path.child(e),this.firestore,this.If)},e.prototype.add=function(t){aI("CollectionReference.add",arguments,1),lI("CollectionReference.add","object",1,this.If?this.If.toFirestore(t):t);var e=this.doc();return e.set(t).then((function(){return e}))},e.prototype.withConverter=function(t){return new e(this.Ud,this.firestore,t)},e}(ST);function AT(t,e){if(void 0===e)return{merge:!1};if(wI(t,e,["merge","mergeFields"]),pI(t,"boolean","merge",e.merge),function(t,e,n,r,i){void 0!==r&&function(t,e,n,r,i){if(!(r instanceof Array))throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+mI(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new cm(um.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be a string or a FieldPath, but the value at index "+o+" was: "+mI(r[o]))}(t,"mergeFields",0,r,(function(t){return"string"==typeof t||t instanceof AI}))}(t,0,0,e.mergeFields),void 0!==e.mergeFields&&void 0!==e.merge)throw new cm(um.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function NT(t,e){return void 0===e?{}:(wI(t,e,["serverTimestamps"]),dI(t,0,"serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function OT(t,e){hI(t,"object",1,e),e&&(wI(t,e,["source"]),dI(t,0,"source",e.source,["default","server","cache"]))}function RT(t,e,n){if(e instanceof HI){if(e.firestore!==n)throw new cm(um.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw _I(t,"DocumentReference",1,e)}function DT(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Xy()}}function PT(t,e,n){return t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e}var MT={Firestore:pT,GeoPoint:UI,Timestamp:lm,Blob:kI,Transaction:dT,WriteBatch:vT,DocumentReference:gT,DocumentSnapshot:mT,Query:ST,QueryDocumentSnapshot:bT,QuerySnapshot:kT,CollectionReference:xT,FieldPath:AI,FieldValue:jI,setLogLevel:pT.setLogLevel,CACHE_SIZE_UNLIMITED:hT};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){!function(t,e){t.INTERNAL.registerComponent(new il("firestore",(function(t){return function(t,e){var n=new rI,r=new nI(n);return new pT(t,e,r,n)}(t.getProvider("app").getImmediate(),t.getProvider("auth-internal"))}),"PUBLIC").setServiceProps(Object.assign({},MT)))}(t),t.registerVersion("@firebase/firestore","1.16.4")}(Al);
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var LT={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},FT=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return T(e,t),e}(Error);var jT=function(){function t(t,e){var n=this;this.auth=null,this.messaging=null,this.auth=t.getImmediate({optional:!0}),this.messaging=e.getImmediate({optional:!0}),this.auth||t.get().then((function(t){return n.auth=t}),(function(){})),this.messaging||e.get().then((function(t){return n.messaging=t}),(function(){}))}return t.prototype.getAuthToken=function(){return k(this,void 0,void 0,(function(){var t;return x(this,(function(e){switch(e.label){case 0:if(!this.auth)return[2,void 0];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,this.auth.getToken()];case 2:return(t=e.sent())?[2,t.accessToken]:[2,void 0];case 3:return e.sent(),[2,void 0];case 4:return[2]}}))}))},t.prototype.getInstanceIdToken=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){if(!this.messaging||!("Notification"in self)||"granted"!==Notification.permission)return[2,void 0];try{return[2,this.messaging.getToken()]}catch(t){return[2,void 0]}return[2]}))}))},t.prototype.getContext=function(){return k(this,void 0,void 0,(function(){var t,e;return x(this,(function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}}))}))},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VT(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}var UT=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null==t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"==typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map((function(t){return e.encode(t)}));if("function"==typeof t||"object"==typeof t)return VT(t,(function(t){return e.encode(t)}));throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null==t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=Number(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map((function(t){return e.decode(t)})):"function"==typeof t||"object"==typeof t?VT(t,(function(t){return e.decode(t)})):t},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var BT=function(){function t(t,e,n,r){var i=this;void 0===r&&(r="us-central1"),this.app_=t,this.region_=r,this.serializer=new UT,this.emulatorOrigin=null,this.INTERNAL={delete:function(){return i.deleteService()}},this.contextProvider=new jT(e,n),this.cancelAllRequests=new Promise((function(t){i.deleteService=function(){return t()}}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;return null!==this.emulatorOrigin?this.emulatorOrigin+"/"+e+"/"+n+"/"+t:"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t,e){var n=this;return function(r){return n.call(t,r,e||{})}},t.prototype.postJSON=function(t,e,n){return k(this,void 0,void 0,(function(){var r,i;return x(this,(function(o){switch(o.label){case 0:n.append("Content-Type","application/json"),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=o.sent(),[3,4];case 3:return o.sent(),[2,{status:0,json:null}];case 4:i=null,o.label=5;case 5:return o.trys.push([5,7,,8]),[4,r.json()];case 6:return i=o.sent(),[3,8];case 7:return o.sent(),[3,8];case 8:return[2,{status:r.status,json:i}]}}))}))},t.prototype.call=function(t,e,n){return k(this,void 0,void 0,(function(){var r,i,o,s,a,u,c,l,h,f,p;return x(this,(function(d){switch(d.label){case 0:return r=this._url(t),e=this.serializer.encode(e),i={data:e},o=new Headers,[4,this.contextProvider.getContext()];case 1:return(s=d.sent()).authToken&&o.append("Authorization","Bearer "+s.authToken),s.instanceIdToken&&o.append("Firebase-Instance-ID-Token",s.instanceIdToken),a=n.timeout||7e4,u=function(t){var e,n=new Promise((function(n,r){e=setTimeout((function(){r(new FT("deadline-exceeded","deadline-exceeded"))}),t)}));return{timer:e,promise:n}}(a),c=u.timer,l=u.promise,[4,Promise.race([HT(c,this.postJSON(r,i,o)),l,HT(c,this.cancelAllRequests)])];case 2:if(!(h=d.sent()))throw new FT("cancelled","Firebase Functions instance was deleted.");if(f=function(t,e,n){var r=function(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}(t),i=r,o=void 0;try{var s=e&&e.error;if(s){var a=s.status;if("string"==typeof a){if(!LT[a])return new FT("internal","internal");r=LT[a],i=a}var u=s.message;"string"==typeof u&&(i=u),void 0!==(o=s.details)&&(o=n.decode(o))}}catch(t){}return"ok"===r?null:new FT(r,i,o)}(h.status,h.json,this.serializer))throw f;if(!h.json)throw new FT("internal","Response is not valid JSON object.");if(void 0===(p=h.json.data)&&(p=h.json.result),void 0===p)throw new FT("internal","Response is missing data field.");return[2,{data:this.serializer.decode(p)}]}}))}))},t}();function HT(t,e){return k(this,void 0,void 0,(function(){var n;return x(this,(function(r){switch(r.label){case 0:return[4,e];case 1:return n=r.sent(),clearTimeout(t),[2,n]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zT(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("messaging");return new BT(n,r,i,e)}function qT(t){return Array.prototype.slice.call(t)}function WT(t){return new Promise((function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}}))}function KT(t,e,n){var r,i=new Promise((function(i,o){WT(r=t[e].apply(t,n)).then(i,o)}));return i.request=r,i}function GT(t,e,n){var r=KT(t,e,n);return r.then((function(t){if(t)return new $T(t,r.request)}))}function XT(t,e,n){n.forEach((function(n){Object.defineProperty(t.prototype,n,{get:function(){return this[e][n]},set:function(t){this[e][n]=t}})}))}function YT(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return KT(this[e],r,arguments)})}))}function QT(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return this[e][r].apply(this[e],arguments)})}))}function ZT(t,e,n,r){r.forEach((function(r){r in n.prototype&&(t.prototype[r]=function(){return GT(this[e],r,arguments)})}))}function JT(t){this._index=t}function $T(t,e){this._cursor=t,this._request=e}function tS(t){this._store=t}function eS(t){this._tx=t,this.complete=new Promise((function(e,n){t.oncomplete=function(){e()},t.onerror=function(){n(t.error)},t.onabort=function(){n(t.error)}}))}function nS(t,e,n){this._db=t,this.oldVersion=e,this.transaction=new eS(n)}function rS(t){this._db=t}function iS(t,e,n){var r=KT(indexedDB,"open",[t,e]),i=r.request;return i&&(i.onupgradeneeded=function(t){n&&n(new nS(i.result,t.oldVersion,i.transaction))}),r.then((function(t){return new rS(t)}))}function oS(t){return KT(indexedDB,"deleteDatabase",[t])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
!function(t){var e={Functions:BT};t.INTERNAL.registerComponent(new il("functions",zT,"PUBLIC").setServiceProps(e).setMultipleInstances(!0))}(Al),Al.registerVersion("@firebase/functions","0.4.50"),XT(JT,"_index",["name","keyPath","multiEntry","unique"]),YT(JT,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),ZT(JT,"_index",IDBIndex,["openCursor","openKeyCursor"]),XT($T,"_cursor",["direction","key","primaryKey","value"]),YT($T,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach((function(t){t in IDBCursor.prototype&&($T.prototype[t]=function(){var e=this,n=arguments;return Promise.resolve().then((function(){return e._cursor[t].apply(e._cursor,n),WT(e._request).then((function(t){if(t)return new $T(t,e._request)}))}))})})),tS.prototype.createIndex=function(){return new JT(this._store.createIndex.apply(this._store,arguments))},tS.prototype.index=function(){return new JT(this._store.index.apply(this._store,arguments))},XT(tS,"_store",["name","keyPath","indexNames","autoIncrement"]),YT(tS,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),ZT(tS,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),QT(tS,"_store",IDBObjectStore,["deleteIndex"]),eS.prototype.objectStore=function(){return new tS(this._tx.objectStore.apply(this._tx,arguments))},XT(eS,"_tx",["objectStoreNames","mode"]),QT(eS,"_tx",IDBTransaction,["abort"]),nS.prototype.createObjectStore=function(){return new tS(this._db.createObjectStore.apply(this._db,arguments))},XT(nS,"_db",["name","version","objectStoreNames"]),QT(nS,"_db",IDBDatabase,["deleteObjectStore","close"]),rS.prototype.transaction=function(){return new eS(this._db.transaction.apply(this._db,arguments))},XT(rS,"_db",["name","version","objectStoreNames"]),QT(rS,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach((function(t){[tS,JT].forEach((function(e){t in e.prototype&&(e.prototype[t.replace("open","iterate")]=function(){var e=qT(arguments),n=e[e.length-1],r=this._store||this._index,i=r[t].apply(r,e.slice(0,-1));i.onsuccess=function(){n(i.result)}})}))})),[JT,tS].forEach((function(t){t.prototype.getAll||(t.prototype.getAll=function(t,e){var n=this,r=[];return new Promise((function(i){n.iterateCursor(t,(function(t){t?(r.push(t.value),void 0===e||r.length!=e?t.continue():i(r)):i(r)}))}))})}));var sS,aS=((sS={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',sS["not-registered"]="Firebase Installation is not registered.",sS["installation-not-found"]="Firebase Installation not found.",sS["request-failed"]='{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',sS["app-offline"]="Could not process request. Application offline.",sS["delete-pending-registration"]="Can't delete installation while there is a pending registration request.",sS),uS=new Vc("installations","Installations",aS);function cS(t){return t instanceof jc&&t.code.includes("request-failed")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(t){return"https://firebaseinstallations.googleapis.com/v1/projects/"+t.projectId+"/installations"}function hS(t){return{token:t.token,requestStatus:2,expiresIn:(e=t.expiresIn,Number(e.replace("s","000"))),creationTime:Date.now()};var e}function fS(t,e){return k(this,void 0,void 0,(function(){var n,r;return x(this,(function(i){switch(i.label){case 0:return[4,e.json()];case 1:return n=i.sent(),r=n.error,[2,uS.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})]}}))}))}function pS(t){var e=t.apiKey;return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function dS(t,e){var n=e.refreshToken,r=pS(t);return r.append("Authorization",function(t){return"FIS_v2 "+t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)),r}function vS(t){return k(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return[4,t()];case 1:return(e=n.sent()).status>=500&&e.status<600?[2,t()]:[2,e]}}))}))}function gS(t,e){var n=e.fid;return k(this,void 0,void 0,(function(){var e,r,i,o,s,a;return x(this,(function(u){switch(u.label){case 0:return e=lS(t),r=pS(t),i={fid:n,authVersion:"FIS_v2",appId:t.appId,sdkVersion:"w:0.4.16"},o={method:"POST",headers:r,body:JSON.stringify(i)},[4,vS((function(){return fetch(e,o)}))];case 1:return(s=u.sent()).ok?[4,s.json()]:[3,3];case 2:return a=u.sent(),[2,{fid:a.fid||n,registrationStatus:2,refreshToken:a.refreshToken,authToken:hS(a.authToken)}];case 3:return[4,fS("Create Installation",s)];case 4:throw u.sent()}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var mS=/^[cdef][\w-]{21}$/;function bS(){try{var t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;var e=function(t){return(e=t,btoa(String.fromCharCode.apply(String,O(e))).replace(/\+/g,"-").replace(/\//g,"_")).substr(0,22);var e}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t);return mS.test(e)?e:""}catch(t){return""}}function wS(t){return t.appName+"!"+t.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var _S=new Map;function ES(t,e){var n=wS(t);CS(n,e),function(t,e){var n=TS();n&&n.postMessage({key:t,fid:e});SS()}(n,e)}function CS(t,e){var n,r,i=_S.get(t);if(i)try{for(var o=A(i),s=o.next();!s.done;s=o.next()){(0,s.value)(e)}}catch(t){n={error:t}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}var IS=null;function TS(){return!IS&&"BroadcastChannel"in self&&((IS=new BroadcastChannel("[Firebase] FID Change")).onmessage=function(t){CS(t.data.key,t.data.fid)}),IS}function SS(){0===_S.size&&IS&&(IS.close(),IS=null)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var kS,xS="firebase-installations-store",AS=null;function NS(){return AS||(AS=iS("firebase-installations-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(xS)}}))),AS}function OS(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s;return x(this,(function(a){switch(a.label){case 0:return n=wS(t),[4,NS()];case 1:return r=a.sent(),i=r.transaction(xS,"readwrite"),[4,(o=i.objectStore(xS)).get(n)];case 2:return s=a.sent(),[4,o.put(e,n)];case 3:return a.sent(),[4,i.complete];case 4:return a.sent(),s&&s.fid===e.fid||ES(t,e.fid),[2,e]}}))}))}function RS(t){return k(this,void 0,void 0,(function(){var e,n,r;return x(this,(function(i){switch(i.label){case 0:return e=wS(t),[4,NS()];case 1:return n=i.sent(),[4,(r=n.transaction(xS,"readwrite")).objectStore(xS).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function DS(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s,a;return x(this,(function(u){switch(u.label){case 0:return n=wS(t),[4,NS()];case 1:return r=u.sent(),i=r.transaction(xS,"readwrite"),[4,(o=i.objectStore(xS)).get(n)];case 2:return s=u.sent(),void 0!==(a=e(s))?[3,4]:[4,o.delete(n)];case 3:return u.sent(),[3,6];case 4:return[4,o.put(a,n)];case 5:u.sent(),u.label=6;case 6:return[4,i.complete];case 7:return u.sent(),!a||s&&s.fid===a.fid||ES(t,a.fid),[2,a]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(t){return k(this,void 0,void 0,(function(){var e,n,r;return x(this,(function(i){switch(i.label){case 0:return[4,DS(t,(function(n){var r=function(t){return FS(t||{fid:bS(),registrationStatus:0})}(n),i=function(t,e){if(0===e.registrationStatus){if(!navigator.onLine){var n=Promise.reject(uS.create("app-offline"));return{installationEntry:e,registrationPromise:n}}var r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},i=function(t,e){return k(this,void 0,void 0,(function(){var n,r;return x(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,7]),[4,gS(t,e)];case 1:return n=i.sent(),[2,OS(t,n)];case 2:return cS(r=i.sent())&&409===r.serverCode?[4,RS(t)]:[3,4];case 3:return i.sent(),[3,6];case 4:return[4,OS(t,{fid:e.fid,registrationStatus:0})];case 5:i.sent(),i.label=6;case 6:throw r;case 7:return[2]}}))}))}(t,r);return{installationEntry:r,registrationPromise:i}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:MS(t)}:{installationEntry:e}}(t,r);return e=i.registrationPromise,i.installationEntry}))];case 1:return""!==(n=i.sent()).fid?[3,3]:(r={},[4,e]);case 2:return[2,(r.installationEntry=i.sent(),r)];case 3:return[2,{installationEntry:n,registrationPromise:e}]}}))}))}function MS(t){return k(this,void 0,void 0,(function(){var e,n,r,i;return x(this,(function(o){switch(o.label){case 0:return[4,LS(t)];case 1:e=o.sent(),o.label=2;case 2:return 1!==e.registrationStatus?[3,5]:[4,yS(100)];case 3:return o.sent(),[4,LS(t)];case 4:return e=o.sent(),[3,2];case 5:return 0!==e.registrationStatus?[3,7]:[4,PS(t)];case 6:return n=o.sent(),r=n.installationEntry,(i=n.registrationPromise)?[2,i]:[2,r];case 7:return[2,e]}}))}))}function LS(t){return DS(t,(function(t){if(!t)throw uS.create("installation-not-found");return FS(t)}))}function FS(t){return 1===(e=t).registrationStatus&&e.registrationTime+1e4<Date.now()?{fid:t.fid,registrationStatus:0}:t;var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}function jS(t,e){var n=t.appConfig,r=t.platformLoggerProvider;return k(this,void 0,void 0,(function(){var t,i,o,s,a,u,c;return x(this,(function(l){switch(l.label){case 0:return t=function(t,e){var n=e.fid;return lS(t)+"/"+n+"/authTokens:generate"}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n,e),i=dS(n,e),(o=r.getImmediate({optional:!0}))&&i.append("x-firebase-client",o.getPlatformInfoString()),s={installation:{sdkVersion:"w:0.4.16"}},a={method:"POST",headers:i,body:JSON.stringify(s)},[4,vS((function(){return fetch(t,a)}))];case 1:return(u=l.sent()).ok?[4,u.json()]:[3,3];case 2:return c=l.sent(),[2,hS(c)];case 3:return[4,fS("Generate Auth Token",u)];case 4:throw l.sent()}}))}))}function VS(t,e){return void 0===e&&(e=!1),k(this,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){switch(o.label){case 0:return[4,DS(t.appConfig,(function(r){if(!BS(r))throw uS.create("not-registered");var i=r.authToken;if(!e&&function(t){return 2===t.requestStatus&&!function(t){var e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+36e5}(t)}(i))return r;if(1===i.requestStatus)return n=function(t,e){return k(this,void 0,void 0,(function(){var n,r;return x(this,(function(i){switch(i.label){case 0:return[4,US(t.appConfig)];case 1:n=i.sent(),i.label=2;case 2:return 1!==n.authToken.requestStatus?[3,5]:[4,yS(100)];case 3:return i.sent(),[4,US(t.appConfig)];case 4:return n=i.sent(),[3,2];case 5:return 0===(r=n.authToken).requestStatus?[2,VS(t,e)]:[2,r]}}))}))}(t,e),r;if(!navigator.onLine)throw uS.create("app-offline");var o=function(t){var e={requestStatus:1,requestTime:Date.now()};return S(S({},t),{authToken:e})}(r);return n=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,8]),[4,jS(t,e)];case 1:return n=o.sent(),i=S(S({},e),{authToken:n}),[4,OS(t.appConfig,i)];case 2:return o.sent(),[2,n];case 3:return!cS(r=o.sent())||401!==r.serverCode&&404!==r.serverCode?[3,5]:[4,RS(t.appConfig)];case 4:return o.sent(),[3,7];case 5:return i=S(S({},e),{authToken:{requestStatus:0}}),[4,OS(t.appConfig,i)];case 6:o.sent(),o.label=7;case 7:throw r;case 8:return[2]}}))}))}(t,o),o}))];case 1:return r=o.sent(),n?[4,n]:[3,3];case 2:return i=o.sent(),[3,4];case 3:i=r.authToken,o.label=4;case 4:return[2,i]}}))}))}function US(t){return DS(t,(function(t){if(!BS(t))throw uS.create("not-registered");var e,n=t.authToken;return 1===(e=n).requestStatus&&e.requestTime+1e4<Date.now()?S(S({},t),{authToken:{requestStatus:0}}):t}))}function BS(t){return void 0!==t&&2===t.registrationStatus}function HS(t){return k(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return[4,PS(t)];case 1:return(e=n.sent().registrationPromise)?[4,e]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zS(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o;return x(this,(function(s){switch(s.label){case 0:return n=function(t,e){var n=e.fid;return lS(t)+"/"+n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(t,e),r=dS(t,e),i={method:"DELETE",headers:r},[4,vS((function(){return fetch(n,i)}))];case 1:return(o=s.sent()).ok?[3,3]:[4,fS("Delete Installation",o)];case 2:throw s.sent();case 3:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function qS(t,e){var n=t.appConfig;return function(t,e){TS();var n=wS(t),r=_S.get(n);r||(r=new Set,_S.set(n,r)),r.add(e)}(n,e),function(){!function(t,e){var n=wS(t),r=_S.get(n);r&&(r.delete(e),0===r.size&&_S.delete(n),SS())}(n,e)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){return uS.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new il("installations",(function(t){var e=t.getProvider("app").getImmediate(),n={appConfig:function(t){var e,n;if(!t||!t.options)throw WS("App Configuration");if(!t.name)throw WS("App Name");try{for(var r=A(["projectId","apiKey","appId"]),i=r.next();!i.done;i=r.next()){var o=i.value;if(!t.options[o])throw WS(o)}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}(e),platformLoggerProvider:t.getProvider("platform-logger")};return{app:e,getId:function(){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */return function(t){return k(this,void 0,void 0,(function(){var e,n,r;return x(this,(function(i){switch(i.label){case 0:return[4,PS(t.appConfig)];case 1:return e=i.sent(),n=e.installationEntry,(r=e.registrationPromise)?r.catch(console.error):VS(t).catch(console.error),[2,n.fid]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(n)},getToken:function(t){return function(t,e){return void 0===e&&(e=!1),k(this,void 0,void 0,(function(){return x(this,(function(n){switch(n.label){case 0:return[4,HS(t.appConfig)];case 1:return n.sent(),[4,VS(t,e)];case 2:return[2,n.sent().token]}}))}))}(n,t)},delete:function(){return function(t){return k(this,void 0,void 0,(function(){var e,n;return x(this,(function(r){switch(r.label){case 0:return[4,DS(e=t.appConfig,(function(t){if(!t||0!==t.registrationStatus)return t}))];case 1:if(!(n=r.sent()))return[3,6];if(1!==n.registrationStatus)return[3,2];throw uS.create("delete-pending-registration");case 2:if(2!==n.registrationStatus)return[3,6];if(navigator.onLine)return[3,3];throw uS.create("app-offline");case 3:return[4,zS(e,n)];case 4:return r.sent(),[4,RS(e)];case 5:r.sent(),r.label=6;case 6:return[2]}}))}))}(n)},onIdChange:function(t){return qS(n,t)}}}),"PUBLIC")),t.registerVersion("@firebase/installations","0.4.16")}(Al);var KS,GS=((kS={})["missing-app-config-values"]='Missing App configuration value: "{$valueName}"',kS["only-available-in-window"]="This method is available in a Window context.",kS["only-available-in-sw"]="This method is available in a service worker context.",kS["permission-default"]="The notification permission was not granted and dismissed instead.",kS["permission-blocked"]="The notification permission was not granted and blocked instead.",kS["unsupported-browser"]="This browser doesn't support the API's required to use the firebase SDK.",kS["failed-service-worker-registration"]="We are unable to register the default service worker. {$browserErrorMessage}",kS["token-subscribe-failed"]="A problem occured while subscribing the user to FCM: {$errorInfo}",kS["token-subscribe-no-token"]="FCM returned no token when subscribing the user to push.",kS["token-unsubscribe-failed"]="A problem occured while unsubscribing the user from FCM: {$errorInfo}",kS["token-update-failed"]="A problem occured while updating the user from FCM: {$errorInfo}",kS["token-update-no-token"]="FCM returned no token when updating the user to push.",kS["use-sw-after-get-token"]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",kS["invalid-sw-registration"]="The input to useServiceWorker() must be a ServiceWorkerRegistration.",kS["invalid-bg-handler"]="The input to setBackgroundMessageHandler() must be a function.",kS["invalid-vapid-key"]="The public VAPID key must be a string.",kS["use-vapid-key-after-get-token"]="The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used.",kS),XS=new Vc("messaging","Messaging",GS),YS="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function QS(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(String,O(e))).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function ZS(t){for(var e=(t+"=".repeat((4-t.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(e),r=new Uint8Array(n.length),i=0;i<n.length;++i)r[i]=n.charCodeAt(i);return r}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.PUSH_RECEIVED="push-received",t.NOTIFICATION_CLICKED="notification-clicked"}(KS||(KS={}));function JS(t){return k(this,void 0,void 0,(function(){var e,n,r=this;return x(this,(function(i){switch(i.label){case 0:return"databases"in indexedDB?[4,indexedDB.databases()]:[3,2];case 1:if(e=i.sent(),!e.map((function(t){return t.name})).includes("fcm_token_details_db"))return[2,null];i.label=2;case 2:return n=null,[4,iS("fcm_token_details_db",5,(function(e){return k(r,void 0,void 0,(function(){var r,i,o,s;return x(this,(function(a){switch(a.label){case 0:return e.oldVersion<2?[2]:e.objectStoreNames.contains("fcm_token_object_Store")?[4,(r=e.transaction.objectStore("fcm_token_object_Store")).index("fcmSenderId").get(t)]:[2];case 1:return i=a.sent(),[4,r.clear()];case 2:if(a.sent(),!i)return[2];if(2===e.oldVersion){if(!(o=i).auth||!o.p256dh||!o.endpoint)return[2];n={token:o.fcmToken,createTime:null!==(s=o.createTime)&&void 0!==s?s:Date.now(),subscriptionOptions:{auth:o.auth,p256dh:o.p256dh,endpoint:o.endpoint,swScope:o.swScope,vapidKey:"string"==typeof o.vapidKey?o.vapidKey:QS(o.vapidKey)}}}else(3===e.oldVersion||4===e.oldVersion)&&(n={token:(o=i).fcmToken,createTime:o.createTime,subscriptionOptions:{auth:QS(o.auth),p256dh:QS(o.p256dh),endpoint:o.endpoint,swScope:o.swScope,vapidKey:QS(o.vapidKey)}});return[2]}}))}))}))];case 3:return i.sent().close(),[4,oS("fcm_token_details_db")];case 4:return i.sent(),[4,oS("fcm_vapid_details_db")];case 5:return i.sent(),[4,oS("undefined")];case 6:return i.sent(),[2,$S(n)?n:null]}}))}))}function $S(t){if(!t||!t.subscriptionOptions)return!1;var e=t.subscriptionOptions;return"number"==typeof t.createTime&&t.createTime>0&&"string"==typeof t.token&&t.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var tk="firebase-messaging-store",ek=null;function nk(){return ek||(ek=iS("firebase-messaging-database",1,(function(t){switch(t.oldVersion){case 0:t.createObjectStore(tk)}}))),ek}function rk(t){return k(this,void 0,void 0,(function(){var e,n,r;return x(this,(function(i){switch(i.label){case 0:return e=sk(t),[4,nk()];case 1:return[4,i.sent().transaction(tk).objectStore(tk).get(e)];case 2:return(n=i.sent())?[2,n]:[3,3];case 3:return[4,JS(t.appConfig.senderId)];case 4:return(r=i.sent())?[4,ik(t,r)]:[3,6];case 5:return i.sent(),[2,r];case 6:return[2]}}))}))}function ik(t,e){return k(this,void 0,void 0,(function(){var n,r,i;return x(this,(function(o){switch(o.label){case 0:return n=sk(t),[4,nk()];case 1:return r=o.sent(),[4,(i=r.transaction(tk,"readwrite")).objectStore(tk).put(e,n)];case 2:return o.sent(),[4,i.complete];case 3:return o.sent(),[2,e]}}))}))}function ok(t){return k(this,void 0,void 0,(function(){var e,n,r;return x(this,(function(i){switch(i.label){case 0:return e=sk(t),[4,nk()];case 1:return n=i.sent(),[4,(r=n.transaction(tk,"readwrite")).objectStore(tk).delete(e)];case 2:return i.sent(),[4,r.complete];case 3:return i.sent(),[2]}}))}))}function sk(t){return t.appConfig.appId}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ak(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s,a;return x(this,(function(u){switch(u.label){case 0:return[4,hk(t)];case 1:n=u.sent(),r=fk(e),i={method:"POST",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(lk(t.appConfig),i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),XS.create("token-subscribe-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,XS.create("token-subscribe-failed",{errorInfo:a});if(!o.token)throw XS.create("token-subscribe-no-token");return[2,o.token]}}))}))}function uk(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s,a;return x(this,(function(u){switch(u.label){case 0:return[4,hk(t)];case 1:n=u.sent(),r=fk(e.subscriptionOptions),i={method:"PATCH",headers:n,body:JSON.stringify(r)},u.label=2;case 2:return u.trys.push([2,5,,6]),[4,fetch(lk(t.appConfig)+"/"+e.token,i)];case 3:return[4,u.sent().json()];case 4:return o=u.sent(),[3,6];case 5:throw s=u.sent(),XS.create("token-update-failed",{errorInfo:s});case 6:if(o.error)throw a=o.error.message,XS.create("token-update-failed",{errorInfo:a});if(!o.token)throw XS.create("token-update-no-token");return[2,o.token]}}))}))}function ck(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o,s;return x(this,(function(a){switch(a.label){case 0:return[4,hk(t)];case 1:n=a.sent(),r={method:"DELETE",headers:n},a.label=2;case 2:return a.trys.push([2,5,,6]),[4,fetch(lk(t.appConfig)+"/"+e,r)];case 3:return[4,a.sent().json()];case 4:if((i=a.sent()).error)throw o=i.error.message,XS.create("token-unsubscribe-failed",{errorInfo:o});return[3,6];case 5:throw s=a.sent(),XS.create("token-unsubscribe-failed",{errorInfo:s});case 6:return[2]}}))}))}function lk(t){return"https://fcmregistrations.googleapis.com/v1/projects/"+t.projectId+"/registrations"}function hk(t){var e=t.appConfig,n=t.installations;return k(this,void 0,void 0,(function(){var t;return x(this,(function(r){switch(r.label){case 0:return[4,n.getToken()];case 1:return t=r.sent(),[2,new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e.apiKey,"x-goog-firebase-installations-auth":"FIS "+t})]}}))}))}function fk(t){var e=t.p256dh,n=t.auth,r=t.endpoint,i=t.vapidKey,o={web:{endpoint:r,auth:n,p256dh:e}};return i!==YS&&(o.web.applicationPubKey=i),o}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pk(t,e,n){return k(this,void 0,void 0,(function(){var r,i,o,s;return x(this,(function(a){switch(a.label){case 0:if("granted"!==Notification.permission)throw XS.create("permission-blocked");return[4,yk(e,n)];case 1:return r=a.sent(),[4,rk(t)];case 2:return i=a.sent(),o={vapidKey:n,swScope:e.scope,endpoint:r.endpoint,auth:QS(r.getKey("auth")),p256dh:QS(r.getKey("p256dh"))},i?[3,3]:[2,gk(t,o)];case 3:if(u=i.subscriptionOptions,l=(c=o).vapidKey===u.vapidKey,h=c.endpoint===u.endpoint,f=c.auth===u.auth,p=c.p256dh===u.p256dh,l&&h&&f&&p)return[3,8];a.label=4;case 4:return a.trys.push([4,6,,7]),[4,ck(t,i.token)];case 5:return a.sent(),[3,7];case 6:return s=a.sent(),console.warn(s),[3,7];case 7:return[2,gk(t,o)];case 8:return Date.now()>=i.createTime+6048e5?[2,vk({token:i.token,createTime:Date.now(),subscriptionOptions:o},t,e)]:[2,i.token];case 9:return[2]}var u,c,l,h,f,p;
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}))}))}function dk(t,e){return k(this,void 0,void 0,(function(){var n,r;return x(this,(function(i){switch(i.label){case 0:return[4,rk(t)];case 1:return(n=i.sent())?[4,ck(t,n.token)]:[3,4];case 2:return i.sent(),[4,ok(t)];case 3:i.sent(),i.label=4;case 4:return[4,e.pushManager.getSubscription()];case 5:return(r=i.sent())?[2,r.unsubscribe()]:[2,!0]}}))}))}function vk(t,e,n){return k(this,void 0,void 0,(function(){var r,i,o;return x(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,5]),[4,uk(e,t)];case 1:return r=s.sent(),i=S(S({},t),{token:r,createTime:Date.now()}),[4,ik(e,i)];case 2:return s.sent(),[2,r];case 3:return o=s.sent(),[4,dk(e,n)];case 4:throw s.sent(),o;case 5:return[2]}}))}))}function gk(t,e){return k(this,void 0,void 0,(function(){var n,r;return x(this,(function(i){switch(i.label){case 0:return[4,ak(t,e)];case 1:return n=i.sent(),r={token:n,createTime:Date.now(),subscriptionOptions:e},[4,ik(t,r)];case 2:return i.sent(),[2,r.token]}}))}))}function yk(t,e){return k(this,void 0,void 0,(function(){var n;return x(this,(function(r){switch(r.label){case 0:return[4,t.pushManager.getSubscription()];case 1:return(n=r.sent())?[2,n]:[2,t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:ZS(e)})]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function mk(t){return"object"==typeof t&&!!t&&"google.c.a.c_id"in t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(t){return new Promise((function(e){setTimeout(e,t)}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wk=function(){function t(t){var e=this;this.firebaseDependencies=t,this.isOnBackgroundMessageUsed=null,this.vapidKey=null,this.bgMessageHandler=null,self.addEventListener("push",(function(t){t.waitUntil(e.onPush(t))})),self.addEventListener("pushsubscriptionchange",(function(t){t.waitUntil(e.onSubChange(t))})),self.addEventListener("notificationclick",(function(t){t.waitUntil(e.onNotificationClick(t))}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.setBackgroundMessageHandler=function(t){if(this.isOnBackgroundMessageUsed=!1,!t||"function"!=typeof t)throw XS.create("invalid-bg-handler");this.bgMessageHandler=t},t.prototype.onBackgroundMessage=function(t){var e=this;return this.isOnBackgroundMessageUsed=!0,this.bgMessageHandler=t,function(){e.bgMessageHandler=null}},t.prototype.getToken=function(){var t,e;return k(this,void 0,void 0,(function(){var n;return x(this,(function(r){switch(r.label){case 0:return this.vapidKey?[3,2]:[4,rk(this.firebaseDependencies)];case 1:n=r.sent(),this.vapidKey=null!==(e=null===(t=null==n?void 0:n.subscriptionOptions)||void 0===t?void 0:t.vapidKey)&&void 0!==e?e:YS,r.label=2;case 2:return[2,pk(this.firebaseDependencies,self.registration,this.vapidKey)]}}))}))},t.prototype.deleteToken=function(){return dk(this.firebaseDependencies,self.registration)},t.prototype.requestPermission=function(){throw XS.create("only-available-in-window")},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw XS.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw XS.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(){throw XS.create("only-available-in-window")},t.prototype.onMessage=function(){throw XS.create("only-available-in-window")},t.prototype.onTokenRefresh=function(){throw XS.create("only-available-in-window")},t.prototype.onPush=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i;return x(this,(function(o){switch(o.label){case 0:return(e=function(t){var e=t.data;if(!e)return null;try{return e.json()}catch(t){return null}}(t))?[4,Ik()]:(console.debug("FirebaseMessaging: failed to get parsed MessagePayload from the PushEvent. Skip handling the push."),[2]);case 1:return function(t){return t.some((function(t){return"visible"===t.visibilityState&&!t.url.startsWith("chrome-extension://")}))}(n=o.sent())?[2,Ck(n,e)]:(r=!1,e.notification?[4,Tk(_k(e))]:[3,3]);case 2:o.sent(),r=!0,o.label=3;case 3:return!0===r&&!1===this.isOnBackgroundMessageUsed||this.bgMessageHandler&&(i=function(t){var e={from:t.from,collapseKey:t.collapse_key};return function(t,e){if(!e.notification)return;t.notification={};var n=e.notification.title;n&&(t.notification.title=n);var r=e.notification.body;r&&(t.notification.body=r);var i=e.notification.image;i&&(t.notification.image=i)}(e,t),function(t,e){if(!e.data)return;t.data=e.data}(e,t),function(t,e){if(!e.fcmOptions)return;t.fcmOptions={};var n=e.fcmOptions.link;n&&(t.fcmOptions.link=n);var r=e.fcmOptions.analytics_label;r&&(t.fcmOptions.analyticsLabel=r)}(e,t),e}(e),"function"==typeof this.bgMessageHandler?this.bgMessageHandler(i):this.bgMessageHandler.next(i)),[2]}}))}))},t.prototype.onSubChange=function(t){var e,n;return k(this,void 0,void 0,(function(){var r;return x(this,(function(i){switch(i.label){case 0:return t.newSubscription?[3,2]:[4,dk(this.firebaseDependencies,self.registration)];case 1:return i.sent(),[2];case 2:return[4,rk(this.firebaseDependencies)];case 3:return r=i.sent(),[4,dk(this.firebaseDependencies,self.registration)];case 4:return i.sent(),[4,pk(this.firebaseDependencies,self.registration,null!==(n=null===(e=null==r?void 0:r.subscriptionOptions)||void 0===e?void 0:e.vapidKey)&&void 0!==n?n:YS)];case 5:return i.sent(),[2]}}))}))},t.prototype.onNotificationClick=function(t){var e,n;return k(this,void 0,void 0,(function(){var r,i,o;return x(this,(function(s){switch(s.label){case 0:return(r=null===(n=null===(e=t.notification)||void 0===e?void 0:e.data)||void 0===n?void 0:n.FCM_MSG)?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),(i=function(t){var e,n,r,i=null!==(n=null===(e=t.fcmOptions)||void 0===e?void 0:e.link)&&void 0!==n?n:null===(r=t.notification)||void 0===r?void 0:r.click_action;if(i)return i;return mk(t.data)?self.location.origin:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(r))?[4,Ek(i)]:[2]):[2];case 1:return(o=s.sent())?[3,4]:[4,self.clients.openWindow(i)];case 2:return o=s.sent(),[4,bk(3e3)];case 3:return s.sent(),[3,6];case 4:return[4,o.focus()];case 5:o=s.sent(),s.label=6;case 6:return o?(r.messageType=KS.NOTIFICATION_CLICKED,r.isFirebaseMessaging=!0,[2,o.postMessage(r)]):[2]}}))}))},t}();function _k(t){var e,n=S({},t.notification);return n.data=((e={}).FCM_MSG=t,e),n}function Ek(t){return k(this,void 0,void 0,(function(){var e,n,r,i,o,s,a;return x(this,(function(u){switch(u.label){case 0:return e=new URL(t,self.location.href),[4,Ik()];case 1:n=u.sent();try{for(r=A(n),i=r.next();!i.done;i=r.next())if(o=i.value,new URL(o.url,self.location.href).host===e.host)return[2,o]}catch(t){s={error:t}}finally{try{i&&!i.done&&(a=r.return)&&a.call(r)}finally{if(s)throw s.error}}return[2,null]}}))}))}function Ck(t,e){var n,r;e.isFirebaseMessaging=!0,e.messageType=KS.PUSH_RECEIVED;try{for(var i=A(t),o=i.next();!o.done;o=i.next()){o.value.postMessage(e)}}catch(t){n={error:t}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}}function Ik(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function Tk(t){var e,n=t.actions,r=Notification.maxActions;return n&&r&&n.length>r&&console.warn("This browser only supports "+r+" actions. The remaining actions will not be displayed."),self.registration.showNotification(null!==(e=t.title)&&void 0!==e?e:"",t)}var Sk=function(){function t(t){var e=this;this.firebaseDependencies=t,this.vapidKey=null,this.onMessageCallback=null,navigator.serviceWorker.addEventListener("message",(function(t){return e.messageEventListener(t)}))}return Object.defineProperty(t.prototype,"app",{get:function(){return this.firebaseDependencies.app},enumerable:!1,configurable:!0}),t.prototype.messageEventListener=function(t){return k(this,void 0,void 0,(function(){var e,n;return x(this,(function(r){switch(r.label){case 0:return(e=t.data).isFirebaseMessaging?(this.onMessageCallback&&e.messageType===KS.PUSH_RECEIVED&&("function"==typeof this.onMessageCallback?this.onMessageCallback(function(t){return delete t.messageType,delete t.isFirebaseMessaging,t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(Object.assign({},e))):this.onMessageCallback.next(Object.assign({},e))),mk(n=e.data)&&"1"===n["google.c.a.e"]?[4,this.logEvent(e.messageType,n)]:[3,2]):[2];case 1:r.sent(),r.label=2;case 2:return[2]}}))}))},t.prototype.getVapidKey=function(){return this.vapidKey},t.prototype.getSwReg=function(){return this.swRegistration},t.prototype.getToken=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return"default"!==Notification.permission?[3,2]:[4,Notification.requestPermission()];case 1:e.sent(),e.label=2;case 2:if("granted"!==Notification.permission)throw XS.create("permission-blocked");return[4,this.updateVapidKey(null==t?void 0:t.vapidKey)];case 3:return e.sent(),[4,this.updateSwReg(null==t?void 0:t.serviceWorkerRegistration)];case 4:return e.sent(),[2,pk(this.firebaseDependencies,this.swRegistration,this.vapidKey)]}}))}))},t.prototype.updateVapidKey=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){return t?this.vapidKey=t:this.vapidKey||(this.vapidKey=YS),[2]}))}))},t.prototype.updateSwReg=function(t){return k(this,void 0,void 0,(function(){return x(this,(function(e){switch(e.label){case 0:return t||this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:e.sent(),e.label=2;case 2:if(!t&&this.swRegistration)return[2];if(!(t instanceof ServiceWorkerRegistration))throw XS.create("invalid-sw-registration");return this.swRegistration=t,[2]}}))}))},t.prototype.registerDefaultSw=function(){return k(this,void 0,void 0,(function(){var t,e;return x(this,(function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),t=this,[4,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"})];case 1:return t.swRegistration=n.sent(),this.swRegistration.update().catch((function(){})),[3,3];case 2:throw e=n.sent(),XS.create("failed-service-worker-registration",{browserErrorMessage:e.message});case 3:return[2]}}))}))},t.prototype.deleteToken=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return this.swRegistration?[3,2]:[4,this.registerDefaultSw()];case 1:t.sent(),t.label=2;case 2:return[2,dk(this.firebaseDependencies,this.swRegistration)]}}))}))},t.prototype.requestPermission=function(){return k(this,void 0,void 0,(function(){var t;return x(this,(function(e){switch(e.label){case 0:return"granted"===Notification.permission?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?XS.create("permission-blocked"):XS.create("permission-default")}}))}))},t.prototype.usePublicVapidKey=function(t){if(null!==this.vapidKey)throw XS.create("use-vapid-key-after-get-token");if("string"!=typeof t||0===t.length)throw XS.create("invalid-vapid-key");this.vapidKey=t},t.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw XS.create("invalid-sw-registration");if(this.swRegistration)throw XS.create("use-sw-after-get-token");this.swRegistration=t},t.prototype.onMessage=function(t){var e=this;return this.onMessageCallback=t,function(){e.onMessageCallback=null}},t.prototype.setBackgroundMessageHandler=function(){throw XS.create("only-available-in-sw")},t.prototype.onBackgroundMessage=function(){throw XS.create("only-available-in-sw")},t.prototype.onTokenRefresh=function(){return function(){}},t.prototype.logEvent=function(t,e){return k(this,void 0,void 0,(function(){var n;return x(this,(function(r){switch(r.label){case 0:return n=function(t){switch(t){case KS.NOTIFICATION_CLICKED:return"notification_open";case KS.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(t),[4,this.firebaseDependencies.analyticsProvider.get()];case 1:return r.sent().logEvent(n,{message_id:e["google.c.a.c_id"],message_name:e["google.c.a.c_l"],message_time:e["google.c.a.ts"],message_device_time:Math.floor(Date.now()/1e3)}),[2]}}))}))},t}();function kk(t){return XS.create("missing-app-config-values",{valueName:t})}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xk={isSupported:Ak};function Ak(){return self&&"ServiceWorkerGlobalScope"in self?"indexedDB"in self&&null!==indexedDB&&"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey"):"indexedDB"in window&&null!==indexedDB&&navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Al.INTERNAL.registerComponent(new il("messaging",(function(t){var e=t.getProvider("app").getImmediate(),n={app:e,appConfig:function(t){var e,n;if(!t||!t.options)throw kk("App Configuration Object");if(!t.name)throw kk("App Name");var r=t.options;try{for(var i=A(["projectId","apiKey","appId","messagingSenderId"]),o=i.next();!o.done;o=i.next()){var s=o.value;if(!r[s])throw kk(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}return{appName:t.name,projectId:r.projectId,apiKey:r.apiKey,appId:r.appId,senderId:r.messagingSenderId}}(e),installations:t.getProvider("installations").getImmediate(),analyticsProvider:t.getProvider("analytics-internal")};if(!Ak())throw XS.create("unsupported-browser");return self&&"ServiceWorkerGlobalScope"in self?new wk(n):new Sk(n)}),"PUBLIC").setServiceProps(xk));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Nk=function(){function t(t,e){this.code_=Yk(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return Yk(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.serverResponse_?this.message_+"\n"+this.serverResponse_:this.message_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!1,configurable:!0}),t}(),Ok="unknown",Rk="object-not-found",Dk="quota-exceeded",Pk="unauthenticated",Mk="unauthorized",Lk="retry-limit-exceeded",Fk="canceled",jk="invalid-url",Vk="invalid-default-bucket",Uk="cannot-slice-blob",Bk="server-file-wrong-size",Hk="no-download-url",zk="invalid-argument",qk="invalid-argument-count",Wk="app-deleted",Kk="invalid-root-operation",Gk="invalid-format",Xk="internal-error";function Yk(t){return"storage/"+t}function Qk(){return new Nk(Ok,"An unknown error occurred, please check the error payload for server response.")}function Zk(){return new Nk(Fk,"User canceled the upload/download.")}function Jk(){return new Nk(Uk,"Cannot slice blob for upload. Please retry the upload.")}function $k(){return new Nk(Hk,"The given file does not have any download URLs.")}function tx(t,e,n){return new Nk(zk,"Invalid argument in `"+e+"` at index "+t+": "+n)}function ex(){return new Nk(Wk,"The Firebase app was deleted.")}function nx(t,e){return new Nk(Gk,"String does not match format '"+t+"': "+e)}function rx(t){throw new Nk(Xk,"Internal error: "+t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ix={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function ox(t){switch(t){case ix.RAW:case ix.BASE64:case ix.BASE64URL:case ix.DATA_URL:return;default:throw"Expected one of the event types: ["+ix.RAW+", "+ix.BASE64+", "+ix.BASE64URL+", "+ix.DATA_URL+"]."}}var sx=function(t,e){this.data=t,this.contentType=e||null};function ax(t,e){switch(t){case ix.RAW:return new sx(ux(e));case ix.BASE64:case ix.BASE64URL:return new sx(cx(t,e));case ix.DATA_URL:return new sx((n=new lx(e)).base64?cx(ix.BASE64,n.rest):function(t){var e;try{e=decodeURIComponent(t)}catch(t){throw nx(ix.DATA_URL,"Malformed data URL.")}return ux(e)}(n.rest),function(t){return new lx(t).contentType}(e))}var n;throw Qk()}function ux(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r))if(n<t.length-1&&56320==(64512&t.charCodeAt(n+1)))r=65536|(1023&r)<<10|1023&t.charCodeAt(++n),e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r);else e.push(239,191,189);else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function cx(t,e){switch(t){case ix.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r)throw nx(t,"Invalid character '"+(n?"-":"_")+"' found: is it base64url encoded?");break;case ix.BASE64URL:var i=-1!==e.indexOf("+"),o=-1!==e.indexOf("/");if(i||o)throw nx(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw nx(t,"Invalid character found")}for(var a=new Uint8Array(s.length),u=0;u<s.length;u++)a[u]=s.charCodeAt(u);return a}var lx=function(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw nx(ix.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=(r=n,i=";base64",r.length>=i.length&&r.substring(r.length-i.length)===i),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1);var r,i;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */};var hx,fx={STATE_CHANGED:"state_changed"},px="running",dx="pausing",vx="paused",gx="success",yx="canceling",mx="canceled",bx="error",wx={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function _x(t){switch(t){case px:case dx:case yx:return wx.RUNNING;case vx:return wx.PAUSED;case gx:return wx.SUCCESS;case mx:return wx.CANCELED;case bx:default:return wx.ERROR}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(t){return null!=t}function Cx(t){return void 0!==t}function Ix(t){return"function"==typeof t}function Tx(t){return"object"==typeof t}function Sx(t){return Tx(t)&&null!==t}function kx(t){return"string"==typeof t||t instanceof String}function xx(t){return Ax(t)&&Number.isInteger(t)}function Ax(t){return"number"==typeof t||t instanceof Number}function Nx(t){return Ox()&&t instanceof Blob}function Ox(){return"undefined"!=typeof Blob}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(hx||(hx={}));
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Rx=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=hx.NO_ERROR,this.sendPromise_=new Promise((function(e){t.xhr_.addEventListener("abort",(function(){t.errorCode_=hx.ABORT,e(t)})),t.xhr_.addEventListener("error",(function(){t.errorCode_=hx.NETWORK_ERROR,e(t)})),t.xhr_.addEventListener("load",(function(){e(t)}))}))}return t.prototype.send=function(t,e,n,r){if(this.sent_)throw rx("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),Ex(r))for(var i in r)r.hasOwnProperty(i)&&this.xhr_.setRequestHeader(i,r[i].toString());return Ex(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw rx("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw rx("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw rx("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){Ex(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){Ex(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),Dx=function(){function t(){}return t.prototype.createXhrIo=function(){return new Rx},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function Px(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Mx(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Px();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(Ox())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var Lx=function(){function t(t,e){var n=0,r="";Nx(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(Nx(this.data_)){var r=function(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}(this.data_,e,n);return null===r?null:new t(r)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(Ox()){var r=e.map((function(e){return e instanceof t?e.data_:e}));return new t(Mx.apply(null,r))}var i=e.map((function(t){return kx(t)?ax(ix.RAW,t).data:t.data_})),o=0;i.forEach((function(t){o+=t.byteLength}));var s=new Uint8Array(o),a=0;return i.forEach((function(t){for(var e=0;e<t.length;e++)s[a++]=t[e]})),new t(s,!0)},t.prototype.uploadData=function(){return this.data_},t}(),Fx=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRoot",{get:function(){return 0===this.path.length},enumerable:!1,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw new Nk(Vk,"Invalid default bucket '"+e+"'.")},t.makeFromUrl=function(e){var n=null;var r=new RegExp("^gs://([A-Za-z0-9.\\-_]+)(/(.*))?$","i");function i(t){t.path_=decodeURIComponent(t.path)}for(var o="firebasestorage.googleapis.com".replace(/[.]/g,"\\."),s=[{regex:r,indices:{bucket:1,path:3},postModify:function(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}},{regex:new RegExp("^https?://"+o+"/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-_]+)/o(/([^?#]*).*)?$","i"),indices:{bucket:1,path:3},postModify:i},{regex:new RegExp("^https?://(?:storage.googleapis.com|storage.cloud.google.com)/([A-Za-z0-9.\\-_]+)/([^?#]*)","i"),indices:{bucket:1,path:2},postModify:i}],a=0;a<s.length;a++){var u=s[a],c=u.regex.exec(e);if(c){var l=c[u.indices.bucket],h=c[u.indices.path];h||(h=""),n=new t(l,h),u.postModify(n);break}}if(null==n)throw function(t){return new Nk(jk,"Invalid URL '"+t+"'.")}(e);return n},t}();
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function jx(t){var e;try{e=JSON.parse(t)}catch(t){return null}return function(t){return Tx(t)&&!Array.isArray(t)}(e)?e:null}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t,e){var n=e.split("/").filter((function(t){return t.length>0})).join("/");return 0===t.length?n:t+"/"+n}function Ux(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bx(t){return"https://firebasestorage.googleapis.com/v0"+t}function Hx(t){var e=encodeURIComponent,n="?";for(var r in t){if(t.hasOwnProperty(r))n=n+(e(r)+"="+e(t[r]))+"&"}return n=n.slice(0,-1)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zx(t,e){return e}var qx=function(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||zx},Wx=null;function Kx(){if(Wx)return Wx;var t=[];t.push(new qx("bucket")),t.push(new qx("generation")),t.push(new qx("metageneration")),t.push(new qx("name","fullPath",!0));var e=new qx("name");e.xform=function(t,e){return function(t){return!kx(t)||t.length<2?t:Ux(t)}(e)},t.push(e);var n=new qx("size");return n.xform=function(t,e){return Ex(e)?Number(e):e},t.push(n),t.push(new qx("timeCreated")),t.push(new qx("updated")),t.push(new qx("md5Hash",null,!0)),t.push(new qx("cacheControl",null,!0)),t.push(new qx("contentDisposition",null,!0)),t.push(new qx("contentEncoding",null,!0)),t.push(new qx("contentLanguage",null,!0)),t.push(new qx("contentType",null,!0)),t.push(new qx("metadata","customMetadata",!0)),Wx=t}function Gx(t,e,n){for(var r={type:"file"},i=n.length,o=0;o<i;o++){var s=n[o];r[s.local]=s.xform(r,e[s.server])}return function(t,e){Object.defineProperty(t,"ref",{get:function(){var n=t.bucket,r=t.fullPath,i=new Fx(n,r);return e.makeStorageReference(i)}})}(r,t),r}function Xx(t,e,n){var r=jx(e);return null===r?null:Gx(t,r,n)}function Yx(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function Qx(t){if(!Tx(t)||!t)throw"Expected Metadata object.";for(var e in t)if(t.hasOwnProperty(e)){var n=t[e];if("customMetadata"===e){if(!Tx(n))throw"Expected object for 'customMetadata' mapping."}else if(Sx(n))throw"Mapping for '"+e+"' cannot be an object."}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zx(t,e,n){var r=jx(n);return null===r?null:function(t,e,n){var r={prefixes:[],items:[],nextPageToken:n.nextPageToken};if(n.prefixes)for(var i=0,o=n.prefixes;i<o.length;i++){var s=o[i].replace(/\/$/,""),a=t.makeStorageReference(new Fx(e,s));r.prefixes.push(a)}if(n.items)for(var u=0,c=n.items;u<c.length;u++){var l=c[u];a=t.makeStorageReference(new Fx(e,l.name));r.items.push(a)}return r}(t,e,r)}function Jx(t){if(!Tx(t)||!t)throw"Expected ListOptions object.";for(var e in t)if("maxResults"===e){if(!xx(t.maxResults)||t.maxResults<=0)throw"Expected maxResults to be a positive number.";if(t.maxResults>1e3)throw"Expected maxResults to be less than or equal to 1000."}else{if("pageToken"!==e)throw"Unknown option: "+e;if(t.pageToken&&!kx(t.pageToken))throw"Expected pageToken to be string."}}var $x=function(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tA(t){if(!t)throw Qk()}function eA(t,e){return function(n,r){var i=Xx(t,r,e);return tA(null!==i),i}}function nA(t,e){return function(n,r){var i=Xx(t,r,e);return tA(null!==i),function(t,e){var n=jx(e);if(null===n)return null;if(!kx(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map((function(e){var n=t.bucket,r=t.fullPath;return Bx("/b/"+i(n)+"/o/"+i(r))+Hx({alt:"media",token:e})}))[0]}(i,r)}}function rA(t){return function(e,n){var r,i,o;return 401===e.getStatus()?r=new Nk(Pk,"User is not authenticated, please authenticate using Firebase Authentication and try again."):402===e.getStatus()?(o=t.bucket,r=new Nk(Dk,"Quota for bucket '"+o+"' exceeded, please view quota on https://firebase.google.com/pricing/.")):403===e.getStatus()?(i=t.path,r=new Nk(Mk,"User does not have permission to access '"+i+"'.")):r=n,r.setServerResponseProp(n.serverResponseProp()),r}}function iA(t){var e=rA(t);return function(n,r){var i,o=e(n,r);return 404===n.getStatus()&&(i=t.path,o=new Nk(Rk,"Object '"+i+"' does not exist.")),o.setServerResponseProp(r.serverResponseProp()),o}}function oA(t,e,n){var r=Bx(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new $x(r,"GET",eA(t,n),i);return o.errorHandler=iA(e),o}function sA(t,e,n,r,i){var o={};e.isRoot?o.prefix="":o.prefix=e.path+"/",n&&n.length>0&&(o.delimiter=n),r&&(o.pageToken=r),i&&(o.maxResults=i);var s=Bx(e.bucketOnlyServerUrl()),a=t.maxOperationRetryTime,u=new $x(s,"GET",function(t,e){return function(n,r){var i=Zx(t,e,r);return tA(null!==i),i}}(t,e.bucket),a);return u.urlParams=o,u.errorHandler=rA(e),u}function aA(t,e,n){var r=Bx(e.fullServerUrl()),i=t.maxOperationRetryTime,o=new $x(r,"GET",nA(t,n),i);return o.errorHandler=iA(e),o}function uA(t,e,n,r){var i=Bx(e.fullServerUrl()),o=Yx(n,r),s=t.maxOperationRetryTime,a=new $x(i,"PATCH",eA(t,r),s);return a.headers={"Content-Type":"application/json; charset=utf-8"},a.body=o,a.errorHandler=iA(e),a}function cA(t,e){var n=Bx(e.fullServerUrl()),r=t.maxOperationRetryTime;var i=new $x(n,"DELETE",(function(t,e){}),r);return i.successCodes=[200,204],i.errorHandler=iA(e),i}function lA(t,e,n){var r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=function(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}(null,e)),r}var hA=function(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null};function fA(t,e){var n=null;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){tA(!1)}return tA(!!n&&-1!==(e||["active"]).indexOf(n)),n}function pA(t,e,n,r,i,o,s,a){var u=new hA(0,0);if(s?(u.current=s.current,u.total=s.total):(u.current=0,u.total=r.size()),r.size()!==u.total)throw new Nk(Bk,"Server recorded incorrect upload file size, please retry the upload.");var c=u.total-u.current,l=c;i>0&&(l=Math.min(l,i));var h=u.current,f=h+l,p={"X-Goog-Upload-Command":l===c?"upload, finalize":"upload","X-Goog-Upload-Offset":u.current},d=r.slice(h,f);if(null===d)throw Jk();var v=e.maxUploadRetryTime,g=new $x(n,"POST",(function(t,n){var i,s=fA(t,["active","final"]),a=u.current+l,c=r.size();return i="final"===s?eA(e,o)(t,n):null,new hA(a,c,"final"===s,i)}),v);return g.headers=p,g.body=d.uploadData(),g.progressCallback=a||null,g.errorHandler=rA(t),g}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dA=function(t,e,n){if(Ix(t)||Ex(e)||Ex(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}},vA=function(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function gA(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}var s,a,u,c,l,h;if(!(r<=n.length&&n.length<=i))throw s=r,a=i,u=t,c=n.length,s===a?(l=s,h=1===s?"argument":"arguments"):(l="between "+s+" and "+a,h="arguments"),new Nk(qk,"Invalid argument count in `"+u+"`: Expected "+l+" "+h+", received "+c+".");for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?tx(o,t,e.message):tx(o,t,e)}}var yA=function(t,e){var n=this;this.validator=function(e){n.optional&&!Cx(e)||t(e)},this.optional=!!e};function mA(t,e){function n(t){if(!kx(t))throw"Expected string."}var r,i,o;return t?(i=n,o=t,r=function(t){i(t),o(t)}):r=n,new yA(r,e)}function bA(){return new yA((function(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||Ox()&&t instanceof Blob))throw"Expected Blob or File."}))}function wA(t){return new yA(Qx,t)}function _A(t){return new yA(Jx,t)}function EA(){return new yA((function(t){if(!(Ax(t)&&t>=0))throw"Expected a number 0 or greater."}))}function CA(t,e){return new yA((function(e){if(!(null===e||Ex(e)&&e instanceof Object))throw"Expected an Object.";null!=t&&t(e)}),e)}function IA(t){return new yA((function(t){if(!(null===t||Ix(t)))throw"Expected a Function."}),t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TA(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];Promise.resolve().then((function(){return t.apply(void 0,e)}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var SA=function(){function t(t,e,n,r,i,o){var s=this;void 0===o&&(o=null),this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.service_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=px,this.errorHandler_=function(t){s.request_=null,s.chunkMultiplier_=1,t.codeEquals(Fk)?(s.needToFetchStatus_=!0,s.completeTransitions_()):(s.error_=t,s.transition_(bx))},this.metadataErrorHandler_=function(t){s.request_=null,t.codeEquals(Fk)?s.completeTransitions_():(s.error_=t,s.transition_(bx))},this.promise_=new Promise((function(t,e){s.resolve_=t,s.reject_=e,s.start_()})),this.promise_.then(null,(function(){}))}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n){return t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===px&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.service_.getAuthToken().then((function(n){switch(e.state_){case px:t(n);break;case yx:e.transition_(mx);break;case dx:e.transition_(vx)}}))},t.prototype.createResumable_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s=lA(e,r,i),a={name:s.fullPath},u=Bx(o),c={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=Yx(s,n),h=t.maxUploadRetryTime,f=new $x(u,"POST",(function(t){var e;fA(t);try{e=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){tA(!1)}return tA(kx(e)),e}),h);return f.urlParams=a,f.headers=c,f.body=l,f.errorHandler=rA(e),f}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_((function(n){var r=function(t,e,n,r){var i=t.maxUploadRetryTime,o=new $x(n,"POST",(function(t){var e=fA(t,["active","final"]),n=null;try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){tA(!1)}n||tA(!1);var i=Number(n);return tA(!isNaN(i)),new hA(i,r.size(),"final"===e)}),i);return o.headers={"X-Goog-Upload-Command":"query"},o.errorHandler=rA(e),o}(t.service_,t.location_,e,t.blob_),i=t.service_.makeRequest(r,n);t.request_=i,i.getPromise().then((function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new hA(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_((function(i){var o;try{o=pA(t.location_,t.service_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(bx)}var s=t.service_.makeRequest(o,i);t.request_=s,s.getPromise().then((function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(gx)):t.completeTransitions_()}),t.errorHandler_)}))},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_((function(e){var n=oA(t.service_,t.location_,t.mappings_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.transition_(gx)}),t.metadataErrorHandler_)}))},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_((function(e){var n=function(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),s={"X-Goog-Upload-Protocol":"multipart"},a=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();s["Content-Type"]="multipart/related; boundary="+a;var u=lA(e,r,i),c="--"+a+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Yx(u,n)+"\r\n--"+a+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+a+"--",h=Lx.getBlob(c,r,l);if(null===h)throw Jk();var f={name:u.fullPath},p=Bx(o),d=t.maxUploadRetryTime,v=new $x(p,"POST",eA(t,n),d);return v.urlParams=f,v.headers=s,v.body=h.uploadData(),v.errorHandler=rA(e),v}(t.service_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.service_.makeRequest(n,e);t.request_=r,r.getPromise().then((function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(gx)}),t.errorHandler_)}))},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case yx:case dx:this.state_=t,null!==this.request_&&this.request_.cancel();break;case px:var e=this.state_===vx;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case vx:this.state_=t,this.notifyObservers_();break;case mx:this.error_=Zk(),this.state_=t,this.notifyObservers_();break;case bx:case gx:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case dx:this.transition_(vx);break;case yx:this.transition_(mx);break;case px:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=_x(this.state_);return new vA(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!1,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(){if(t!==fx.STATE_CHANGED)throw"Expected one of the event types: ["+fx.STATE_CHANGED+"]."}var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",s=IA(!0).validator,a=CA(null,!0).validator;function u(t){try{return void s(t)}catch(t){}try{if(a(t),!(Cx(t.next)||Cx(t.error)||Cx(t.complete)))throw"";return}catch(t){throw o}}var c=[mA(i),CA(u,!0),IA(!0),IA(!0)];gA("on",c,arguments);var l=this;function h(t){return function(e,n,i){null!==t&&gA("on",t,arguments);var o=new dA(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}}function f(t){if(null===t)throw o;u(t)}var p=[CA(f),IA(!0),IA(!0)],d=!(Cx(e)||Cx(n)||Cx(r));return d?h(p):h(null)(e,n,r)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){var e=this.observers_.indexOf(t);-1!==e&&this.observers_.splice(e,1)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),this.observers_.slice().forEach((function(e){t.notifyObserver_(e)}))},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(_x(this.state_)){case wx.SUCCESS:TA(this.resolve_.bind(null,this.snapshot))();break;case wx.CANCELED:case wx.ERROR:TA(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(_x(this.state_)){case wx.RUNNING:case wx.PAUSED:t.next&&TA(t.next.bind(t,this.snapshot))();break;case wx.SUCCESS:t.complete&&TA(t.complete.bind(t))();break;case wx.CANCELED:case wx.ERROR:t.error&&TA(t.error.bind(t,this.error_))();break;default:t.error&&TA(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){gA("resume",[],arguments);var t=this.state_===vx||this.state_===dx;return t&&this.transition_(px),t},t.prototype.pause=function(){gA("pause",[],arguments);var t=this.state_===px;return t&&this.transition_(dx),t},t.prototype.cancel=function(){gA("cancel",[],arguments);var t=this.state_===px||this.state_===dx;return t&&this.transition_(yx),t},t}(),kA=function(){function t(t,e){this.service=t,this.location=e instanceof Fx?e:Fx.makeFromUrl(e)}return t.prototype.toString=function(){return gA("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Kx()},t.prototype.child=function(t){gA("child",[mA()],arguments);var e=Vx(this.location.path,t),n=new Fx(this.location.bucket,e);return this.newRef(this.service,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=function(t){if(0===t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}(this.location.path);if(null===t)return null;var e=new Fx(this.location.bucket,t);return this.newRef(this.service,e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new Fx(this.location.bucket,"");return this.newRef(this.service,t)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return Ux(this.location.path)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.service},enumerable:!1,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),gA("put",[bA(),wA(!0)],arguments),this.throwIfRoot_("put"),new SA(this,this.service,this.location,this.mappings(),new Lx(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ix.RAW),gA("putString",[mA(),mA(ox,!0),wA(!0)],arguments),this.throwIfRoot_("putString");var r=ax(e,t),i=Object.assign({},n);return!Ex(i.contentType)&&Ex(r.contentType)&&(i.contentType=r.contentType),new SA(this,this.service,this.location,this.mappings(),new Lx(r.data,!0),i)},t.prototype.delete=function(){var t=this;return gA("delete",[],arguments),this.throwIfRoot_("delete"),this.service.getAuthToken().then((function(e){var n=cA(t.service,t.location);return t.service.makeRequest(n,e).getPromise()}))},t.prototype.listAll=function(){gA("listAll",[],arguments);var t={prefixes:[],items:[]};return this.listAllHelper(t).then((function(){return t}))},t.prototype.listAllHelper=function(t,e){return k(this,void 0,void 0,(function(){var n,r,i,o;return x(this,(function(s){switch(s.label){case 0:return n={pageToken:e},[4,this.list(n)];case 1:return r=s.sent(),(i=t.prefixes).push.apply(i,r.prefixes),(o=t.items).push.apply(o,r.items),null==r.nextPageToken?[3,3]:[4,this.listAllHelper(t,r.nextPageToken)];case 2:s.sent(),s.label=3;case 3:return[2]}}))}))},t.prototype.list=function(t){gA("list",[_A(!0)],arguments);var e=this;return this.service.getAuthToken().then((function(n){var r=t||{},i=sA(e.service,e.location,"/",r.pageToken,r.maxResults);return e.service.makeRequest(i,n).getPromise()}))},t.prototype.getMetadata=function(){var t=this;return gA("getMetadata",[],arguments),this.throwIfRoot_("getMetadata"),this.service.getAuthToken().then((function(e){var n=oA(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise()}))},t.prototype.updateMetadata=function(t){var e=this;return gA("updateMetadata",[wA()],arguments),this.throwIfRoot_("updateMetadata"),this.service.getAuthToken().then((function(n){var r=uA(e.service,e.location,t,e.mappings());return e.service.makeRequest(r,n).getPromise()}))},t.prototype.getDownloadURL=function(){var t=this;return gA("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL"),this.service.getAuthToken().then((function(e){var n=aA(t.service,t.location,t.mappings());return t.service.makeRequest(n,e).getPromise().then((function(t){if(null===t)throw $k();return t}))}))},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw function(t){return new Nk(Kk,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(t)},t}(),xA=function(){function t(t){this.promise_=Promise.reject(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var AA=function(){function t(t,e,n,r,i,o,s,a,u,c,l){var h=this;this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=s,this.errorCallback_=a,this.progressCallback_=c,this.timeout_=u,this.pool_=l,this.promise_=new Promise((function(t,e){h.resolve_=t,h.reject_=e,h.start_()}))}return t.prototype.start_=function(){var t=this;function e(e,n){var r,i=t.resolve_,o=t.reject_,s=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(s,s.getResponseText());Cx(a)?i(a):i()}catch(t){o(t)}else null!==s?((r=Qk()).setServerResponseProp(s.getResponseText()),t.errorCallback_?o(t.errorCallback_(s,r)):o(r)):n.canceled?o(r=t.appDelete_?ex():Zk()):o(r=new Nk(Lk,"Max retry time for operation exceeded, please try again."))}this.canceled_?e(0,new NA(!1,null,!0)):this.backoffId_=
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t,e,n){var r=1,i=null,o=!1,s=0;function a(){return 2===s}var u=!1;function c(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];u||(u=!0,e.apply(null,t))}function l(e){i=setTimeout((function(){i=null,t(h,a())}),e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.call.apply(c,R([null,t],e));else{var i,h=a()||o;if(h)c.call.apply(c,R([null,t],e));else r<64&&(r*=2),1===s?(s=2,i=0):i=1e3*(r+Math.random()),l(i)}}var f=!1;function p(t){f||(f=!0,u||(null!==i?(t||(s=2),clearTimeout(i),l(0)):t||(s=1)))}return l(0),setTimeout((function(){o=!0,p(!0)}),n),p}((function(e,n){if(n)e(!1,new NA(!1,null,!0));else{var r=t.pool_.createXhrIo();t.pendingXhr_=r,null!==t.progressCallback_&&r.addUploadProgressListener(i),r.send(t.url_,t.method_,t.body_,t.headers_).then((function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(i),t.pendingXhr_=null;var r=(n=n).getErrorCode()===hx.NO_ERROR,o=n.getStatus();if(r&&!t.isRetryStatusCode_(o)){var s=-1!==t.successCodes_.indexOf(o);e(!0,new NA(s,n))}else{var a=n.getErrorCode()===hx.ABORT;e(!1,new NA(!1,null,a))}}))}function i(e){var n=e.loaded,r=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,r)}}),e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&function(t){t(!1)}(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=-1!==[408,429].indexOf(t),r=-1!==this.additionalRetryCodes_.indexOf(t);return e||n||r},t}(),NA=function(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n};function OA(t,e,n,r){var i=Hx(t.urlParams),o=t.url+i,s=Object.assign({},t.headers);return function(t,e){e&&(t["X-Firebase-GMPID"]=e)}(s,e),function(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}(s,n),function(t){var e=void 0!==Al?Al.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}(s),new AA(o,t.method,s,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,r)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var RA=function(){function t(e,n,r,i){var o;this.bucket_=null,this.appId_=null,this.deleted_=!1,this.app_=e,this.authProvider_=n,this.maxOperationRetryTime_=12e4,this.maxUploadRetryTime_=6e5,this.requests_=new Set,this.pool_=r,this.bucket_=null!=i?Fx.makeFromBucketSpec(i):t.extractBucket_(null===(o=this.app_)||void 0===o?void 0:o.options),this.internals_=new DA(this)}return t.extractBucket_=function(t){var e=null==t?void 0:t.storageBucket;return null==e?null:Fx.makeFromBucketSpec(e)},t.prototype.getAuthToken=function(){return k(this,void 0,void 0,(function(){var t,e;return x(this,(function(n){switch(n.label){case 0:return(t=this.authProvider_.getImmediate({optional:!0}))?[4,t.getToken()]:[3,2];case 1:if(null!==(e=n.sent()))return[2,e.accessToken];n.label=2;case 2:return[2,null]}}))}))},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requests_.forEach((function(t){return t.cancel()})),this.requests_.clear()},t.prototype.makeStorageReference=function(t){return new kA(this,t)},t.prototype.makeRequest=function(t,e){var n=this;if(this.deleted_)return new xA(ex());var r=OA(t,this.appId_,e,this.pool_);return this.requests_.add(r),r.getPromise().then((function(){return n.requests_.delete(r)}),(function(){return n.requests_.delete(r)})),r},t.prototype.ref=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(gA("ref",[mA(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new kA(this,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if("string"!=typeof t)throw"Path is not a string.";if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{Fx.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return gA("refFromURL",[mA(e,!1)],arguments),new kA(this,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.maxUploadRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){gA("setMaxUploadRetryTime",[EA()],arguments),this.maxUploadRetryTime_=t},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.maxOperationRetryTime_},enumerable:!1,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){gA("setMaxOperationRetryTime",[EA()],arguments),this.maxOperationRetryTime_=t},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!1,configurable:!0}),t}(),DA=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.deleteApp(),Promise.resolve()},t}();function PA(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal");return new RA(n,r,new Dx,e)}!function(t){var e={TaskState:wx,TaskEvent:fx,StringFormat:ix,Storage:RA,Reference:kA};t.INTERNAL.registerComponent(new il("storage",PA,"PUBLIC").setServiceProps(e).setMultipleInstances(!0)),t.registerVersion("@firebase/storage","0.3.42")}(Al);var MA,LA,FA,jA,VA=((MA={})["trace started"]="Trace {$traceName} was started before.",MA["trace stopped"]="Trace {$traceName} is not running.",MA["no window"]="Window is not available.",MA["no app id"]="App id is not available.",MA["no project id"]="Project id is not available.",MA["no api key"]="Api key is not available.",MA["invalid cc log"]="Attempted to queue invalid cc event",MA["FB not default"]="Performance can only start when Firebase app instance is the default one.",MA["RC response not ok"]="RC response is not ok",MA["invalid attribute name"]="Attribute name {$attributeName} is invalid.",MA["invalid attribute value"]="Attribute value {$attributeValue} is invalid.",MA["invalid custom metric name"]="Custom metric name {$customMetricName} is invalid",MA["invalid String merger input"]="Input for String merger is invalid, contact support team to resolve.",MA),UA=new Vc("performance","Performance",VA),BA=function(){function t(t){if(this.window=t,!t)throw UA.create("no window");this.performance=t.performance,this.PerformanceObserver=t.PerformanceObserver,this.windowLocation=t.location,this.navigator=t.navigator,this.document=t.document,this.navigator&&this.navigator.cookieEnabled&&(this.localStorage=t.localStorage),t.perfMetrics&&t.perfMetrics.onFirstInputDelay&&(this.onFirstInputDelay=t.perfMetrics.onFirstInputDelay)}return t.prototype.getUrl=function(){return this.windowLocation.href.split("?")[0]},t.prototype.mark=function(t){this.performance&&this.performance.mark&&this.performance.mark(t)},t.prototype.measure=function(t,e,n){this.performance&&this.performance.measure&&this.performance.measure(t,e,n)},t.prototype.getEntriesByType=function(t){return this.performance&&this.performance.getEntriesByType?this.performance.getEntriesByType(t):[]},t.prototype.getEntriesByName=function(t){return this.performance&&this.performance.getEntriesByName?this.performance.getEntriesByName(t):[]},t.prototype.getTimeOrigin=function(){return this.performance&&(this.performance.timeOrigin||this.performance.timing.navigationStart)},t.prototype.requiredApisAvailable=function(){return!!(fetch&&Promise&&this.navigator&&this.navigator.cookieEnabled)},t.prototype.setupObserver=function(t,e){this.PerformanceObserver&&new this.PerformanceObserver((function(t){for(var n=0,r=t.getEntries();n<r.length;n++){var i=r[n];e(i)}})).observe({entryTypes:[t]})},t.getInstance=function(){return void 0===LA&&(LA=new t(FA)),LA},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function HA(t,e){var n=t.length-e.length;if(n<0||n>1)throw UA.create("invalid String merger input");for(var r=[],i=0;i<t.length;i++)r.push(t.charAt(i)),e.length>i&&r.push(e.charAt(i));return r.join("")}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var zA,qA,WA=function(){function t(){this.instrumentationEnabled=!0,this.dataCollectionEnabled=!0,this.loggingEnabled=!1,this.tracesSamplingRate=1,this.networkRequestsSamplingRate=1,this.logEndPointUrl="https://firebaselogging.googleapis.com/v0cc/log?format=json_proto",this.flTransportEndpointUrl=HA("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),this.transportKey=HA("AzSC8r6ReiGqFMyfvgow","Iayx0u-XT3vksVM-pIV"),this.logSource=462,this.logTraceAfterSampling=!1,this.logNetworkAfterSampling=!1,this.configTimeToLive=12}return t.prototype.getAppId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.appId;if(!t)throw UA.create("no app id");return t},t.prototype.getProjectId=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.projectId;if(!t)throw UA.create("no project id");return t},t.prototype.getApiKey=function(){var t=this.firebaseAppInstance&&this.firebaseAppInstance.options&&this.firebaseAppInstance.options.apiKey;if(!t)throw UA.create("no api key");return t},t.prototype.getFlTransportFullUrl=function(){return this.flTransportEndpointUrl.concat("?key=",this.transportKey)},t.getInstance=function(){return void 0===jA&&(jA=new t),jA},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KA(){return zA}!function(t){t[t.UNKNOWN=0]="UNKNOWN",t[t.VISIBLE=1]="VISIBLE",t[t.HIDDEN=2]="HIDDEN"}(qA||(qA={}));var GA=["firebase_","google_","ga_"],XA=new RegExp("^[a-zA-Z]\\w*$");function YA(){var t=BA.getInstance().navigator;return"serviceWorker"in t?t.serviceWorker.controller?2:3:1}function QA(){switch(BA.getInstance().document.visibilityState){case"visible":return qA.VISIBLE;case"hidden":return qA.HIDDEN;default:return qA.UNKNOWN}}function ZA(){var t=BA.getInstance().navigator.connection;switch(t&&t.effectiveType){case"slow-2g":return 1;case"2g":return 2;case"3g":return 3;case"4g":return 4;default:return 0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var JA=new gl("Performance");JA.logLevel=cl.INFO;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var $A=!0;function tN(t){var e=function(){var t=BA.getInstance().localStorage;if(!t)return;var e=t.getItem("@firebase/performance/configexpire");if(!(e&&(n=e,Number(n)>Date.now())))return;var n;var r=t.getItem("@firebase/performance/config");if(!r)return;try{return JSON.parse(r)}catch(t){return}}();return e?(eN(e),Promise.resolve()):function(t){return(e=WA.getInstance().installationsService.getToken(),e.then((function(t){})),e).then((function(e){var n="https://firebaseremoteconfig.googleapis.com/v1/projects/"+WA.getInstance().getProjectId()+"/namespaces/fireperf:fetch?key="+WA.getInstance().getApiKey(),r=new Request(n,{method:"POST",headers:{Authorization:"FIREBASE_INSTALLATIONS_AUTH "+e},body:JSON.stringify({app_instance_id:t,app_instance_id_token:e,app_id:WA.getInstance().getAppId(),app_version:"0.3.11",sdk_version:"0.0.1"})});return fetch(r).then((function(t){if(t.ok)return t.json();throw UA.create("RC response not ok")}))})).catch((function(){JA.info("Could not fetch config, will use default configs")}));var e;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}(t).then(eN).then((function(t){return function(t){var e=BA.getInstance().localStorage;if(!t||!e)return;e.setItem("@firebase/performance/config",JSON.stringify(t)),e.setItem("@firebase/performance/configexpire",String(Date.now()+60*WA.getInstance().configTimeToLive*60*1e3))}(t)}),(function(){}))}function eN(t){if(!t)return t;var e=WA.getInstance(),n=t.entries||{};return void 0!==n.fpr_enabled?e.loggingEnabled="true"===String(n.fpr_enabled):e.loggingEnabled=$A,n.fpr_log_source&&(e.logSource=Number(n.fpr_log_source)),n.fpr_log_endpoint_url&&(e.logEndPointUrl=n.fpr_log_endpoint_url),n.fpr_log_transport_key&&(e.transportKey=n.fpr_log_transport_key),void 0!==n.fpr_vc_network_request_sampling_rate&&(e.networkRequestsSamplingRate=Number(n.fpr_vc_network_request_sampling_rate)),void 0!==n.fpr_vc_trace_sampling_rate&&(e.tracesSamplingRate=Number(n.fpr_vc_trace_sampling_rate)),e.logTraceAfterSampling=nN(e.tracesSamplingRate),e.logNetworkAfterSampling=nN(e.networkRequestsSamplingRate),t}function nN(t){return Math.random()<=t}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rN,iN=1;function oN(){return iN=2,rN=rN||function(){var t=BA.getInstance().document;return new Promise((function(e){if(t&&"complete"!==t.readyState){var n=function(){"complete"===t.readyState&&(t.removeEventListener("readystatechange",n),e())};t.addEventListener("readystatechange",n)}else e()}))}().then((function(){return(t=WA.getInstance().installationsService.getId()).then((function(t){zA=t})),t;var t})).then((function(t){return tN(t)})).then((function(){return sN()}),(function(){return sN()}))}function sN(){iN=3}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var aN,uN=3,cN=[],lN=!1;function hN(t){setTimeout((function(){if(0!==uN)return cN.length?void function(){var t=R(cN);cN=[];var e=t.map((function(t){return{source_extension_json_proto3:t.message,event_time_ms:String(t.eventTime)}}));(function(t,e){return function(t){var e=WA.getInstance().getFlTransportFullUrl();return fetch(e,{method:"POST",body:JSON.stringify(t)})}(t).then((function(t){return t.ok||JA.info("Call to Firebase backend failed."),t.json()})).then((function(t){var n=Number(t.nextRequestWaitMillis),r=1e4;isNaN(n)||(r=Math.max(n,r));var i=t.logResponseDetails;Array.isArray(i)&&i.length>0&&"RETRY_REQUEST_LATER"===i[0].responseAction&&(cN=R(e,cN),JA.info("Retry transport request later.")),uN=3,hN(r)}))})({request_time_ms:String(Date.now()),client_info:{client_type:1,js_client_info:{}},log_source:WA.getInstance().logSource,log_event:e},t).catch((function(){cN=R(t,cN),uN--,JA.info("Tries left: "+uN+"."),hN(1e4)}))}():hN(1e4)}),t)}function fN(t){if(!t.eventTime||!t.message)throw UA.create("invalid cc log");cN=R(cN,[t])}function pN(t,e){aN||(aN=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var r=t.apply(void 0,e);fN({message:r,eventTime:Date.now()})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(gN)),aN(t,e)}function dN(t){var e=WA.getInstance();!e.instrumentationEnabled&&t.isAuto||(e.dataCollectionEnabled||t.isAuto)&&BA.getInstance().requiredApisAvailable()&&(t.isAuto&&QA()!==qA.VISIBLE||e.loggingEnabled&&e.logTraceAfterSampling&&(3===iN?vN(t):oN().then((function(){return vN(t)}),(function(){return vN(t)}))))}function vN(t){KA()&&setTimeout((function(){return pN(t,1)}),0)}function gN(t,e){return 0===e?(r={url:(n=t).url,http_method:n.httpMethod||0,http_response_code:200,response_payload_bytes:n.responsePayloadBytes,client_start_time_us:n.startTimeUs,time_to_response_initiated_us:n.timeToResponseInitiatedUs,time_to_response_completed_us:n.timeToResponseCompletedUs},i={application_info:yN(),network_request_metric:r},JSON.stringify(i)):function(t){var e={name:t.name,is_auto:t.isAuto,client_start_time_us:t.startTimeUs,duration_us:t.durationUs};0!==Object.keys(t.counters).length&&(e.counters=t.counters);var n=t.getAttributes();0!==Object.keys(n).length&&(e.custom_attributes=n);var r={application_info:yN(),trace_metric:e};return JSON.stringify(r)}(t);var n,r,i}function yN(){return{google_app_id:WA.getInstance().getAppId(),app_instance_id:KA(),web_app_info:{sdk_version:"0.3.11",page_url:BA.getInstance().getUrl(),service_worker_status:YA(),visibility_state:QA(),effective_connection_type:ZA()},application_process_state:0}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mN=["_fp","_fcp","_fid"];
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var bN=function(){function t(t,e,n){void 0===e&&(e=!1),this.name=t,this.isAuto=e,this.state=1,this.customAttributes={},this.counters={},this.api=BA.getInstance(),this.randomId=Math.floor(1e6*Math.random()),this.isAuto||(this.traceStartMark="FB-PERF-TRACE-START-"+this.randomId+"-"+this.name,this.traceStopMark="FB-PERF-TRACE-STOP-"+this.randomId+"-"+this.name,this.traceMeasure=n||"FB-PERF-TRACE-MEASURE-"+this.randomId+"-"+this.name,n&&this.calculateTraceMetrics())}return t.prototype.start=function(){if(1!==this.state)throw UA.create("trace started",{traceName:this.name});this.api.mark(this.traceStartMark),this.state=2},t.prototype.stop=function(){if(2!==this.state)throw UA.create("trace stopped",{traceName:this.name});this.state=3,this.api.mark(this.traceStopMark),this.api.measure(this.traceMeasure,this.traceStartMark,this.traceStopMark),this.calculateTraceMetrics(),dN(this)},t.prototype.record=function(t,e,n){if(this.durationUs=Math.floor(1e3*e),this.startTimeUs=Math.floor(1e3*t),n&&n.attributes&&(this.customAttributes=S({},n.attributes)),n&&n.metrics)for(var r=0,i=Object.keys(n.metrics);r<i.length;r++){var o=i[r];isNaN(Number(n.metrics[o]))||(this.counters[o]=Number(Math.floor(n.metrics[o])))}dN(this)},t.prototype.incrementMetric=function(t,e){void 0===e&&(e=1),void 0===this.counters[t]?this.putMetric(t,e):this.putMetric(t,this.counters[t]+e)},t.prototype.putMetric=function(t,e){if(!function(t,e){return!(0===t.length||t.length>100)&&(e&&e.startsWith("_wt_")&&mN.indexOf(t)>-1||!t.startsWith("_"))}(t,this.name))throw UA.create("invalid custom metric name",{customMetricName:t});var n,r;this.counters[t]=(n=e,(r=Math.floor(n))<n&&JA.info("Metric value should be an Integer, setting the value as : "+r+"."),r)},t.prototype.getMetric=function(t){return this.counters[t]||0},t.prototype.putAttribute=function(t,e){var n=function(t){return!(0===t.length||t.length>40)&&(!GA.some((function(e){return t.startsWith(e)}))&&!!t.match(XA))}(t),r=function(t){return 0!==t.length&&t.length<=100}(e);if(n&&r)this.customAttributes[t]=e;else{if(!n)throw UA.create("invalid attribute name",{attributeName:t});if(!r)throw UA.create("invalid attribute value",{attributeValue:e})}},t.prototype.getAttribute=function(t){return this.customAttributes[t]},t.prototype.removeAttribute=function(t){void 0!==this.customAttributes[t]&&delete this.customAttributes[t]},t.prototype.getAttributes=function(){return S({},this.customAttributes)},t.prototype.setStartTime=function(t){this.startTimeUs=t},t.prototype.setDuration=function(t){this.durationUs=t},t.prototype.calculateTraceMetrics=function(){var t=this.api.getEntriesByName(this.traceMeasure),e=t&&t[0];e&&(this.durationUs=Math.floor(1e3*e.duration),this.startTimeUs=Math.floor(1e3*(e.startTime+this.api.getTimeOrigin())))},t.createOobTrace=function(e,n,r){var i=BA.getInstance().getUrl();if(i){var o=new t("_wt_"+i,!0),s=Math.floor(1e3*BA.getInstance().getTimeOrigin());o.setStartTime(s),e&&e[0]&&(o.setDuration(Math.floor(1e3*e[0].duration)),o.putMetric("domInteractive",Math.floor(1e3*e[0].domInteractive)),o.putMetric("domContentLoadedEventEnd",Math.floor(1e3*e[0].domContentLoadedEventEnd)),o.putMetric("loadEventEnd",Math.floor(1e3*e[0].loadEventEnd)));if(n){var a=n.find((function(t){return"first-paint"===t.name}));a&&a.startTime&&o.putMetric("_fp",Math.floor(1e3*a.startTime));var u=n.find((function(t){return"first-contentful-paint"===t.name}));u&&u.startTime&&o.putMetric("_fcp",Math.floor(1e3*u.startTime)),r&&o.putMetric("_fid",Math.floor(1e3*r))}dN(o)}},t.createUserTimingTrace=function(e){dN(new t(e,!1,e))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN(t){var e=t;if(e&&void 0!==e.responseStart){var n=BA.getInstance().getTimeOrigin(),r=Math.floor(1e3*(e.startTime+n)),i=e.responseStart?Math.floor(1e3*(e.responseStart-e.startTime)):void 0,o=Math.floor(1e3*(e.responseEnd-e.startTime));!function(t){var e=WA.getInstance();if(e.instrumentationEnabled){var n=t.url,r=e.logEndPointUrl.split("?")[0],i=e.flTransportEndpointUrl.split("?")[0];n!==r&&n!==i&&e.loggingEnabled&&e.logNetworkAfterSampling&&setTimeout((function(){return pN(t,0)}),0)}}({url:e.name&&e.name.split("?")[0],responsePayloadBytes:e.transferSize,startTimeUs:r,timeToResponseInitiatedUs:i,timeToResponseCompletedUs:o})}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _N(){KA()&&(setTimeout((function(){return function(){var t=BA.getInstance(),e=t.getEntriesByType("navigation"),n=t.getEntriesByType("paint");if(t.onFirstInputDelay){var r=setTimeout((function(){bN.createOobTrace(e,n),r=void 0}),5e3);t.onFirstInputDelay((function(t){r&&(clearTimeout(r),bN.createOobTrace(e,n,t))}))}else bN.createOobTrace(e,n)}()}),0),setTimeout((function(){return function(){for(var t=BA.getInstance(),e=t.getEntriesByType("resource"),n=0,r=e;n<r.length;n++){wN(r[n])}t.setupObserver("resource",wN)}()}),0),setTimeout((function(){return function(){for(var t=BA.getInstance(),e=t.getEntriesByType("measure"),n=0,r=e;n<r.length;n++){EN(r[n])}t.setupObserver("measure",EN)}()}),0))}function EN(t){var e=t.name;"FB-PERF-TRACE-MEASURE"!==e.substring(0,"FB-PERF-TRACE-MEASURE".length)&&bN.createUserTimingTrace(e)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var CN=function(){function t(t){this.app=t,BA.getInstance().requiredApisAvailable()?(lN||(hN(5500),lN=!0),oN().then(_N,_N)):JA.info("Firebase Performance cannot start if browser does not support fetch and Promise or cookie is disabled.")}return t.prototype.trace=function(t){return new bN(t)},Object.defineProperty(t.prototype,"instrumentationEnabled",{get:function(){return WA.getInstance().instrumentationEnabled},set:function(t){WA.getInstance().instrumentationEnabled=t},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"dataCollectionEnabled",{get:function(){return WA.getInstance().dataCollectionEnabled},set:function(t){WA.getInstance().dataCollectionEnabled=t},enumerable:!1,configurable:!0}),t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){var e=function(t,e){if("[DEFAULT]"!==t.name)throw UA.create("FB not default");if("undefined"==typeof window)throw UA.create("no window");return function(t){FA=t}(window),WA.getInstance().firebaseAppInstance=t,WA.getInstance().installationsService=e,new CN(t)};t.INTERNAL.registerComponent(new il("performance",(function(t){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();return e(n,r)}),"PUBLIC")),t.registerVersion("@firebase/performance","0.3.11")}(Al);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var IN,TN,SN="https://www.googletagmanager.com/gtag/js";!function(t){t.EVENT="event",t.SET="set",t.CONFIG="config"}(IN||(IN={})),function(t){t.ADD_SHIPPING_INFO="add_shipping_info",t.ADD_PAYMENT_INFO="add_payment_info",t.ADD_TO_CART="add_to_cart",t.ADD_TO_WISHLIST="add_to_wishlist",t.BEGIN_CHECKOUT="begin_checkout",t.CHECKOUT_PROGRESS="checkout_progress",t.EXCEPTION="exception",t.GENERATE_LEAD="generate_lead",t.LOGIN="login",t.PAGE_VIEW="page_view",t.PURCHASE="purchase",t.REFUND="refund",t.REMOVE_FROM_CART="remove_from_cart",t.SCREEN_VIEW="screen_view",t.SEARCH="search",t.SELECT_CONTENT="select_content",t.SELECT_ITEM="select_item",t.SELECT_PROMOTION="select_promotion",t.SET_CHECKOUT_OPTION="set_checkout_option",t.SHARE="share",t.SIGN_UP="sign_up",t.TIMING_COMPLETE="timing_complete",t.VIEW_CART="view_cart",t.VIEW_ITEM="view_item",t.VIEW_ITEM_LIST="view_item_list",t.VIEW_PROMOTION="view_promotion",t.VIEW_SEARCH_RESULTS="view_search_results"}(TN||(TN={}));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var kN,xN=new gl("@firebase/analytics");
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AN(t,e,n){var r=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];window[e].push(arguments)};return window[n]&&"function"==typeof window[n]&&(r=window[n]),window[n]=function(t,e){return function(n,r,i){if(n===IN.EVENT){var o=[];if(i&&i.send_to){var s=i.send_to;Array.isArray(s)||(s=[s]);for(var a=0,u=s;a<u.length;a++){var c=u[a],l=e[c];if(!l){o=[];break}o.push(l)}}if(0===o.length)for(var h=0,f=Object.values(e);h<f.length;h++){var p=f[h];o.push(p)}Promise.all(o).then((function(){return t(IN.EVENT,r,i||{})})).catch((function(t){return xN.error(t)}))}else if(n===IN.CONFIG){(e[r]||Promise.resolve()).then((function(){t(IN.CONFIG,r,i)})).catch((function(t){return xN.error(t)}))}else t(IN.SET,r)}}(r,t),{gtagCore:r,wrappedGtag:window[n]}}var NN,ON,RN=((kN={})["no-ga-id"]='"measurementId" field is empty in Firebase config. Firebase Analytics requires this field to contain a valid measurement ID.',kN["already-exists"]="A Firebase Analytics instance with the measurement ID ${id}  already exists. Only one Firebase Analytics instance can be created for each measurement ID.",kN["already-initialized"]="Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",kN["interop-component-reg-failed"]="Firebase Analytics Interop Component failed to instantiate",kN["indexedDB-unsupported"]="IndexedDB is not supported by current browswer",kN["invalid-indexedDB-context"]="Environment doesn't support IndexedDB: {$errorInfo}. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments",kN["cookies-not-enabled"]="Cookies are not enabled in this browser environment. Analytics requires cookies to be enabled.",kN["invalid-analytics-context"]="Firebase Analytics is not supported in browser extensions.",kN),DN=new Vc("analytics","Analytics",RN),PN={},MN="dataLayer",LN="gtag",FN=!1;function jN(t){if(FN)throw DN.create("already-initialized");t.dataLayerName&&(MN=t.dataLayerName),t.gtagName&&(LN=t.gtagName)}function VN(t,e){if(Rc())throw DN.create("invalid-analytics-context");if(!Fc())throw DN.create("cookies-not-enabled");if(!Mc())throw DN.create("indexedDB-unsupported");Lc().catch((function(t){throw DN.create("invalid-indexedDB-context",{errorInfo:t})}));var n=t.options.measurementId;if(!n)throw DN.create("no-ga-id");if(null!=PN[n])throw DN.create("already-exists",{id:n});if(!FN){(function(){for(var t=window.document.getElementsByTagName("script"),e=0,n=Object.values(t);e<n.length;e++){var r=n[e];if(r.src&&r.src.includes(SN))return r}return null}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */)()||function(t){var e=document.createElement("script");e.src=SN+"?l="+t,e.async=!0,document.head.appendChild(e)}(MN),function(t){var e=[];Array.isArray(window[t])?e=window[t]:window[t]=e}(MN);var r=AN(PN,MN,LN),i=r.wrappedGtag,o=r.gtagCore;ON=i,NN=o,FN=!0}return PN[n]=function(t,e,n){return k(this,void 0,void 0,(function(){var r,i;return x(this,(function(o){switch(o.label){case 0:return[4,e.getId()];case 1:return r=o.sent(),n("js",new Date),n(IN.CONFIG,t.options.measurementId,((i={}).firebase_id=r,i.origin="firebase",i.update=!0,i)),[2]}}))}))}(t,e,NN),{app:t,logEvent:function(t,e,r){
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
return function(t,e,n,r,i){var o=r||{};i&&i.global||(o=S(S({},r),{send_to:e})),t(IN.EVENT,n,o||{})}(ON,n,t,e,r)},setCurrentScreen:function(t,e){return function(t,e,n,r){r&&r.global?t(IN.SET,{screen_name:n}):t(IN.CONFIG,e,{update:!0,screen_name:n})}(ON,n,t,e)},setUserId:function(t,e){return function(t,e,n,r){r&&r.global?t(IN.SET,{user_id:n}):t(IN.CONFIG,e,{update:!0,user_id:n})}(ON,n,t,e)},setUserProperties:function(t,e){return function(t,e,n,r){if(r&&r.global){for(var i={},o=0,s=Object.keys(n);o<s.length;o++){var a=s[o];i["user_properties."+a]=n[a]}t(IN.SET,i)}else t(IN.CONFIG,e,{update:!0,user_properties:n})}(ON,n,t,e)},setAnalyticsCollectionEnabled:function(t){return function(t,e){window["ga-disable-"+t]=!e}(n,t)}}}function UN(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:if(Rc())return[2,!1];if(!Fc())return[2,!1];if(!Mc())return[2,!1];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,Lc()];case 2:return[2,t.sent()];case 3:return t.sent(),[2,!1];case 4:return[2]}}))}))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(t){t.INTERNAL.registerComponent(new il("analytics",(function(t){return VN(t.getProvider("app").getImmediate(),t.getProvider("installations").getImmediate())}),"PUBLIC").setServiceProps({settings:jN,EventName:TN,isSupported:UN})),t.INTERNAL.registerComponent(new il("analytics-internal",(function(t){try{return{logEvent:t.getProvider("analytics").getImmediate().logEvent}}catch(t){throw DN.create("interop-component-reg-failed",{reason:t})}}),"PRIVATE")),t.registerVersion("@firebase/analytics","0.4.2")}(Al);var BN,HN=function(){function t(t,e,n,r){this.client=t,this.storage=e,this.storageCache=n,this.logger=r}return t.prototype.isCachedDataFresh=function(t,e){if(!e)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;var n=Date.now()-e,r=n<=t;return this.logger.debug("Config fetch cache check. Cache age millis: "+n+". Cache max age millis (minimumFetchIntervalMillis setting): "+t+". Is cache hit: "+r+"."),r},t.prototype.fetch=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i,o;return x(this,(function(s){switch(s.label){case 0:return[4,Promise.all([this.storage.getLastSuccessfulFetchTimestampMillis(),this.storage.getLastSuccessfulFetchResponse()])];case 1:return e=s.sent(),n=e[0],(r=e[1])&&this.isCachedDataFresh(t.cacheMaxAgeMillis,n)?[2,r]:(t.eTag=r&&r.eTag,[4,this.client.fetch(t)]);case 2:return i=s.sent(),o=[this.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())],200===i.status&&o.push(this.storage.setLastSuccessfulFetchResponse(i)),[4,Promise.all(o)];case 3:return s.sent(),[2,i]}}))}))},t}(),zN=((BN={})["registration-window"]="Undefined window object. This SDK only supports usage in a browser environment.",BN["registration-project-id"]="Undefined project identifier. Check Firebase app initialization.",BN["registration-api-key"]="Undefined API key. Check Firebase app initialization.",BN["registration-app-id"]="Undefined app identifier. Check Firebase app initialization.",BN["storage-open"]="Error thrown when opening storage. Original error: {$originalErrorMessage}.",BN["storage-get"]="Error thrown when reading from storage. Original error: {$originalErrorMessage}.",BN["storage-set"]="Error thrown when writing to storage. Original error: {$originalErrorMessage}.",BN["storage-delete"]="Error thrown when deleting from storage. Original error: {$originalErrorMessage}.",BN["fetch-client-network"]="Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",BN["fetch-timeout"]='The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',BN["fetch-throttle"]='The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',BN["fetch-client-parse"]="Fetch client could not parse response. Original error: {$originalErrorMessage}.",BN["fetch-status"]="Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",BN),qN=new Vc("remoteconfig","Remote Config",zN);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var WN=function(){function t(t,e,n,r,i,o){this.firebaseInstallations=t,this.sdkVersion=e,this.namespace=n,this.projectId=r,this.apiKey=i,this.appId=o}return t.prototype.fetch=function(t){return k(this,void 0,void 0,(function(){var e,n,r,i,o,s,a,u,c,l,h,f,p,d,v,g,y,m,b;return x(this,(function(w){switch(w.label){case 0:return[4,Promise.all([this.firebaseInstallations.getId(),this.firebaseInstallations.getToken()])];case 1:e=w.sent(),n=e[0],r=e[1],i=window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com",o=i+"/v1/projects/"+this.projectId+"/namespaces/"+this.namespace+":fetch?key="+this.apiKey,s={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":t.eTag||"*"},a={sdk_version:this.sdkVersion,app_instance_id:n,app_instance_id_token:r,app_id:this.appId,language_code:(void 0===_&&(_=navigator),_.languages&&_.languages[0]||_.language)},u={method:"POST",headers:s,body:JSON.stringify(a)},c=fetch(o,u),l=new Promise((function(e,n){t.signal.addEventListener((function(){var t=new Error("The operation was aborted.");t.name="AbortError",n(t)}))})),w.label=2;case 2:return w.trys.push([2,5,,6]),[4,Promise.race([c,l])];case 3:return w.sent(),[4,c];case 4:return h=w.sent(),[3,6];case 5:throw f=w.sent(),p="fetch-client-network","AbortError"===f.name&&(p="fetch-timeout"),qN.create(p,{originalErrorMessage:f.message});case 6:if(d=h.status,v=h.headers.get("ETag")||void 0,200!==h.status)return[3,11];m=void 0,w.label=7;case 7:return w.trys.push([7,9,,10]),[4,h.json()];case 8:return m=w.sent(),[3,10];case 9:throw b=w.sent(),qN.create("fetch-client-parse",{originalErrorMessage:b.message});case 10:g=m.entries,y=m.state,w.label=11;case 11:if("INSTANCE_STATE_UNSPECIFIED"===y?d=500:"NO_CHANGE"===y?d=304:"NO_TEMPLATE"!==y&&"EMPTY_CONFIG"!==y||(g={}),304!==d&&200!==d)throw qN.create("fetch-status",{httpStatus:d});return[2,{status:d,eTag:v,config:g}]}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _}))}))},t}(),KN=function(){function t(){this.listeners=[]}return t.prototype.addEventListener=function(t){this.listeners.push(t)},t.prototype.abort=function(){this.listeners.forEach((function(t){return t()}))},t}(),GN=["1","true","t","yes","y","on"],XN=function(){function t(t,e){void 0===e&&(e=""),this._source=t,this._value=e}return t.prototype.asString=function(){return this._value},t.prototype.asBoolean=function(){return"static"!==this._source&&GN.indexOf(this._value.toLowerCase())>=0},t.prototype.asNumber=function(){if("static"===this._source)return 0;var t=Number(this._value);return isNaN(t)&&(t=0),t},t.prototype.getSource=function(){return this._source},t}(),YN=function(){function t(t,e,n,r,i){this.app=t,this._client=e,this._storageCache=n,this._storage=r,this._logger=i,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}return t.prototype.setLogLevel=function(t){switch(t){case"debug":this._logger.logLevel=cl.DEBUG;break;case"silent":this._logger.logLevel=cl.SILENT;break;default:this._logger.logLevel=cl.ERROR}},Object.defineProperty(t.prototype,"fetchTimeMillis",{get:function(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lastFetchStatus",{get:function(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"},enumerable:!1,configurable:!0}),t.prototype.activate=function(){return k(this,void 0,void 0,(function(){var t,e,n;return x(this,(function(r){switch(r.label){case 0:return[4,Promise.all([this._storage.getLastSuccessfulFetchResponse(),this._storage.getActiveConfigEtag()])];case 1:return t=r.sent(),e=t[0],n=t[1],e&&e.config&&e.eTag&&e.eTag!==n?[4,Promise.all([this._storageCache.setActiveConfig(e.config),this._storage.setActiveConfigEtag(e.eTag)])]:[2,!1];case 2:return r.sent(),[2,!0]}}))}))},t.prototype.ensureInitialized=function(){var t=this;return this._initializePromise||(this._initializePromise=this._storageCache.loadFromStorage().then((function(){t._isInitializationComplete=!0}))),this._initializePromise},t.prototype.fetch=function(){return k(this,void 0,void 0,(function(){var t,e,n,r=this;return x(this,(function(i){switch(i.label){case 0:t=new KN,setTimeout((function(){return k(r,void 0,void 0,(function(){return x(this,(function(e){return t.abort(),[2]}))}))}),this.settings.fetchTimeoutMillis),i.label=1;case 1:return i.trys.push([1,4,,6]),[4,this._client.fetch({cacheMaxAgeMillis:this.settings.minimumFetchIntervalMillis,signal:t})];case 2:return i.sent(),[4,this._storageCache.setLastFetchStatus("success")];case 3:return i.sent(),[3,6];case 4:return e=i.sent(),n=function(t,e){return t instanceof jc&&-1!==t.code.indexOf(e)}(e,"fetch-throttle")?"throttle":"failure",[4,this._storageCache.setLastFetchStatus(n)];case 5:throw i.sent(),e;case 6:return[2]}}))}))},t.prototype.fetchAndActivate=function(){return k(this,void 0,void 0,(function(){return x(this,(function(t){switch(t.label){case 0:return[4,this.fetch()];case 1:return t.sent(),[2,this.activate()]}}))}))},t.prototype.getAll=function(){var t=this;return function(t,e){void 0===t&&(t={});void 0===e&&(e={});return Object.keys(S(S({},t),e))}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */(this._storageCache.getActiveConfig(),this.defaultConfig).reduce((function(e,n){return e[n]=t.getValue(n),e}),{})},t.prototype.getBoolean=function(t){return this.getValue(t).asBoolean()},t.prototype.getNumber=function(t){return this.getValue(t).asNumber()},t.prototype.getString=function(t){return this.getValue(t).asString()},t.prototype.getValue=function(t){this._isInitializationComplete||this._logger.debug('A value was requested for key "'+t+'" before SDK initialization completed. Await on ensureInitialized if the intent was to get a previously activated value.');var e=this._storageCache.getActiveConfig();return e&&void 0!==e[t]?new XN("remote",e[t]):this.defaultConfig&&void 0!==this.defaultConfig[t]?new XN("default",String(this.defaultConfig[t])):(this._logger.debug('Returning static value for key "'+t+'". Define a default or remote value if this is unintentional.'),new XN("static"))},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QN(t,e){var n=t.target.error||void 0;return qN.create(e,{originalErrorMessage:n&&n.message})}var ZN=function(){function t(t,e,n,r){void 0===r&&(r=new Promise((function(t,e){var n=indexedDB.open("firebase_remote_config",1);n.onerror=function(t){e(QN(t,"storage-open"))},n.onsuccess=function(e){t(e.target.result)},n.onupgradeneeded=function(t){var e=t.target.result;switch(t.oldVersion){case 0:e.createObjectStore("app_namespace_store",{keyPath:"compositeKey"})}}}))),this.appId=t,this.appName=e,this.namespace=n,this.openDbPromise=r}return t.prototype.getLastFetchStatus=function(){return this.get("last_fetch_status")},t.prototype.setLastFetchStatus=function(t){return this.set("last_fetch_status",t)},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.get("last_successful_fetch_timestamp_millis")},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.set("last_successful_fetch_timestamp_millis",t)},t.prototype.getLastSuccessfulFetchResponse=function(){return this.get("last_successful_fetch_response")},t.prototype.setLastSuccessfulFetchResponse=function(t){return this.set("last_successful_fetch_response",t)},t.prototype.getActiveConfig=function(){return this.get("active_config")},t.prototype.setActiveConfig=function(t){return this.set("active_config",t)},t.prototype.getActiveConfigEtag=function(){return this.get("active_config_etag")},t.prototype.setActiveConfigEtag=function(t){return this.set("active_config_etag",t)},t.prototype.getThrottleMetadata=function(){return this.get("throttle_metadata")},t.prototype.setThrottleMetadata=function(t){return this.set("throttle_metadata",t)},t.prototype.deleteThrottleMetadata=function(){return this.delete("throttle_metadata")},t.prototype.get=function(t){return k(this,void 0,void 0,(function(){var e,n=this;return x(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readonly").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.get(s);a.onerror=function(t){i(QN(t,"storage-get"))},a.onsuccess=function(t){var e=t.target.result;r(e?e.value:void 0)}}catch(t){i(qN.create("storage-get",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.set=function(t,e){return k(this,void 0,void 0,(function(){var n,r=this;return x(this,(function(i){switch(i.label){case 0:return[4,this.openDbPromise];case 1:return n=i.sent(),[2,new Promise((function(i,o){var s=n.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),a=r.createCompositeKey(t);try{var u=s.put({compositeKey:a,value:e});u.onerror=function(t){o(QN(t,"storage-set"))},u.onsuccess=function(){i()}}catch(t){o(qN.create("storage-set",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.delete=function(t){return k(this,void 0,void 0,(function(){var e,n=this;return x(this,(function(r){switch(r.label){case 0:return[4,this.openDbPromise];case 1:return e=r.sent(),[2,new Promise((function(r,i){var o=e.transaction(["app_namespace_store"],"readwrite").objectStore("app_namespace_store"),s=n.createCompositeKey(t);try{var a=o.delete(s);a.onerror=function(t){i(QN(t,"storage-delete"))},a.onsuccess=function(){r()}}catch(t){i(qN.create("storage-delete",{originalErrorMessage:t&&t.message}))}}))]}}))}))},t.prototype.createCompositeKey=function(t){return[this.appId,this.appName,this.namespace,t].join()},t}(),JN=function(){function t(t){this.storage=t}return t.prototype.getLastFetchStatus=function(){return this.lastFetchStatus},t.prototype.getLastSuccessfulFetchTimestampMillis=function(){return this.lastSuccessfulFetchTimestampMillis},t.prototype.getActiveConfig=function(){return this.activeConfig},t.prototype.loadFromStorage=function(){return k(this,void 0,void 0,(function(){var t,e,n,r,i,o;return x(this,(function(s){switch(s.label){case 0:return t=this.storage.getLastFetchStatus(),e=this.storage.getLastSuccessfulFetchTimestampMillis(),n=this.storage.getActiveConfig(),[4,t];case 1:return(r=s.sent())&&(this.lastFetchStatus=r),[4,e];case 2:return(i=s.sent())&&(this.lastSuccessfulFetchTimestampMillis=i),[4,n];case 3:return(o=s.sent())&&(this.activeConfig=o),[2]}}))}))},t.prototype.setLastFetchStatus=function(t){return this.lastFetchStatus=t,this.storage.setLastFetchStatus(t)},t.prototype.setLastSuccessfulFetchTimestampMillis=function(t){return this.lastSuccessfulFetchTimestampMillis=t,this.storage.setLastSuccessfulFetchTimestampMillis(t)},t.prototype.setActiveConfig=function(t){return this.activeConfig=t,this.storage.setActiveConfig(t)},t}();
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(t){var e=1e3*Math.pow(2,t),n=Math.round(.5*e*(Math.random()-.5)*2);return Math.min(144e5,e+n)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tO(t,e){return new Promise((function(n,r){var i=Math.max(e-Date.now(),0),o=setTimeout(n,i);t.addEventListener((function(){clearTimeout(o),r(qN.create("fetch-throttle",{throttleEndTimeMillis:e}))}))}))}var eO,nO=function(){function t(t,e){this.client=t,this.storage=e}return t.prototype.fetch=function(t){return k(this,void 0,void 0,(function(){var e;return x(this,(function(n){switch(n.label){case 0:return[4,this.storage.getThrottleMetadata()];case 1:return e=n.sent()||{backoffCount:0,throttleEndTimeMillis:Date.now()},[2,this.attemptFetch(t,e)]}}))}))},t.prototype.attemptFetch=function(t,e){var n=e.throttleEndTimeMillis,r=e.backoffCount;return k(this,void 0,void 0,(function(){var e,i,o;return x(this,(function(s){switch(s.label){case 0:return[4,tO(t.signal,n)];case 1:s.sent(),s.label=2;case 2:return s.trys.push([2,5,,7]),[4,this.client.fetch(t)];case 3:return e=s.sent(),[4,this.storage.deleteThrottleMetadata()];case 4:return s.sent(),[2,e];case 5:if(!function(t){if(!(t instanceof jc))return!1;var e=Number(t.httpStatus);return 429===e||500===e||503===e||504===e}(i=s.sent()))throw i;return o={throttleEndTimeMillis:Date.now()+$N(r),backoffCount:r+1},[4,this.storage.setThrottleMetadata(o)];case 6:return s.sent(),[2,this.attemptFetch(t,o)];case 7:return[2]}}))}))},t}(),rO="@firebase/remote-config";(eO=Al).INTERNAL.registerComponent(new il("remoteConfig",(function(t,e){var n=t.getProvider("app").getImmediate(),r=t.getProvider("installations").getImmediate();if("undefined"==typeof window)throw qN.create("registration-window");var i=n.options,o=i.projectId,s=i.apiKey,a=i.appId;if(!o)throw qN.create("registration-project-id");if(!s)throw qN.create("registration-api-key");if(!a)throw qN.create("registration-app-id");e=e||"firebase";var u=new ZN(a,n.name,e),c=new JN(u),l=new gl(rO);l.logLevel=cl.ERROR;var h=new WN(r,eO.SDK_VERSION,e,o,s,a),f=new nO(h,u),p=new HN(f,u,c,l),d=new YN(n,p,c,u,l);return d.ensureInitialized(),d}),"PUBLIC").setMultipleInstances(!0)),eO.registerVersion(rO,"0.1.27");
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
Al.registerVersion("firebase","7.18.0","app");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),Al.registerVersion("firebase","7.18.0");Al.initializeApp({apiKey:"AIzaSyAPLBplcM9EtF_AKjZztjUwAt9q80vtBlM",authDomain:"chat-kit-d2adf.firebaseapp.com",databaseURL:"https://chat-kit-d2adf.firebaseio.com",projectId:"chat-kit-d2adf",storageBucket:"chat-kit-d2adf.appspot.com",messagingSenderId:"590012450482",appId:"1:590012450482:web:a04c9beeb83f149080abab",measurementId:"G-1RRV3MP58T"});var iO=function(t){var e=function(t){return t<Math.pow(2,10)?t+" b":t<Math.pow(2,20)?Math.round(t/Math.pow(2,10))+" KB":t<25*Math.pow(2,20)&&Math.round(t/Math.pow(2,20))+" MB"}(null==t?void 0:t.size);if(!e)return!1;var n=t.type.split("/")[1],r=Al.storage().ref("/test"+t.name);return{type:n,fileTask:r.put(t),size:e,id:2e4*Math.random()+0,name:t.name,ref:r}},oO=function(t){var e=h(!1),n=e[0],r=e[1],i=t.store,o=yc({onDrop:v((function(e){e.forEach((function(e){var n=iO(e);r(!n),n&&t.pushFile((function(t){return R(t,[n])}))})),n&&io.uiManagment("showDropZone",!1,i)}),[])}),s=o.getRootProps,a=o.getInputProps,u=o.isDragActive,c=E("styles","settings","languages","managment"),l=c.styles,f=c.settings,p=c.languages,d=c.managment,g=p.get("active"),y=p.getIn(["stack",g,"CKDropAndDown"]),m=y.comment,b=y.errorComment,w=y.divider,_=y.chooseFileButtonTitle,C=y.title,I=d.getIn(["components","CKDropAndDown"]).chooseFile,T=f.get("media"),k=T.svg,x=T.icons,A=l.get("active"),N=t.loserDropZone,O=l.getIn(["stack",A,"CKDropAndDown"]),D=O.mainContainer,P=O.titleContainer,M=O.chooseFileButton,L=O.dividerContainer,F=O.svgContainer,j=O.dropAndDownContainer,V=O.commentContainer,U=n?k.dropZoneError:k.dropZone;return ji("div",S({className:"ckDropAndDown-mainContainer",css:S(S({},D),N)},s()),ji("input",S({},a())),ji("div",{css:j,className:""},ji(U,{style:u?S(S({},F),{opacity:"0.6"}):F,background:D.background})),ji("div",{className:"cKDropAndDown-titleContainer",css:P},C),ji("div",{className:"cKDropAndDown-dividerContainer",css:L},w),ji("button",{css:M},I.withTitle&&_,I.withIcon&&ji(za,{icon:x.addFileIcon.icon,className:x.addFileIcon.icon,props:x.addFileIcon.props})),ji("div",{className:"cKDropAndDown-commentsContainer",css:V},n?b:m))},sO=function(t){var e=E("settings").settings.getIn(["media","progressLoader"]),n=e.radius,r=e.strokeWidth,i=e.color,o=n-2*r,s=2*o*Math.PI,a=s-t.progress/100*s;return ji("svg",{className:"ckProgressLoader",height:2*n,width:2*n},ji("circle",{stroke:i,fill:"transparent",strokeWidth:r,strokeDasharray:s+" "+s,style:{strokeDashoffset:a},r:o,cx:n,cy:n,css:{transition:"stroke-dashoffset 0.35s",transform:"rotate(-90deg)",transformOrigin:"50% 50%"}}))},aO=function(){return ji("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ji("g",{"clip-path":"url(#clip0)"},ji("g",{filter:"url(#filter0_d)"},ji("path",{d:"M15.6368 5.93908L12.0002 9.57563L8.36368 5.93908C7.91745 5.49285 7.19367 5.49285 6.74744 5.93908L5.93932 6.74721C5.49308 7.19344 5.49308 7.91722 5.93932 8.36345L9.57587 12L5.93932 15.6365C5.49308 16.0828 5.49308 16.8066 5.93932 17.2528L6.74744 18.0609C7.19367 18.5072 7.91745 18.5072 8.36368 18.0609L12.0002 14.4244L15.6368 18.0609C16.083 18.5071 16.8068 18.5071 17.253 18.0609L18.0611 17.2528C18.5074 16.8066 18.5074 16.0828 18.0611 15.6365L14.4246 12L18.0611 8.36345C18.5074 7.91722 18.5074 7.19344 18.0611 6.74721L17.253 5.93909C16.8068 5.49285 16.083 5.49285 15.6368 5.93908Z",fill:"white"}))),ji("defs",null,ji("filter",{id:"filter0_d",x:"-1.31348",y:"-1.31372",width:"26.6274",height:"26.6274",filterUnits:"userSpaceOnUse","color-interpolation-filters":"sRGB"},ji("feFlood",{"flood-opacity":"0",result:"BackgroundImageFix"}),ji("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),ji("feOffset",null),ji("feGaussianBlur",{stdDeviation:"1"}),ji("feColorMatrix",{type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0"}),ji("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),ji("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"})),ji("clipPath",{id:"clip0"},ji("rect",{width:"24",height:"24",fill:"white"}))))};aO.displayName="DeleteFile svg";var uO=function(t){var e=E("styles","settings"),n=e.styles,r=e.settings.get("media").svg,i=t.file,o=t.uploadedFile,s=h(0),a=s[0],u=s[1],c=h(!0),p=c[0],d=c[1],v=l(!0);p&&i.fileTask.on("state_changed",(function(t){var e=t.bytesTransferred/t.totalBytes*100;u((function(){return e}))}),(function(t){}),(function(){return d((function(){return!1}))}));var g=r[i.type+"File"]?r[i.type+"File"]:r.defaultFile,y=n.get("active"),m=n.getIn(["stack",y,"Sender"]),b=m.fileContainer,w=m.fileImage,_=m.deleteFileButton;return f((function(){v.current!=p&&(v.current=p,k(void 0,void 0,void 0,(function(){var e,n;return x(this,(function(r){switch(r.label){case 0:return[4,i.ref.getDownloadURL()];case 1:return e=r.sent(),n={name:i.name,url:e,size:i.size,type:i.type,id:i.id},t.pushFile((function(t){return R(t,[n])})),[2]}}))})))}),[p]),ji("div",{css:b,className:"sender-fileContainer"},p&&ji(sO,{progress:a}),!p&&ji("div",{key:t.file.name,css:_,onClick:function(){i.ref.delete(),t.pushFile((function(t){return t.filter((function(t){return t.id!==i.id}))})),t.updateList((function(t){return t.filter((function(t){return t.id!==i.id}))}))}},ji(aO,{key:t.index})),"jpeg"===i.type||"png"===i.type||"jpg"===i.type?(null==o?void 0:o.url)&&ji(Ga,{sholdBeDownload:!1,imageSrc:null==o?void 0:o.url,style:w}):ji(g,null))};uO.displayName="SenderFile";var cO=function(t){var e=E("styles").styles,n=e.get("active"),r=e.getIn(["stack",n,"Sender"]).filesContainer,i=t.listOfFiles,o=t.updateList,s=t.pushFile,a=t.uploadedFiles;return ji("div",{className:"sender-filesContainer",css:r},i.map((function(t,e){return ji(uO,{index:t.id,file:t,uploadedFile:a[e],key:e,pushFile:s,updateList:o})})))};cO.displayName="SenderFiles";var lO=function(){if("undefined"!=typeof Map)return Map;function t(t,e){var n=-1;return t.some((function(t,r){return t[0]===e&&(n=r,!0)})),n}return function(){function e(){this.__entries__=[]}return Object.defineProperty(e.prototype,"size",{get:function(){return this.__entries__.length},enumerable:!0,configurable:!0}),e.prototype.get=function(e){var n=t(this.__entries__,e),r=this.__entries__[n];return r&&r[1]},e.prototype.set=function(e,n){var r=t(this.__entries__,e);~r?this.__entries__[r][1]=n:this.__entries__.push([e,n])},e.prototype.delete=function(e){var n=this.__entries__,r=t(n,e);~r&&n.splice(r,1)},e.prototype.has=function(e){return!!~t(this.__entries__,e)},e.prototype.clear=function(){this.__entries__.splice(0)},e.prototype.forEach=function(t,e){void 0===e&&(e=null);for(var n=0,r=this.__entries__;n<r.length;n++){var i=r[n];t.call(e,i[1],i[0])}},e}()}(),hO="undefined"!=typeof window&&"undefined"!=typeof document&&window.document===document,fO="undefined"!=typeof global&&global.Math===Math?global:"undefined"!=typeof self&&self.Math===Math?self:"undefined"!=typeof window&&window.Math===Math?window:Function("return this")(),pO="function"==typeof requestAnimationFrame?requestAnimationFrame.bind(fO):function(t){return setTimeout((function(){return t(Date.now())}),1e3/60)};var dO=["top","right","bottom","left","width","height","size","weight"],vO="undefined"!=typeof MutationObserver,gO=function(){function t(){this.connected_=!1,this.mutationEventsAdded_=!1,this.mutationsObserver_=null,this.observers_=[],this.onTransitionEnd_=this.onTransitionEnd_.bind(this),this.refresh=function(t,e){var n=!1,r=!1,i=0;function o(){n&&(n=!1,t()),r&&a()}function s(){pO(o)}function a(){var t=Date.now();if(n){if(t-i<2)return;r=!0}else n=!0,r=!1,setTimeout(s,e);i=t}return a}(this.refresh.bind(this),20)}return t.prototype.addObserver=function(t){~this.observers_.indexOf(t)||this.observers_.push(t),this.connected_||this.connect_()},t.prototype.removeObserver=function(t){var e=this.observers_,n=e.indexOf(t);~n&&e.splice(n,1),!e.length&&this.connected_&&this.disconnect_()},t.prototype.refresh=function(){this.updateObservers_()&&this.refresh()},t.prototype.updateObservers_=function(){var t=this.observers_.filter((function(t){return t.gatherActive(),t.hasActive()}));return t.forEach((function(t){return t.broadcastActive()})),t.length>0},t.prototype.connect_=function(){hO&&!this.connected_&&(document.addEventListener("transitionend",this.onTransitionEnd_),window.addEventListener("resize",this.refresh),vO?(this.mutationsObserver_=new MutationObserver(this.refresh),this.mutationsObserver_.observe(document,{attributes:!0,childList:!0,characterData:!0,subtree:!0})):(document.addEventListener("DOMSubtreeModified",this.refresh),this.mutationEventsAdded_=!0),this.connected_=!0)},t.prototype.disconnect_=function(){hO&&this.connected_&&(document.removeEventListener("transitionend",this.onTransitionEnd_),window.removeEventListener("resize",this.refresh),this.mutationsObserver_&&this.mutationsObserver_.disconnect(),this.mutationEventsAdded_&&document.removeEventListener("DOMSubtreeModified",this.refresh),this.mutationsObserver_=null,this.mutationEventsAdded_=!1,this.connected_=!1)},t.prototype.onTransitionEnd_=function(t){var e=t.propertyName,n=void 0===e?"":e;dO.some((function(t){return!!~n.indexOf(t)}))&&this.refresh()},t.getInstance=function(){return this.instance_||(this.instance_=new t),this.instance_},t.instance_=null,t}(),yO=function(t,e){for(var n=0,r=Object.keys(e);n<r.length;n++){var i=r[n];Object.defineProperty(t,i,{value:e[i],enumerable:!1,writable:!1,configurable:!0})}return t},mO=function(t){return t&&t.ownerDocument&&t.ownerDocument.defaultView||fO},bO=TO(0,0,0,0);function wO(t){return parseFloat(t)||0}function _O(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return e.reduce((function(e,n){return e+wO(t["border-"+n+"-width"])}),0)}function EO(t){var e=t.clientWidth,n=t.clientHeight;if(!e&&!n)return bO;var r=mO(t).getComputedStyle(t),i=function(t){for(var e={},n=0,r=["top","right","bottom","left"];n<r.length;n++){var i=r[n],o=t["padding-"+i];e[i]=wO(o)}return e}(r),o=i.left+i.right,s=i.top+i.bottom,a=wO(r.width),u=wO(r.height);if("border-box"===r.boxSizing&&(Math.round(a+o)!==e&&(a-=_O(r,"left","right")+o),Math.round(u+s)!==n&&(u-=_O(r,"top","bottom")+s)),!function(t){return t===mO(t).document.documentElement}(t)){var c=Math.round(a+o)-e,l=Math.round(u+s)-n;1!==Math.abs(c)&&(a-=c),1!==Math.abs(l)&&(u-=l)}return TO(i.left,i.top,a,u)}var CO="undefined"!=typeof SVGGraphicsElement?function(t){return t instanceof mO(t).SVGGraphicsElement}:function(t){return t instanceof mO(t).SVGElement&&"function"==typeof t.getBBox};function IO(t){return hO?CO(t)?function(t){var e=t.getBBox();return TO(0,0,e.width,e.height)}(t):EO(t):bO}function TO(t,e,n,r){return{x:t,y:e,width:n,height:r}}var SO=function(){function t(t){this.broadcastWidth=0,this.broadcastHeight=0,this.contentRect_=TO(0,0,0,0),this.target=t}return t.prototype.isActive=function(){var t=IO(this.target);return this.contentRect_=t,t.width!==this.broadcastWidth||t.height!==this.broadcastHeight},t.prototype.broadcastRect=function(){var t=this.contentRect_;return this.broadcastWidth=t.width,this.broadcastHeight=t.height,t},t}(),kO=function(t,e){var n=function(t){var e=t.x,n=t.y,r=t.width,i=t.height,o="undefined"!=typeof DOMRectReadOnly?DOMRectReadOnly:Object,s=Object.create(o.prototype);return yO(s,{x:e,y:n,width:r,height:i,top:n,right:e+r,bottom:i+n,left:e}),s}(e);yO(this,{target:t,contentRect:n})},xO=function(){function t(t,e,n){if(this.activeObservations_=[],this.observations_=new lO,"function"!=typeof t)throw new TypeError("The callback provided as parameter 1 is not a function.");this.callback_=t,this.controller_=e,this.callbackCtx_=n}return t.prototype.observe=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof mO(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)||(e.set(t,new SO(t)),this.controller_.addObserver(this),this.controller_.refresh())}},t.prototype.unobserve=function(t){if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");if("undefined"!=typeof Element&&Element instanceof Object){if(!(t instanceof mO(t).Element))throw new TypeError('parameter 1 is not of type "Element".');var e=this.observations_;e.has(t)&&(e.delete(t),e.size||this.controller_.removeObserver(this))}},t.prototype.disconnect=function(){this.clearActive(),this.observations_.clear(),this.controller_.removeObserver(this)},t.prototype.gatherActive=function(){var t=this;this.clearActive(),this.observations_.forEach((function(e){e.isActive()&&t.activeObservations_.push(e)}))},t.prototype.broadcastActive=function(){if(this.hasActive()){var t=this.callbackCtx_,e=this.activeObservations_.map((function(t){return new kO(t.target,t.broadcastRect())}));this.callback_.call(t,e,t),this.clearActive()}},t.prototype.clearActive=function(){this.activeObservations_.splice(0)},t.prototype.hasActive=function(){return this.activeObservations_.length>0},t}(),AO="undefined"!=typeof WeakMap?new WeakMap:new lO,NO=function t(e){if(!(this instanceof t))throw new TypeError("Cannot call a class as a function.");if(!arguments.length)throw new TypeError("1 argument required, but only 0 present.");var n=gO.getInstance(),r=new xO(e,n,this);AO.set(this,r)};["observe","unobserve","disconnect"].forEach((function(t){NO.prototype[t]=function(){var e;return(e=AO.get(this))[t].apply(e,arguments)}}));var OO=void 0!==fO.ResizeObserver?fO.ResizeObserver:NO;function RO(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}var DO="object"==typeof global&&global&&global.Object===Object&&global,PO="object"==typeof self&&self&&self.Object===Object&&self,MO=DO||PO||Function("return this")(),LO=function(){return MO.Date.now()},FO=MO.Symbol,jO=Object.prototype,VO=jO.hasOwnProperty,UO=jO.toString,BO=FO?FO.toStringTag:void 0;var HO=Object.prototype.toString;var zO=FO?FO.toStringTag:void 0;function qO(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":zO&&zO in Object(t)?function(t){var e=VO.call(t,BO),n=t[BO];try{t[BO]=void 0;var r=!0}catch(t){}var i=UO.call(t);return r&&(e?t[BO]=n:delete t[BO]),i}(t):function(t){return HO.call(t)}(t)}var WO=/^\s+|\s+$/g,KO=/^[-+]0x[0-9a-f]+$/i,GO=/^0b[01]+$/i,XO=/^0o[0-7]+$/i,YO=parseInt;function QO(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return null!=t&&"object"==typeof t}(t)&&"[object Symbol]"==qO(t)}(t))return NaN;if(RO(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=RO(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(WO,"");var n=GO.test(t);return n||XO.test(t)?YO(t.slice(2),n?2:8):KO.test(t)?NaN:+t}var ZO=Math.max,JO=Math.min;function $O(t,e,n){var r,i,o,s,a,u,c=0,l=!1,h=!1,f=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function p(e){var n=r,o=i;return r=i=void 0,c=e,s=t.apply(o,n)}function d(t){return c=t,a=setTimeout(g,e),l?p(t):s}function v(t){var n=t-u;return void 0===u||n>=e||n<0||h&&t-c>=o}function g(){var t=LO();if(v(t))return y(t);a=setTimeout(g,function(t){var n=e-(t-u);return h?JO(n,o-(t-c)):n}(t))}function y(t){return a=void 0,f&&r?p(t):(r=i=void 0,s)}function m(){var t=LO(),n=v(t);if(r=arguments,i=this,u=t,n){if(void 0===a)return d(u);if(h)return clearTimeout(a),a=setTimeout(g,e),p(u)}return void 0===a&&(a=setTimeout(g,e)),s}return e=QO(e)||0,RO(n)&&(l=!!n.leading,o=(h="maxWait"in n)?ZO(QO(n.maxWait)||0,e):o,f="trailing"in n?!!n.trailing:f),m.cancel=function(){void 0!==a&&clearTimeout(a),c=0,r=u=i=a=void 0},m.flush=function(){return void 0===a?s:y(LO())},m}var tR={debounce:$O,throttle:function(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new TypeError("Expected a function");return RO(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),$O(t,e,{leading:r,maxWait:e,trailing:i})}},eR=function(t){return"function"==typeof t},nR=function(){return"undefined"==typeof window},rR=function(t){return t instanceof Element||t instanceof HTMLDocument};function iR(t){return(iR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function oR(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function sR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function aR(t,e){return(aR=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uR(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=hR(t);if(e){var i=hR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return cR(this,n)}}function cR(t,e){return!e||"object"!==iR(e)&&"function"!=typeof e?lR(t):e}function lR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hR(t){return(hR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function fR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var pR=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&aR(t,e)}(s,u);var e,r,i,o=uR(s);function s(t){var e;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,s),fR(lR(e=o.call(this,t)),"cancelHandler",(function(){e.resizeHandler&&e.resizeHandler.cancel&&(e.resizeHandler.cancel(),e.resizeHandler=null)})),fR(lR(e),"rafClean",(function(){e.raf&&e.raf.cancel&&(e.raf.cancel(),e.raf=null)})),fR(lR(e),"toggleObserver",(function(t){var n=e.getElement();n&&e.resizeObserver[t]&&e.resizeObserver[t](n)})),fR(lR(e),"getElement",(function(){var t=e.props,n=t.querySelector,r=t.targetDomEl;if(!nR()){if(n)return document.querySelector(n);if(r&&rR(r))return r;if(e.targetRef&&rR(e.targetRef.current))return e.targetRef.current;var i=C(lR(e));if(i)switch(e.getRenderType()){case"renderProp":case"childFunction":case"child":case"childArray":return i;default:return i.parentElement}}})),fR(lR(e),"createUpdater",(function(){return e.rafClean(),e.raf=function(t){var e=[],n=null,r=function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];e=i,n||(n=requestAnimationFrame((function(){n=null,t.apply(void 0,e)})))};return r.cancel=function(){n&&(cancelAnimationFrame(n),n=null)},r}((function(t){var n=t.width,r=t.height,i=e.props.onResize;eR(i)&&i(n,r),e.setState({width:n,height:r})})),e.raf})),fR(lR(e),"createResizeHandler",(function(t){var n=e.state,r=n.width,i=n.height,o=e.props,s=o.handleWidth,a=o.handleHeight;if(s||a){var u=e.createUpdater();t.forEach((function(t){var n=t&&t.contentRect||{},o=n.width,c=n.height,l=s&&r!==o||a&&i!==c;!e.skipOnMount&&l&&!nR()&&u({width:o,height:c}),e.skipOnMount=!1}))}})),fR(lR(e),"getRenderType",(function(){var t=e.props,n=t.render,r=t.children;return eR(n)?"renderProp":eR(r)?"childFunction":m(r)?"child":Array.isArray(r)?"childArray":"parent"}));var n=t.skipOnMount,r=t.refreshMode,i=t.refreshRate,a=t.refreshOptions;e.state={width:void 0,height:void 0},e.skipOnMount=n,e.raf=null,e.unmounted=!1,e.targetRef=c();var u=tR[r];return e.resizeHandler=u?u(e.createResizeHandler,i,a):e.createResizeHandler,e.resizeObserver=new OO(e.resizeHandler),e}return e=s,(r=[{key:"componentDidMount",value:function(){var t=this.props.targetRef;t&&t.current&&(this.targetRef.current=t.current),this.toggleObserver("observe")}},{key:"componentWillUnmount",value:function(){this.toggleObserver("unobserve"),this.rafClean(),this.cancelHandler(),this.unmounted=!0}},{key:"render",value:function(){var t=this.props,e=t.render,r=t.children,i=t.nodeType,o=this.state,s={width:o.width,height:o.height,targetRef:this.targetRef};switch(this.getRenderType()){case"renderProp":return e(s);case"childFunction":return r(s);case"child":if("string"==typeof r.type){var a=oR(s,["targetRef"]);return y(r,a)}return y(r,s);case"childArray":return r.map((function(t){return!!t&&y(t,s)}));default:return n.createElement(i,null)}}}])&&sR(e.prototype,r),i&&sR(e,i),s}();function dR(t){return(dR="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function vR(){return(vR=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function gR(t,e){if(null==t)return{};var n,r,i=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n])}return i}function yR(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function mR(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function bR(t,e,n){return e&&mR(t.prototype,e),n&&mR(t,n),t}function wR(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_R(t,e)}function _R(t,e){return(_R=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ER(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,r=TR(t);if(e){var i=TR(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return CR(this,n)}}function CR(t,e){return!e||"object"!==dR(e)&&"function"!=typeof e?IR(t):e}function IR(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function TR(t){return(TR=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function SR(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}pR.propTypes={handleWidth:Aa.bool,handleHeight:Aa.bool,skipOnMount:Aa.bool,refreshRate:Aa.number,refreshMode:Aa.string,refreshOptions:Aa.shape({leading:Aa.bool,trailing:Aa.bool}),querySelector:Aa.string,targetDomEl:Aa.any,targetRef:Aa.oneOfType([Aa.func,Aa.shape({current:Aa.any})]),onResize:Aa.func,render:Aa.func,children:Aa.any,nodeType:Aa.node},pR.defaultProps={handleWidth:!0,handleHeight:!0,skipOnMount:!1,refreshRate:1e3,refreshMode:void 0,refreshOptions:void 0,querySelector:null,targetDomEl:null,targetRef:null,onResize:null,render:void 0,children:null,nodeType:"div"};var kR=function(t){var e=t.height,r=t.changeSenderHeight,i=t.store,o=h([]),s=o[0],a=o[1],u=0!==s.length?{padding:"47px 0px 56px 0px"}:{},c=h([]),p=c[0],d=c[1],v=E("settings","managment","languages","styles"),g=v.dispatch,y=v.settings,m=v.managment,b=v.languages,w=v.styles,_=m.getIn(["components","Sender"]),C=_.blockInput,I=_.blockSubmit,T=_.audioMessage,k=_.addStickers,x=_.share,A=_.addFile,N=_.send,O=_.showDropZone,R=w.get("active"),D=w.getIn(["stack",R,"Sender"]),P=D.mainContainer,M=D.form,L=D.shareButton,F=D.stickersButton,j=D.voiceButton,V=D.addFileButton,U=D.textArea,B=D.sendMessageButton,H=b.get("active"),z=b.getIn(["stack",H,"Sender"]),q=z.placeholder,W=z.sendButtonTitle,K=z.fileButtonTitle,G=z.stickerButtonTitle,X=z.shareButtonTitle,Y=z.voiceButtonTitle,Q=y.getIn(["media","icons"]),Z=Q.addFileIcon,J=Q.sendMessageIcon,$=Q.addStickersIcon,tt=Q.voiceIcon,et=Q.shareIcon,nt=Q.timesIcon,rt=l();return f((function(){r((function(){return rt.current.clientHeight}))}),[e]),ji(n.Fragment,null,O&&ji(oO,{loserDropZone:u,listOfFiles:s,pushFile:a}),ji("div",{ref:rt,className:"sender-main-container",css:P},0!==s.length&&ji(cO,{uploadedFiles:p,listOfFiles:s,pushFile:d,updateList:a}),A.enabled&&ji(qa,{withIcon:A.withIcon,withTitle:A.withTitle,title:K,type:"button",block:!1,onClick:function(){return io.uiManagment("showDropZone",!O,i)},icon:O?nt:Z,style:V,className:"sender-addFileButton"}),ji(Ru,{filesCount:p.length,inputPlaceHolder:q,blockSubmit:I,sendButton:S(S({},N),{title:W,icon:J}),sendMessage:function(t){m.get("common").showRate&&To.sendRate(4,i),0===p.length&&0!==t.length&&oo.recieveMessage({text:t,type:"text",sender:"user",showRate:!1},i),1===p.length&&0!==t.length&&oo.recieveMessage({text:t,type:"text/file",file:p[0],sender:"user",showRate:!1},i),1===p.length&&0===t.length&&oo.recieveMessage({type:"file",file:p[0],sender:"user",showRate:!1},i),p.length>1&&0!==t.length&&oo.recieveMessage({text:t,type:"text",sender:"user",showRate:!1},i),p.length>1&&p.map((function(t){return oo.recieveMessage({file:t,type:"file",sender:"user",showRate:!1},i)})),a((function(){return[]})),d((function(){return[]})),0!==t.length&&To.sendMessage(t,i)},focusInf:function(){return i?i.dispatch("changeSenderFocusInf"):g("changeSenderFocusInf")},blockInput:C,style:{form:M,sendMessageButton:B,textArea:U}}),k.enabled&&ji(qa,{withIcon:k.withIcon,withTitle:k.withTitle,title:G,type:"button",block:!1,onClick:function(){return console.log("stickers")},icon:$,style:F,className:"sender-stickersButton"}),T.enabled&&ji(qa,{withIcon:T.withIcon,withTitle:T.withTitle,title:Y,type:"button",block:!1,onClick:function(){return console.log("audioMessage")},icon:tt,className:"sender-voiceButton",style:j}),x.enabled&&ji(qa,{withIcon:x.withIcon,withTitle:x.withTitle,title:X,type:"button",block:!1,onClick:function(){return console.log("share")},icon:et,style:L,className:"sender-shareButton"})))};kR.displayName="Sender";var xR=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handleWidth:!0,handleHeight:!0},r=function(r){wR(o,n.Component);var i=ER(o);function o(){var t;yR(this,o);for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return SR(IR(t=i.call.apply(i,[this].concat(n))),"ref",c()),t}return bR(o,[{key:"render",value:function(){var r=this.props,i=r.forwardedRef,o=gR(r,["forwardedRef"]),s=i||this.ref;return n.createElement(pR,vR({},e,{targetRef:s}),n.createElement(t,vR({targetRef:s},o)))}}]),o}();function i(t,e){return n.createElement(r,vR({},t,{forwardedRef:e}))}var o=t.displayName||t.name;return i.displayName="withResizeDetector(".concat(o,")"),r.propTypes={forwardedRef:Aa.oneOfType([Aa.func,Aa.shape({current:Aa.any})])},r.defaultProps={forwardedRef:void 0},s(i)}(kR),AR=function(t){var e=t.store,n=E("styles","settings","managment","languages"),r=n.styles,i=n.settings,o=n.managment,s=n.languages,a=s.get("active"),u=s.getIn(["stack",a,"Search"]).placeholder,c=r.get("active"),l=i.getIn(["media","icons"]),h=l.searchIcon,f=l.searchDeactivateIcon,p=l.timesIcon,d=r.getIn(["stack",c,"Header"]),v=d.searchButton,g=d.headerSearchContainer,y=d.headerSearchInput,m=d.headerSearchResetButton,b=o.getIn(["components","Header"]).search,w=b.active?{width:"100%"}:{};return ji("div",{className:"sova-header-search-container",css:S(S({},g),w)},ji(qa,{type:"button",block:!1,withIcon:b.withIcon,withTitle:b.withTitle,icon:b.active?f:h,style:v,onClick:function(){io.uiManagment("toggleSearchActiveStatus",e),io.uiManagment("changeSearchValue","",e)},className:"sova-header-search-icon"}),b.active&&ji("input",{value:b.searchValue,className:"sova-header-search-input",css:y,placeholder:u,onChange:function(t){return n=t.target.value,io.uiManagment("changeSearchValue",n,e);var n}}),0!==b.searchValue.length&&ji(qa,{type:"button",block:!1,withIcon:b.withIcon,withTitle:b.withTitle,icon:p,style:m,onClick:function(){return io.uiManagment("changeSearchValue","",e)},className:"sova-header-search-icon"}))},NR=_("settings","managment","languages","styles",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.resetClick=function(){return io.uiManagment("reset",e.props.store)},e.closeWidget=function(){return io.uiManagment("openChat",!1,e.props.store)},e.settingsClick=function(){return io.uiManagment("showSettings",!0,e.props.store)},e}return T(e,t),e.prototype.render=function(){var t=this.props.managment.getIn(["components","Header"]),e=t.showTitle,n=t.showAvatar,r=t.reset,i=t.settings,o=t.search,s=t.close,a=this.props.languages.get("active"),u=this.props.languages.getIn(["stack",a,"Header"]),c=u.title,l=u.settingsButtonTitle,h=u.resetButtonTitle,f=u.closeButtonTitle,p=this.props.settings.getIn(["media","icons"]),d=p.resetIcon,v=p.settingsIcon,g=p.closeIcon,y=this.props.styles.get("active"),m=this.props.styles.getIn(["stack",y,"Header"]),b=m.mainContainer,w=m.avatarContainer,_=m.image,E=m.titleContainer,C=m.resetButton,I=m.settingsButton,T=m.closeButton;return ji("div",{className:"header-main-container",css:b},n&&!o.active&&ji(Vo,{styles:{avatarContainer:w,image:_},className:"header"}),e&&!o.active&&ji("div",{className:"header-title-container",css:E},c),o.enabled&&ji(AR,{store:this.props.store}),r.enabled&&!o.active&&ji(qa,{type:"button",block:!1,withIcon:r.withIcon,withTitle:r.withTitle,title:h,onClick:this.resetClick,icon:d,style:C,className:"header-resetButton"}),i.enabled&&!o.active&&ji(qa,{type:"button",block:!1,withIcon:i.withIcon,withTitle:i.withTitle,title:l,icon:v,onClick:this.settingsClick,style:I,className:"header-settingsButton"}),s.enabled&&!o.active&&ji(qa,{type:"button",block:!1,withIcon:s.withIcon,withTitle:s.withTitle,title:f,onClick:this.closeWidget,icon:g,style:T,className:"header-closeButton"}))},e}(n.PureComponent)),OR=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return T(e,t),e.prototype.render=function(){var t=this.props.styles;return ji("svg",{css:t,width:"170",height:"170",viewBox:"0 0 170 170",fill:"none",xmlns:"http://www.w3.org/2000/svg"},ji("g",{filter:"url(#filter0_d)"},ji("path",{d:"M120 65C120 74.0114 120 100 120 100C120 100 95.3185 100 85 100C65.67 100 50 84.33 50 65C50 45.67 65.67 30 85 30C104.33 30 120 45.67 120 65Z",fill:t.groupPath.fill||"#386FFE"})),ji("path",{id:"q",css:t.path,d:"M65 53H87",stroke:"white",strokeDasharray:"40",strokeWidth:"5"}),ji("path",{css:t.path,id:"w",d:"M93 53H105",stroke:"white",strokeDasharray:"10",strokeWidth:"5"}),ji("path",{css:t.path,d:"M65 65H95",stroke:"white",strokeDasharray:"50",strokeWidth:"5"}),ji("path",{css:t.path,d:"M65 77H83",stroke:"white",strokeDasharray:"30",strokeWidth:"5"}),ji("path",{css:t.path,d:"M88 77H99",stroke:"white",strokeDasharray:"10",strokeWidth:"5"}),ji("defs",null,ji("filter",{id:"filter0_d",x:"0",y:"0",width:"170",height:"170",filterUnits:"userSpaceOnUse",colorInterpolationFilters:"sRGB"},ji("feFlood",{floodOpacity:"0",result:"BackgroundImageFix"}),ji("feColorMatrix",{in:"SourceAlpha",type:"matrix",values:"0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"}),ji("feOffset",{dy:"20"}),ji("feGaussianBlur",{stdDeviation:"25"}),ji("feColorMatrix",{type:"matrix",values:"0 0 0 0 0.0196078 0 0 0 0 0 0 0 0 0 0.219608 0 0 0 0.3 0"}),ji("feBlend",{mode:"normal",in2:"BackgroundImageFix",result:"effect1_dropShadow"}),ji("feBlend",{mode:"normal",in:"SourceGraphic",in2:"effect1_dropShadow",result:"shape"}))))},e}(n.PureComponent),RR=_("managment","languages","styles",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.openChat=function(){return io.uiManagment("openChat",!0,e.props.store)},e}return T(e,t),e.prototype.render=function(){var t=this.props.managment.getIn(["components","Badge"]),e=t.showAvatar,n=t.showTitle,r=t.showSVG,i=this.props.languages.get("active"),o=this.props.languages.getIn(["stack",i,"Badge"]).title,s=this.props.styles.get("active"),a=this.props.styles.getIn(["stack",s,"Badge"]),u=a.mainContainer,c=a.avatarContainer,l=a.image,h=a.titleContainer,f=a.svg;return ji("div",{className:"badge-main-container",css:u,onClick:this.openChat},r&&ji(OR,{styles:f}),e&&ji(Vo,{styles:{avatarContainer:c,image:l},className:"badge"}),n&&ji("div",{className:"badge-title-container",css:h},o))},e}(n.PureComponent)),DR=_("settings","styles",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeChat=function(){return e.props.store?e.props.store.dispatch("openChat",!1):Io.dispatch("openChat",!1)},e}return T(e,t),e.prototype.render=function(){var t=this.props.settings.getIn(["media","icons"]).closeIcon,e=this.props.styles.get("active"),n=this.props.styles.getIn(["stack",e,"Close"]).mainContainer;return ji("div",{className:"close-main-container",css:n,onClick:this.closeChat},ji(za,S({},t)))},e}(n.PureComponent)),PR=function(t){var e=t.properties,r=t.onChange,i=t.activePropertiy,o=t.type,s=t.styles,a=s.checkboxContainer,u=s.boxTitle,c=s.checkbox,l=s.switcher,h=Object.entries(e);return ji(n.Fragment,null,h.map((function(t,e){return ji("div",{key:e,className:"settings-"+o+"-checkbox-container",css:a},ji("input",{onChange:r,checked:t[0]===i,type:"checkbox",id:t[0],className:"settings-checkbox",css:c}),ji("label",{htmlFor:t[0],className:"settings-switcher",css:l}),ji("p",{className:"settings-box-title",css:u},t[0]),"themes"===o&&ji("div",{className:t[0]+"-theme-example",css:t[1].example}," "))})))},MR=_("languages","styles","managment","settings",function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.closeSettings=function(){return io.uiManagment("showSettings",null,e.props.store)},e}return T(e,t),e.prototype.render=function(){var t=this.props.managment.getIn(["components","Settings"]).closeSettings,e=this.props.languages.get("active"),n=this.props.languages.getIn(["stack",e,"Settings"]),r=n.title,i=n.closeSettingsButtonTitle,o=this.props.styles.get("active"),s=this.props.styles.getIn(["stack",o,"Settings"]),a=s.closeSettingsButton,u=s.header,c=s.titleContainer,l=this.props.settings.getIn(["media","icons"]).closeSettingsIcon;return ji("div",{className:"settings-header",css:u},t.enabled&&ji(qa,{withIcon:t.withIcon,withTitle:t.withIcon,title:i,type:"button",block:!1,className:"settings-closeSettingsButton",style:a,icon:l,onClick:this.closeSettings}),ji("div",{className:"settings-titleContainer",css:c},r))},e}(n.PureComponent)),LR=b((function(t){var e=t.store,n=t.languages.get("active"),r=t.languages.get("stack"),i=t.styles.get("active"),o=t.styles.get("stack"),s=t.languages.getIn(["stack",n,"Settings"]),a=s.headingLanguage,u=s.headingTime,c=s.headingTheme,l=t.styles.getIn(["stack",i,"Settings"]),h=l.mainContainer,f=l.languages,p=l.themes,d=l.languagesCheckboxContainer,v=l.themesCheckboxContainer,g=l.boxTitle,y=l.checkbox,m=l.switcher,b=l.heading,w=l.fieldcontainer,_=t.styles.getIn(["stack",i,"ToggleSlider"]),E=_.toggleContainer,C=_.toggleHeading,I=_.toggleLabel,T=_.toggleInput,S=_.toggleSlider,k=t.managment.getIn(["components","Message"]).showDate;return ji("div",{className:"settings-main-container",css:h},ji(MR,{store:e}),ji("div",{className:"settings-fieldcontainer",css:w},ji("span",{className:"sova-settings_group-heading",css:b},a||"Languages"),ji("div",{className:"settings-languages",css:f},ji(PR,{type:"languages",properties:r,activePropertiy:n,onChange:function(t){var n=t.currentTarget.id;return Oo.languages("changeLanguage",n,e)},styles:{checkboxContainer:d,boxTitle:g,checkbox:y,switcher:m}})),ji("div",{className:"sova-settings-toggle-container",css:E},ji("span",{className:"sova-settings_group-heading",css:C},u||"Time"),ji("div",null,ji("label",{className:"sova-settings-toggle-label",htmlFor:"sova-settings-toggle",css:I},ji("input",{name:"toggle-time",type:"checkbox",checked:k,onChange:function(){return io.uiManagment("toggleDisplayMessageTime",e)},id:"sova-settings-toggle",className:"sova-settings-toggle-input",css:T}),ji("div",{className:"sova-settings-toggle-slider",css:S})))),ji("span",{className:"sova-settings_group-heading",css:b},c||"Themes"),ji("div",{className:"settings-themes",css:p},ji(PR,{type:"themes",properties:o,activePropertiy:i,onChange:function(t){var n=t.currentTarget.id;return Lo.styles("switchTheme",n,e)},styles:{checkboxContainer:v,boxTitle:g,checkbox:y,switcher:m}}))))}));LR.displayName="Settings";var FR=_("languages","styles","managment",LR),jR=function(t){var e=t.store,n=E("settings","managment","languages","styles"),r=n.settings,i=n.managment,o=n.languages,s=n.styles,a=i.getIn(["components","Sender"]).addFile,u=i.getIn(["components","Header"]).search,c=s.get("active"),l=s.getIn(["stack",c,"Sender"]),h=l.mainContainer,p=l.mainContainerSearch,d=l.searchButtonContainer,v=l.searchCountContainer,g=l.switchingActiveButton,y=l.switchingDisableButton,m=o.get("active"),b=o.getIn(["stack",m,"Sender"]).fileButtonTitle,w=o.getIn(["stack",m,"Search"]),_=w.divider,C=w.status,I=r.getIn(["media","icons"]),T=I.chevronUpIcon,k=I.chevronDownIcon;f((function(){io.uiManagment("scrollToFoundMessage",u.found.size-1,e)}),[u.found.size]);var x=0===u.found.size?C:u.found.size-u.foundMessage+" "+_+" "+u.found.size,A=u.found.size-u.foundMessage<u.found.size?{}:y,N=u.found.size-u.foundMessage>1?{}:y;return ji("div",{className:"sender-search-container",css:S(S({},h),p)},ji("div",{className:"sender-search-position-container",css:v},u.searchValue&&x),ji("div",{className:"sender-search-button-container",css:d},ji(qa,{withIcon:a.withIcon,withTitle:a.withTitle,title:b,type:"button",block:!1,onClick:function(){0!==u.foundMessage&&io.uiManagment("scrollToFoundMessage",u.foundMessage-1,e)},icon:T,style:S(S({},g),A),className:"sender-search-button-up"}),ji(qa,{withIcon:a.withIcon,withTitle:a.withTitle,title:b,type:"button",block:!1,onClick:function(){u.foundMessage!==u.found.size-1&&io.uiManagment("scrollToFoundMessage",u.foundMessage+1,e)},icon:k,style:S(S({},g),N),className:"sender-search-button-down"})))};jR.displayName="SenderSearch";var VR=function(t){var e=l(null),n=t.store;return f((function(){var t;null===(t=e.current)||void 0===t||t.addEventListener("dragenter",(function(){io.uiManagment("showDropZone",!0,n)}))}),[e]),ji("div",{ref:e},t.children)},UR=b((function(t){var e=E("managment","styles"),r=e.managment,i=e.styles,o=i.get("active"),s=t.store,a=i.getIn(["stack",o,"ChatIt"]),u=a.mainContainer,c=a.chatContainer,l=r.get("common"),f=l.chatIsOpen,p=l.showSettings,d=r.getIn(["components","Sender"]).showDropZone,v=r.getIn(["components","ChatIt"]),g=v.SenderEnabled,y=v.DialogEnabled,m=v.CloseEnabled,b=v.BadgeEnabled,w=v.HeaderEnabled,_=v.SettingsEnabled,C=i.getIn(["stack",o,"Header","mainContainer","height"]),I=i.getIn(["stack",o,"Sender","mainContainer","minHeight"]),T=h(Number(I.split("px")[0])),S=T[0],k=T[1],x=r.getIn(["components","Header"]).search,A=function(t,e,n){var r=Number(e.split("px")[0]);return Number(n.split("px")[0])-(r+t+1)+"px"}(S,C,c.height);return ji("div",{className:"chatIt-main-container",css:u},m&&f&&ji(DR,{store:s}),f?ji("div",{className:"chatIt-chat-container",css:c},p?_&&ji(FR,{store:s}):ji(n.Fragment,null,w&&ji(NR,{store:s}),ji(VR,{store:s},y&&!d&&ji(Ou,{store:s,height:A}),g&&x.active?ji(jR,{store:s}):ji(xR,{store:s,changeSenderHeight:k})))):b&&ji(RR,{store:s}))}));UR.displayName="ChatIt";var BR=jo(UR),HR=jo(Iu),zR=jo(NR),qR={ChatIt:BR,Dialog:jo(Ou),Sender:jo(xR),Header:zR,Badge:jo(RR),CKScrollBar:HR},WR={messages:go,modules:yo,settings:mo,styles:bo,notifications:wo,managment:_o,languages:Eo,clientConfig:Co};export{qR as CkComponents,Fo as ckAPIMethods,Io as ckStore,WR as ckStoreModules};
//# sourceMappingURL=index.es.js.map
